import{V as l,d as i,m as n,n as c}from"./index-BCeMOe0T.js";const o=l.extend({components:{},data(){return{subscriberType:"orphan",analyticsType:"all",subscriptionType:"optin",analyticsDate:i().subtract(7,"day").toDate(),subscriptionDate:i().subtract(7,"day").toDate()}},methods:{formatDateTime(e){return i(e).format("YYYY-MM-DD")},deleteSubscribers(){this.$utils.confirm(null,()=>{this.$api.deleteGCSubscribers(this.subscriberType).then(e=>{this.$utils.toast(this.$t("globals.messages.deletedCount",{name:this.$tc("globals.terms.subscribers",2),num:e.count}))})})},deleteSubscriptions(){this.$utils.confirm(null,()=>{this.$api.deleteGCSubscriptions(this.subscriptionDate).then(e=>{this.$utils.toast(this.$t("globals.messages.deletedCount",{name:this.$tc("globals.terms.subscriptions",2),num:e.count}))})})},deleteAnalytics(){this.$utils.confirm(null,()=>{this.$api.deleteGCCampaignAnalytics(this.analyticsType,this.analyticsDate).then(()=>{this.$utils.toast(this.$t("globals.messages.done"))})})}},computed:{...n(["loading"])}});var r=function(){var s=this,t=s._self._c;return s._self._setupProxy,t("section",{staticClass:"maintenance wrap"},[t("h1",{staticClass:"title is-4"},[s._v(" "+s._s(s.$t("maintenance.title"))+" ")]),t("hr"),t("p",{staticClass:"has-text-grey"},[s._v(" "+s._s(s.$t("maintenance.help"))+" ")]),t("br"),t("div",{staticClass:"box"},[t("h4",{staticClass:"is-size-4"},[s._v(" "+s._s(s.$t("globals.terms.subscribers"))+" ")]),t("br"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:"Data",message:s.$t("maintenance.orphanHelp")}},[t("b-select",{attrs:{expanded:""},model:{value:s.subscriberType,callback:function(a){s.subscriberType=a},expression:"subscriberType"}},[t("option",{attrs:{value:"orphan"}},[s._v(" "+s._s(s.$t("dashboard.orphanSubs"))+" ")]),t("option",{attrs:{value:"blocklisted"}},[s._v(" "+s._s(s.$t("subscribers.status.blocklisted"))+" ")])])],1)],1),t("div",{staticClass:"column is-5"}),t("div",{staticClass:"column"},[t("br"),t("b-field",[t("b-button",{staticClass:"is-primary",attrs:{loading:s.loading.maintenance,expanded:""},on:{click:s.deleteSubscribers}},[s._v(" "+s._s(s.$t("globals.buttons.delete"))+" ")])],1)],1)])]),t("div",{staticClass:"box mt-6"},[t("h4",{staticClass:"is-size-4"},[s._v(" "+s._s(s.$tc("globals.terms.subscriptions",2))+" ")]),t("br"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:"Data"}},[t("b-select",{attrs:{expanded:""},model:{value:s.subscriptionType,callback:function(a){s.subscriptionType=a},expression:"subscriptionType"}},[t("option",{attrs:{value:"optin"}},[s._v(" "+s._s(s.$t("maintenance.maintenance.unconfirmedOptins"))+" ")])])],1)],1),t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:s.$t("maintenance.olderThan")}},[t("b-datepicker",{attrs:{required:"",expanded:"",icon:"calendar-clock","date-formatter":s.formatDateTime},model:{value:s.subscriptionDate,callback:function(a){s.subscriptionDate=a},expression:"subscriptionDate"}})],1)],1),t("div",{staticClass:"column is-1"}),t("div",{staticClass:"column"},[t("br"),t("b-field",[t("b-button",{staticClass:"is-primary",attrs:{loading:s.loading.maintenance,expanded:""},on:{click:s.deleteSubscriptions}},[s._v(" "+s._s(s.$t("globals.buttons.delete"))+" ")])],1)],1)])]),t("div",{staticClass:"box mt-6"},[t("h4",{staticClass:"is-size-4"},[s._v(" "+s._s(s.$t("globals.terms.analytics"))+" ")]),t("br"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:"Data"}},[t("b-select",{attrs:{expanded:""},model:{value:s.analyticsType,callback:function(a){s.analyticsType=a},expression:"analyticsType"}},[t("option",{attrs:{selected:"",value:"all"}},[s._v(" "+s._s(s.$t("globals.terms.all"))+" ")]),t("option",{attrs:{value:"views"}},[s._v(" "+s._s(s.$t("dashboard.campaignViews"))+" ")]),t("option",{attrs:{value:"clicks"}},[s._v(" "+s._s(s.$t("dashboard.linkClicks"))+" ")])])],1)],1),t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:s.$t("maintenance.olderThan")}},[t("b-datepicker",{attrs:{required:"",expanded:"",icon:"calendar-clock","date-formatter":s.formatDateTime},model:{value:s.analyticsDate,callback:function(a){s.analyticsDate=a},expression:"analyticsDate"}})],1)],1),t("div",{staticClass:"column is-1"}),t("div",{staticClass:"column"},[t("br"),t("b-field",[t("b-button",{staticClass:"is-primary",attrs:{expanded:"",loading:s.loading.maintenance},on:{click:s.deleteAnalytics}},[s._v(" "+s._s(s.$t("globals.buttons.delete"))+" ")])],1)],1)])])])},d=[],b=c(o,r,d);const p=b.exports;export{p as default};

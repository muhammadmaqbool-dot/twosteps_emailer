import{g as Kq,a as mx,c as Xq,u as Yq,m as ZF,n as JF,V as Zq,d as g$}from"./index-BCeMOe0T.js";import{C as Jq}from"./CopyText-Da2spgK4.js";import{C as X$}from"./CampaignPreview-C9ISvStt.js";import{V as Qq}from"./VisualEditor-BXZzxGIC.js";import{C as Y$}from"./CodeEditor-BbUcBhHA.js";import Z$ from"./Media-DSm9FcWk.js";import{L as eG}from"./ListSelector-IGEJSNAD.js";import"./EmptyPlaceholder-C9_D_EHA.js";var J$={exports:{}};(function(I){var S=function(N,ee){for(var me="",Be=0;Be<ee;Be+=1)me+=N;return me};function B(N,ee){var me=null,Be=null,we="underline",ge="indention",It="-",rt=3,He="-",at=!1;ee&&(typeof ee.linkProcess=="function"&&(me=ee.linkProcess),typeof ee.imgProcess=="function"&&(Be=ee.imgProcess),ee.headingStyle&&(we=ee.headingStyle),ee.listStyle&&(ge=ee.listStyle),ee.uIndentionChar&&(It=ee.uIndentionChar),ee.listIndentionTabs&&(rt=ee.listIndentionTabs),ee.oIndentionChar&&(He=ee.oIndentionChar),ee.keepNbsps&&(at=ee.keepNbsps));var hr=S(It,rt),Qe=String(N).replace(/\n|\r/g," ");const ut=Qe.match(/<\/body>/i);ut&&(Qe=Qe.substring(0,ut.index));const ke=Qe.match(/<body[^>]*>/i);ke&&(Qe=Qe.substring(ke.index+ke[0].length,Qe.length)),Qe=Qe.replace(/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,""),Qe=Qe.replace(/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,""),Qe=Qe.replace(/<img([^>]*)>/gi,function(Fe,se){var Ye="",ze="",$e=/src="([^"]*)"/i.exec(se),Ge=/alt="([^"]*)"/i.exec(se);return $e!==null&&(Ye=$e[1]),Ge!==null&&(ze=Ge[1]),typeof Be=="function"?Be(Ye,ze):ze===""?"![image] ("+Ye+")":"!["+ze+"] ("+Ye+")"});function J(){return function(Fe,se,Ye,ze){var $e=0;Ye&&/start="([0-9]+)"/i.test(Ye)&&($e=/start="([0-9]+)"/i.exec(Ye)[1]-1);var Ge="<p>"+ze.replace(/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(ce,Ue){var U=0,xe=Ue.replace(/(^|(<br \/>))(?!<p>)/gi,function(){return se==="o"&&U===0?($e+=1,U+=1,"<br />"+$e+S(He,rt-String($e).length)):"<br />"+hr});return xe})+"</p>";return Ge}}if(ge==="linebreak")Qe=Qe.replace(/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,`
`);else if(ge==="indention")for(;/<(o|u)l[^>]*>(.*)<\/\1l>/gi.test(Qe);)Qe=Qe.replace(/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,J());for(we==="linebreak"?Qe=Qe.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,`
$2
`):we==="underline"?(Qe=Qe.replace(/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(Fe,se){return`
&nbsp;
`+se+`
`+S("=",se.length)+`
&nbsp;
`}),Qe=Qe.replace(/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(Fe,se){return`
&nbsp;
`+se+`
`+S("-",se.length)+`
&nbsp;
`}),Qe=Qe.replace(/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(Fe,se,Ye){return`
&nbsp;
`+Ye+`
&nbsp;
`})):we==="hashify"&&(Qe=Qe.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(Fe,se,Ye){return`
&nbsp;
`+S("#",se)+" "+Ye+`
&nbsp;
`})),Qe=Qe.replace(/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,`
`),Qe=Qe.replace(/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(Fe,se,Ye){return typeof me=="function"?me(se,Ye):" ["+Ye+"] ("+se+") "}),Qe=Qe.replace(/\n[ \t\f]*/gi,`
`),Qe=Qe.replace(/\n\n+/gi,`
`),at?(Qe=Qe.replace(/( |\t)+/gi," "),Qe=Qe.replace(/&nbsp;/gi," ")):Qe=Qe.replace(/( |&nbsp;|\t)+/gi," "),Qe=Qe.replace(/\n +/gi,`
`),Qe=Qe.replace(/^ +/gi,"");Qe.indexOf(`
`)===0;)Qe=Qe.substring(1);return(Qe.length===0||Qe.lastIndexOf(`
`)!==Qe.length-1)&&(Qe+=`
`),Qe}(function(N,ee){if(this&&typeof this.define=="function")this.define(ee);else if(I.exports)I.exports=ee();else{var me=ee(),Be=this,we=Be[N];me.noConflict=function(){return Be[N]=we,me},Be[N]=me}})("createTextVersion",function(){return B})})(J$);var tG=J$.exports;const rG=Kq(tG);var Q$={exports:{}},kz={},PD={exports:{}},OF={},RF={},y$;function QF(){if(y$)return RF;y$=1;function I(N){this.__parent=N,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}I.prototype.clone_empty=function(){var N=new I(this.__parent);return N.set_indent(this.__indent_count,this.__alignment_count),N},I.prototype.item=function(N){return N<0?this.__items[this.__items.length+N]:this.__items[N]},I.prototype.has_match=function(N){for(var ee=this.__items.length-1;ee>=0;ee--)if(this.__items[ee].match(N))return!0;return!1},I.prototype.set_indent=function(N,ee){this.is_empty()&&(this.__indent_count=N||0,this.__alignment_count=ee||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},I.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},I.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},I.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var N=this.__parent.current_line;return N.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),N.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),N.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,N.__items[0]===" "&&(N.__items.splice(0,1),N.__character_count-=1),!0}return!1},I.prototype.is_empty=function(){return this.__items.length===0},I.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},I.prototype.push=function(N){this.__items.push(N);var ee=N.lastIndexOf(`
`);ee!==-1?this.__character_count=N.length-ee:this.__character_count+=N.length},I.prototype.pop=function(){var N=null;return this.is_empty()||(N=this.__items.pop(),this.__character_count-=N.length),N},I.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},I.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},I.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},I.prototype.toString=function(){var N="";return this.is_empty()?this.__parent.indent_empty_lines&&(N=this.__parent.get_indent_string(this.__indent_count)):(N=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),N+=this.__items.join("")),N};function S(N,ee){this.__cache=[""],this.__indent_size=N.indent_size,this.__indent_string=N.indent_char,N.indent_with_tabs||(this.__indent_string=new Array(N.indent_size+1).join(N.indent_char)),ee=ee||"",N.indent_level>0&&(ee=new Array(N.indent_level+1).join(this.__indent_string)),this.__base_string=ee,this.__base_string_length=ee.length}S.prototype.get_indent_size=function(N,ee){var me=this.__base_string_length;return ee=ee||0,N<0&&(me=0),me+=N*this.__indent_size,me+=ee,me},S.prototype.get_indent_string=function(N,ee){var me=this.__base_string;return ee=ee||0,N<0&&(N=0,me=""),ee+=N*this.__indent_size,this.__ensure_cache(ee),me+=this.__cache[ee],me},S.prototype.__ensure_cache=function(N){for(;N>=this.__cache.length;)this.__add_column()},S.prototype.__add_column=function(){var N=this.__cache.length,ee=0,me="";this.__indent_size&&N>=this.__indent_size&&(ee=Math.floor(N/this.__indent_size),N-=ee*this.__indent_size,me=new Array(ee+1).join(this.__indent_string)),N&&(me+=new Array(N+1).join(" ")),this.__cache.push(me)};function B(N,ee){this.__indent_cache=new S(N,ee),this.raw=!1,this._end_with_newline=N.end_with_newline,this.indent_size=N.indent_size,this.wrap_line_length=N.wrap_line_length,this.indent_empty_lines=N.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new I(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return B.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},B.prototype.get_line_number=function(){return this.__lines.length},B.prototype.get_indent_string=function(N,ee){return this.__indent_cache.get_indent_string(N,ee)},B.prototype.get_indent_size=function(N,ee){return this.__indent_cache.get_indent_size(N,ee)},B.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},B.prototype.add_new_line=function(N){return this.is_empty()||!N&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},B.prototype.get_code=function(N){this.trim(!0);var ee=this.current_line.pop();ee&&(ee[ee.length-1]===`
`&&(ee=ee.replace(/\n+$/g,"")),this.current_line.push(ee)),this._end_with_newline&&this.__add_outputline();var me=this.__lines.join(`
`);return N!==`
`&&(me=me.replace(/[\n]/g,N)),me},B.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},B.prototype.set_indent=function(N,ee){return N=N||0,ee=ee||0,this.next_line.set_indent(N,ee),this.__lines.length>1?(this.current_line.set_indent(N,ee),!0):(this.current_line.set_indent(),!1)},B.prototype.add_raw_token=function(N){for(var ee=0;ee<N.newlines;ee++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(N.whitespace_before),this.current_line.push(N.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},B.prototype.add_token=function(N){this.__add_space_before_token(),this.current_line.push(N),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},B.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},B.prototype.remove_indent=function(N){for(var ee=this.__lines.length;N<ee;)this.__lines[N]._remove_indent(),N++;this.current_line._remove_wrap_indent()},B.prototype.trim=function(N){for(N=N===void 0?!1:N,this.current_line.trim();N&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},B.prototype.just_added_newline=function(){return this.current_line.is_empty()},B.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},B.prototype.ensure_empty_line_above=function(N,ee){for(var me=this.__lines.length-2;me>=0;){var Be=this.__lines[me];if(Be.is_empty())break;if(Be.item(0).indexOf(N)!==0&&Be.item(-1)!==ee){this.__lines.splice(me+1,0,new I(this)),this.previous_line=this.__lines[this.__lines.length-2];break}me--}},RF.Output=B,RF}var DF={},b$;function e9(){if(b$)return DF;b$=1;function I(S,B,N,ee){this.type=S,this.text=B,this.comments_before=null,this.newlines=N||0,this.whitespace_before=ee||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return DF.Token=I,DF}var MF={},_$;function t9(){return _$||(_$=1,function(I){var S="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",B="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",N="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",ee="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",me="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",Be="(?:"+me+"|["+S+N+"])",we="(?:"+me+"|["+B+N+ee+"])*";I.identifier=new RegExp(Be+we,"g"),I.identifierStart=new RegExp(Be),I.identifierMatch=new RegExp("(?:"+me+"|["+B+N+ee+"])+"),I.newline=/[\n\r\u2028\u2029]/,I.lineBreak=new RegExp(`\r
|`+I.newline.source),I.allLineBreaks=new RegExp(I.lineBreak.source,"g")}(MF)),MF}var BF={},Cz={},w$;function eI(){if(w$)return Cz;w$=1;function I(N,ee){this.raw_options=S(N,ee),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}I.prototype._get_array=function(N,ee){var me=this.raw_options[N],Be=ee||[];return typeof me=="object"?me!==null&&typeof me.concat=="function"&&(Be=me.concat()):typeof me=="string"&&(Be=me.split(/[^a-zA-Z0-9_\/\-]+/)),Be},I.prototype._get_boolean=function(N,ee){var me=this.raw_options[N],Be=me===void 0?!!ee:!!me;return Be},I.prototype._get_characters=function(N,ee){var me=this.raw_options[N],Be=ee||"";return typeof me=="string"&&(Be=me.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),Be},I.prototype._get_number=function(N,ee){var me=this.raw_options[N];ee=parseInt(ee,10),isNaN(ee)&&(ee=0);var Be=parseInt(me,10);return isNaN(Be)&&(Be=ee),Be},I.prototype._get_selection=function(N,ee,me){var Be=this._get_selection_list(N,ee,me);if(Be.length!==1)throw new Error("Invalid Option Value: The option '"+N+`' can only be one of the following values:
`+ee+`
You passed in: '`+this.raw_options[N]+"'");return Be[0]},I.prototype._get_selection_list=function(N,ee,me){if(!ee||ee.length===0)throw new Error("Selection list cannot be empty.");if(me=me||[ee[0]],!this._is_valid_selection(me,ee))throw new Error("Invalid Default Value!");var Be=this._get_array(N,me);if(!this._is_valid_selection(Be,ee))throw new Error("Invalid Option Value: The option '"+N+`' can contain only the following values:
`+ee+`
You passed in: '`+this.raw_options[N]+"'");return Be},I.prototype._is_valid_selection=function(N,ee){return N.length&&ee.length&&!N.some(function(me){return ee.indexOf(me)===-1})};function S(N,ee){var me={};N=B(N);var Be;for(Be in N)Be!==ee&&(me[Be]=N[Be]);if(ee&&N[ee])for(Be in N[ee])me[Be]=N[ee][Be];return me}function B(N){var ee={},me;for(me in N){var Be=me.replace(/-/g,"_");ee[Be]=N[me]}return ee}return Cz.Options=I,Cz.normalizeOpts=B,Cz.mergeOpts=S,Cz}var k$;function r9(){if(k$)return BF;k$=1;var I=eI().Options,S=["before-newline","after-newline","preserve-newline"];function B(N){I.call(this,N,"js");var ee=this.raw_options.brace_style||null;ee==="expand-strict"?this.raw_options.brace_style="expand":ee==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var me=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var Be=0;Be<me.length;Be++)me[Be]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=me[Be];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",S),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return B.prototype=new I,BF.Options=B,BF}var px={},NF={},C$;function tI(){if(C$)return NF;C$=1;var I=RegExp.prototype.hasOwnProperty("sticky");function S(B){this.__input=B||"",this.__input_length=this.__input.length,this.__position=0}return S.prototype.restart=function(){this.__position=0},S.prototype.back=function(){this.__position>0&&(this.__position-=1)},S.prototype.hasNext=function(){return this.__position<this.__input_length},S.prototype.next=function(){var B=null;return this.hasNext()&&(B=this.__input.charAt(this.__position),this.__position+=1),B},S.prototype.peek=function(B){var N=null;return B=B||0,B+=this.__position,B>=0&&B<this.__input_length&&(N=this.__input.charAt(B)),N},S.prototype.__match=function(B,N){B.lastIndex=N;var ee=B.exec(this.__input);return ee&&!(I&&B.sticky)&&ee.index!==N&&(ee=null),ee},S.prototype.test=function(B,N){return N=N||0,N+=this.__position,N>=0&&N<this.__input_length?!!this.__match(B,N):!1},S.prototype.testChar=function(B,N){var ee=this.peek(N);return B.lastIndex=0,ee!==null&&B.test(ee)},S.prototype.match=function(B){var N=this.__match(B,this.__position);return N?this.__position+=N[0].length:N=null,N},S.prototype.read=function(B,N,ee){var me="",Be;return B&&(Be=this.match(B),Be&&(me+=Be[0])),N&&(Be||!B)&&(me+=this.readUntil(N,ee)),me},S.prototype.readUntil=function(B,N){var ee="",me=this.__position;B.lastIndex=this.__position;var Be=B.exec(this.__input);return Be?(me=Be.index,N&&(me+=Be[0].length)):me=this.__input_length,ee=this.__input.substring(this.__position,me),this.__position=me,ee},S.prototype.readUntilAfter=function(B){return this.readUntil(B,!0)},S.prototype.get_regexp=function(B,N){var ee=null,me="g";return N&&I&&(me="y"),typeof B=="string"&&B!==""?ee=new RegExp(B,me):B&&(ee=new RegExp(B.source,me)),ee},S.prototype.get_literal_regexp=function(B){return RegExp(B.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},S.prototype.peekUntilAfter=function(B){var N=this.__position,ee=this.readUntilAfter(B);return this.__position=N,ee},S.prototype.lookBack=function(B){var N=this.__position-1;return N>=B.length&&this.__input.substring(N-B.length,N).toLowerCase()===B},NF.InputScanner=S,NF}var FD={},PF={},x$;function nG(){if(x$)return PF;x$=1;function I(S){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=S}return I.prototype.restart=function(){this.__position=0},I.prototype.isEmpty=function(){return this.__tokens_length===0},I.prototype.hasNext=function(){return this.__position<this.__tokens_length},I.prototype.next=function(){var S=null;return this.hasNext()&&(S=this.__tokens[this.__position],this.__position+=1),S},I.prototype.peek=function(S){var B=null;return S=S||0,S+=this.__position,S>=0&&S<this.__tokens_length&&(B=this.__tokens[S]),B},I.prototype.add=function(S){this.__parent_token&&(S.parent=this.__parent_token),this.__tokens.push(S),this.__tokens_length+=1},PF.TokenStream=I,PF}var FF={},IF={},S$;function qD(){if(S$)return IF;S$=1;function I(S,B){this._input=S,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,B&&(this._starting_pattern=this._input.get_regexp(B._starting_pattern,!0),this._match_pattern=this._input.get_regexp(B._match_pattern,!0),this._until_pattern=this._input.get_regexp(B._until_pattern),this._until_after=B._until_after)}return I.prototype.read=function(){var S=this._input.read(this._starting_pattern);return(!this._starting_pattern||S)&&(S+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),S},I.prototype.read_match=function(){return this._input.match(this._match_pattern)},I.prototype.until_after=function(S){var B=this._create();return B._until_after=!0,B._until_pattern=this._input.get_regexp(S),B._update(),B},I.prototype.until=function(S){var B=this._create();return B._until_after=!1,B._until_pattern=this._input.get_regexp(S),B._update(),B},I.prototype.starting_with=function(S){var B=this._create();return B._starting_pattern=this._input.get_regexp(S,!0),B._update(),B},I.prototype.matching=function(S){var B=this._create();return B._match_pattern=this._input.get_regexp(S,!0),B._update(),B},I.prototype._create=function(){return new I(this._input,this)},I.prototype._update=function(){},IF.Pattern=I,IF}var T$;function aG(){if(T$)return FF;T$=1;var I=qD().Pattern;function S(B,N){I.call(this,B,N),N?this._line_regexp=this._input.get_regexp(N._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return S.prototype=new I,S.prototype.__set_whitespace_patterns=function(B,N){B+="\\t ",N+="\\n\\r",this._match_pattern=this._input.get_regexp("["+B+N+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+N+"]")},S.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var B=this._input.read(this._match_pattern);if(B===" ")this.whitespace_before_token=" ";else if(B){var N=this.__split(this._newline_regexp,B);this.newline_count=N.length-1,this.whitespace_before_token=N[this.newline_count]}return B},S.prototype.matching=function(B,N){var ee=this._create();return ee.__set_whitespace_patterns(B,N),ee._update(),ee},S.prototype._create=function(){return new S(this._input,this)},S.prototype.__split=function(B,N){B.lastIndex=0;for(var ee=0,me=[],Be=B.exec(N);Be;)me.push(N.substring(ee,Be.index)),ee=Be.index+Be[0].length,Be=B.exec(N);return ee<N.length?me.push(N.substring(ee,N.length)):me.push(""),me},FF.WhitespacePattern=S,FF}var E$;function VD(){if(E$)return FD;E$=1;var I=tI().InputScanner,S=e9().Token,B=nG().TokenStream,N=aG().WhitespacePattern,ee={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},me=function(Be,we){this._input=new I(Be),this._options=we||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new N(this._input)};return me.prototype.tokenize=function(){this._input.restart(),this.__tokens=new B,this._reset();for(var Be,we=new S(ee.START,""),ge=null,It=[],rt=new B;we.type!==ee.EOF;){for(Be=this._get_next_token(we,ge);this._is_comment(Be);)rt.add(Be),Be=this._get_next_token(we,ge);rt.isEmpty()||(Be.comments_before=rt,rt=new B),Be.parent=ge,this._is_opening(Be)?(It.push(ge),ge=Be):ge&&this._is_closing(Be,ge)&&(Be.opened=ge,ge.closed=Be,ge=It.pop(),Be.parent=ge),Be.previous=we,we.next=Be,this.__tokens.add(Be),we=Be}return this.__tokens},me.prototype._is_first_token=function(){return this.__tokens.isEmpty()},me.prototype._reset=function(){},me.prototype._get_next_token=function(Be,we){this._readWhitespace();var ge=this._input.read(/.+/g);return ge?this._create_token(ee.RAW,ge):this._create_token(ee.EOF,"")},me.prototype._is_comment=function(Be){return!1},me.prototype._is_opening=function(Be){return!1},me.prototype._is_closing=function(Be,we){return!1},me.prototype._create_token=function(Be,we){var ge=new S(Be,we,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return ge},me.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},FD.Tokenizer=me,FD.TOKEN=ee,FD}var LF={},z$;function rI(){if(z$)return LF;z$=1;function I(S,B){S=typeof S=="string"?S:S.source,B=typeof B=="string"?B:B.source,this.__directives_block_pattern=new RegExp(S+/ beautify( \w+[:]\w+)+ /.source+B,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(S+/\sbeautify\signore:end\s/.source+B,"g")}return I.prototype.get_directives=function(S){if(!S.match(this.__directives_block_pattern))return null;var B={};this.__directive_pattern.lastIndex=0;for(var N=this.__directive_pattern.exec(S);N;)B[N[1]]=N[2],N=this.__directive_pattern.exec(S);return B},I.prototype.readIgnored=function(S){return S.readUntilAfter(this.__directives_end_ignore_pattern)},LF.Directives=I,LF}var $F={},A$;function n9(){if(A$)return $F;A$=1;var I=qD().Pattern,S={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function B(N,ee){I.call(this,N,ee),this.__template_pattern=null,this._disabled=Object.assign({},S),this._excluded=Object.assign({},S),ee&&(this.__template_pattern=this._input.get_regexp(ee.__template_pattern),this._excluded=Object.assign(this._excluded,ee._excluded),this._disabled=Object.assign(this._disabled,ee._disabled));var me=new I(N);this.__patterns={handlebars_comment:me.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:me.starting_with(/{{{/).until_after(/}}}/),handlebars:me.starting_with(/{{/).until_after(/}}/),php:me.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:me.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:me.starting_with(/{%/).until_after(/%}/),django_value:me.starting_with(/{{/).until_after(/}}/),django_comment:me.starting_with(/{#/).until_after(/#}/),smarty:me.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:me.starting_with(/{\*/).until_after(/\*}/),smarty_literal:me.starting_with(/{literal}/).until_after(/{\/literal}/)}}return B.prototype=new I,B.prototype._create=function(){return new B(this._input,this)},B.prototype._update=function(){this.__set_templated_pattern()},B.prototype.disable=function(N){var ee=this._create();return ee._disabled[N]=!0,ee._update(),ee},B.prototype.read_options=function(N){var ee=this._create();for(var me in S)ee._disabled[me]=N.templating.indexOf(me)===-1;return ee._update(),ee},B.prototype.exclude=function(N){var ee=this._create();return ee._excluded[N]=!0,ee._update(),ee},B.prototype.read=function(){var N="";this._match_pattern?N=this._input.read(this._starting_pattern):N=this._input.read(this._starting_pattern,this.__template_pattern);for(var ee=this._read_template();ee;)this._match_pattern?ee+=this._input.read(this._match_pattern):ee+=this._input.readUntil(this.__template_pattern),N+=ee,ee=this._read_template();return this._until_after&&(N+=this._input.readUntilAfter(this._until_pattern)),N},B.prototype.__set_templated_pattern=function(){var N=[];this._disabled.php||N.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||N.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||N.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(N.push(this.__patterns.django._starting_pattern.source),N.push(this.__patterns.django_value._starting_pattern.source),N.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||N.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&N.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+N.join("|")+")")},B.prototype._read_template=function(){var N="",ee=this._input.peek();if(ee==="<"){var me=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&me==="?"&&(N=N||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&me==="%"&&(N=N||this.__patterns.erb.read())}else ee==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(N=N||this.__patterns.handlebars_comment.read(),N=N||this.__patterns.handlebars_unescaped.read(),N=N||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(N=N||this.__patterns.django_value.read()),this._excluded.django||(N=N||this.__patterns.django_comment.read(),N=N||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(N=N||this.__patterns.smarty_comment.read(),N=N||this.__patterns.smarty_literal.read(),N=N||this.__patterns.smarty.read()));return N},$F.TemplatablePattern=B,$F}var O$;function ID(){if(O$)return px;O$=1;var I=tI().InputScanner,S=VD().Tokenizer,B=VD().TOKEN,N=rI().Directives,ee=t9(),me=qD().Pattern,Be=n9().TemplatablePattern;function we($e,Ge){return Ge.indexOf($e)!==-1}var ge={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:B.START,RAW:B.RAW,EOF:B.EOF},It=new N(/\/\*/,/\*\//),rt=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,He=/[0-9]/,at=/[^\d\.]/,hr=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Qe=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Qe=Qe.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),Qe="\\?\\.(?!\\d) "+Qe,Qe=Qe.replace(/ /g,"|");var ut=new RegExp(Qe),ke="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),J=ke.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),Fe=new RegExp("^(?:"+J.join("|")+")$"),se,Ye=function($e,Ge){S.call(this,$e,Ge),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var ce=new me(this._input),Ue=new Be(this._input).read_options(this._options);this.__patterns={template:Ue,identifier:Ue.starting_with(ee.identifier).matching(ee.identifierMatch),number:ce.matching(rt),punct:ce.matching(ut),comment:ce.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:ce.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:ce.matching(/<!--/),html_comment_end:ce.matching(/-->/),include:ce.starting_with(/#include/).until_after(ee.lineBreak),shebang:ce.starting_with(/#!/).until_after(ee.lineBreak),xml:ce.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:Ue.until(/['\\\n\r\u2028\u2029]/),double_quote:Ue.until(/["\\\n\r\u2028\u2029]/),template_text:Ue.until(/[`\\$]/),template_expression:Ue.until(/[`}\\]/)}};Ye.prototype=new S,Ye.prototype._is_comment=function($e){return $e.type===ge.COMMENT||$e.type===ge.BLOCK_COMMENT||$e.type===ge.UNKNOWN},Ye.prototype._is_opening=function($e){return $e.type===ge.START_BLOCK||$e.type===ge.START_EXPR},Ye.prototype._is_closing=function($e,Ge){return($e.type===ge.END_BLOCK||$e.type===ge.END_EXPR)&&Ge&&($e.text==="]"&&Ge.text==="["||$e.text===")"&&Ge.text==="("||$e.text==="}"&&Ge.text==="{")},Ye.prototype._reset=function(){se=!1},Ye.prototype._get_next_token=function($e,Ge){var ce=null;this._readWhitespace();var Ue=this._input.peek();return Ue===null?this._create_token(ge.EOF,""):(ce=ce||this._read_non_javascript(Ue),ce=ce||this._read_string(Ue),ce=ce||this._read_pair(Ue,this._input.peek(1)),ce=ce||this._read_word($e),ce=ce||this._read_singles(Ue),ce=ce||this._read_comment(Ue),ce=ce||this._read_regexp(Ue,$e),ce=ce||this._read_xml(Ue,$e),ce=ce||this._read_punctuation(),ce=ce||this._create_token(ge.UNKNOWN,this._input.next()),ce)},Ye.prototype._read_word=function($e){var Ge;if(Ge=this.__patterns.identifier.read(),Ge!=="")return Ge=Ge.replace(ee.allLineBreaks,`
`),!($e.type===ge.DOT||$e.type===ge.RESERVED&&($e.text==="set"||$e.text==="get"))&&Fe.test(Ge)?(Ge==="in"||Ge==="of")&&($e.type===ge.WORD||$e.type===ge.STRING)?this._create_token(ge.OPERATOR,Ge):this._create_token(ge.RESERVED,Ge):this._create_token(ge.WORD,Ge);if(Ge=this.__patterns.number.read(),Ge!=="")return this._create_token(ge.WORD,Ge)},Ye.prototype._read_singles=function($e){var Ge=null;return $e==="("||$e==="["?Ge=this._create_token(ge.START_EXPR,$e):$e===")"||$e==="]"?Ge=this._create_token(ge.END_EXPR,$e):$e==="{"?Ge=this._create_token(ge.START_BLOCK,$e):$e==="}"?Ge=this._create_token(ge.END_BLOCK,$e):$e===";"?Ge=this._create_token(ge.SEMICOLON,$e):$e==="."&&at.test(this._input.peek(1))?Ge=this._create_token(ge.DOT,$e):$e===","&&(Ge=this._create_token(ge.COMMA,$e)),Ge&&this._input.next(),Ge},Ye.prototype._read_pair=function($e,Ge){var ce=null;return $e==="#"&&Ge==="{"&&(ce=this._create_token(ge.START_BLOCK,$e+Ge)),ce&&(this._input.next(),this._input.next()),ce},Ye.prototype._read_punctuation=function(){var $e=this.__patterns.punct.read();if($e!=="")return $e==="="?this._create_token(ge.EQUALS,$e):$e==="?."?this._create_token(ge.DOT,$e):this._create_token(ge.OPERATOR,$e)},Ye.prototype._read_non_javascript=function($e){var Ge="";if($e==="#"){if(this._is_first_token()&&(Ge=this.__patterns.shebang.read(),Ge))return this._create_token(ge.UNKNOWN,Ge.trim()+`
`);if(Ge=this.__patterns.include.read(),Ge)return this._create_token(ge.UNKNOWN,Ge.trim()+`
`);$e=this._input.next();var ce="#";if(this._input.hasNext()&&this._input.testChar(He)){do $e=this._input.next(),ce+=$e;while(this._input.hasNext()&&$e!=="#"&&$e!=="=");return $e==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(ce+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(ce+="{}",this._input.next(),this._input.next())),this._create_token(ge.WORD,ce)}this._input.back()}else if($e==="<"&&this._is_first_token()){if(Ge=this.__patterns.html_comment_start.read(),Ge){for(;this._input.hasNext()&&!this._input.testChar(ee.newline);)Ge+=this._input.next();return se=!0,this._create_token(ge.COMMENT,Ge)}}else if(se&&$e==="-"&&(Ge=this.__patterns.html_comment_end.read(),Ge))return se=!1,this._create_token(ge.COMMENT,Ge);return null},Ye.prototype._read_comment=function($e){var Ge=null;if($e==="/"){var ce="";if(this._input.peek(1)==="*"){ce=this.__patterns.block_comment.read();var Ue=It.get_directives(ce);Ue&&Ue.ignore==="start"&&(ce+=It.readIgnored(this._input)),ce=ce.replace(ee.allLineBreaks,`
`),Ge=this._create_token(ge.BLOCK_COMMENT,ce),Ge.directives=Ue}else this._input.peek(1)==="/"&&(ce=this.__patterns.comment.read(),Ge=this._create_token(ge.COMMENT,ce))}return Ge},Ye.prototype._read_string=function($e){if($e==="`"||$e==="'"||$e==='"'){var Ge=this._input.next();return this.has_char_escapes=!1,$e==="`"?Ge+=this._read_string_recursive("`",!0,"${"):Ge+=this._read_string_recursive($e),this.has_char_escapes&&this._options.unescape_strings&&(Ge=ze(Ge)),this._input.peek()===$e&&(Ge+=this._input.next()),Ge=Ge.replace(ee.allLineBreaks,`
`),this._create_token(ge.STRING,Ge)}return null},Ye.prototype._allow_regexp_or_xml=function($e){return $e.type===ge.RESERVED&&we($e.text,["return","case","throw","else","do","typeof","yield"])||$e.type===ge.END_EXPR&&$e.text===")"&&$e.opened.previous.type===ge.RESERVED&&we($e.opened.previous.text,["if","while","for"])||we($e.type,[ge.COMMENT,ge.START_EXPR,ge.START_BLOCK,ge.START,ge.END_BLOCK,ge.OPERATOR,ge.EQUALS,ge.EOF,ge.SEMICOLON,ge.COMMA])},Ye.prototype._read_regexp=function($e,Ge){if($e==="/"&&this._allow_regexp_or_xml(Ge)){for(var ce=this._input.next(),Ue=!1,U=!1;this._input.hasNext()&&(Ue||U||this._input.peek()!==$e)&&!this._input.testChar(ee.newline);)ce+=this._input.peek(),Ue?Ue=!1:(Ue=this._input.peek()==="\\",this._input.peek()==="["?U=!0:this._input.peek()==="]"&&(U=!1)),this._input.next();return this._input.peek()===$e&&(ce+=this._input.next(),ce+=this._input.read(ee.identifier)),this._create_token(ge.STRING,ce)}return null},Ye.prototype._read_xml=function($e,Ge){if(this._options.e4x&&$e==="<"&&this._allow_regexp_or_xml(Ge)){var ce="",Ue=this.__patterns.xml.read_match();if(Ue){for(var U=Ue[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),xe=U.indexOf("{")===0,Z=0;Ue;){var X=!!Ue[1],Lt=Ue[2],fn=!!Ue[Ue.length-1]||Lt.slice(0,8)==="![CDATA[";if(!fn&&(Lt===U||xe&&Lt.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(X?--Z:++Z),ce+=Ue[0],Z<=0)break;Ue=this.__patterns.xml.read_match()}return Ue||(ce+=this._input.match(/[\s\S]*/g)[0]),ce=ce.replace(ee.allLineBreaks,`
`),this._create_token(ge.STRING,ce)}}return null};function ze($e){for(var Ge="",ce=0,Ue=new I($e),U=null;Ue.hasNext();)if(U=Ue.match(/([\s]|[^\\]|\\\\)+/g),U&&(Ge+=U[0]),Ue.peek()==="\\"){if(Ue.next(),Ue.peek()==="x")U=Ue.match(/x([0-9A-Fa-f]{2})/g);else if(Ue.peek()==="u")U=Ue.match(/u([0-9A-Fa-f]{4})/g),U||(U=Ue.match(/u\{([0-9A-Fa-f]+)\}/g));else{Ge+="\\",Ue.hasNext()&&(Ge+=Ue.next());continue}if(!U||(ce=parseInt(U[1],16),ce>126&&ce<=255&&U[0].indexOf("x")===0))return $e;ce>=0&&ce<32||ce>1114111?Ge+="\\"+U[0]:ce===34||ce===39||ce===92?Ge+="\\"+String.fromCharCode(ce):Ge+=String.fromCharCode(ce)}return Ge}return Ye.prototype._read_string_recursive=function($e,Ge,ce){var Ue,U;$e==="'"?U=this.__patterns.single_quote:$e==='"'?U=this.__patterns.double_quote:$e==="`"?U=this.__patterns.template_text:$e==="}"&&(U=this.__patterns.template_expression);for(var xe=U.read(),Z="";this._input.hasNext();){if(Z=this._input.next(),Z===$e||!Ge&&ee.newline.test(Z)){this._input.back();break}else Z==="\\"&&this._input.hasNext()?(Ue=this._input.peek(),Ue==="x"||Ue==="u"?this.has_char_escapes=!0:Ue==="\r"&&this._input.peek(1)===`
`&&this._input.next(),Z+=this._input.next()):ce&&(ce==="${"&&Z==="$"&&this._input.peek()==="{"&&(Z+=this._input.next()),ce===Z&&($e==="`"?Z+=this._read_string_recursive("}",Ge,"`"):Z+=this._read_string_recursive("`",Ge,"${"),this._input.hasNext()&&(Z+=this._input.next())));Z+=U.read(),xe+=Z}return xe},px.Tokenizer=Ye,px.TOKEN=ge,px.positionable_operators=hr.slice(),px.line_starters=ke.slice(),px}var R$;function oG(){if(R$)return OF;R$=1;var I=QF().Output,S=e9().Token,B=t9(),N=r9().Options,ee=ID().Tokenizer,me=ID().line_starters,Be=ID().positionable_operators,we=ID().TOKEN;function ge(U,xe){return xe.indexOf(U)!==-1}function It(U){return U.replace(/^\s+/g,"")}function rt(U){for(var xe={},Z=0;Z<U.length;Z++)xe[U[Z].replace(/-/g,"_")]=U[Z];return xe}function He(U,xe){return U&&U.type===we.RESERVED&&U.text===xe}function at(U,xe){return U&&U.type===we.RESERVED&&ge(U.text,xe)}var hr=["case","return","do","if","throw","else","await","break","continue","async"],Qe=["before-newline","after-newline","preserve-newline"],ut=rt(Qe),ke=[ut.before_newline,ut.preserve_newline],J={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function Fe(U,xe){xe.multiline_frame||xe.mode===J.ForInitializer||xe.mode===J.Conditional||U.remove_indent(xe.start_line_index)}function se(U){U=U.replace(B.allLineBreaks,`
`);for(var xe=[],Z=U.indexOf(`
`);Z!==-1;)xe.push(U.substring(0,Z)),U=U.substring(Z+1),Z=U.indexOf(`
`);return U.length&&xe.push(U),xe}function Ye(U){return U===J.ArrayLiteral}function ze(U){return ge(U,[J.Expression,J.ForInitializer,J.Conditional])}function $e(U,xe){for(var Z=0;Z<U.length;Z++){var X=U[Z].trim();if(X.charAt(0)!==xe)return!1}return!0}function Ge(U,xe){for(var Z=0,X=U.length,Lt;Z<X;Z++)if(Lt=U[Z],Lt&&Lt.indexOf(xe)!==0)return!1;return!0}function ce(U,xe){xe=xe||{},this._source_text=U||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new N(xe)}ce.prototype.create_flags=function(U,xe){var Z=0;U&&(Z=U.indentation_level,!this._output.just_added_newline()&&U.line_indent_level>Z&&(Z=U.line_indent_level));var X={mode:xe,parent:U,last_token:U?U.last_token:new S(we.START_BLOCK,""),last_word:U?U.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:Z,alignment:0,line_indent_level:U?U.line_indent_level:Z,start_line_index:this._output.get_line_number(),ternary_depth:0};return X},ce.prototype._reset=function(U){var xe=U.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new I(this._options,xe),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(J.BlockStatement);var Z=new ee(U,this._options);return this._tokens=Z.tokenize(),U},ce.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U,xe=this._reset(this._source_text),Z=this._options.eol;this._options.eol==="auto"&&(Z=`
`,xe&&B.lineBreak.test(xe||"")&&(Z=xe.match(B.lineBreak)[0]));for(var X=this._tokens.next();X;)this.handle_token(X),this._last_last_text=this._flags.last_token.text,this._flags.last_token=X,X=this._tokens.next();return U=this._output.get_code(Z),U},ce.prototype.handle_token=function(U,xe){U.type===we.START_EXPR?this.handle_start_expr(U):U.type===we.END_EXPR?this.handle_end_expr(U):U.type===we.START_BLOCK?this.handle_start_block(U):U.type===we.END_BLOCK?this.handle_end_block(U):U.type===we.WORD?this.handle_word(U):U.type===we.RESERVED?this.handle_word(U):U.type===we.SEMICOLON?this.handle_semicolon(U):U.type===we.STRING?this.handle_string(U):U.type===we.EQUALS?this.handle_equals(U):U.type===we.OPERATOR?this.handle_operator(U):U.type===we.COMMA?this.handle_comma(U):U.type===we.BLOCK_COMMENT?this.handle_block_comment(U,xe):U.type===we.COMMENT?this.handle_comment(U,xe):U.type===we.DOT?this.handle_dot(U):U.type===we.EOF?this.handle_eof(U):U.type===we.UNKNOWN?this.handle_unknown(U,xe):this.handle_unknown(U,xe)},ce.prototype.handle_whitespace_and_comments=function(U,xe){var Z=U.newlines,X=this._options.keep_array_indentation&&Ye(this._flags.mode);if(U.comments_before)for(var Lt=U.comments_before.next();Lt;)this.handle_whitespace_and_comments(Lt,xe),this.handle_token(Lt,xe),Lt=U.comments_before.next();if(X)for(var fn=0;fn<Z;fn+=1)this.print_newline(fn>0,xe);else if(this._options.max_preserve_newlines&&Z>this._options.max_preserve_newlines&&(Z=this._options.max_preserve_newlines),this._options.preserve_newlines&&Z>1){this.print_newline(!1,xe);for(var St=1;St<Z;St+=1)this.print_newline(!0,xe)}};var Ue=["async","break","continue","return","throw","yield"];return ce.prototype.allow_wrap_or_preserved_newline=function(U,xe){if(xe=xe===void 0?!1:xe,!this._output.just_added_newline()){var Z=this._options.preserve_newlines&&U.newlines||xe,X=ge(this._flags.last_token.text,Be)||ge(U.text,Be);if(X){var Lt=ge(this._flags.last_token.text,Be)&&ge(this._options.operator_position,ke)||ge(U.text,Be);Z=Z&&Lt}if(Z)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(at(this._flags.last_token,Ue))return;this._output.set_wrap_point()}}},ce.prototype.print_newline=function(U,xe){if(!xe&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==we.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var Z=this._tokens.peek();this._flags.mode===J.Statement&&!(this._flags.if_block&&He(Z,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(U)&&(this._flags.multiline_frame=!0)},ce.prototype.print_token_line_indentation=function(U){this._output.just_added_newline()&&(this._options.keep_array_indentation&&U.newlines&&(U.text==="["||Ye(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(U.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},ce.prototype.print_token=function(U){if(this._output.raw){this._output.add_raw_token(U);return}if(this._options.comma_first&&U.previous&&U.previous.type===we.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var xe=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(xe),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(U),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(U),this._output.non_breaking_space=!0,this._output.add_token(U.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},ce.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ce.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ce.prototype.set_mode=function(U){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,U),this._flags=this.create_flags(this._previous_flags,U),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ce.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===J.Statement&&Fe(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ce.prototype.start_of_object_property=function(){return this._flags.parent.mode===J.ObjectLiteral&&this._flags.mode===J.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||at(this._flags.last_token,["get","set"]))},ce.prototype.start_of_statement=function(U){var xe=!1;return xe=xe||at(this._flags.last_token,["var","let","const"])&&U.type===we.WORD,xe=xe||He(this._flags.last_token,"do"),xe=xe||!(this._flags.parent.mode===J.ObjectLiteral&&this._flags.mode===J.Statement)&&at(this._flags.last_token,Ue)&&!U.newlines,xe=xe||He(this._flags.last_token,"else")&&!(He(U,"if")&&!U.comments_before),xe=xe||this._flags.last_token.type===we.END_EXPR&&(this._previous_flags.mode===J.ForInitializer||this._previous_flags.mode===J.Conditional),xe=xe||this._flags.last_token.type===we.WORD&&this._flags.mode===J.BlockStatement&&!this._flags.in_case&&!(U.text==="--"||U.text==="++")&&this._last_last_text!=="function"&&U.type!==we.WORD&&U.type!==we.RESERVED,xe=xe||this._flags.mode===J.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||at(this._flags.last_token,["get","set"])),xe?(this.set_mode(J.Statement),this.indent(),this.handle_whitespace_and_comments(U,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U,at(U,["do","for","if","while"])),!0):!1},ce.prototype.handle_start_expr=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U);var xe=J.Expression;if(U.text==="["){if(this._flags.last_token.type===we.WORD||this._flags.last_token.text===")"){at(this._flags.last_token,me)&&(this._output.space_before_token=!0),this.print_token(U),this.set_mode(xe),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}xe=J.ArrayLiteral,Ye(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),ge(this._flags.last_token.type,[we.START_EXPR,we.END_EXPR,we.WORD,we.OPERATOR,we.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===we.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,xe=J.ForInitializer):ge(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,xe=J.Conditional):ge(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&U.whitespace_before===""?this._output.space_before_token=!1:(ge(this._flags.last_token.text,me)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===we.EQUALS||this._flags.last_token.type===we.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U);else if(this._flags.last_token.type===we.WORD){this._output.space_before_token=!1;var Z=this._tokens.peek(-3);if(this._options.space_after_named_function&&Z){var X=this._tokens.peek(-4);at(Z,["async","function"])||Z.text==="*"&&at(X,["async","function"])?this._output.space_before_token=!0:this._flags.mode===J.ObjectLiteral?(Z.text==="{"||Z.text===","||Z.text==="*"&&(X.text==="{"||X.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(U);(this._flags.last_token.type===we.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(ge(this._last_last_text,["function","yield"])||this._flags.mode===J.ObjectLiteral&&ge(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===we.START_BLOCK?this.print_newline():(this._flags.last_token.type===we.END_EXPR||this._flags.last_token.type===we.START_EXPR||this._flags.last_token.type===we.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===we.COMMA)&&this.allow_wrap_or_preserved_newline(U,U.newlines),this.print_token(U),this.set_mode(xe),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},ce.prototype.handle_end_expr=function(U){for(;this._flags.mode===J.Statement;)this.restore_mode();this.handle_whitespace_and_comments(U),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(U,U.text==="]"&&Ye(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===we.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(U),this.restore_mode(),Fe(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===J.Conditional&&(this._previous_flags.mode=J.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},ce.prototype.handle_start_block=function(U){this.handle_whitespace_and_comments(U);var xe=this._tokens.peek(),Z=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===we.END_EXPR?(this.set_mode(J.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(J.BlockStatement):Z&&(ge(Z.text,[":",","])&&ge(xe.type,[we.STRING,we.WORD,we.RESERVED])||ge(xe.text,["get","set","..."])&&ge(Z.type,[we.WORD,we.RESERVED]))?ge(this._last_last_text,["class","interface"])&&!ge(Z.text,[":",","])?this.set_mode(J.BlockStatement):this.set_mode(J.ObjectLiteral):this._flags.last_token.type===we.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(J.BlockStatement):ge(this._flags.last_token.type,[we.EQUALS,we.START_EXPR,we.COMMA,we.OPERATOR])||at(this._flags.last_token,["return","throw","import","default"])?this.set_mode(J.ObjectLiteral):this.set_mode(J.BlockStatement),this._flags.last_token&&at(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var X=!xe.comments_before&&xe.text==="}",Lt=X&&this._flags.last_word==="function"&&this._flags.last_token.type===we.END_EXPR;if(this._options.brace_preserve_inline){var fn=0,St=null;this._flags.inline_frame=!0;do if(fn+=1,St=this._tokens.peek(fn-1),St.newlines){this._flags.inline_frame=!1;break}while(St.type!==we.EOF&&!(St.type===we.END_BLOCK&&St.opened===U))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&U.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==we.OPERATOR&&(Lt||this._flags.last_token.type===we.EQUALS||at(this._flags.last_token,hr)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Ye(this._previous_flags.mode)&&(this._flags.last_token.type===we.START_EXPR||this._flags.last_token.type===we.COMMA)&&((this._flags.last_token.type===we.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===we.COMMA||this._flags.last_token.type===we.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(U),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==we.OPERATOR&&this._flags.last_token.type!==we.START_EXPR&&(ge(this._flags.last_token.type,[we.START_BLOCK,we.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(U),this.indent(),!X&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},ce.prototype.handle_end_block=function(U){for(this.handle_whitespace_and_comments(U);this._flags.mode===J.Statement;)this.restore_mode();var xe=this._flags.last_token.type===we.START_BLOCK;this._flags.inline_frame&&!xe?this._output.space_before_token=!0:this._options.brace_style==="expand"?xe||this.print_newline():xe||(Ye(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(U)},ce.prototype.handle_word=function(U){if(U.type===we.RESERVED){if(ge(U.text,["set","get"])&&this._flags.mode!==J.ObjectLiteral)U.type=we.WORD;else if(U.text==="import"&&ge(this._tokens.peek().text,["(","."]))U.type=we.WORD;else if(ge(U.text,["as","from"])&&!this._flags.import_block)U.type=we.WORD;else if(this._flags.mode===J.ObjectLiteral){var xe=this._tokens.peek();xe.text===":"&&(U.type=we.WORD)}}if(this.start_of_statement(U)?at(this._flags.last_token,["var","let","const"])&&U.type===we.WORD&&(this._flags.declaration_statement=!0):U.newlines&&!ze(this._flags.mode)&&(this._flags.last_token.type!==we.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==we.EQUALS&&(this._options.preserve_newlines||!at(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(U),this.print_newline()):this.handle_whitespace_and_comments(U),this._flags.do_block&&!this._flags.do_while)if(He(U,"while")){this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&He(U,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===J.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&at(U,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(U),this._flags.in_case=!0;return}if((this._flags.last_token.type===we.COMMA||this._flags.last_token.type===we.START_EXPR||this._flags.last_token.type===we.EQUALS||this._flags.last_token.type===we.OPERATOR)&&!this.start_of_object_property()&&!(ge(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===J.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(U),He(U,"function")){(ge(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(ge(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===we.OPERATOR))&&!this._output.just_added_blankline()&&!U.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===we.RESERVED||this._flags.last_token.type===we.WORD?at(this._flags.last_token,["get","set","new","export"])||at(this._flags.last_token,Ue)?this._output.space_before_token=!0:He(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===we.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(ze(this._flags.mode)||Ye(this._flags.mode))||this.print_newline(),this.print_token(U),this._flags.last_word=U.text;return}var Z="NONE";if(this._flags.last_token.type===we.END_BLOCK?this._previous_flags.inline_frame?Z="SPACE":at(U,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&U.newlines?Z="NEWLINE":(Z="SPACE",this._output.space_before_token=!0):Z="NEWLINE":this._flags.last_token.type===we.SEMICOLON&&this._flags.mode===J.BlockStatement?Z="NEWLINE":this._flags.last_token.type===we.SEMICOLON&&ze(this._flags.mode)?Z="SPACE":this._flags.last_token.type===we.STRING?Z="NEWLINE":this._flags.last_token.type===we.RESERVED||this._flags.last_token.type===we.WORD||this._flags.last_token.text==="*"&&(ge(this._last_last_text,["function","yield"])||this._flags.mode===J.ObjectLiteral&&ge(this._last_last_text,["{",","]))?Z="SPACE":this._flags.last_token.type===we.START_BLOCK?this._flags.inline_frame?Z="SPACE":Z="NEWLINE":this._flags.last_token.type===we.END_EXPR&&(this._output.space_before_token=!0,Z="NEWLINE"),at(U,me)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?Z="SPACE":Z="NEWLINE"),at(U,["else","catch","finally"]))if((!(this._flags.last_token.type===we.END_BLOCK&&this._previous_flags.mode===J.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&U.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var X=this._output.current_line;X.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else Z==="NEWLINE"?at(this._flags.last_token,hr)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&at(U,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==we.END_EXPR?(this._flags.last_token.type!==we.START_EXPR||!at(U,["var","let","const"]))&&this._flags.last_token.text!==":"&&(He(U,"if")&&He(U.previous,"else")?this._output.space_before_token=!0:this.print_newline()):at(U,me)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Ye(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():Z==="SPACE"&&(this._output.space_before_token=!0);U.previous&&(U.previous.type===we.WORD||U.previous.type===we.RESERVED)&&(this._output.space_before_token=!0),this.print_token(U),this._flags.last_word=U.text,U.type===we.RESERVED&&(U.text==="do"?this._flags.do_block=!0:U.text==="if"?this._flags.if_block=!0:U.text==="import"?this._flags.import_block=!0:this._flags.import_block&&He(U,"from")&&(this._flags.import_block=!1))},ce.prototype.handle_semicolon=function(U){this.start_of_statement(U)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(U);for(var xe=this._tokens.peek();this._flags.mode===J.Statement&&!(this._flags.if_block&&He(xe,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(U)},ce.prototype.handle_string=function(U){U.text.startsWith("`")&&U.newlines===0&&U.whitespace_before===""&&(U.previous.text===")"||this._flags.last_token.type===we.WORD)||(this.start_of_statement(U)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(U),this._flags.last_token.type===we.RESERVED||this._flags.last_token.type===we.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===we.COMMA||this._flags.last_token.type===we.START_EXPR||this._flags.last_token.type===we.EQUALS||this._flags.last_token.type===we.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U):U.text.startsWith("`")&&this._flags.last_token.type===we.END_EXPR&&(U.previous.text==="]"||U.previous.text===")")&&U.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(U)},ce.prototype.handle_equals=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0},ce.prototype.handle_comma=function(U){this.handle_whitespace_and_comments(U,!0),this.print_token(U),this._output.space_before_token=!0,this._flags.declaration_statement?(ze(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(U)):this._flags.mode===J.ObjectLiteral||this._flags.mode===J.Statement&&this._flags.parent.mode===J.ObjectLiteral?(this._flags.mode===J.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(U)},ce.prototype.handle_operator=function(U){var xe=U.text==="*"&&(at(this._flags.last_token,["function","yield"])||ge(this._flags.last_token.type,[we.START_BLOCK,we.COMMA,we.END_BLOCK,we.SEMICOLON])),Z=ge(U.text,["-","+"])&&(ge(this._flags.last_token.type,[we.START_BLOCK,we.START_EXPR,we.EQUALS,we.OPERATOR])||ge(this._flags.last_token.text,me)||this._flags.last_token.text===",");if(!this.start_of_statement(U)){var X=!xe;this.handle_whitespace_and_comments(U,X)}if(U.text==="*"&&this._flags.last_token.type===we.DOT){this.print_token(U);return}if(U.text==="::"){this.print_token(U);return}if(ge(U.text,["-","+"])&&this.start_of_object_property()){this.print_token(U);return}if(this._flags.last_token.type===we.OPERATOR&&ge(this._options.operator_position,ke)&&this.allow_wrap_or_preserved_newline(U),U.text===":"&&this._flags.in_case){this.print_token(U),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==we.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var Lt=!0,fn=!0,St=!1;if(U.text===":"?this._flags.ternary_depth===0?Lt=!1:(this._flags.ternary_depth-=1,St=!0):U.text==="?"&&(this._flags.ternary_depth+=1),!Z&&!xe&&this._options.preserve_newlines&&ge(U.text,Be)){var Xn=U.text===":",pn=Xn&&St,O=Xn&&!St;switch(this._options.operator_position){case ut.before_newline:this._output.space_before_token=!O,this.print_token(U),(!Xn||pn)&&this.allow_wrap_or_preserved_newline(U),this._output.space_before_token=!0;return;case ut.after_newline:this._output.space_before_token=!0,!Xn||pn?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(U):this._output.space_before_token=!1,this.print_token(U),this._output.space_before_token=!0;return;case ut.preserve_newline:O||this.allow_wrap_or_preserved_newline(U),Lt=!(this._output.just_added_newline()||O),this._output.space_before_token=Lt,this.print_token(U),this._output.space_before_token=!0;return}}if(xe){this.allow_wrap_or_preserved_newline(U),Lt=!1;var On=this._tokens.peek();fn=On&&ge(On.type,[we.WORD,we.RESERVED])}else if(U.text==="...")this.allow_wrap_or_preserved_newline(U),Lt=this._flags.last_token.type===we.START_BLOCK,fn=!1;else if(ge(U.text,["--","++","!","~"])||Z){if((this._flags.last_token.type===we.COMMA||this._flags.last_token.type===we.START_EXPR)&&this.allow_wrap_or_preserved_newline(U),Lt=!1,fn=!1,U.newlines&&(U.text==="--"||U.text==="++"||U.text==="~")){var Wt=at(this._flags.last_token,hr)&&U.newlines;Wt&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(Wt,!0)}this._flags.last_token.text===";"&&ze(this._flags.mode)&&(Lt=!0),this._flags.last_token.type===we.RESERVED?Lt=!0:this._flags.last_token.type===we.END_EXPR?Lt=!(this._flags.last_token.text==="]"&&(U.text==="--"||U.text==="++")):this._flags.last_token.type===we.OPERATOR&&(Lt=ge(U.text,["--","-","++","+"])&&ge(this._flags.last_token.text,["--","-","++","+"]),ge(U.text,["+","-"])&&ge(this._flags.last_token.text,["--","++"])&&(fn=!0)),(this._flags.mode===J.BlockStatement&&!this._flags.inline_frame||this._flags.mode===J.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||Lt,this.print_token(U),this._output.space_before_token=fn},ce.prototype.handle_block_comment=function(U,xe){if(this._output.raw){this._output.add_raw_token(U),U.directives&&U.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(U.directives){this.print_newline(!1,xe),this.print_token(U),U.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!B.newline.test(U.text)&&!U.newlines){this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0;return}else this.print_block_commment(U,xe)},ce.prototype.print_block_commment=function(U,xe){var Z=se(U.text),X,Lt=!1,fn=!1,St=U.whitespace_before,Xn=St.length;if(this.print_newline(!1,xe),this.print_token_line_indentation(U),this._output.add_token(Z[0]),this.print_newline(!1,xe),Z.length>1){for(Z=Z.slice(1),Lt=$e(Z,"*"),fn=Ge(Z,St),Lt&&(this._flags.alignment=1),X=0;X<Z.length;X++)Lt?(this.print_token_line_indentation(U),this._output.add_token(It(Z[X]))):fn&&Z[X]?(this.print_token_line_indentation(U),this._output.add_token(Z[X].substring(Xn))):(this._output.current_line.set_indent(-1),this._output.add_token(Z[X])),this.print_newline(!1,xe);this._flags.alignment=0}},ce.prototype.handle_comment=function(U,xe){U.newlines?this.print_newline(!1,xe):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(U),this.print_newline(!1,xe)},ce.prototype.handle_dot=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),at(this._flags.last_token,hr)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(U,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(U)},ce.prototype.handle_unknown=function(U,xe){this.print_token(U),U.text[U.text.length-1]===`
`&&this.print_newline(!1,xe)},ce.prototype.handle_eof=function(U){for(;this._flags.mode===J.Statement;)this.restore_mode();this.handle_whitespace_and_comments(U)},OF.Beautifier=ce,OF}var D$;function iG(){if(D$)return PD.exports;D$=1;var I=oG().Beautifier,S=r9().Options;function B(N,ee){var me=new I(N,ee);return me.beautify()}return PD.exports=B,PD.exports.defaultOptions=function(){return new S},PD.exports}var LD={exports:{}},HF={},VF={},M$;function a9(){if(M$)return VF;M$=1;var I=eI().Options;function S(B){I.call(this,B,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var N=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||N;var ee=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var me=0;me<ee.length;me++)ee[me]!=="expand"?this.brace_style="collapse":this.brace_style=ee[me]}return S.prototype=new I,VF.Options=S,VF}var B$;function uG(){if(B$)return HF;B$=1;var I=a9().Options,S=QF().Output,B=tI().InputScanner,N=rI().Directives,ee=new N(/\/\*/,/\*\//),me=/\r\n|[\r\n]/,Be=/\r\n|[\r\n]/g,we=/\s/,ge=/(?:\s|\n)+/g,It=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,rt=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function He(at,hr){this._source_text=at||"",this._options=new I(hr),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return He.prototype.eatString=function(at){var hr="";for(this._ch=this._input.next();this._ch;){if(hr+=this._ch,this._ch==="\\")hr+=this._input.next();else if(at.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return hr},He.prototype.eatWhitespace=function(at){for(var hr=we.test(this._input.peek()),Qe=0;we.test(this._input.peek());)this._ch=this._input.next(),at&&this._ch===`
`&&(Qe===0||Qe<this._options.max_preserve_newlines)&&(Qe++,this._output.add_new_line(!0));return hr},He.prototype.foundNestedPseudoClass=function(){for(var at=0,hr=1,Qe=this._input.peek(hr);Qe;){if(Qe==="{")return!0;if(Qe==="(")at+=1;else if(Qe===")"){if(at===0)return!1;at-=1}else if(Qe===";"||Qe==="}")return!1;hr++,Qe=this._input.peek(hr)}return!1},He.prototype.print_string=function(at){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(at)},He.prototype.preserveSingleSpace=function(at){at&&(this._output.space_before_token=!0)},He.prototype.indent=function(){this._indentLevel++},He.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},He.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var at=this._source_text,hr=this._options.eol;hr==="auto"&&(hr=`
`,at&&me.test(at||"")&&(hr=at.match(me)[0])),at=at.replace(Be,`
`);var Qe=at.match(/^[\t ]*/)[0];this._output=new S(this._options,Qe),this._input=new B(at),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var ut=0,ke=!1,J=!1,Fe=!1,se=!1,Ye=!1,ze=this._ch,$e=!1,Ge,ce,Ue;Ge=this._input.read(ge),ce=Ge!=="",Ue=ze,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ze=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var U=this._input.read(It),xe=ee.get_directives(U);xe&&xe.ignore==="start"&&(U+=ee.readIgnored(this._input)),this.print_string(U),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(rt)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ce),this.print_string(this._ch);var Z=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Z.match(/[ :]$/)&&(Z=this.eatString(": ").replace(/\s+$/,""),this.print_string(Z),this._output.space_before_token=!0),ut===0&&Z.indexOf(":")!==-1&&(J=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ce),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var X=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);X.match(/[ :]$/)&&(X=this.eatString(": ").replace(/\s+$/,""),this.print_string(X),this._output.space_before_token=!0),ut===0&&X.indexOf(":")!==-1?(J=!0,this.indent()):X in this.NESTED_AT_RULE?(this._nestedLevel+=1,X in this.CONDITIONAL_GROUP_RULE&&(Fe=!0)):ut===0&&!J&&(se=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ce),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")J&&(J=!1,this.outdent()),se=!1,Fe?(Fe=!1,ke=this._indentLevel>=this._nestedLevel):ke=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&ke&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ue==="("?this._output.space_before_token=!1:Ue!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ue==="{"&&this._output.trim(!0),J&&(this.outdent(),J=!1),this.print_string(this._ch),ke=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Lt=0;Lt<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Lt++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Lt])){$e=!0;break}(ke||Fe)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!se&&ut===0?(this.print_string(":"),J||(J=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var fn=Ue==='"'||Ue==="'";this.preserveSingleSpace(fn||ce),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")$e=!1,ut===0?(J&&(this.outdent(),J=!1),se=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),ut++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),ut&&(ut--,this.outdent()));else{var St=!1;this._input.lookBack("with")&&(St=!0),this.preserveSingleSpace(ce||St),this.print_string(this._ch),J&&Ue==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Ye=!0):(this.eatWhitespace(),ut++,this.indent())}else if(this._ch===")")ut&&(ut--,this.outdent()),Ye&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Ye=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!J||Ye)&&ut===0&&!se?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!J&&ut===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&we.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ce),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),we.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Xn=Ue==='"'||Ue==="'";this.preserveSingleSpace(Xn||ce),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&$e&&this._output.add_new_line()}var pn=this._output.get_code(hr);return pn},HF.Beautifier=He,HF}var N$;function sG(){if(N$)return LD.exports;N$=1;var I=uG().Beautifier,S=a9().Options;function B(N,ee){var me=new I(N,ee);return me.beautify()}return LD.exports=B,LD.exports.defaultOptions=function(){return new S},LD.exports}var $D={exports:{}},UF={},jF={},P$;function o9(){if(P$)return jF;P$=1;var I=eI().Options;function S(B){I.call(this,B,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return S.prototype=new I,jF.Options=S,jF}var HD={},F$;function I$(){if(F$)return HD;F$=1;var I=VD().Tokenizer,S=VD().TOKEN,B=rI().Directives,N=n9().TemplatablePattern,ee=qD().Pattern,me={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:S.START,RAW:S.RAW,EOF:S.EOF},Be=new B(/<\!--/,/-->/),we=function(ge,It){I.call(this,ge,It),this._current_tag_name="";var rt=new N(this._input).read_options(this._options),He=new ee(this._input);if(this.__patterns={word:rt.until(/[\n\r\t <]/),word_control_flow_close_excluded:rt.until(/[\n\r\t <}]/),single_quote:rt.until_after(/'/),double_quote:rt.until_after(/"/),attribute:rt.until(/[\n\r\t =>]|\/>/),element_name:rt.until(/[\n\r\t >\/]/),angular_control_flow_start:He.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:He.starting_with(/{{!--/).until_after(/--}}/),handlebars:He.starting_with(/{{/).until_after(/}}/),handlebars_open:He.until(/[\n\r\t }]/),handlebars_raw_close:He.until(/}}/),comment:He.starting_with(/<!--/).until_after(/-->/),cdata:He.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:He.starting_with(/<!\[/).until_after(/]>/),processing:He.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var at=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=He.matching(at).until_after(at)}};return we.prototype=new I,we.prototype._is_comment=function(ge){return!1},we.prototype._is_opening=function(ge){return ge.type===me.TAG_OPEN||ge.type===me.CONTROL_FLOW_OPEN},we.prototype._is_closing=function(ge,It){return ge.type===me.TAG_CLOSE&&It&&((ge.text===">"||ge.text==="/>")&&It.text[0]==="<"||ge.text==="}}"&&It.text[0]==="{"&&It.text[1]==="{")||ge.type===me.CONTROL_FLOW_CLOSE&&ge.text==="}"&&It.text.endsWith("{")},we.prototype._reset=function(){this._current_tag_name=""},we.prototype._get_next_token=function(ge,It){var rt=null;this._readWhitespace();var He=this._input.peek();return He===null?this._create_token(me.EOF,""):(rt=rt||this._read_open_handlebars(He,It),rt=rt||this._read_attribute(He,ge,It),rt=rt||this._read_close(He,It),rt=rt||this._read_control_flows(He,It),rt=rt||this._read_raw_content(He,ge,It),rt=rt||this._read_content_word(He,It),rt=rt||this._read_comment_or_cdata(He),rt=rt||this._read_processing(He),rt=rt||this._read_open(He,It),rt=rt||this._create_token(me.UNKNOWN,this._input.next()),rt)},we.prototype._read_comment_or_cdata=function(ge){var It=null,rt=null,He=null;if(ge==="<"){var at=this._input.peek(1);at==="!"&&(rt=this.__patterns.comment.read(),rt?(He=Be.get_directives(rt),He&&He.ignore==="start"&&(rt+=Be.readIgnored(this._input))):rt=this.__patterns.cdata.read()),rt&&(It=this._create_token(me.COMMENT,rt),It.directives=He)}return It},we.prototype._read_processing=function(ge){var It=null,rt=null,He=null;if(ge==="<"){var at=this._input.peek(1);(at==="!"||at==="?")&&(rt=this.__patterns.conditional_comment.read(),rt=rt||this.__patterns.processing.read()),rt&&(It=this._create_token(me.COMMENT,rt),It.directives=He)}return It},we.prototype._read_open=function(ge,It){var rt=null,He=null;return(!It||It.type===me.CONTROL_FLOW_OPEN)&&ge==="<"&&(rt=this._input.next(),this._input.peek()==="/"&&(rt+=this._input.next()),rt+=this.__patterns.element_name.read(),He=this._create_token(me.TAG_OPEN,rt)),He},we.prototype._read_open_handlebars=function(ge,It){var rt=null,He=null;return(!It||It.type===me.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&ge==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(rt=this.__patterns.handlebars_comment.read(),rt=rt||this.__patterns.handlebars.read(),He=this._create_token(me.COMMENT,rt)):(rt=this.__patterns.handlebars_open.read(),He=this._create_token(me.TAG_OPEN,rt))),He},we.prototype._read_control_flows=function(ge,It){var rt="",He=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return He;if(ge==="@"){if(rt=this.__patterns.angular_control_flow_start.read(),rt==="")return He;for(var at=rt.endsWith("(")?1:0,hr=0;!(rt.endsWith("{")&&at===hr);){var Qe=this._input.next();if(Qe===null)break;Qe==="("?at++:Qe===")"&&hr++,rt+=Qe}He=this._create_token(me.CONTROL_FLOW_OPEN,rt)}else ge==="}"&&It&&It.type===me.CONTROL_FLOW_OPEN&&(rt=this._input.next(),He=this._create_token(me.CONTROL_FLOW_CLOSE,rt));return He},we.prototype._read_close=function(ge,It){var rt=null,He=null;return It&&It.type===me.TAG_OPEN&&(It.text[0]==="<"&&(ge===">"||ge==="/"&&this._input.peek(1)===">")?(rt=this._input.next(),ge==="/"&&(rt+=this._input.next()),He=this._create_token(me.TAG_CLOSE,rt)):It.text[0]==="{"&&ge==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),He=this._create_token(me.TAG_CLOSE,"}}"))),He},we.prototype._read_attribute=function(ge,It,rt){var He=null,at="";if(rt&&rt.text[0]==="<")if(ge==="=")He=this._create_token(me.EQUALS,this._input.next());else if(ge==='"'||ge==="'"){var hr=this._input.next();ge==='"'?hr+=this.__patterns.double_quote.read():hr+=this.__patterns.single_quote.read(),He=this._create_token(me.VALUE,hr)}else at=this.__patterns.attribute.read(),at&&(It.type===me.EQUALS?He=this._create_token(me.VALUE,at):He=this._create_token(me.ATTRIBUTE,at));return He},we.prototype._is_content_unformatted=function(ge){return this._options.void_elements.indexOf(ge)===-1&&(this._options.content_unformatted.indexOf(ge)!==-1||this._options.unformatted.indexOf(ge)!==-1)},we.prototype._read_raw_content=function(ge,It,rt){var He="";if(rt&&rt.text[0]==="{")He=this.__patterns.handlebars_raw_close.read();else if(It.type===me.TAG_CLOSE&&It.opened.text[0]==="<"&&It.text[0]!=="/"){var at=It.opened.text.substr(1).toLowerCase();if(at==="script"||at==="style"){var hr=this._read_comment_or_cdata(ge);if(hr)return hr.type=me.TEXT,hr;He=this._input.readUntil(new RegExp("</"+at+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(at)&&(He=this._input.readUntil(new RegExp("</"+at+"[\\n\\r\\t ]*?>","ig")))}return He?this._create_token(me.TEXT,He):null},we.prototype._read_content_word=function(ge,It){var rt="";if(this._options.unformatted_content_delimiter&&ge===this._options.unformatted_content_delimiter[0]&&(rt=this.__patterns.unformatted_content_delimiter.read()),rt||(rt=It&&It.type===me.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),rt)return this._create_token(me.TEXT,rt)},HD.Tokenizer=we,HD.TOKEN=me,HD}var L$;function cG(){if(L$)return UF;L$=1;var I=o9().Options,S=QF().Output,B=I$().Tokenizer,N=I$().TOKEN,ee=/\r\n|[\r\n]/,me=/\r\n|[\r\n]/g,Be=function(ke,J){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=ke.max_preserve_newlines,this.preserve_newlines=ke.preserve_newlines,this._output=new S(ke,J)};Be.prototype.current_line_has_match=function(ke){return this._output.current_line.has_match(ke)},Be.prototype.set_space_before_token=function(ke,J){this._output.space_before_token=ke,this._output.non_breaking_space=J},Be.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},Be.prototype.add_raw_token=function(ke){this._output.add_raw_token(ke)},Be.prototype.print_preserved_newlines=function(ke){var J=0;ke.type!==N.TEXT&&ke.previous.type!==N.TEXT&&(J=ke.newlines?1:0),this.preserve_newlines&&(J=ke.newlines<this.max_preserve_newlines+1?ke.newlines:this.max_preserve_newlines+1);for(var Fe=0;Fe<J;Fe++)this.print_newline(Fe>0);return J!==0},Be.prototype.traverse_whitespace=function(ke){return ke.whitespace_before||ke.newlines?(this.print_preserved_newlines(ke)||(this._output.space_before_token=!0),!0):!1},Be.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},Be.prototype.print_newline=function(ke){this._output.add_new_line(ke)},Be.prototype.print_token=function(ke){ke.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(ke.text))},Be.prototype.indent=function(){this.indent_level++},Be.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},Be.prototype.get_full_indent=function(ke){return ke=this.indent_level+(ke||0),ke<1?"":this._output.get_indent_string(ke)};var we=function(ke){for(var J=null,Fe=ke.next;Fe.type!==N.EOF&&ke.closed!==Fe;){if(Fe.type===N.ATTRIBUTE&&Fe.text==="type"){Fe.next&&Fe.next.type===N.EQUALS&&Fe.next.next&&Fe.next.next.type===N.VALUE&&(J=Fe.next.next.text);break}Fe=Fe.next}return J},ge=function(ke,J){var Fe=null,se=null;return J.closed?(ke==="script"?Fe="text/javascript":ke==="style"&&(Fe="text/css"),Fe=we(J)||Fe,Fe.search("text/css")>-1?se="css":Fe.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?se="javascript":Fe.search(/(text|application|dojo)\/(x-)?(html)/)>-1?se="html":Fe.search(/test\/null/)>-1&&(se="null"),se):null};function It(ke,J){return J.indexOf(ke)!==-1}function rt(ke,J,Fe){this.parent=ke||null,this.tag=J?J.tag_name:"",this.indent_level=Fe||0,this.parser_token=J||null}function He(ke){this._printer=ke,this._current_frame=null}He.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},He.prototype.record_tag=function(ke){var J=new rt(this._current_frame,ke,this._printer.indent_level);this._current_frame=J},He.prototype._try_pop_frame=function(ke){var J=null;return ke&&(J=ke.parser_token,this._printer.indent_level=ke.indent_level,this._current_frame=ke.parent),J},He.prototype._get_frame=function(ke,J){for(var Fe=this._current_frame;Fe&&ke.indexOf(Fe.tag)===-1;){if(J&&J.indexOf(Fe.tag)!==-1){Fe=null;break}Fe=Fe.parent}return Fe},He.prototype.try_pop=function(ke,J){var Fe=this._get_frame([ke],J);return this._try_pop_frame(Fe)},He.prototype.indent_to_tag=function(ke){var J=this._get_frame(ke);J&&(this._printer.indent_level=J.indent_level)};function at(ke,J,Fe,se){this._source_text=ke||"",J=J||{},this._js_beautify=Fe,this._css_beautify=se,this._tag_stack=null;var Ye=new I(J,"html");this._options=Ye,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}at.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var ke=this._source_text,J=this._options.eol;this._options.eol==="auto"&&(J=`
`,ke&&ee.test(ke)&&(J=ke.match(ee)[0])),ke=ke.replace(me,`
`);var Fe=ke.match(/^[\t ]*/)[0],se={text:"",type:""},Ye=new hr,ze=new Be(this._options,Fe),$e=new B(ke,this._options).tokenize();this._tag_stack=new He(ze);for(var Ge=null,ce=$e.next();ce.type!==N.EOF;)ce.type===N.TAG_OPEN||ce.type===N.COMMENT?(Ge=this._handle_tag_open(ze,ce,Ye,se,$e),Ye=Ge):ce.type===N.ATTRIBUTE||ce.type===N.EQUALS||ce.type===N.VALUE||ce.type===N.TEXT&&!Ye.tag_complete?Ge=this._handle_inside_tag(ze,ce,Ye,se):ce.type===N.TAG_CLOSE?Ge=this._handle_tag_close(ze,ce,Ye):ce.type===N.TEXT?Ge=this._handle_text(ze,ce,Ye):ce.type===N.CONTROL_FLOW_OPEN?Ge=this._handle_control_flow_open(ze,ce):ce.type===N.CONTROL_FLOW_CLOSE?Ge=this._handle_control_flow_close(ze,ce):ze.add_raw_token(ce),se=Ge,ce=$e.next();var Ue=ze._output.get_code(J);return Ue},at.prototype._handle_control_flow_open=function(ke,J){var Fe={text:J.text,type:J.type};return ke.set_space_before_token(J.newlines||J.whitespace_before!=="",!0),J.newlines?ke.print_preserved_newlines(J):ke.set_space_before_token(J.newlines||J.whitespace_before!=="",!0),ke.print_token(J),ke.indent(),Fe},at.prototype._handle_control_flow_close=function(ke,J){var Fe={text:J.text,type:J.type};return ke.deindent(),J.newlines?ke.print_preserved_newlines(J):ke.set_space_before_token(J.newlines||J.whitespace_before!=="",!0),ke.print_token(J),Fe},at.prototype._handle_tag_close=function(ke,J,Fe){var se={text:J.text,type:J.type};return ke.alignment_size=0,Fe.tag_complete=!0,ke.set_space_before_token(J.newlines||J.whitespace_before!=="",!0),Fe.is_unformatted?ke.add_raw_token(J):(Fe.tag_start_char==="<"&&(ke.set_space_before_token(J.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&Fe.has_wrapped_attrs&&ke.print_newline(!1)),ke.print_token(J)),Fe.indent_content&&!(Fe.is_unformatted||Fe.is_content_unformatted)&&(ke.indent(),Fe.indent_content=!1),!Fe.is_inline_element&&!(Fe.is_unformatted||Fe.is_content_unformatted)&&ke.set_wrap_point(),se},at.prototype._handle_inside_tag=function(ke,J,Fe,se){var Ye=Fe.has_wrapped_attrs,ze={text:J.text,type:J.type};return ke.set_space_before_token(J.newlines||J.whitespace_before!=="",!0),Fe.is_unformatted?ke.add_raw_token(J):Fe.tag_start_char==="{"&&J.type===N.TEXT?ke.print_preserved_newlines(J)?(J.newlines=0,ke.add_raw_token(J)):ke.print_token(J):(J.type===N.ATTRIBUTE?ke.set_space_before_token(!0):(J.type===N.EQUALS||J.type===N.VALUE&&J.previous.type===N.EQUALS)&&ke.set_space_before_token(!1),J.type===N.ATTRIBUTE&&Fe.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(ke.traverse_whitespace(J),Ye=Ye||J.newlines!==0),this._is_wrap_attributes_force&&Fe.attr_count>=this._options.wrap_attributes_min_attrs&&(se.type!==N.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(ke.print_newline(!1),Ye=!0)),ke.print_token(J),Ye=Ye||ke.previous_token_wrapped(),Fe.has_wrapped_attrs=Ye),ze},at.prototype._handle_text=function(ke,J,Fe){var se={text:J.text,type:"TK_CONTENT"};return Fe.custom_beautifier_name?this._print_custom_beatifier_text(ke,J,Fe):Fe.is_unformatted||Fe.is_content_unformatted?ke.add_raw_token(J):(ke.traverse_whitespace(J),ke.print_token(J)),se},at.prototype._print_custom_beatifier_text=function(ke,J,Fe){var se=this;if(J.text!==""){var Ye=J.text,ze,$e=1,Ge="",ce="";Fe.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ze=this._js_beautify:Fe.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ze=this._css_beautify:Fe.custom_beautifier_name==="html"&&(ze=function(Lt,fn){var St=new at(Lt,fn,se._js_beautify,se._css_beautify);return St.beautify()}),this._options.indent_scripts==="keep"?$e=0:this._options.indent_scripts==="separate"&&($e=-ke.indent_level);var Ue=ke.get_full_indent($e);if(Ye=Ye.replace(/\n[ \t]*$/,""),Fe.custom_beautifier_name!=="html"&&Ye[0]==="<"&&Ye.match(/^(<!--|<!\[CDATA\[)/)){var U=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(Ye);if(!U){ke.add_raw_token(J);return}Ge=Ue+U[1]+`
`,Ye=U[4],U[5]&&(ce=Ue+U[5]),Ye=Ye.replace(/\n[ \t]*$/,""),(U[2]||U[3].indexOf(`
`)!==-1)&&(U=U[3].match(/[ \t]+$/),U&&(J.whitespace_before=U[0]))}if(Ye)if(ze){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Z=new xe;Ye=ze(Ue+Ye,Z)}else{var X=J.whitespace_before;X&&(Ye=Ye.replace(new RegExp(`
(`+X+")?","g"),`
`)),Ye=Ue+Ye.replace(/\n/g,`
`+Ue)}Ge&&(Ye?Ye=Ge+Ye+`
`+ce:Ye=Ge+ce),ke.print_newline(!1),Ye&&(J.text=Ye,J.whitespace_before="",J.newlines=0,ke.add_raw_token(J),ke.print_newline(!0))}},at.prototype._handle_tag_open=function(ke,J,Fe,se,Ye){var ze=this._get_tag_open_token(J);if((Fe.is_unformatted||Fe.is_content_unformatted)&&!Fe.is_empty_element&&J.type===N.TAG_OPEN&&!ze.is_start_tag?(ke.add_raw_token(J),ze.start_tag_token=this._tag_stack.try_pop(ze.tag_name)):(ke.traverse_whitespace(J),this._set_tag_position(ke,J,ze,Fe,se),ze.is_inline_element||ke.set_wrap_point(),ke.print_token(J)),ze.is_start_tag&&this._is_wrap_attributes_force){var $e=0,Ge;do Ge=Ye.peek($e),Ge.type===N.ATTRIBUTE&&(ze.attr_count+=1),$e+=1;while(Ge.type!==N.EOF&&Ge.type!==N.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ze.alignment_size=J.text.length+1),!ze.tag_complete&&!ze.is_unformatted&&(ke.alignment_size=ze.alignment_size),ze};var hr=function(ke,J){if(this.parent=ke||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!J)this.tag_complete=!0;else{var Fe;this.tag_start_char=J.text[0],this.text=J.text,this.tag_start_char==="<"?(Fe=J.text.match(/^<([^\s>]*)/),this.tag_check=Fe?Fe[1]:""):(Fe=J.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=Fe?Fe[1]:"",(J.text.startsWith("{{#>")||J.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&J.next!==null?this.tag_check=J.next.text.split(" ")[0]:this.tag_check=J.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),J.type===N.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||J.closed&&J.closed.text==="/>";var se=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(se=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(se)))}};at.prototype._get_tag_open_token=function(ke){var J=new hr(this._tag_stack.get_parser_token(),ke);return J.alignment_size=this._options.wrap_attributes_indent_size,J.is_end_tag=J.is_end_tag||It(J.tag_check,this._options.void_elements),J.is_empty_element=J.tag_complete||J.is_start_tag&&J.is_end_tag,J.is_unformatted=!J.tag_complete&&It(J.tag_check,this._options.unformatted),J.is_content_unformatted=!J.is_empty_element&&It(J.tag_check,this._options.content_unformatted),J.is_inline_element=It(J.tag_name,this._options.inline)||this._options.inline_custom_elements&&J.tag_name.includes("-")||J.tag_start_char==="{",J},at.prototype._set_tag_position=function(ke,J,Fe,se,Ye){if(Fe.is_empty_element||(Fe.is_end_tag?Fe.start_tag_token=this._tag_stack.try_pop(Fe.tag_name):(this._do_optional_end_element(Fe)&&(Fe.is_inline_element||ke.print_newline(!1)),this._tag_stack.record_tag(Fe),(Fe.tag_name==="script"||Fe.tag_name==="style")&&!(Fe.is_unformatted||Fe.is_content_unformatted)&&(Fe.custom_beautifier_name=ge(Fe.tag_check,J)))),It(Fe.tag_check,this._options.extra_liners)&&(ke.print_newline(!1),ke._output.just_added_blankline()||ke.print_newline(!0)),Fe.is_empty_element){if(Fe.tag_start_char==="{"&&Fe.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),Fe.indent_content=!0;var ze=ke.current_line_has_match(/{{#if/);ze||ke.print_newline(!1)}Fe.tag_name==="!--"&&Ye.type===N.TAG_CLOSE&&se.is_end_tag&&Fe.text.indexOf(`
`)===-1||(Fe.is_inline_element||Fe.is_unformatted||ke.print_newline(!1),this._calcluate_parent_multiline(ke,Fe))}else if(Fe.is_end_tag){var $e=!1;$e=Fe.start_tag_token&&Fe.start_tag_token.multiline_content,$e=$e||!Fe.is_inline_element&&!(se.is_inline_element||se.is_unformatted)&&!(Ye.type===N.TAG_CLOSE&&Fe.start_tag_token===se)&&Ye.type!=="TK_CONTENT",(Fe.is_content_unformatted||Fe.is_unformatted)&&($e=!1),$e&&ke.print_newline(!1)}else Fe.indent_content=!Fe.custom_beautifier_name,Fe.tag_start_char==="<"&&(Fe.tag_name==="html"?Fe.indent_content=this._options.indent_inner_html:Fe.tag_name==="head"?Fe.indent_content=this._options.indent_head_inner_html:Fe.tag_name==="body"&&(Fe.indent_content=this._options.indent_body_inner_html)),!(Fe.is_inline_element||Fe.is_unformatted)&&(Ye.type!=="TK_CONTENT"||Fe.is_content_unformatted)&&ke.print_newline(!1),this._calcluate_parent_multiline(ke,Fe)},at.prototype._calcluate_parent_multiline=function(ke,J){J.parent&&ke._output.just_added_newline()&&!((J.is_inline_element||J.is_unformatted)&&J.parent.is_inline_element)&&(J.parent.multiline_content=!0)};var Qe=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ut=["a","audio","del","ins","map","noscript","video"];return at.prototype._do_optional_end_element=function(ke){var J=null;if(!(ke.is_empty_element||!ke.is_start_tag||!ke.parent)){if(ke.tag_name==="body")J=J||this._tag_stack.try_pop("head");else if(ke.tag_name==="li")J=J||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(ke.tag_name==="dd"||ke.tag_name==="dt")J=J||this._tag_stack.try_pop("dt",["dl"]),J=J||this._tag_stack.try_pop("dd",["dl"]);else if(ke.parent.tag_name==="p"&&Qe.indexOf(ke.tag_name)!==-1){var Fe=ke.parent.parent;(!Fe||ut.indexOf(Fe.tag_name)===-1)&&(J=J||this._tag_stack.try_pop("p"))}else ke.tag_name==="rp"||ke.tag_name==="rt"?(J=J||this._tag_stack.try_pop("rt",["ruby","rtc"]),J=J||this._tag_stack.try_pop("rp",["ruby","rtc"])):ke.tag_name==="optgroup"?J=J||this._tag_stack.try_pop("optgroup",["select"]):ke.tag_name==="option"?J=J||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):ke.tag_name==="colgroup"?J=J||this._tag_stack.try_pop("caption",["table"]):ke.tag_name==="thead"?(J=J||this._tag_stack.try_pop("caption",["table"]),J=J||this._tag_stack.try_pop("colgroup",["table"])):ke.tag_name==="tbody"||ke.tag_name==="tfoot"?(J=J||this._tag_stack.try_pop("caption",["table"]),J=J||this._tag_stack.try_pop("colgroup",["table"]),J=J||this._tag_stack.try_pop("thead",["table"]),J=J||this._tag_stack.try_pop("tbody",["table"])):ke.tag_name==="tr"?(J=J||this._tag_stack.try_pop("caption",["table"]),J=J||this._tag_stack.try_pop("colgroup",["table"]),J=J||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(ke.tag_name==="th"||ke.tag_name==="td")&&(J=J||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),J=J||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return ke.parent=this._tag_stack.get_parser_token(),J}},UF.Beautifier=at,UF}var $$;function lG(){if($$)return $D.exports;$$=1;var I=cG().Beautifier,S=o9().Options;function B(N,ee,me,Be){var we=new I(N,ee,me,Be);return we.beautify()}return $D.exports=B,$D.exports.defaultOptions=function(){return new S},$D.exports}var H$;function fG(){if(H$)return kz;H$=1;var I=iG(),S=sG(),B=lG();function N(ee,me,Be,we){return Be=Be||I,we=we||S,B(ee,me,Be,we)}return N.defaultOptions=B.defaultOptions,kz.js=I,kz.css=S,kz.html=N,kz}(function(I){function S(B,N,ee){var me=function(Be,we){return B.js_beautify(Be,we)};return me.js=B.js_beautify,me.css=N.css_beautify,me.html=ee.html_beautify,me.js_beautify=B.js_beautify,me.css_beautify=N.css_beautify,me.html_beautify=ee.html_beautify,me}(function(B){var N=fG();N.js_beautify=N.js,N.css_beautify=N.css,N.html_beautify=N.html,B.exports=S(N,N,N)})(I)})(Q$);var i9=Q$.exports;function dG(I){for(var S=1;S<arguments.length;S++){var B=arguments[S];for(var N in B)B.hasOwnProperty(N)&&(I[N]=B[N])}return I}function YF(I,S){return Array(S+1).join(I)}function vG(I){return I.replace(/^\n*/,"")}function pG(I){for(var S=I.length;S>0&&I[S-1]===`
`;)S--;return I.substring(0,S)}var mG=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function nI(I){return aI(I,mG)}var u9=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function s9(I){return aI(I,u9)}function hG(I){return l9(I,u9)}var c9=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function gG(I){return aI(I,c9)}function yG(I){return l9(I,c9)}function aI(I,S){return S.indexOf(I.nodeName)>=0}function l9(I,S){return I.getElementsByTagName&&S.some(function(B){return I.getElementsByTagName(B).length})}var vl={};vl.paragraph={filter:"p",replacement:function(I){return`

`+I+`

`}};vl.lineBreak={filter:"br",replacement:function(I,S,B){return B.br+`
`}};vl.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(I,S,B){var N=Number(S.nodeName.charAt(1));if(B.headingStyle==="setext"&&N<3){var ee=YF(N===1?"=":"-",I.length);return`

`+I+`
`+ee+`

`}else return`

`+YF("#",N)+" "+I+`

`}};vl.blockquote={filter:"blockquote",replacement:function(I){return I=I.replace(/^\n+|\n+$/g,""),I=I.replace(/^/gm,"> "),`

`+I+`

`}};vl.list={filter:["ul","ol"],replacement:function(I,S){var B=S.parentNode;return B.nodeName==="LI"&&B.lastElementChild===S?`
`+I:`

`+I+`

`}};vl.listItem={filter:"li",replacement:function(I,S,B){I=I.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var N=B.bulletListMarker+"   ",ee=S.parentNode;if(ee.nodeName==="OL"){var me=ee.getAttribute("start"),Be=Array.prototype.indexOf.call(ee.children,S);N=(me?Number(me)+Be:Be+1)+".  "}return N+I+(S.nextSibling&&!/\n$/.test(I)?`
`:"")}};vl.indentedCodeBlock={filter:function(I,S){return S.codeBlockStyle==="indented"&&I.nodeName==="PRE"&&I.firstChild&&I.firstChild.nodeName==="CODE"},replacement:function(I,S,B){return`

    `+S.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};vl.fencedCodeBlock={filter:function(I,S){return S.codeBlockStyle==="fenced"&&I.nodeName==="PRE"&&I.firstChild&&I.firstChild.nodeName==="CODE"},replacement:function(I,S,B){for(var N=S.firstChild.getAttribute("class")||"",ee=(N.match(/language-(\S+)/)||[null,""])[1],me=S.firstChild.textContent,Be=B.fence.charAt(0),we=3,ge=new RegExp("^"+Be+"{3,}","gm"),It;It=ge.exec(me);)It[0].length>=we&&(we=It[0].length+1);var rt=YF(Be,we);return`

`+rt+ee+`
`+me.replace(/\n$/,"")+`
`+rt+`

`}};vl.horizontalRule={filter:"hr",replacement:function(I,S,B){return`

`+B.hr+`

`}};vl.inlineLink={filter:function(I,S){return S.linkStyle==="inlined"&&I.nodeName==="A"&&I.getAttribute("href")},replacement:function(I,S){var B=S.getAttribute("href");B&&(B=B.replace(/([()])/g,"\\$1"));var N=UD(S.getAttribute("title"));return N&&(N=' "'+N.replace(/"/g,'\\"')+'"'),"["+I+"]("+B+N+")"}};vl.referenceLink={filter:function(I,S){return S.linkStyle==="referenced"&&I.nodeName==="A"&&I.getAttribute("href")},replacement:function(I,S,B){var N=S.getAttribute("href"),ee=UD(S.getAttribute("title"));ee&&(ee=' "'+ee+'"');var me,Be;switch(B.linkReferenceStyle){case"collapsed":me="["+I+"][]",Be="["+I+"]: "+N+ee;break;case"shortcut":me="["+I+"]",Be="["+I+"]: "+N+ee;break;default:var we=this.references.length+1;me="["+I+"]["+we+"]",Be="["+we+"]: "+N+ee}return this.references.push(Be),me},references:[],append:function(I){var S="";return this.references.length&&(S=`

`+this.references.join(`
`)+`

`,this.references=[]),S}};vl.emphasis={filter:["em","i"],replacement:function(I,S,B){return I.trim()?B.emDelimiter+I+B.emDelimiter:""}};vl.strong={filter:["strong","b"],replacement:function(I,S,B){return I.trim()?B.strongDelimiter+I+B.strongDelimiter:""}};vl.code={filter:function(I){var S=I.previousSibling||I.nextSibling,B=I.parentNode.nodeName==="PRE"&&!S;return I.nodeName==="CODE"&&!B},replacement:function(I){if(!I)return"";I=I.replace(/\r?\n|\r/g," ");for(var S=/^`|^ .*?[^ ].* $|`$/.test(I)?" ":"",B="`",N=I.match(/`+/gm)||[];N.indexOf(B)!==-1;)B=B+"`";return B+S+I+S+B}};vl.image={filter:"img",replacement:function(I,S){var B=UD(S.getAttribute("alt")),N=S.getAttribute("src")||"",ee=UD(S.getAttribute("title")),me=ee?' "'+ee+'"':"";return N?"!["+B+"]("+N+me+")":""}};function UD(I){return I?I.replace(/(\n+\s*)+/g,`
`):""}function f9(I){this.options=I,this._keep=[],this._remove=[],this.blankRule={replacement:I.blankReplacement},this.keepReplacement=I.keepReplacement,this.defaultRule={replacement:I.defaultReplacement},this.array=[];for(var S in I.rules)this.array.push(I.rules[S])}f9.prototype={add:function(I,S){this.array.unshift(S)},keep:function(I){this._keep.unshift({filter:I,replacement:this.keepReplacement})},remove:function(I){this._remove.unshift({filter:I,replacement:function(){return""}})},forNode:function(I){if(I.isBlank)return this.blankRule;var S;return(S=WF(this.array,I,this.options))||(S=WF(this._keep,I,this.options))||(S=WF(this._remove,I,this.options))?S:this.defaultRule},forEach:function(I){for(var S=0;S<this.array.length;S++)I(this.array[S],S)}};function WF(I,S,B){for(var N=0;N<I.length;N++){var ee=I[N];if(bG(ee,S,B))return ee}}function bG(I,S,B){var N=I.filter;if(typeof N=="string"){if(N===S.nodeName.toLowerCase())return!0}else if(Array.isArray(N)){if(N.indexOf(S.nodeName.toLowerCase())>-1)return!0}else if(typeof N=="function"){if(N.call(I,S,B))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function _G(I){var S=I.element,B=I.isBlock,N=I.isVoid,ee=I.isPre||function(He){return He.nodeName==="PRE"};if(!(!S.firstChild||ee(S))){for(var me=null,Be=!1,we=null,ge=V$(we,S,ee);ge!==S;){if(ge.nodeType===3||ge.nodeType===4){var It=ge.data.replace(/[ \r\n\t]+/g," ");if((!me||/ $/.test(me.data))&&!Be&&It[0]===" "&&(It=It.substr(1)),!It){ge=qF(ge);continue}ge.data=It,me=ge}else if(ge.nodeType===1)B(ge)||ge.nodeName==="BR"?(me&&(me.data=me.data.replace(/ $/,"")),me=null,Be=!1):N(ge)||ee(ge)?(me=null,Be=!0):me&&(Be=!1);else{ge=qF(ge);continue}var rt=V$(we,ge,ee);we=ge,ge=rt}me&&(me.data=me.data.replace(/ $/,""),me.data||qF(me))}}function qF(I){var S=I.nextSibling||I.parentNode;return I.parentNode.removeChild(I),S}function V$(I,S,B){return I&&I.parentNode===S||B(S)?S.nextSibling||S.parentNode:S.firstChild||S.nextSibling||S.parentNode}var oI=typeof window<"u"?window:{};function wG(){var I=oI.DOMParser,S=!1;try{new I().parseFromString("","text/html")&&(S=!0)}catch{}return S}function kG(){var I=function(){};return CG()?I.prototype.parseFromString=function(S){var B=new window.ActiveXObject("htmlfile");return B.designMode="on",B.open(),B.write(S),B.close(),B}:I.prototype.parseFromString=function(S){var B=document.implementation.createHTMLDocument("");return B.open(),B.write(S),B.close(),B},I}function CG(){var I=!1;try{document.implementation.createHTMLDocument("").open()}catch{oI.ActiveXObject&&(I=!0)}return I}var xG=wG()?oI.DOMParser:kG();function SG(I,S){var B;if(typeof I=="string"){var N=TG().parseFromString('<x-turndown id="turndown-root">'+I+"</x-turndown>","text/html");B=N.getElementById("turndown-root")}else B=I.cloneNode(!0);return _G({element:B,isBlock:nI,isVoid:s9,isPre:S.preformattedCode?EG:null}),B}var GF;function TG(){return GF=GF||new xG,GF}function EG(I){return I.nodeName==="PRE"||I.nodeName==="CODE"}function zG(I,S){return I.isBlock=nI(I),I.isCode=I.nodeName==="CODE"||I.parentNode.isCode,I.isBlank=AG(I),I.flankingWhitespace=OG(I,S),I}function AG(I){return!s9(I)&&!gG(I)&&/^\s*$/i.test(I.textContent)&&!hG(I)&&!yG(I)}function OG(I,S){if(I.isBlock||S.preformattedCode&&I.isCode)return{leading:"",trailing:""};var B=RG(I.textContent);return B.leadingAscii&&U$("left",I,S)&&(B.leading=B.leadingNonAscii),B.trailingAscii&&U$("right",I,S)&&(B.trailing=B.trailingNonAscii),{leading:B.leading,trailing:B.trailing}}function RG(I){var S=I.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:S[1],leadingAscii:S[2],leadingNonAscii:S[3],trailing:S[4],trailingNonAscii:S[5],trailingAscii:S[6]}}function U$(I,S,B){var N,ee,me;return I==="left"?(N=S.previousSibling,ee=/ $/):(N=S.nextSibling,ee=/^ /),N&&(N.nodeType===3?me=ee.test(N.nodeValue):B.preformattedCode&&N.nodeName==="CODE"?me=!1:N.nodeType===1&&!nI(N)&&(me=ee.test(N.textContent))),me}var DG=Array.prototype.reduce,MG=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function jD(I){if(!(this instanceof jD))return new jD(I);var S={rules:vl,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(B,N){return N.isBlock?`

`:""},keepReplacement:function(B,N){return N.isBlock?`

`+N.outerHTML+`

`:N.outerHTML},defaultReplacement:function(B,N){return N.isBlock?`

`+B+`

`:B}};this.options=dG({},S,I),this.rules=new f9(this.options)}jD.prototype={turndown:function(I){if(!PG(I))throw new TypeError(I+" is not a string, or an element/document/fragment node.");if(I==="")return"";var S=d9.call(this,new SG(I,this.options));return BG.call(this,S)},use:function(I){if(Array.isArray(I))for(var S=0;S<I.length;S++)this.use(I[S]);else if(typeof I=="function")I(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(I,S){return this.rules.add(I,S),this},keep:function(I){return this.rules.keep(I),this},remove:function(I){return this.rules.remove(I),this},escape:function(I){return MG.reduce(function(S,B){return S.replace(B[0],B[1])},I)}};function d9(I){var S=this;return DG.call(I.childNodes,function(B,N){N=new zG(N,S.options);var ee="";return N.nodeType===3?ee=N.isCode?N.nodeValue:S.escape(N.nodeValue):N.nodeType===1&&(ee=NG.call(S,N)),v9(B,ee)},"")}function BG(I){var S=this;return this.rules.forEach(function(B){typeof B.append=="function"&&(I=v9(I,B.append(S.options)))}),I.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function NG(I){var S=this.rules.forNode(I),B=d9.call(this,I),N=I.flankingWhitespace;return(N.leading||N.trailing)&&(B=B.trim()),N.leading+S.replacement(B,I,this.options)+N.trailing}function v9(I,S){var B=pG(I),N=vG(S),ee=Math.max(I.length-B.length,S.length-N.length),me=`

`.substring(0,ee);return B+me+N}function PG(I){return I!=null&&(typeof I=="string"||I.nodeType&&(I.nodeType===1||I.nodeType===9||I.nodeType===11))}var FG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],IG=function(I){return FG.map(function(S){return S.toLowerCase()}).indexOf(I.toLowerCase())!==-1},LG=function(I,S,B){Object.keys(S).filter(IG).forEach(function(N){var ee=S[N];typeof ee=="function"&&(N==="onInit"?ee(I,B):B.on(N.substring(2),function(me){return ee(me,B)}))})},$G=function(I,S){var B=I.$props.modelEvents?I.$props.modelEvents:null,N=Array.isArray(B)?B.join(" "):B;S.on(N||"change input undo redo",function(){I.$emit("input",S.getContent({format:I.$props.outputFormat}))})},HG=function(I,S,B){var N=S.$props.value?S.$props.value:"",ee=S.$props.initialValue?S.$props.initialValue:"";B.setContent(N||(S.initialized?S.cache:ee)),S.$watch("value",function(me,Be){B&&typeof me=="string"&&me!==Be&&me!==B.getContent({format:S.$props.outputFormat})&&B.setContent(me)}),S.$listeners.input&&$G(S,B),LG(I,S.$listeners,B),S.initialized=!0},j$=0,p9=function(I){var S=Date.now(),B=Math.floor(Math.random()*1e9);return j$++,I+"_"+B+j$+String(S)},VG=function(I){return I!==null&&I.tagName.toLowerCase()==="textarea"},W$=function(I){return typeof I>"u"||I===""?[]:Array.isArray(I)?I:I.split(" ")},UG=function(I,S){return W$(I).concat(W$(S))},jG=function(I){return I==null},q$=function(){return{listeners:[],scriptId:p9("tiny-script"),scriptLoaded:!1}},WG=function(){var I=q$(),S=function(ee,me,Be,we){var ge=me.createElement("script");ge.referrerPolicy="origin",ge.type="application/javascript",ge.id=ee,ge.src=Be;var It=function(){ge.removeEventListener("load",It),we()};ge.addEventListener("load",It),me.head&&me.head.appendChild(ge)},B=function(ee,me,Be){I.scriptLoaded?Be():(I.listeners.push(Be),ee.getElementById(I.scriptId)||S(I.scriptId,ee,me,function(){I.listeners.forEach(function(we){return we()}),I.scriptLoaded=!0}))},N=function(){I=q$()};return{load:B,reinitialize:N}},qG=WG(),GG=function(){return typeof window<"u"?window:global},xz=function(){var I=GG();return I&&I.tinymce?I.tinymce:null},KG={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(I){return I==="html"||I==="text"}}},WD=function(){return WD=Object.assign||function(I){for(var S,B=1,N=arguments.length;B<N;B++){S=arguments[B];for(var ee in S)Object.prototype.hasOwnProperty.call(S,ee)&&(I[ee]=S[ee])}return I},WD.apply(this,arguments)},XG=function(I,S,B){return I(B||"div",{attrs:{id:S}})},YG=function(I,S){return I("textarea",{attrs:{id:S},style:{visibility:"hidden"}})},KF=function(I){return function(){var S=WD(WD({},I.$props.init),{readonly:I.$props.disabled,selector:"#"+I.elementId,plugins:UG(I.$props.init&&I.$props.init.plugins,I.$props.plugins),toolbar:I.$props.toolbar||I.$props.init&&I.$props.init.toolbar,inline:I.inlineEditor,setup:function(B){I.editor=B,B.on("init",function(N){return HG(N,I,B)}),I.$props.init&&typeof I.$props.init.setup=="function"&&I.$props.init.setup(B)}});VG(I.element)&&(I.element.style.visibility="",I.element.style.display=""),xz().init(S)}},ZG={props:KG,created:function(){this.elementId=this.$props.id||p9("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,xz()!==null)KF(this)();else if(this.element&&this.element.ownerDocument){var I=this.$props.cloudChannel?this.$props.cloudChannel:"5",S=this.$props.apiKey?this.$props.apiKey:"no-api-key",B=jG(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+S+"/tinymce/"+I+"/tinymce.min.js":this.$props.tinymceScriptSrc;qG.load(this.element.ownerDocument,B,KF(this))}},beforeDestroy:function(){xz()!==null&&xz().remove(this.editor)},deactivated:function(){var I;this.inlineEditor||(this.cache=this.editor.getContent(),(I=xz())===null||I===void 0||I.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&KF(this)()},render:function(I){return this.inlineEditor?XG(I,this.elementId,this.$props.tagName):YG(I,this.elementId)}},JG={exports:{}};(function(I){(function(){var S=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var r=typeof e;return r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},B=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},N=function(e,r){var a=Array.prototype.slice.call(e);return a.sort(r)},ee=function(e,r){return me(function(a,i){return e.eq(r(a),r(i))})},me=function(e){return{eq:e}},Be=me(function(e,r){return e===r}),we=Be,ge=function(e){return me(function(r,a){if(r.length!==a.length)return!1;for(var i=r.length,c=0;c<i;c++)if(!e.eq(r[c],a[c]))return!1;return!0})},It=function(e,r){return ee(ge(e),function(a){return N(a,r)})},rt=function(e){return me(function(r,a){var i=Object.keys(r),c=Object.keys(a);if(!It(we).eq(i,c))return!1;for(var f=i.length,m=0;m<f;m++){var y=i[m];if(!e.eq(r[y],a[y]))return!1}return!0})},He=me(function(e,r){if(e===r)return!0;var a=S(e),i=S(r);return a!==i?!1:B(a)?e===r:a==="array"?ge(He).eq(e,r):a==="object"?rt(He).eq(e,r):!1}),at=function(e){var r=typeof e;return e===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},hr=function(e){return function(r){return at(r)===e}},Qe=function(e){return function(r){return typeof r===e}},ut=function(e){return function(r){return e===r}},ke=hr("string"),J=hr("object"),Fe=hr("array"),se=ut(null),Ye=Qe("boolean"),ze=ut(void 0),$e=function(e){return e==null},Ge=function(e){return!$e(e)},ce=Qe("function"),Ue=Qe("number"),U=function(){},xe=function(e,r){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(r.apply(null,a))}},Z=function(e,r){return function(a){return e(r(a))}},X=function(e){return function(){return e}},Lt=function(e){return e},fn=function(e,r){return e===r};function St(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=r.concat(i);return e.apply(null,f)}}var Xn=function(e){return function(r){return!e(r)}},pn=function(e){return function(){throw new Error(e)}},O=function(e){return e()},On=function(e){e()},Wt=X(!1),ur=X(!0),ya=function(){return vo},vo=function(){var e=function(i){return i()},r=Lt,a={fold:function(i,c){return i()},isSome:Wt,isNone:ur,getOr:r,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:r,orThunk:e,map:ya,each:U,bind:ya,exists:Wt,forall:ur,filter:function(){return ya()},toArray:function(){return[]},toString:X("none()")};return a}(),dn=function(e){var r=X(e),a=function(){return c},i=function(f){return f(e)},c={fold:function(f,m){return m(e)},isSome:ur,isNone:Wt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:a,orThunk:a,map:function(f){return dn(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?c:vo},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},fa=function(e){return e==null?vo:dn(e)},oe={some:dn,none:ya,from:fa},Xa=Array.prototype.slice,$t=Array.prototype.indexOf,Ze=Array.prototype.push,Sr=function(e,r){return $t.call(e,r)},et=function(e,r){var a=Sr(e,r);return a===-1?oe.none():oe.some(a)},qe=function(e,r){return Sr(e,r)>-1},be=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(r(c,a))return!0}return!1},Ne=function(e,r){for(var a=e.length,i=new Array(a),c=0;c<a;c++){var f=e[c];i[c]=r(f,c)}return i},je=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];r(c,a)}},Nt=function(e,r){for(var a=e.length-1;a>=0;a--){var i=e[a];r(i,a)}},lr=function(e,r){for(var a=[],i=[],c=0,f=e.length;c<f;c++){var m=e[c],y=r(m,c)?a:i;y.push(m)}return{pass:a,fail:i}},Xt=function(e,r){for(var a=[],i=0,c=e.length;i<c;i++){var f=e[i];r(f,i)&&a.push(f)}return a},Pr=function(e,r,a){return Nt(e,function(i,c){a=r(a,i,c)}),a},it=function(e,r,a){return je(e,function(i,c){a=r(a,i,c)}),a},st=function(e,r,a){for(var i=0,c=e.length;i<c;i++){var f=e[i];if(r(f,i))return oe.some(f);if(a(f,i))break}return oe.none()},rr=function(e,r){return st(e,r,Wt)},Rr=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(r(c,a))return oe.some(a)}return oe.none()},sn=function(e){for(var r=[],a=0,i=e.length;a<i;++a){if(!Fe(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Ze.apply(r,e[a])}return r},wn=function(e,r){return sn(Ne(e,r))},Gn=function(e,r){for(var a=0,i=e.length;a<i;++a){var c=e[a];if(r(c,a)!==!0)return!1}return!0},Yn=function(e){var r=Xa.call(e,0);return r.reverse(),r},Ta=function(e,r){return Xt(e,function(a){return!qe(r,a)})},ba=function(e,r){for(var a={},i=0,c=e.length;i<c;i++){var f=e[i];a[String(f)]=r(f,i)}return a},Zn=function(e,r){var a=Xa.call(e,0);return a.sort(r),a},In=function(e,r){return r>=0&&r<e.length?oe.some(e[r]):oe.none()},ga=function(e){return In(e,0)},Rn=function(e){return In(e,e.length-1)},kn=ce(Array.from)?Array.from:function(e){return Xa.call(e)},Ka=function(e,r){for(var a=0;a<e.length;a++){var i=r(e[a],a);if(i.isSome())return i}return oe.none()},ao=Object.keys,Ca=Object.hasOwnProperty,xn=function(e,r){for(var a=ao(e),i=0,c=a.length;i<c;i++){var f=a[i],m=e[f];r(m,f)}},Co=function(e,r){return Ke(e,function(a,i){return{k:i,v:r(a,i)}})},Ke=function(e,r){var a={};return xn(e,function(i,c){var f=r(i,c);a[f.k]=f.v}),a},Mt=function(e){return function(r,a){e[a]=r}},gt=function(e,r,a,i){var c={};return xn(e,function(f,m){(r(f,m)?a:i)(f,m)}),c},fr=function(e,r){var a={},i={};return gt(e,r,Mt(a),Mt(i)),{t:a,f:i}},un=function(e,r){var a={};return gt(e,r,Mt(a),U),a},ua=function(e,r){var a=[];return xn(e,function(i,c){a.push(r(i,c))}),a},fi=function(e){return ua(e,Lt)},Kn=function(e,r){return Sn(e,r)?oe.from(e[r]):oe.none()},Sn=function(e,r){return Ca.call(e,r)},xo=function(e,r){return Sn(e,r)&&e[r]!==void 0&&e[r]!==null},di=function(e,r,a){return a===void 0&&(a=He),rt(a).eq(e,r)},Ni=Array.isArray,po=function(e){if(Ni(e))return e;for(var r=[],a=0,i=e.length;a<i;a++)r[a]=e[a];return r},Jo=function(e,r,a){var i,c;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,c=e.length;i<c;i++)if(r.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Sn(e,i)&&r.call(a,e[i],i,e)===!1)return!1;return!0},qi=function(e,r){var a=[];return Jo(e,function(i,c){a.push(r(i,c,e))}),a},Qo=function(e,r){var a=[];return Jo(e,function(i,c){(!r||r(i,c,e))&&a.push(i)}),a},$o=function(e,r){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===r)return a}return-1},Gi=function(e,r,a,i){for(var c=ze(a)?e[0]:a,f=0;f<e.length;f++)c=r.call(i,c,e[f],f);return c},ra=function(e,r,a){var i,c;for(i=0,c=e.length;i<c;i++)if(r.call(a,e[i],i,e))return i;return-1},oi=function(e){return e[e.length-1]},Lr=function(){return Lr=Object.assign||function(r){for(var a,i=1,c=arguments.length;i<c;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(r[f]=a[f])}return r},Lr.apply(this,arguments)};function Pu(e,r){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(a[i[c]]=e[i[c]]);return a}function ei(e,r,a){if(a||arguments.length===2)for(var i=0,c=r.length,f;i<c;i++)(f||!(i in r))&&(f||(f=Array.prototype.slice.call(r,0,i)),f[i]=r[i]);return e.concat(f||Array.prototype.slice.call(r))}var vi=function(e){var r=!1,a;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return r||(r=!0,a=e.apply(null,i)),a}},Ro=function(e,r,a,i){var c=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),y=m||i("(pointer:coarse)"),w=c||!f&&m&&i("(min-device-width:768px)"),R=f||m&&!w,$=r.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,V=!R&&!w&&!$;return{isiPad:X(c),isiPhone:X(f),isTablet:X(w),isPhone:X(R),isTouch:X(y),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:X($),isDesktop:X(V)}},Pi=function(e,r){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(r))return i}},Fu=function(e,r){var a=Pi(e,r);if(!a)return{major:0,minor:0};var i=function(c){return Number(r.replace(a,"$"+c))};return Do(i(1),i(2))},pi=function(e,r){var a=String(r).toLowerCase();return e.length===0?Ku():Fu(e,a)},Ku=function(){return Do(0,0)},Do=function(e,r){return{major:e,minor:r}},So={nu:Do,detect:pi,unknown:Ku},tr=function(e,r){return Ka(r.brands,function(a){var i=a.brand.toLowerCase();return rr(e,function(c){var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:So.nu(parseInt(a.version,10),0)}})})},iu=function(e,r){var a=String(r).toLowerCase();return rr(e,function(i){return i.search(a)})},Cu=function(e,r){return iu(e,r).map(function(a){var i=So.detect(a.versionRegexes,r);return{current:a.name,version:i}})},Fi=function(e,r){return iu(e,r).map(function(a){var i=So.detect(a.versionRegexes,r);return{current:a.name,version:i}})},ye=function(e,r){return e.substring(r)},Te=function(e,r,a){return r===""||e.length>=r.length&&e.substr(a,a+r.length)===r},wt=function(e,r){return Gt(e,r)?ye(e,r.length):e},Ft=function(e,r){return e.indexOf(r)!==-1},Gt=function(e,r){return Te(e,r,0)},vr=function(e){return function(r){return r.replace(e,"")}},kr=vr(/^\s+|\s+$/g),ln=vr(/^\s+/g),mn=vr(/\s+$/g),Dn=function(e){return e.length>0},ka=function(e){return!Dn(e)},Va=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,To=function(e){return function(r){return Ft(r,e)}},Ht=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ft(e,"edge/")&&Ft(e,"chrome")&&Ft(e,"safari")&&Ft(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Va],search:function(e){return Ft(e,"chrome")&&!Ft(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ft(e,"msie")||Ft(e,"trident")}},{name:"Opera",versionRegexes:[Va,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:To("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:To("firefox")},{name:"Safari",versionRegexes:[Va,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ft(e,"safari")||Ft(e,"mobile/"))&&Ft(e,"applewebkit")}}],cn=[{name:"Windows",search:To("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ft(e,"iphone")||Ft(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:To("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:To("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:To("linux"),versionRegexes:[]},{name:"Solaris",search:To("sunos"),versionRegexes:[]},{name:"FreeBSD",search:To("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:To("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],da={browsers:X(Ht),oses:X(cn)},Eo="Edge",Ii="Chrome",Wn="IE",gs="Opera",Ki="Firefox",oo="Safari",Xu=function(){return ii({current:void 0,version:So.unknown()})},ii=function(e){var r=e.current,a=e.version,i=function(c){return function(){return r===c}};return{current:r,version:a,isEdge:i(Eo),isChrome:i(Ii),isIE:i(Wn),isOpera:i(gs),isFirefox:i(Ki),isSafari:i(oo)}},mi={unknown:Xu,nu:ii,edge:X(Eo),chrome:X(Ii),ie:X(Wn),opera:X(gs),firefox:X(Ki),safari:X(oo)},Ba="Windows",Yu="iOS",te="Android",Se="Linux",Je="OSX",bt="Solaris",dr="FreeBSD",Tr="ChromeOS",Br=function(){return Mn({current:void 0,version:So.unknown()})},Mn=function(e){var r=e.current,a=e.version,i=function(c){return function(){return r===c}};return{current:r,version:a,isWindows:i(Ba),isiOS:i(Yu),isAndroid:i(te),isOSX:i(Je),isLinux:i(Se),isSolaris:i(bt),isFreeBSD:i(dr),isChromeOS:i(Tr)}},G={unknown:Br,nu:Mn,windows:X(Ba),ios:X(Yu),android:X(te),linux:X(Se),osx:X(Je),solaris:X(bt),freebsd:X(dr),chromeos:X(Tr)},Ce=function(e,r,a){var i=da.browsers(),c=da.oses(),f=r.bind(function(w){return tr(i,w)}).orThunk(function(){return Cu(i,e)}).fold(mi.unknown,mi.nu),m=Fi(c,e).fold(G.unknown,G.nu),y=Ro(m,f,e,a);return{browser:f,os:m,deviceType:y}},Ie={detect:Ce},ct=function(e){return window.matchMedia(e).matches},kt=vi(function(){return Ie.detect(navigator.userAgent,oe.from(navigator.userAgentData),ct)}),br=function(){return kt()},Ir=navigator.userAgent,na=br(),Tn=na.browser,xa=na.os,qa=na.deviceType,xu=/WebKit/.test(Ir)&&!Tn.isEdge(),Mo="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Hr=Ir.indexOf("Windows Phone")!==-1,Zt={opera:Tn.isOpera(),webkit:xu,ie:Tn.isIE()||Tn.isEdge()?Tn.version.major:!1,gecko:Tn.isFirefox(),mac:xa.isOSX()||xa.isiOS(),iOS:qa.isiPad()||qa.isiPhone(),android:xa.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Tn.isIE()?document.documentMode||7:10,fileApi:Mo,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Tn.isIE(),desktop:qa.isDesktop(),windowsPhone:Hr,browser:{current:Tn.current,version:Tn.version,isChrome:Tn.isChrome,isEdge:Tn.isEdge,isFirefox:Tn.isFirefox,isIE:Tn.isIE,isOpera:Tn.isOpera,isSafari:Tn.isSafari},os:{current:xa.current,version:xa.version,isAndroid:xa.isAndroid,isChromeOS:xa.isChromeOS,isFreeBSD:xa.isFreeBSD,isiOS:xa.isiOS,isLinux:xa.isLinux,isOSX:xa.isOSX,isSolaris:xa.isSolaris,isWindows:xa.isWindows},deviceType:{isDesktop:qa.isDesktop,isiPad:qa.isiPad,isiPhone:qa.isiPhone,isPhone:qa.isPhone,isTablet:qa.isTablet,isTouch:qa.isTouch,isWebView:qa.isWebView}},Ea=/^\s*|\s*$/g,Bo=function(e){return e==null?"":(""+e).replace(Ea,"")},qn=function(e,r){return r?r==="array"&&Ni(e)?!0:typeof e===r:e!==void 0},Ns=function(e,r,a){var i;for(e=e||[],r=r||",",typeof e=="string"&&(e=e.split(r)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Zu=Sn,kc=function(e,r,a){var i=this,c,f,m,y=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var w=e[3].match(/(^|\.)(\w+)$/i)[2],R=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!R[w]){if(e[2]==="static"){R[w]=r,this.onCreate&&this.onCreate(e[2],e[3],R[w]);return}r[w]||(r[w]=function(){},y=1),R[w]=r[w],i.extend(R[w].prototype,r),e[5]&&(c=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],m=R[w],y?R[w]=function(){return c[f].apply(this,arguments)}:R[w]=function(){return this.parent=c[f],m.apply(this,arguments)},R[w].prototype[w]=R[w],i.each(c,function($,V){R[w].prototype[V]=c[V]}),i.each(r,function($,V){c[V]?R[w].prototype[V]=function(){return this.parent=c[V],$.apply(this,arguments)}:V!==w&&(R[w].prototype[V]=$)})),i.each(r.static,function($,V){R[w][V]=$})}},va=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];for(var i=0;i<r.length;i++){var c=r[i];for(var f in c)if(Sn(c,f)){var m=c[f];m!==void 0&&(e[f]=m)}}return e},Ci=function(e,r,a,i){i=i||this,e&&(a&&(e=e[a]),Jo(e,function(c,f){if(r.call(i,c,f,a)===!1)return!1;Ci(c,r,a,i)}))},Cc=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],r[i]||(r[i]={}),r=r[i];return r},Su=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0,i=e.length;a<i&&(r=r[e[a]],!!r);a++);return r},go=function(e,r){return!e||qn(e,"array")?e:qi(e.split(r||","),Bo)},Ps=function(e){var r=Zt.cacheSuffix;return r&&(e+=(e.indexOf("?")===-1?"?":"&")+r),e},mt={trim:Bo,isArray:Ni,is:qn,toArray:po,makeMap:Ns,each:Jo,map:qi,grep:Qo,inArray:$o,hasOwn:Zu,extend:va,create:kc,walk:Ci,createNS:Cc,resolve:Su,explode:go,_addCacheSuffix:Ps},tc=function(e,r){var a=r||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ys(i.childNodes[0])},yo=function(e,r){var a=r||document,i=a.createElement(e);return ys(i)},pl=function(e,r){var a=r||document,i=a.createTextNode(e);return ys(i)},ys=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},P=function(e,r,a){return oe.from(e.dom.elementFromPoint(r,a)).map(ys)},x={fromHtml:tc,fromTag:yo,fromText:pl,fromDom:ys,fromPoint:P},_=function(e,r){var a=[],i=function(f){return a.push(f),r(f)},c=r(e);do c=c.bind(i);while(c.isSome());return a},A=function(e,r,a){return(e.compareDocumentPosition(r)&a)!==0},W=function(e,r){return A(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},le=8,Le=9,Et=11,Mr=1,Zr=3,or=function(e,r){var a=e.dom;if(a.nodeType!==Mr)return!1;var i=a;if(i.matches!==void 0)return i.matches(r);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(r);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(r);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Dr=function(e){return e.nodeType!==Mr&&e.nodeType!==Le&&e.nodeType!==Et||e.childElementCount===0},En=function(e,r){var a=r===void 0?document:r.dom;return Dr(a)?[]:Ne(a.querySelectorAll(e),x.fromDom)},Cn=function(e,r){var a=r===void 0?document:r.dom;return Dr(a)?oe.none():oe.from(a.querySelector(e)).map(x.fromDom)},an=function(e,r){return e.dom===r.dom},Ja=function(e,r){var a=e.dom,i=r.dom;return a===i?!1:a.contains(i)},tn=function(e,r){return W(e.dom,r.dom)},Ia=function(e,r){return br().browser.isIE()?tn(e,r):Ja(e,r)};typeof window<"u"||Function("return this;")();var za=function(e){var r=e.dom.nodeName;return r.toLowerCase()},xi=function(e){return e.dom.nodeType},Fn=function(e){return function(r){return xi(r)===e}},Fs=function(e){return xi(e)===le||za(e)==="#comment"},bo=Fn(Mr),No=Fn(Zr),Wg=Fn(Le),Xi=Fn(Et),ah=function(e){return function(r){return bo(r)&&za(r)===e}},Wc=function(e){return x.fromDom(e.dom.ownerDocument)},vn=function(e){return Wg(e)?e:Wc(e)},Is=function(e){return x.fromDom(vn(e).dom.documentElement)},Ho=function(e){return x.fromDom(vn(e).dom.defaultView)},Vo=function(e){return oe.from(e.dom.parentNode).map(x.fromDom)},Si=function(e,r){for(var a=ce(r)?r:Wt,i=e.dom,c=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,m=x.fromDom(f);if(c.push(m),a(m)===!0)break;i=f}return c},ui=function(e){var r=function(a){return Xt(a,function(i){return!an(e,i)})};return Vo(e).map(Iu).map(r).getOr([])},Tf=function(e){return oe.from(e.dom.previousSibling).map(x.fromDom)},rc=function(e){return oe.from(e.dom.nextSibling).map(x.fromDom)},Aa=function(e){return Yn(_(e,Tf))},fo=function(e){return _(e,rc)},Iu=function(e){return Ne(e.dom.childNodes,x.fromDom)},ml=function(e,r){var a=e.dom.childNodes;return oe.from(a[r]).map(x.fromDom)},hi=function(e){return ml(e,0)},Ls=function(e){return ml(e,e.dom.childNodes.length-1)},qg=function(e){return e.dom.childNodes.length},Ef=function(e){var r=e.dom.head;if(r==null)throw new Error("Head is not available yet");return x.fromDom(r)},Qa=function(e){return Xi(e)&&Ge(e.dom.host)},xc=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),Hl=X(xc),Ju=xc?function(e){return x.fromDom(e.dom.getRootNode())}:vn,Xo=function(e){return Qa(e)?e:Ef(vn(e))},Vl=function(e){var r=Ju(e);return Qa(r)?oe.some(r):oe.none()},hl=function(e){return x.fromDom(e.dom.host)},Tu=function(e){if(Hl()&&Ge(e.target)){var r=x.fromDom(e.target);if(bo(r)&&Qu(r)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return ga(a)}}return oe.from(e.target)},Qu=function(e){return Ge(e.dom.shadowRoot)},uu=function(e,r){var a=Vo(e);a.each(function(i){i.dom.insertBefore(r.dom,e.dom)})},hd=function(e,r){var a=rc(e);a.fold(function(){var i=Vo(e);i.each(function(c){Ti(c,r)})},function(i){uu(i,r)})},Sc=function(e,r){var a=hi(e);a.fold(function(){Ti(e,r)},function(i){e.dom.insertBefore(r.dom,i.dom)})},Ti=function(e,r){e.dom.appendChild(r.dom)},cv=function(e,r){uu(e,r),Ti(r,e)},Gg=function(e,r){je(r,function(a){uu(e,a)})},zf=function(e,r){je(r,function(a){Ti(e,a)})},Af=function(e){e.dom.textContent="",je(Iu(e),function(r){Uo(r)})},Uo=function(e){var r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Of=function(e){var r=Iu(e);r.length>0&&Gg(e,r),Uo(e)},Rf=function(e){var r=No(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;var a=r.ownerDocument;return Vl(x.fromDom(r)).fold(function(){return a.body.contains(r)},Z(Rf,hl))},Eu=function(e,r){var a=function(i,c){return Eu(e+i,r+c)};return{left:e,top:r,translate:a}},gl=Eu,Df=function(e){var r=e.getBoundingClientRect();return gl(r.left,r.top)},yl=function(e,r){return e!==void 0?e:r!==void 0?r:0},zo=function(e){var r=e.dom.ownerDocument,a=r.body,i=r.defaultView,c=r.documentElement;if(a===e.dom)return gl(a.offsetLeft,a.offsetTop);var f=yl(i==null?void 0:i.pageYOffset,c.scrollTop),m=yl(i==null?void 0:i.pageXOffset,c.scrollLeft),y=yl(c.clientTop,a.clientTop),w=yl(c.clientLeft,a.clientLeft);return bs(e).translate(m-w,f-y)},bs=function(e){var r=e.dom,a=r.ownerDocument,i=a.body;return i===r?gl(i.offsetLeft,i.offsetTop):Rf(e)?Df(r):gl(0,0)},hp=function(e){var r=e!==void 0?e.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop;return gl(a,i)},$s=function(e,r,a){var i=a!==void 0?a.dom:document,c=i.defaultView;c&&c.scrollTo(e,r)},gp=function(e,r){var a=br().browser.isSafari();a&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(r)},Kg=function(e){var r=e===void 0?window:e;return br().browser.isFirefox()?oe.none():oe.from(r.visualViewport)},oh=function(e,r,a,i){return{x:e,y:r,width:a,height:i,right:e+a,bottom:r+i}},Mf=function(e){var r=e===void 0?window:e,a=r.document,i=hp(x.fromDom(a));return Kg(r).fold(function(){var c=r.document.documentElement,f=c.clientWidth,m=c.clientHeight;return oh(i.left,i.top,f,m)},function(c){return oh(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height)})},Bf=function(e){return function(r){return!!r&&r.nodeType===e}},Ul=function(e){return!!e&&!Object.getPrototypeOf(e)},hn=Bf(1),nc=function(e){var r=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return qe(r,i)}return!1}},es=function(e,r){var a=r.toLowerCase().split(" ");return function(i){if(hn(i))for(var c=0;c<a.length;c++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),m=f?f.getPropertyValue(e):null;if(m===a[c])return!0}return!1}},zu=function(e){return function(r){return hn(r)&&r.hasAttribute(e)}},ac=function(e,r){return function(a){return hn(a)&&a.getAttribute(e)===r}},ti=function(e){return hn(e)&&e.hasAttribute("data-mce-bogus")},Ei=function(e){return hn(e)&&e.getAttribute("data-mce-bogus")==="all"},si=function(e){return hn(e)&&e.tagName==="TABLE"},jl=function(e){return function(r){return!!(hn(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e))}},su=nc(["textarea","input"]),zr=Bf(3),Nf=Bf(8),ih=Bf(9),Ln=Bf(11),eo=nc(["br"]),yp=nc(["img"]),qc=jl("true"),_o=jl("false"),bp=nc(["td","th"]),_s=nc(["video","audio","object","embed"]),lv=function(e,r,a){return a===void 0&&(a=fn),e.exists(function(i){return a(i,r)})},Vn=function(e){for(var r=[],a=function(c){r.push(c)},i=0;i<e.length;i++)e[i].each(a);return r},Lu=function(e,r,a){return e.isSome()&&r.isSome()?oe.some(a(e.getOrDie(),r.getOrDie())):oe.none()},P1=function(e,r,a,i){return e.isSome()&&r.isSome()&&a.isSome()?oe.some(i(e.getOrDie(),r.getOrDie(),a.getOrDie())):oe.none()},F1=function(e,r){return e?oe.some(r):oe.none()},Ao=function(e){return e.style!==void 0&&ce(e.style.getPropertyValue)},_p=function(e,r,a){if(ke(a)||Ye(a)||Ue(a))e.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},z=function(e,r,a){_p(e.dom,r,a)},H=function(e,r){var a=e.dom;xn(r,function(i,c){_p(a,c,i)})},K=function(e,r){var a=e.dom.getAttribute(r);return a===null?void 0:a},ve=function(e,r){return oe.from(K(e,r))},We=function(e,r){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},_t=function(e,r){e.dom.removeAttribute(r)},Vr=function(e){return it(e.dom.attributes,function(r,a){return r[a.name]=a.value,r},{})},zn=function(e,r,a){if(!ke(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ao(e)&&e.style.setProperty(r,a)},sa=function(e,r){var a=e.dom;xn(r,function(i,c){zn(a,c,i)})},Un=function(e,r){var a=e.dom,i=window.getComputedStyle(a),c=i.getPropertyValue(r);return c===""&&!Rf(e)?io(a,r):c},io=function(e,r){return Ao(e)?e.style.getPropertyValue(r):""},cu=function(e,r){var a=e.dom,i=io(a,r);return oe.from(i).filter(function(c){return c.length>0})},jo=function(e){var r={},a=e.dom;if(Ao(a))for(var i=0;i<a.style.length;i++){var c=a.style.item(i);r[c]=a.style[c]}return r},hx=function(e){return e.dom.offsetWidth},qw=br().browser,Gw=function(e){return rr(e,bo)},gx=function(e){return qw.isFirefox()&&za(e)==="table"?Gw(Iu(e)).filter(function(r){return za(r)==="caption"}).bind(function(r){return Gw(fo(r)).map(function(a){var i=a.dom.offsetTop,c=r.dom.offsetTop,f=r.dom.offsetHeight;return i<=c?-f:0})}).getOr(0):0},bl=function(e,r){return e.children&&qe(e.children,r)},uh=function(e,r,a){var i=0,c=0,f=e.ownerDocument;if(a=a||e,r){if(a===e&&r.getBoundingClientRect&&Un(x.fromDom(e),"position")==="static"){var m=r.getBoundingClientRect();return i=m.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=m.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}for(var y=r;y&&y!==a&&y.nodeType&&!bl(y,a);){var w=y;i+=w.offsetLeft||0,c+=w.offsetTop||0,y=w.offsetParent}for(y=r.parentNode;y&&y!==a&&y.nodeType&&!bl(y,a);)i-=y.scrollLeft||0,c-=y.scrollTop||0,y=y.parentNode;c+=gx(x.fromDom(r))}return{x:i,y:c}},ws={},wp={exports:ws};(function(e,r,a,i){(function(c,f){typeof r=="object"&&typeof a<"u"?a.exports=f():(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof mx<"u"?mx:typeof self<"u"?self:{},f={exports:{}};(function(R){(function($){var V=setTimeout;function j(){}function re(Ee,tt){return function(){Ee.apply(tt,arguments)}}function ae(Ee){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ee!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ve(Ee,this)}function ie(Ee,tt){for(;Ee._state===3;)Ee=Ee._value;if(Ee._state===0){Ee._deferreds.push(tt);return}Ee._handled=!0,ae._immediateFn(function(){var Tt=Ee._state===1?tt.onFulfilled:tt.onRejected;if(Tt===null){(Ee._state===1?ue:_e)(tt.promise,Ee._value);return}var Kt;try{Kt=Tt(Ee._value)}catch(nn){_e(tt.promise,nn);return}ue(tt.promise,Kt)})}function ue(Ee,tt){try{if(tt===Ee)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Tt=tt.then;if(tt instanceof ae){Ee._state=3,Ee._value=tt,he(Ee);return}else if(typeof Tt=="function"){Ve(re(Tt,tt),Ee);return}}Ee._state=1,Ee._value=tt,he(Ee)}catch(Kt){_e(Ee,Kt)}}function _e(Ee,tt){Ee._state=2,Ee._value=tt,he(Ee)}function he(Ee){Ee._state===2&&Ee._deferreds.length===0&&ae._immediateFn(function(){Ee._handled||ae._unhandledRejectionFn(Ee._value)});for(var tt=0,Tt=Ee._deferreds.length;tt<Tt;tt++)ie(Ee,Ee._deferreds[tt]);Ee._deferreds=null}function Xe(Ee,tt,Tt){this.onFulfilled=typeof Ee=="function"?Ee:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Tt}function Ve(Ee,tt){var Tt=!1;try{Ee(function(Kt){Tt||(Tt=!0,ue(tt,Kt))},function(Kt){Tt||(Tt=!0,_e(tt,Kt))})}catch(Kt){if(Tt)return;Tt=!0,_e(tt,Kt)}}ae.prototype.catch=function(Ee){return this.then(null,Ee)},ae.prototype.then=function(Ee,tt){var Tt=new this.constructor(j);return ie(this,new Xe(Ee,tt,Tt)),Tt},ae.all=function(Ee){var tt=Array.prototype.slice.call(Ee);return new ae(function(Tt,Kt){if(tt.length===0)return Tt([]);var nn=tt.length;function Cr(qr,Jt){try{if(Jt&&(typeof Jt=="object"||typeof Jt=="function")){var wr=Jt.then;if(typeof wr=="function"){wr.call(Jt,function(Qt){Cr(qr,Qt)},Kt);return}}tt[qr]=Jt,--nn===0&&Tt(tt)}catch(Qt){Kt(Qt)}}for(var At=0;At<tt.length;At++)Cr(At,tt[At])})},ae.resolve=function(Ee){return Ee&&typeof Ee=="object"&&Ee.constructor===ae?Ee:new ae(function(tt){tt(Ee)})},ae.reject=function(Ee){return new ae(function(tt,Tt){Tt(Ee)})},ae.race=function(Ee){return new ae(function(tt,Tt){for(var Kt=0,nn=Ee.length;Kt<nn;Kt++)Ee[Kt].then(tt,Tt)})},ae._immediateFn=typeof setImmediate=="function"?function(Ee){setImmediate(Ee)}:function(Ee){V(Ee,0)},ae._unhandledRejectionFn=function(tt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},ae._setImmediateFn=function(tt){ae._immediateFn=tt},ae._setUnhandledRejectionFn=function(tt){ae._unhandledRejectionFn=tt},R.exports?R.exports=ae:$.Promise||($.Promise=ae)})(c)})(f);var m=f.exports,y=function(){return typeof window<"u"?window:Function("return this;")()}(),w={boltExport:y.Promise||m};return w})})(void 0,ws,wp);var I1=wp.exports.boltExport,sh=function(e){var r=oe.none(),a=[],i=function(R){return sh(function($){c(function(V){$(R(V))})})},c=function(R){m()?w(R):a.push(R)},f=function(R){m()||(r=oe.some(R),y(a),a=[])},m=function(){return r.isSome()},y=function(R){je(R,w)},w=function(R){r.each(function($){setTimeout(function(){R($)},0)})};return e(f),{get:c,map:i,isReady:m}},Xg=function(e){return sh(function(r){r(e)})},Kw={nu:sh,pure:Xg},yx=function(e){setTimeout(function(){throw e},0)},_l=function(e){var r=function(w){e().then(w,yx)},a=function(w){return _l(function(){return e().then(w)})},i=function(w){return _l(function(){return e().then(function(R){return w(R).toPromise()})})},c=function(w){return _l(function(){return e().then(function(){return w.toPromise()})})},f=function(){return Kw.nu(r)},m=function(){var w=null;return _l(function(){return w===null&&(w=e()),w})},y=e;return{map:a,bind:i,anonBind:c,toLazy:f,toCached:m,toPromise:y,get:r}},ch=function(e){return _l(function(){return new I1(e)})},bx=function(e){return _l(function(){return I1.resolve(e)})},L1={nu:ch,pure:bx},_x=function(e,r){return r(function(a){var i=[],c=0,f=function(m){return function(y){i[m]=y,c++,c>=e.length&&a(i)}};e.length===0?a([]):je(e,function(m,y){m.get(f(y))})})},wx=function(e){return _x(e,L1.nu)},kp=function(e){var r=function(V){return kp(e)},a=function(V){return kp(e)},i=function(V){return kp(V(e))},c=function(V){return kp(e)},f=function(V){V(e)},m=function(V){return V(e)},y=function(V,j){return j(e)},w=function(V){return V(e)},R=function(V){return V(e)},$=function(){return oe.some(e)};return{isValue:ur,isError:Wt,getOr:X(e),getOrThunk:X(e),getOrDie:X(e),or:r,orThunk:a,fold:y,map:i,mapError:c,each:f,bind:m,exists:w,forall:R,toOptional:$}},lh=function(e){var r=function(R){return R()},a=function(){return pn(String(e))()},i=Lt,c=function(R){return R()},f=function(R){return lh(e)},m=function(R){return lh(R(e))},y=function(R){return lh(e)},w=function(R,$){return R(e)};return{isValue:Wt,isError:ur,getOr:Lt,getOrThunk:r,getOrDie:a,or:i,orThunk:c,fold:w,map:f,mapError:m,each:U,bind:y,exists:Wt,forall:ur,toOptional:oe.none}},Xw=function(e,r){return e.fold(function(){return lh(r)},kp)},Yw={value:kp,error:lh,fromOption:Xw},Hs=function(e){if(!Fe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var r=[],a={};return je(e,function(i,c){var f=ao(i);if(f.length!==1)throw new Error("one and only one name per case");var m=f[0],y=i[m];if(a[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Fe(y))throw new Error("case arguments must be an array");r.push(m),a[m]=function(){for(var w=[],R=0;R<arguments.length;R++)w[R]=arguments[R];var $=w.length;if($!==y.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+y.length+" ("+y+"), got "+$);var V=function(j){var re=ao(j);if(r.length!==re.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+re.join(","));var ae=Gn(r,function(ie){return qe(re,ie)});if(!ae)throw new Error("Not all branches were specified when using match. Specified: "+re.join(", ")+`
Required: `+r.join(", "));return j[m].apply(null,w)};return{fold:function(){for(var j=[],re=0;re<arguments.length;re++)j[re]=arguments[re];if(j.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+j.length);var ae=j[c];return ae.apply(null,w)},match:V,log:function(j){console.log(j,{constructors:r,constructor:m,params:w})}}}}),a},Kr={generate:Hs};Kr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Pf=function(e){return e.fold(Lt,Lt)};function fh(e,r,a,i,c){return e(a,i)?oe.some(a):ce(c)&&c(a)?oe.none():r(a,i,c)}var gd=function(e,r,a){for(var i=e.dom,c=ce(a)?a:Wt;i.parentNode;){i=i.parentNode;var f=x.fromDom(i);if(r(f))return oe.some(f);if(c(f))break}return oe.none()},Cp=function(e,r,a){var i=function(c,f){return f(c)};return fh(i,gd,e,r,a)},$1=function(e,r){var a=e.dom;return a.parentNode?Gc(x.fromDom(a.parentNode),function(i){return!an(e,i)&&r(i)}):oe.none()},Gc=function(e,r){var a=function(c){return r(x.fromDom(c))},i=rr(e.dom.childNodes,a);return i.map(x.fromDom)},fv=function(e,r,a){return gd(e,function(i){return or(i,r)},a)},xp=function(e,r){return Cn(r,e)},ri=function(e,r,a){var i=function(c,f){return or(c,f)};return fh(i,fv,e,r,a)},Yi=window.Promise?window.Promise:I1,dh,Wl=function(e,r){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],c=function(m){window.setTimeout(m,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=c),a(e,r)},vh=function(e,r){return typeof r!="number"&&(r=0),setTimeout(e,r)},Yg=function(e,r){return typeof r!="number"&&(r=1),setInterval(e,r)},Zg=function(e){return clearTimeout(e)},kx=function(e){return clearInterval(e)},Sp=function(e,r){var a,i=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(a),a=vh(function(){e.apply(this,c)},r)};return i.stop=function(){clearTimeout(a)},i},Au={requestAnimationFrame:function(e,r){if(dh){dh.then(e);return}dh=new Yi(function(a){r||(r=document.body),Wl(a,r)}).then(e)},setTimeout:vh,setInterval:Yg,setEditorTimeout:function(e,r,a){return vh(function(){e.removed||r()},a)},setEditorInterval:function(e,r,a){var i=Yg(function(){e.removed?clearInterval(i):r()},a);return i},debounce:Sp,throttle:Sp,clearInterval:kx,clearTimeout:Zg},Zw=function(e,r){r===void 0&&(r={});var a=0,i={},c=x.fromDom(e),f=vn(c),m=r.maxLoadTime||5e3,y=function(ue){r.referrerPolicy=ue},w=function(ue){Ti(Xo(c),ue)},R=function(ue){var _e=Xo(c);xp(_e,"#"+ue).each(Uo)},$=function(ue){return Kn(i,ue).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},V=function(ue,_e,he){var Xe,Ve=mt._addCacheSuffix(ue),Ee=$(Ve);i[Ve]=Ee,Ee.count++;var tt=function(Jt,wr){for(var Qt=Jt.length;Qt--;)Jt[Qt]();Ee.status=wr,Ee.passed=[],Ee.failed=[],Xe&&(Xe.onload=null,Xe.onerror=null,Xe=null)},Tt=function(){return tt(Ee.passed,2)},Kt=function(){return tt(Ee.failed,3)},nn=function(Jt,wr){Jt()||(Date.now()-qr<m?Au.setTimeout(wr):Kt())},Cr=function(){nn(function(){for(var Jt=e.styleSheets,wr=Jt.length;wr--;){var Qt=Jt[wr],pr=Qt.ownerNode;if(pr&&pr.id===Xe.id)return Tt(),!0}return!1},Cr)};if(_e&&Ee.passed.push(_e),he&&Ee.failed.push(he),Ee.status!==1){if(Ee.status===2){Tt();return}if(Ee.status===3){Kt();return}Ee.status=1;var At=x.fromTag("link",f.dom);H(At,{rel:"stylesheet",type:"text/css",id:Ee.id});var qr=Date.now();r.contentCssCors&&z(At,"crossOrigin","anonymous"),r.referrerPolicy&&z(At,"referrerpolicy",r.referrerPolicy),Xe=At.dom,Xe.onload=Cr,Xe.onerror=Kt,w(At),z(At,"href",Ve)}},j=function(ue){return L1.nu(function(_e){V(ue,xe(_e,X(Yw.value(ue))),xe(_e,X(Yw.error(ue))))})},re=function(ue,_e,he){wx(Ne(ue,j)).get(function(Xe){var Ve=lr(Xe,function(Ee){return Ee.isValue()});Ve.fail.length>0?he(Ve.fail.map(Pf)):_e(Ve.pass.map(Pf))})},ae=function(ue){var _e=mt._addCacheSuffix(ue);Kn(i,_e).each(function(he){var Xe=--he.count;Xe===0&&(delete i[_e],R(he.id))})},ie=function(ue){je(ue,function(_e){ae(_e)})};return{load:V,loadAll:re,unload:ae,unloadAll:ie,_setReferrerPolicy:y}},Po=function(){var e=new WeakMap,r=function(a,i){var c=Ju(a),f=c.dom;return oe.from(e.get(f)).getOrThunk(function(){var m=Zw(f,i);return e.set(f,m),m})};return{forElement:r}},Kc=Po(),Ua=function(){function e(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node},e.prototype.prev=function(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node},e.prototype.prev2=function(r){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",r),this.node},e.prototype.findSibling=function(r,a,i,c){var f,m;if(r){if(!c&&r[a])return r[a];if(r!==this.rootNode){if(f=r[i],f)return f;for(m=r.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(f=m[i],f)return f}}},e.prototype.findPreviousNode=function(r,a,i,c){var f,m,y;if(r){if(f=r[i],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(y=f[a];y;y=y[a])if(!y[a])return y}return f}if(m=r.parentNode,m&&m!==this.rootNode)return m}},e}(),yd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Tc=["td","th"],Cx=["thead","tbody","tfoot"],zi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ts=["h1","h2","h3","h4","h5","h6"],Jw=["li","dd","dt"],zt=["ul","ol","dl"],ks=["pre","script","textarea","style"],Ff=function(e){var r;return function(a){return r=r||ba(e,ur),Sn(r,za(a))}},gn=Ff(ts),oc=Ff(yd),xx=function(e){return za(e)==="table"},$u=function(e){return bo(e)&&!oc(e)},Tp=function(e){return bo(e)&&za(e)==="br"},ql=Ff(zi),Xc=Ff(zt),Ou=Ff(Jw),Oa=Ff(Cx),wl=Ff(Tc),dv=Ff(ks),co=function(e,r,a){return fv(e,r,a).isSome()},bd="\uFEFF",Vs=" ",Us=function(e){return e===bd},Sx=function(e){return e.replace(/\uFEFF/g,"")},Pe=bd,rs=Us,Cs=Sx,Ep=hn,ic=zr,to=function(e){return ic(e)&&(e=e.parentNode),Ep(e)&&e.hasAttribute("data-mce-caret")},lo=function(e){return ic(e)&&rs(e.data)},xs=function(e){return to(e)||lo(e)},If=function(e){return e.firstChild!==e.lastChild||!eo(e.firstChild)},H1=function(e,r){var a=e.ownerDocument,i=a.createTextNode(Pe),c=e.parentNode;if(r){var f=e.previousSibling;if(ic(f)){if(xs(f))return f;if(mh(f))return f.splitText(f.data.length-1)}c.insertBefore(i,e)}else{var f=e.nextSibling;if(ic(f)){if(xs(f))return f;if(ph(f))return f.splitText(1),f}e.nextSibling?c.insertBefore(i,e.nextSibling):c.appendChild(i)}return i},Qr=function(e){var r=e.container();return zr(r)?r.data.charAt(e.offset())===Pe||e.isAtStart()&&lo(r.previousSibling):!1},Jg=function(e){var r=e.container();return zr(r)?r.data.charAt(e.offset()-1)===Pe||e.isAtEnd()&&lo(r.nextSibling):!1},uc=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Qw=function(e,r,a){var i=r.ownerDocument,c=i.createElement(e);c.setAttribute("data-mce-caret",a?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(uc());var f=r.parentNode;return a?f.insertBefore(c,r):r.nextSibling?f.insertBefore(c,r.nextSibling):f.appendChild(c),c},ph=function(e){return ic(e)&&e.data[0]===Pe},mh=function(e){return ic(e)&&e.data[e.data.length-1]===Pe},V1=function(e){var r=e.getElementsByTagName("br"),a=r[r.length-1];ti(a)&&a.parentNode.removeChild(a)},U1=function(e){return e&&e.hasAttribute("data-mce-caret")?(V1(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Gl=function(e){return to(e.startContainer)},Lf=qc,Tx=_o,j1=eo,Ex=zr,ek=nc(["script","style","textarea"]),hh=nc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),zp=nc(["table"]),tk=xs,Kl=function(e){return tk(e)?!1:Ex(e)?!ek(e.parentNode):hh(e)||j1(e)||zp(e)||W1(e)},Ap=function(e){return hn(e)&&e.getAttribute("unselectable")==="true"},W1=function(e){return Ap(e)===!1&&Tx(e)},rk=function(e,r){for(e=e.parentNode;e&&e!==r;e=e.parentNode){if(W1(e))return!1;if(Lf(e))return!0}return!0},zx=function(e){return W1(e)?it(kn(e.getElementsByTagName("*")),function(r,a){return r||Lf(a)},!1)!==!0:!1},Ax=function(e){return hh(e)||zx(e)},gi=function(e,r){return Kl(e)&&rk(e,r)},Xl=/^[ \t\r\n]*$/,Yc=function(e){return Xl.test(e)},_d=function(e,r){var a=x.fromDom(r),i=x.fromDom(e);return co(i,"pre,code",St(an,a))},nk=function(e,r){return zr(e)&&Yc(e.data)&&_d(e,r)===!1},Zc=function(e){return hn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},vv=function(e,r){return Kl(e)&&nk(e,r)===!1||Zc(e)||q1(e)},q1=zu("data-mce-bookmark"),G1=zu("data-mce-bogus"),$f=ac("data-mce-bogus","all"),Ec=function(e,r){var a=0;if(vv(e,e))return!1;var i=e.firstChild;if(!i)return!0;var c=new Ua(i,e);do{if(r){if($f(i)){i=c.next(!0);continue}if(G1(i)){i=c.next();continue}}if(eo(i)){a++,i=c.next();continue}if(vv(i,e))return!1;i=c.next()}while(i);return a<=1},lu=function(e,r){return r===void 0&&(r=!0),Ec(e.dom,r)},Qg=function(e){return e.nodeName.toLowerCase()==="span"},K1=function(e,r){return Ge(e)&&(vv(e,r)||$u(x.fromDom(e)))},pv=function(e,r){var a=new Ua(e,r).prev(!1),i=new Ua(e,r).next(!1),c=ze(a)||K1(a,r),f=ze(i)||K1(i,r);return c&&f},Op=function(e){return Qg(e)&&e.getAttribute("data-mce-type")==="bookmark"},Rp=function(e,r){return zr(e)&&e.data.length>0&&pv(e,r)},Ox=function(e){return hn(e)?e.childNodes.length>0:!1},Dp=function(e){return Ln(e)||ih(e)},X1=function(e,r,a){var i=a||r;if(hn(r)&&Op(r))return r;for(var c=r.childNodes,f=c.length-1;f>=0;f--)X1(e,c[f],i);if(hn(r)){var m=r.childNodes;m.length===1&&Op(m[0])&&r.parentNode.insertBefore(m[0],r)}return!Dp(r)&&!vv(r,i)&&!Ox(r)&&!Rp(r,i)&&e.remove(r),r},Rx=mt.makeMap,Wo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ey=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wd=/[<>&\"\']/g,Y1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Z1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},zc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},mv=function(e){var r=x.fromTag("div").dom;return r.innerHTML=e,r.textContent||r.innerText||e},kd=function(e,r){var a,i,c,f={};if(e){for(e=e.split(","),r=r||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],r)),zc[i]||(c="&"+e[a+1]+";",f[i]=c,f[c]=i);return f}},ty=kd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),gh=function(e,r){return e.replace(r?Wo:ey,function(a){return zc[a]||a})},J1=function(e){return(""+e).replace(wd,function(r){return zc[r]||r})},hv=function(e,r){return e.replace(r?Wo:ey,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":zc[a]||"&#"+a.charCodeAt(0)+";"})},ry=function(e,r,a){return a=a||ty,e.replace(r?Wo:ey,function(i){return zc[i]||a[i]||i})},Dx=function(e,r){var a=kd(r)||ty,i=function(m,y){return m.replace(y?Wo:ey,function(w){return zc[w]!==void 0?zc[w]:a[w]!==void 0?a[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},c=function(m,y){return ry(m,y,a)},f=Rx(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?r?c:ry:f.numeric?hv:gh},Q1=function(e){return e.replace(Y1,function(r,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Z1[a]||String.fromCharCode(a)):sc[r]||ty[r]||mv(r)})},cc={encodeRaw:gh,encodeAllRaw:J1,encodeNumeric:hv,encodeNamed:ry,getEncodeFunc:Dx,decode:Q1},js={},Mp={},Jc=mt.makeMap,Ru=mt.each,ny=mt.extend,Hf=mt.explode,ak=mt.inArray,fu=function(e,r){return e=mt.trim(e),e?e.split(r||" "):[]},e_=function(e,r){var a=Jc(e," ",Jc(e.toUpperCase()," "));return ny(a,r)},ay=function(e){return e_("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Sa=function(e){var r={},a,i,c,f,m,y,w=function($,V,j){var re,ae,ie,ue=function(he,Xe){var Ve={},Ee,tt;for(Ee=0,tt=he.length;Ee<tt;Ee++)Ve[he[Ee]]=Xe||{};return Ve};j=j||[],V=V||"",typeof j=="string"&&(j=fu(j));var _e=fu($);for(re=_e.length;re--;)ae=fu([a,V].join(" ")),ie={attributes:ue(ae),attributesOrder:ae,children:ue(j,Mp)},r[_e[re]]=ie},R=function($,V){var j,re,ae,ie,ue=fu($);j=ue.length;for(var _e=fu(V);j--;)for(re=r[ue[j]],ae=0,ie=_e.length;ae<ie;ae++)re.attributes[_e[ae]]={},re.attributesOrder.push(_e[ae])};return js[e]?js[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",y="acronym applet basefont big font strike tt",c=[c,y].join(" "),Ru(fu(y),function($){w($,"",c)}),m="center dir isindex noframes",i=[i,m].join(" "),f=[i,c].join(" "),Ru(fu(m),function($){w($,"",f)})),f=f||[i,c].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),w("address dt dd div caption","",f),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),w("blockquote","cite",f),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",f),w("dl","","dt dd"),w("a","href target rel media hreflang type",c),w("q","cite",c),w("ins del","cite datetime",f),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",f),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),w("param","name value"),w("map","name",[f,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",f),w("th","colspan rowspan headers scope abbr",f),w("form","accept-charset action autocomplete enctype method name novalidate target",f),w("fieldset","disabled form name",[f,"legend"].join(" ")),w("label","form for",c),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:c),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[f,"li"].join(" ")),w("noscript","",f),e!=="html4"&&(w("wbr"),w("ruby","",[c,"rt rp"].join(" ")),w("figcaption","",f),w("mark rt rp summary bdi","",c),w("canvas","width height",f),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[c,"option"].join(" ")),w("article section nav aside main header footer","",f),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[f,"figcaption"].join(" ")),w("time","datetime",c),w("dialog","open",f),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",c),w("progress","value max",c),w("meter","value min max low high optimum",c),w("details","open",[f,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(R("script","language xml:space"),R("style","xml:space"),R("object","declare classid code codebase codetype archive standby align border hspace vspace"),R("embed","align name hspace vspace"),R("param","valuetype type"),R("a","charset name rev shape coords"),R("br","clear"),R("applet","codebase archive code object alt name width height align hspace vspace"),R("img","name longdesc align border hspace vspace"),R("iframe","longdesc frameborder marginwidth marginheight scrolling align"),R("font basefont","size color face"),R("input","usemap align"),R("select"),R("textarea"),R("h1 h2 h3 h4 h5 h6 div p legend caption","align"),R("ul","type compact"),R("li","type"),R("ol dl menu dir","compact"),R("pre","width xml:space"),R("hr","align noshade size width"),R("isindex","prompt"),R("table","summary width frame rules cellspacing cellpadding align bgcolor"),R("col","width align char charoff valign"),R("colgroup","width align char charoff valign"),R("thead","align char charoff valign"),R("tr","align char charoff valign bgcolor"),R("th","axis align char charoff valign nowrap bgcolor width height"),R("form","accept"),R("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),R("tfoot","align char charoff valign"),R("tbody","align char charoff valign"),R("area","nohref"),R("body","background bgcolor text link vlink alink")),e!=="html4"&&(R("input button select textarea","autofocus"),R("input textarea","placeholder"),R("a","download"),R("link script img","crossorigin"),R("img","loading"),R("iframe","sandbox seamless allowfullscreen loading")),Ru(fu("a form meter progress dfn"),function($){r[$]&&delete r[$].children[$]}),delete r.caption.children.table,delete r.script,js[e]=r,r)},en=function(e,r){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Ru(e,function(i,c){a[c]=a[c.toUpperCase()]=r==="map"?Jc(i,/[, ]/):Hf(i,/[, ]/)})),a},lc=function(e){var r={},a={},i=[],c={},f={},m=function(jt,ir,Gr){var nt=e[jt];return nt?nt=Jc(nt,/[, ]/,Jc(nt.toUpperCase(),/[, ]/)):(nt=js[jt],nt||(nt=e_(ir,Gr),js[jt]=nt)),nt};e=e||{};var y=Sa(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var w=en(e.valid_styles),R=en(e.invalid_styles,"map"),$=en(e.valid_classes,"map"),V=m("whitespace_elements","pre script noscript style textarea video audio iframe object code"),j=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),re=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ae=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ie="td th iframe video audio object script code",ue=m("non_empty_elements",ie+" pre",re),_e=m("move_caret_before_on_enter_elements",ie+" table",re),he=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Xe=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",he),Ve=m("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Ru((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(jt){f[jt]=new RegExp("</"+jt+"[^>]*>","gi")});var Ee=function(jt){return new RegExp("^"+jt.replace(/([?+*])/g,".$1")+"$")},tt=function(jt){var ir,Gr,nt,Yt,qt,Yr,rn,so,ru,ji,ps,ms,Zs,Wi,fl,Js,iv,Fa,ko=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,nu=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ld=/[*?+]/;if(jt){var fd=fu(jt,",");for(r["@"]&&(Js=r["@"].attributes,iv=r["@"].attributesOrder),ir=0,Gr=fd.length;ir<Gr;ir++)if(qt=ko.exec(fd[ir]),qt){if(Wi=qt[1],ru=qt[2],fl=qt[3],so=qt[5],ms={},Zs=[],Yr={attributes:ms,attributesOrder:Zs},Wi==="#"&&(Yr.paddEmpty=!0),Wi==="-"&&(Yr.removeEmpty=!0),qt[4]==="!"&&(Yr.removeEmptyAttrs=!0),Js&&(xn(Js,function(dd,Qm){ms[Qm]=dd}),Zs.push.apply(Zs,iv)),so){for(so=fu(so,"|"),nt=0,Yt=so.length;nt<Yt;nt++)if(qt=nu.exec(so[nt]),qt){if(rn={},ps=qt[1],ji=qt[2].replace(/[\\:]:/g,":"),Wi=qt[3],Fa=qt[4],ps==="!"&&(Yr.attributesRequired=Yr.attributesRequired||[],Yr.attributesRequired.push(ji),rn.required=!0),ps==="-"){delete ms[ji],Zs.splice(ak(Zs,ji),1);continue}Wi&&(Wi==="="&&(Yr.attributesDefault=Yr.attributesDefault||[],Yr.attributesDefault.push({name:ji,value:Fa}),rn.defaultValue=Fa),Wi===":"&&(Yr.attributesForced=Yr.attributesForced||[],Yr.attributesForced.push({name:ji,value:Fa}),rn.forcedValue=Fa),Wi==="<"&&(rn.validValues=Jc(Fa,"?"))),ld.test(ji)?(Yr.attributePatterns=Yr.attributePatterns||[],rn.pattern=Ee(ji),Yr.attributePatterns.push(rn)):(ms[ji]||Zs.push(ji),ms[ji]=rn)}}!Js&&ru==="@"&&(Js=ms,iv=Zs),fl&&(Yr.outputName=ru,r[fl]=Yr),ld.test(ru)?(Yr.pattern=Ee(ru),i.push(Yr)):r[ru]=Yr}}},Tt=function(jt){r={},i=[],tt(jt),Ru(y,function(ir,Gr){a[Gr]=ir.children})},Kt=function(jt){var ir=/^(~)?(.+)$/;jt&&(js.text_block_elements=js.block_elements=null,Ru(fu(jt,","),function(Gr){var nt=ir.exec(Gr),Yt=nt[1]==="~",qt=Yt?"span":"div",Yr=nt[2];if(a[Yr]=a[qt],c[Yr]=qt,Yt||(Xe[Yr.toUpperCase()]={},Xe[Yr]={}),!r[Yr]){var rn=r[qt];rn=ny({},rn),delete rn.removeEmptyAttrs,delete rn.removeEmpty,r[Yr]=rn}Ru(a,function(so,ru){so[qt]&&(a[ru]=so=ny({},a[ru]),so[Yr]=so[qt])})}))},nn=function(jt){var ir=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;js[e.schema]=null,jt&&Ru(fu(jt,","),function(Gr){var nt=ir.exec(Gr),Yt,qt;nt&&(qt=nt[1],qt?Yt=a[nt[2]]:Yt=a[nt[2]]={"#comment":{}},Yt=a[nt[2]],Ru(fu(nt[3],"|"),function(Yr){qt==="-"?delete Yt[Yr]:Yt[Yr]={}}))})},Cr=function(jt){var ir=r[jt],Gr;if(ir)return ir;for(Gr=i.length;Gr--;)if(ir=i[Gr],ir.pattern.test(jt))return ir};e.valid_elements?Tt(e.valid_elements):(Ru(y,function(jt,ir){r[ir]={attributes:jt.attributes,attributesOrder:jt.attributesOrder},a[ir]=jt.children}),e.schema!=="html5"&&Ru(fu("strong/b em/i"),function(jt){var ir=fu(jt,"/");r[ir[1]].outputName=ir[0]}),Ru(Ve,function(jt,ir){r[ir]&&(e.padd_empty_block_inline_children&&(r[ir].paddInEmptyBlock=!0),r[ir].removeEmpty=!0)}),Ru(fu("ol ul blockquote a table tbody"),function(jt){r[jt]&&(r[jt].removeEmpty=!0)}),Ru(fu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(jt){r[jt].paddEmpty=!0}),Ru(fu("span"),function(jt){r[jt].removeEmptyAttrs=!0})),Kt(e.custom_elements),nn(e.valid_children),tt(e.extended_valid_elements),nn("+ol[ul|ol],+ul[ul|ol]"),Ru({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(jt,ir){r[ir]&&(r[ir].parentsRequired=fu(jt))}),e.invalid_elements&&Ru(Hf(e.invalid_elements),function(jt){r[jt]&&delete r[jt]}),Cr("span")||tt("span[!data-mce-type|*]");var At=X(w),qr=X(R),Jt=X($),wr=X(ae),Qt=X(Xe),pr=X(he),Or=X(Ve),Ut=X(re),Er=X(j),ea=X(ue),Pa=X(_e),Ma=X(V),wu=X(f),Go=function(jt,ir){var Gr=a[jt.toLowerCase()];return!!(Gr&&Gr[ir.toLowerCase()])},Ds=function(jt,ir){var Gr,nt,Yt=Cr(jt);if(Yt)if(ir){if(Yt.attributes[ir])return!0;if(Gr=Yt.attributePatterns,Gr){for(nt=Gr.length;nt--;)if(Gr[nt].pattern.test(jt))return!0}}else return!0;return!1},Hc=X(c);return{children:a,elements:r,getValidStyles:At,getValidClasses:Jt,getBlockElements:Qt,getInvalidStyles:qr,getShortEndedElements:Ut,getTextBlockElements:pr,getTextInlineElements:Or,getBoolAttrs:wr,getElementRule:Cr,getSelfClosingElements:Er,getNonEmptyElements:ea,getMoveCaretBeforeOnEnterElements:Pa,getWhiteSpaceElements:Ma,getSpecialElements:wu,isValidChild:Go,isValid:Ds,getCustomElements:Hc,addValidElements:tt,setValidElements:Tt,addCustomElements:Kt,addValidChildren:nn}},oy=function(e,r,a,i){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(r)+c(a)+c(i)},Qc=function(e,r){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,y,w={},R,$,V=bd;e=e||{},r&&(R=r.getValidStyles(),$=r.getInvalidStyles());var j=(`\\" \\' \\; \\: ; : `+V).split(" ");for(y=0;y<j.length;y++)w[j[y]]=V+y,w[V+y]=j[y];return{toHex:function(re){return re.replace(i,oy)},parse:function(re){var ae={},ie,ue,_e,he,Xe=e.url_converter,Ve=e.url_converter_scope||a,Ee=function(Jt,wr,Qt){var pr=ae[Jt+"-top"+wr];if(pr){var Or=ae[Jt+"-right"+wr];if(Or){var Ut=ae[Jt+"-bottom"+wr];if(Ut){var Er=ae[Jt+"-left"+wr];if(Er){var ea=[pr,Or,Ut,Er];for(y=ea.length-1;y--&&ea[y]===ea[y+1];);y>-1&&Qt||(ae[Jt+wr]=y===-1?ea[0]:ea.join(" "),delete ae[Jt+"-top"+wr],delete ae[Jt+"-right"+wr],delete ae[Jt+"-bottom"+wr],delete ae[Jt+"-left"+wr])}}}}},tt=function(Jt){var wr=ae[Jt],Qt;if(wr){for(wr=wr.split(" "),Qt=wr.length;Qt--;)if(wr[Qt]!==wr[0])return!1;return ae[Jt]=wr[0],!0}},Tt=function(Jt,wr,Qt,pr){tt(wr)&&tt(Qt)&&tt(pr)&&(ae[Jt]=ae[wr]+" "+ae[Qt]+" "+ae[pr],delete ae[wr],delete ae[Qt],delete ae[pr])},Kt=function(Jt){return he=!0,w[Jt]},nn=function(Jt,wr){return he&&(Jt=Jt.replace(/\uFEFF[0-9]/g,function(Qt){return w[Qt]})),wr||(Jt=Jt.replace(/\\([\'\";:])/g,"$1")),Jt},Cr=function(Jt){return String.fromCharCode(parseInt(Jt.slice(1),16))},At=function(Jt){return Jt.replace(/\\[0-9a-f]+/gi,Cr)},qr=function(Jt,wr,Qt,pr,Or,Ut){if(Or=Or||Ut,Or)return Or=nn(Or),"'"+Or.replace(/\'/g,"\\'")+"'";if(wr=nn(wr||Qt||pr),!e.allow_script_urls){var Er=wr.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Er)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Er))return""}return Xe&&(wr=Xe.call(Ve,wr,"style")),"url('"+wr.replace(/\'/g,"\\'")+"')"};if(re){for(re=re.replace(/[\u0000-\u001F]/g,""),re=re.replace(/\\[\"\';:\uFEFF]/g,Kt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Jt){return Jt.replace(/[;:]/g,Kt)});ie=f.exec(re);)if(f.lastIndex=ie.index+ie[0].length,ue=ie[1].replace(m,"").toLowerCase(),_e=ie[2].replace(m,""),ue&&_e){if(ue=At(ue),_e=At(_e),ue.indexOf(V)!==-1||ue.indexOf('"')!==-1||!e.allow_script_urls&&(ue==="behavior"||/expression\s*\(|\/\*|\*\//.test(_e)))continue;ue==="font-weight"&&_e==="700"?_e="bold":(ue==="color"||ue==="background-color")&&(_e=_e.toLowerCase()),_e=_e.replace(i,oy),_e=_e.replace(c,qr),ae[ue]=he?nn(_e,!0):_e}Ee("border","",!0),Ee("border","-width"),Ee("border","-color"),Ee("border","-style"),Ee("padding",""),Ee("margin",""),Tt("border","border-width","border-style","border-color"),ae.border==="medium none"&&delete ae.border,ae["border-image"]==="none"&&delete ae["border-image"]}return ae},serialize:function(re,ae){var ie="",ue=function(he){var Xe,Ve=R[he];if(Ve)for(var Ee=0,tt=Ve.length;Ee<tt;Ee++)he=Ve[Ee],Xe=re[he],Xe&&(ie+=(ie.length>0?" ":"")+he+": "+Xe+";")},_e=function(he,Xe){var Ve=$["*"];return Ve&&Ve[he]?!1:(Ve=$[Xe],!(Ve&&Ve[he]))};return ae&&R?(ue("*"),ue(ae)):xn(re,function(he,Xe){he&&(!$||_e(Xe,ae))&&(ie+=(ie.length>0?" ":"")+Xe+": "+he+";")}),ie}}},ok={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ro=function(e){return e instanceof Event||ce(e.initEvent)},t_=function(e){return e.isDefaultPrevented===ur||e.isDefaultPrevented===Wt},iy=function(e){return $e(e.preventDefault)||ro(e)},uy=function(e,r){var a=r??{};for(var i in e)Sn(ok,i)||(a[i]=e[i]);return Ge(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Bt=function(e,r,a,i){var c,f=uy(r,i);return f.type=e,$e(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:a),iy(r)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=ur,ce(r.preventDefault)?r.preventDefault():ro(r)&&(r.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=ur,ce(r.stopPropagation)?r.stopPropagation():ro(r)&&(r.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=ur,f.stopPropagation()},t_(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?ur:Wt,f.isPropagationStopped=f.cancelBubble===!0?ur:Wt,f.isImmediatePropagationStopped=Wt)),f},r_="mce-data-",n_=/^(?:mouse|contextmenu)|click/,Cd=function(e,r,a,i){e.addEventListener?e.addEventListener(r,a,i||!1):e.attachEvent&&e.attachEvent("on"+r,a)},yh=function(e,r,a,i){e.removeEventListener?e.removeEventListener(r,a,i||!1):e.detachEvent&&e.detachEvent("on"+r,a)},gv=function(e){return Ge(e)&&n_.test(e.type)},xd=function(e,r){var a=Bt(e.type,e,document,r);if(gv(e)&&ze(e.pageX)&&!ze(e.clientX)){var i=a.target.ownerDocument||document,c=i.documentElement,f=i.body,m=a;m.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return ze(a.metaKey)&&(a.metaKey=!1),a},yv=function(e,r,a){var i=e.document,c={type:"ready"};if(a.domLoaded){r(c);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},m=function(){yh(e,"DOMContentLoaded",m),yh(e,"load",m),a.domLoaded||(a.domLoaded=!0,r(c)),e=null};f()?m():Cd(e,"DOMContentLoaded",m),a.domLoaded||Cd(e,"load",m)},Bp=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=r_+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(r,a,i,c){var f=this,m,y,w,R,$,V,j,re=window,ae=function(ue){f.executeHandlers(xd(ue||re.event),m)};if(!(!r||r.nodeType===3||r.nodeType===8)){r[f.expando]?m=r[f.expando]:(m=f.count++,r[f.expando]=m,f.events[m]={}),c=c||r;var ie=a.split(" ");for(w=ie.length;w--;){if(R=ie[w],V=ae,$=j=!1,R==="DOMContentLoaded"&&(R="ready"),f.domLoaded&&R==="ready"&&r.readyState==="complete"){i.call(c,xd({type:R}));continue}f.hasMouseEnterLeave||($=f.mouseEnterLeave[R],$&&(V=function(ue){var _e=ue.currentTarget,he=ue.relatedTarget;if(he&&_e.contains)he=_e.contains(he);else for(;he&&he!==_e;)he=he.parentNode;he||(ue=xd(ue||re.event),ue.type=ue.type==="mouseout"?"mouseleave":"mouseenter",ue.target=_e,f.executeHandlers(ue,m))})),!f.hasFocusIn&&(R==="focusin"||R==="focusout")&&(j=!0,$=R==="focusin"?"focus":"blur",V=function(ue){ue=xd(ue||re.event),ue.type=ue.type==="focus"?"focusin":"focusout",f.executeHandlers(ue,m)}),y=f.events[m][R],y?R==="ready"&&f.domLoaded?i(xd({type:R})):y.push({func:i,scope:c}):(f.events[m][R]=y=[{func:i,scope:c}],y.fakeName=$,y.capture=j,y.nativeHandler=V,R==="ready"?yv(r,V,f):Cd(r,$||R,V,j))}return r=y=null,i}},e.prototype.unbind=function(r,a,i){var c,f,m,y,w;if(!r||r.nodeType===3||r.nodeType===8)return this;var R=r[this.expando];if(R){if(w=this.events[R],a){var $=a.split(" ");for(f=$.length;f--;)if(y=$[f],c=w[y],c){if(i){for(m=c.length;m--;)if(c[m].func===i){var V=c.nativeHandler,j=c.fakeName,re=c.capture;c=c.slice(0,m).concat(c.slice(m+1)),c.nativeHandler=V,c.fakeName=j,c.capture=re,w[y]=c}}(!i||c.length===0)&&(delete w[y],yh(r,c.fakeName||y,c.nativeHandler,c.capture))}}else xn(w,function(ae,ie){yh(r,ae.fakeName||ie,ae.nativeHandler,ae.capture)}),w={};for(y in w)if(Sn(w,y))return this;delete this.events[R];try{delete r[this.expando]}catch{r[this.expando]=null}}return this},e.prototype.fire=function(r,a,i){var c;if(!r||r.nodeType===3||r.nodeType===8)return this;var f=xd({type:a,target:r},i);do c=r[this.expando],c&&this.executeHandlers(f,c),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow;while(r&&!f.isPropagationStopped());return this},e.prototype.clean=function(r){var a,i;if(!r||r.nodeType===3||r.nodeType===8)return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName)for(this.unbind(r),i=r.getElementsByTagName("*"),a=i.length;a--;)r=i[a],r[this.expando]&&this.unbind(r);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(r,a){var i=this.events[a],c=i&&i[r.type];if(c)for(var f=0,m=c.length;f<m;f++){var y=c[f];if(y&&y.func.call(y.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ci,Bn,fc,ik,Ws,a_,Yl,Vf,Uf,dc,Sd,Li,ns,Zl,Td,Np,bv,Nr,Zi="sizzle"+-new Date,kl=window.document,Jl=0,bh=0,uk=fy(),sy=fy(),Ed=fy(),zd=function(e,r){return e===r&&(dc=!0),0},Pp="undefined",_h=1<<31,Mx={}.hasOwnProperty,vc=[],o_=vc.pop,_v=vc.push,Ad=vc.push,i_=vc.slice,Od=vc.indexOf||function(e){for(var r=0,a=this.length;r<a;r++)if(this[r]===e)return r;return-1},sk="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fo="[\\x20\\t\\r\\n\\f]",du="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Du="\\["+Fo+"*("+du+")(?:"+Fo+"*([*^$|!~]?=)"+Fo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+du+"))|)"+Fo+"*\\]",ck=":("+du+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Du+")*)|.*)\\)|)",cy=new RegExp("^"+Fo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fo+"+$","g"),Bx=new RegExp("^"+Fo+"*,"+Fo+"*"),lk=new RegExp("^"+Fo+"*([>+~]|"+Fo+")"+Fo+"*"),el=new RegExp("="+Fo+`*([^\\]'"]*?)`+Fo+"*\\]","g"),Nx=new RegExp(ck),Fp=new RegExp("^"+du+"$"),ly={ID:new RegExp("^#("+du+")"),CLASS:new RegExp("^\\.("+du+")"),TAG:new RegExp("^("+du+"|[*])"),ATTR:new RegExp("^"+Du),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fo+"*(even|odd|(([+-]|)(\\d*)n|)"+Fo+"*(?:([+-]|)"+Fo+"*(\\d+)|))"+Fo+"*\\)|)","i"),bool:new RegExp("^(?:"+sk+")$","i"),needsContext:new RegExp("^"+Fo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fo+"*((?:-\\d)?\\d*)"+Fo+"*\\)|)(?=[^-]|$)","i")},Px=/^(?:input|select|textarea|button)$/i,fk=/^h\d$/i,u_=/^[^{]+\{\s*\[native \w/,s_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,c_=/[+~]/,Fx=/'|\\/g,Rd=new RegExp("\\\\([\\da-f]{1,6}"+Fo+"?|("+Fo+")|.)","ig"),Dd=function(e,r,a){var i="0x"+r-65536;return i!==i||a?r:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Ad.apply(vc=i_.call(kl.childNodes),kl.childNodes),vc[kl.childNodes.length].nodeType}catch{Ad={apply:vc.length?function(r,a){_v.apply(r,i_.call(a))}:function(r,a){for(var i=r.length,c=0;r[i++]=a[c++];);r.length=i-1}}}var Ya=function(e,r,a,i){var c,f,m,y,w,R,$,V,j,re;if((r?r.ownerDocument||r:kl)!==Li&&Sd(r),r=r||Li,a=a||[],!e||typeof e!="string")return a;if((y=r.nodeType)!==1&&y!==9)return[];if(Zl&&!i){if(c=s_.exec(e))if(m=c[1]){if(y===9)if(f=r.getElementById(m),f&&f.parentNode){if(f.id===m)return a.push(f),a}else return a;else if(r.ownerDocument&&(f=r.ownerDocument.getElementById(m))&&Nr(r,f)&&f.id===m)return a.push(f),a}else{if(c[2])return Ad.apply(a,r.getElementsByTagName(e)),a;if((m=c[3])&&ci.getElementsByClassName)return Ad.apply(a,r.getElementsByClassName(m)),a}if(ci.qsa&&(!Td||!Td.test(e))){if(V=$=Zi,j=r,re=y===9&&e,y===1&&r.nodeName.toLowerCase()!=="object"){for(R=Ws(e),($=r.getAttribute("id"))?V=$.replace(Fx,"\\$&"):r.setAttribute("id",V),V="[id='"+V+"'] ",w=R.length;w--;)R[w]=V+vy(R[w]);j=c_.test(e)&&dy(r.parentNode)||r,re=R.join(",")}if(re)try{return Ad.apply(a,j.querySelectorAll(re)),a}catch{}finally{$||r.removeAttribute("id")}}}return Yl(e.replace(cy,"$1"),r,a,i)};function fy(){var e=[];function r(a,i){return e.push(a+" ")>Bn.cacheLength&&delete r[e.shift()],r[a+" "]=i}return r}function Cl(e){return e[Zi]=!0,e}function dk(e,r){var a=r&&e,i=a&&e.nodeType===1&&r.nodeType===1&&(~r.sourceIndex||_h)-(~e.sourceIndex||_h);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===r)return-1}return e?1:-1}function xl(e){return function(r){var a=r.nodeName.toLowerCase();return a==="input"&&r.type===e}}function Ql(e){return function(r){var a=r.nodeName.toLowerCase();return(a==="input"||a==="button")&&r.type===e}}function Md(e){return Cl(function(r){return r=+r,Cl(function(a,i){for(var c,f=e([],a.length,r),m=f.length;m--;)a[c=f[m]]&&(a[c]=!(i[c]=a[c]))})})}function dy(e){return e&&typeof e.getElementsByTagName!==Pp&&e}ci=Ya.support={},ik=Ya.isXML=function(e){var r=e&&(e.ownerDocument||e).documentElement;return r?r.nodeName!=="HTML":!1},Sd=Ya.setDocument=function(e){var r,a=e?e.ownerDocument||e:kl,i=a.defaultView;function c(f){try{return f.top}catch{}return null}return a===Li||a.nodeType!==9||!a.documentElement?Li:(Li=a,ns=a.documentElement,Zl=!ik(a),i&&i!==c(i)&&(i.addEventListener?i.addEventListener("unload",function(){Sd()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Sd()})),ci.attributes=!0,ci.getElementsByTagName=!0,ci.getElementsByClassName=u_.test(a.getElementsByClassName),ci.getById=!0,Bn.find.ID=function(f,m){if(typeof m.getElementById!==Pp&&Zl){var y=m.getElementById(f);return y&&y.parentNode?[y]:[]}},Bn.filter.ID=function(f){var m=f.replace(Rd,Dd);return function(y){return y.getAttribute("id")===m}},Bn.find.TAG=ci.getElementsByTagName?function(f,m){if(typeof m.getElementsByTagName!==Pp)return m.getElementsByTagName(f)}:function(f,m){var y,w=[],R=0,$=m.getElementsByTagName(f);if(f==="*"){for(;y=$[R++];)y.nodeType===1&&w.push(y);return w}return $},Bn.find.CLASS=ci.getElementsByClassName&&function(f,m){if(Zl)return m.getElementsByClassName(f)},Np=[],Td=[],ci.disconnectedMatch=!0,Td=Td.length&&new RegExp(Td.join("|")),Np=Np.length&&new RegExp(Np.join("|")),r=u_.test(ns.compareDocumentPosition),Nr=r||u_.test(ns.contains)?function(f,m){var y=f.nodeType===9?f.documentElement:f,w=m&&m.parentNode;return f===w||!!(w&&w.nodeType===1&&(y.contains?y.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16))}:function(f,m){if(m){for(;m=m.parentNode;)if(m===f)return!0}return!1},zd=r?function(f,m){if(f===m)return dc=!0,0;var y=!f.compareDocumentPosition-!m.compareDocumentPosition;return y||(y=(f.ownerDocument||f)===(m.ownerDocument||m)?f.compareDocumentPosition(m):1,y&1||!ci.sortDetached&&m.compareDocumentPosition(f)===y?f===a||f.ownerDocument===kl&&Nr(kl,f)?-1:m===a||m.ownerDocument===kl&&Nr(kl,m)?1:Uf?Od.call(Uf,f)-Od.call(Uf,m):0:y&4?-1:1)}:function(f,m){if(f===m)return dc=!0,0;var y,w=0,R=f.parentNode,$=m.parentNode,V=[f],j=[m];if(!R||!$)return f===a?-1:m===a?1:R?-1:$?1:Uf?Od.call(Uf,f)-Od.call(Uf,m):0;if(R===$)return dk(f,m);for(y=f;y=y.parentNode;)V.unshift(y);for(y=m;y=y.parentNode;)j.unshift(y);for(;V[w]===j[w];)w++;return w?dk(V[w],j[w]):V[w]===kl?-1:j[w]===kl?1:0},a)},Ya.matches=function(e,r){return Ya(e,null,null,r)},Ya.matchesSelector=function(e,r){if((e.ownerDocument||e)!==Li&&Sd(e),r=r.replace(el,"='$1']"),ci.matchesSelector&&Zl&&(!Np||!Np.test(r))&&(!Td||!Td.test(r)))try{var a=bv.call(e,r);if(a||ci.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return Ya(r,Li,null,[e]).length>0},Ya.contains=function(e,r){return(e.ownerDocument||e)!==Li&&Sd(e),Nr(e,r)},Ya.attr=function(e,r){(e.ownerDocument||e)!==Li&&Sd(e);var a=Bn.attrHandle[r.toLowerCase()],i=a&&Mx.call(Bn.attrHandle,r.toLowerCase())?a(e,r,!Zl):void 0;return i!==void 0?i:ci.attributes||!Zl?e.getAttribute(r):(i=e.getAttributeNode(r))&&i.specified?i.value:null},Ya.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ya.uniqueSort=function(e){var r,a=[],i=0,c=0;if(dc=!ci.detectDuplicates,Uf=!ci.sortStable&&e.slice(0),e.sort(zd),dc){for(;r=e[c++];)r===e[c]&&(i=a.push(c));for(;i--;)e.splice(a[i],1)}return Uf=null,e},fc=Ya.getText=function(e){var r,a="",i=0,c=e.nodeType;if(c){if(c===1||c===9||c===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=fc(e)}else if(c===3||c===4)return e.nodeValue}else for(;r=e[i++];)a+=fc(r);return a},Bn=Ya.selectors={cacheLength:50,createPseudo:Cl,match:ly,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Rd,Dd),e[3]=(e[3]||e[4]||e[5]||"").replace(Rd,Dd),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Ya.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Ya.error(e[0]),e},PSEUDO:function(e){var r,a=!e[6]&&e[2];return ly.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&Nx.test(a)&&(r=Ws(a,!0))&&(r=a.indexOf(")",a.length-r)-a.length)&&(e[0]=e[0].slice(0,r),e[2]=a.slice(0,r)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(Rd,Dd).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===r}},CLASS:function(e){var r=uk[e+" "];return r||(r=new RegExp("(^|"+Fo+")"+e+"("+Fo+"|$)"))&&uk(e,function(a){return r.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Pp&&a.getAttribute("class")||"")})},ATTR:function(e,r,a){return function(i){var c=Ya.attr(i,e);return c==null?r==="!=":r?(c+="",r==="="?c===a:r==="!="?c!==a:r==="^="?a&&c.indexOf(a)===0:r==="*="?a&&c.indexOf(a)>-1:r==="$="?a&&c.slice(-a.length)===a:r==="~="?(" "+c+" ").indexOf(a)>-1:r==="|="?c===a||c.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,r,a,i,c){var f=e.slice(0,3)!=="nth",m=e.slice(-4)!=="last",y=r==="of-type";return i===1&&c===0?function(w){return!!w.parentNode}:function(w,R,$){var V,j,re,ae,ie,ue,_e=f!==m?"nextSibling":"previousSibling",he=w.parentNode,Xe=y&&w.nodeName.toLowerCase(),Ve=!$&&!y;if(he){if(f){for(;_e;){for(re=w;re=re[_e];)if(y?re.nodeName.toLowerCase()===Xe:re.nodeType===1)return!1;ue=_e=e==="only"&&!ue&&"nextSibling"}return!0}if(ue=[m?he.firstChild:he.lastChild],m&&Ve){for(j=he[Zi]||(he[Zi]={}),V=j[e]||[],ie=V[0]===Jl&&V[1],ae=V[0]===Jl&&V[2],re=ie&&he.childNodes[ie];re=++ie&&re&&re[_e]||(ae=ie=0)||ue.pop();)if(re.nodeType===1&&++ae&&re===w){j[e]=[Jl,ie,ae];break}}else if(Ve&&(V=(w[Zi]||(w[Zi]={}))[e])&&V[0]===Jl)ae=V[1];else for(;(re=++ie&&re&&re[_e]||(ae=ie=0)||ue.pop())&&!((y?re.nodeName.toLowerCase()===Xe:re.nodeType===1)&&++ae&&(Ve&&((re[Zi]||(re[Zi]={}))[e]=[Jl,ae]),re===w)););return ae-=c,ae===i||ae%i===0&&ae/i>=0}}},PSEUDO:function(e,r){var a,i=Bn.pseudos[e]||Bn.setFilters[e.toLowerCase()]||Ya.error("unsupported pseudo: "+e);return i[Zi]?i(r):i.length>1?(a=[e,e,"",r],Bn.setFilters.hasOwnProperty(e.toLowerCase())?Cl(function(c,f){for(var m,y=i(c,r),w=y.length;w--;)m=Od.call(c,y[w]),c[m]=!(f[m]=y[w])}):function(c){return i(c,0,a)}):i}},pseudos:{not:Cl(function(e){var r=[],a=[],i=a_(e.replace(cy,"$1"));return i[Zi]?Cl(function(c,f,m,y){for(var w,R=i(c,null,y,[]),$=c.length;$--;)(w=R[$])&&(c[$]=!(f[$]=w))}):function(c,f,m){return r[0]=c,i(r,null,m,a),r[0]=null,!a.pop()}}),has:Cl(function(e){return function(r){return Ya(e,r).length>0}}),contains:Cl(function(e){return e=e.replace(Rd,Dd),function(r){return(r.textContent||r.innerText||fc(r)).indexOf(e)>-1}}),lang:Cl(function(e){return Fp.test(e||"")||Ya.error("unsupported lang: "+e),e=e.replace(Rd,Dd).toLowerCase(),function(r){var a;do if(a=Zl?r.lang:r.getAttribute("xml:lang")||r.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((r=r.parentNode)&&r.nodeType===1);return!1}}),target:function(e){var r=window.location&&window.location.hash;return r&&r.slice(1)===e.id},root:function(e){return e===ns},focus:function(e){return e===Li.activeElement&&(!Li.hasFocus||Li.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&!!e.checked||r==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Bn.pseudos.empty(e)},header:function(e){return fk.test(e.nodeName)},input:function(e){return Px.test(e.nodeName)},button:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&e.type==="button"||r==="button"},text:function(e){var r;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((r=e.getAttribute("type"))==null||r.toLowerCase()==="text")},first:Md(function(){return[0]}),last:Md(function(e,r){return[r-1]}),eq:Md(function(e,r,a){return[a<0?a+r:a]}),even:Md(function(e,r){for(var a=0;a<r;a+=2)e.push(a);return e}),odd:Md(function(e,r){for(var a=1;a<r;a+=2)e.push(a);return e}),lt:Md(function(e,r,a){for(var i=a<0?a+r:a;--i>=0;)e.push(i);return e}),gt:Md(function(e,r,a){for(var i=a<0?a+r:a;++i<r;)e.push(i);return e})}},Bn.pseudos.nth=Bn.pseudos.eq,je(["radio","checkbox","file","password","image"],function(e){Bn.pseudos[e]=xl(e)}),je(["submit","reset"],function(e){Bn.pseudos[e]=Ql(e)});function wh(){}wh.prototype=Bn.filters=Bn.pseudos,Bn.setFilters=new wh,Ws=Ya.tokenize=function(e,r){var a,i,c,f,m,y,w,R=sy[e+" "];if(R)return r?0:R.slice(0);for(m=e,y=[],w=Bn.preFilter;m;){(!a||(i=Bx.exec(m)))&&(i&&(m=m.slice(i[0].length)||m),y.push(c=[])),a=!1,(i=lk.exec(m))&&(a=i.shift(),c.push({value:a,type:i[0].replace(cy," ")}),m=m.slice(a.length));for(f in Bn.filter)Bn.filter.hasOwnProperty(f)&&(i=ly[f].exec(m))&&(!w[f]||(i=w[f](i)))&&(a=i.shift(),c.push({value:a,type:f,matches:i}),m=m.slice(a.length));if(!a)break}return r?m.length:m?Ya.error(e):sy(e,y).slice(0)};function vy(e){for(var r=0,a=e.length,i="";r<a;r++)i+=e[r].value;return i}function py(e,r,a){var i=r.dir,c=a&&i==="parentNode",f=bh++;return r.first?function(m,y,w){for(;m=m[i];)if(m.nodeType===1||c)return e(m,y,w)}:function(m,y,w){var R,$,V=[Jl,f];if(w){for(;m=m[i];)if((m.nodeType===1||c)&&e(m,y,w))return!0}else for(;m=m[i];)if(m.nodeType===1||c){if($=m[Zi]||(m[Zi]={}),(R=$[i])&&R[0]===Jl&&R[1]===f)return V[2]=R[2];if($[i]=V,V[2]=e(m,y,w))return!0}}}function wv(e){return e.length>1?function(r,a,i){for(var c=e.length;c--;)if(!e[c](r,a,i))return!1;return!0}:e[0]}function Ix(e,r,a){for(var i=0,c=r.length;i<c;i++)Ya(e,r[i],a);return a}function my(e,r,a,i,c){for(var f,m=[],y=0,w=e.length,R=r!=null;y<w;y++)(f=e[y])&&(!a||a(f,i,c))&&(m.push(f),R&&r.push(y));return m}function Ip(e,r,a,i,c,f){return i&&!i[Zi]&&(i=Ip(i)),c&&!c[Zi]&&(c=Ip(c,f)),Cl(function(m,y,w,R){var $,V,j,re=[],ae=[],ie=y.length,ue=m||Ix(r||"*",w.nodeType?[w]:w,[]),_e=e&&(m||!r)?my(ue,re,e,w,R):ue,he=a?c||(m?e:ie||i)?[]:y:_e;if(a&&a(_e,he,w,R),i)for($=my(he,ae),i($,[],w,R),V=$.length;V--;)(j=$[V])&&(he[ae[V]]=!(_e[ae[V]]=j));if(m){if(c||e){if(c){for($=[],V=he.length;V--;)(j=he[V])&&$.push(_e[V]=j);c(null,he=[],$,R)}for(V=he.length;V--;)(j=he[V])&&($=c?Od.call(m,j):re[V])>-1&&(m[$]=!(y[$]=j))}}else he=my(he===y?he.splice(ie,he.length):he),c?c(null,y,he,R):Ad.apply(y,he)})}function kh(e){for(var r,a,i,c=e.length,f=Bn.relative[e[0].type],m=f||Bn.relative[" "],y=f?1:0,w=py(function(V){return V===r},m,!0),R=py(function(V){return Od.call(r,V)>-1},m,!0),$=[function(V,j,re){var ae=!f&&(re||j!==Vf)||((r=j).nodeType?w(V,j,re):R(V,j,re));return r=null,ae}];y<c;y++)if(a=Bn.relative[e[y].type])$=[py(wv($),a)];else{if(a=Bn.filter[e[y].type].apply(null,e[y].matches),a[Zi]){for(i=++y;i<c&&!Bn.relative[e[i].type];i++);return Ip(y>1&&wv($),y>1&&vy(e.slice(0,y-1).concat({value:e[y-2].type===" "?"*":""})).replace(cy,"$1"),a,y<i&&kh(e.slice(y,i)),i<c&&kh(e=e.slice(i)),i<c&&vy(e))}$.push(a)}return wv($)}function Ch(e,r){var a=r.length>0,i=e.length>0,c=function(f,m,y,w,R){var $,V,j,re=0,ae="0",ie=f&&[],ue=[],_e=Vf,he=f||i&&Bn.find.TAG("*",R),Xe=Jl+=_e==null?1:Math.random()||.1,Ve=he.length;for(R&&(Vf=m!==Li&&m);ae!==Ve&&($=he[ae])!=null;ae++){if(i&&$){for(V=0;j=e[V++];)if(j($,m,y)){w.push($);break}R&&(Jl=Xe)}a&&(($=!j&&$)&&re--,f&&ie.push($))}if(re+=ae,a&&ae!==re){for(V=0;j=r[V++];)j(ie,ue,m,y);if(f){if(re>0)for(;ae--;)ie[ae]||ue[ae]||(ue[ae]=o_.call(w));ue=my(ue)}Ad.apply(w,ue),R&&!f&&ue.length>0&&re+r.length>1&&Ya.uniqueSort(w)}return R&&(Jl=Xe,Vf=_e),ie};return a?Cl(c):c}a_=Ya.compile=function(e,r){var a,i=[],c=[],f=Ed[e+" "];if(!f){for(r||(r=Ws(e)),a=r.length;a--;)f=kh(r[a]),f[Zi]?i.push(f):c.push(f);f=Ed(e,Ch(c,i)),f.selector=e}return f},Yl=Ya.select=function(e,r,a,i){var c,f,m,y,w,R=typeof e=="function"&&e,$=!i&&Ws(e=R.selector||e);if(a=a||[],$.length===1){if(f=$[0]=$[0].slice(0),f.length>2&&(m=f[0]).type==="ID"&&ci.getById&&r.nodeType===9&&Zl&&Bn.relative[f[1].type]){if(r=(Bn.find.ID(m.matches[0].replace(Rd,Dd),r)||[])[0],r)R&&(r=r.parentNode);else return a;e=e.slice(f.shift().value.length)}for(c=ly.needsContext.test(e)?0:f.length;c--&&(m=f[c],!Bn.relative[y=m.type]);)if((w=Bn.find[y])&&(i=w(m.matches[0].replace(Rd,Dd),c_.test(f[0].type)&&dy(r.parentNode)||r))){if(f.splice(c,1),e=i.length&&vy(f),!e)return Ad.apply(a,i),a;break}}return(R||a_(e,$))(i,r,!Zl,a,c_.test(e)&&dy(r.parentNode)||r),a},ci.sortStable=Zi.split("").sort(zd).join("")===Zi,ci.detectDuplicates=!!dc,Sd(),ci.sortDetached=!0;var l_=document,Ai=Array.prototype.push,kv=Array.prototype.slice,yi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,as=Bp.Event,Cv=mt.makeMap("children,contents,next,prev"),pc=function(e){return typeof e<"u"},hy=function(e){return typeof e=="string"},ef=function(e){return e&&e===e.window},Lp=function(e,r){r=r||l_;var a=r.createElement("div"),i=r.createDocumentFragment();a.innerHTML=e;for(var c;c=a.firstChild;)i.appendChild(c);return i},$p=function(e,r,a,i){var c;if(hy(r))r=Lp(r,Bd(e[0]));else if(r.length&&!r.nodeType){if(r=$n.makeArray(r),i)for(c=r.length-1;c>=0;c--)$p(e,r[c],a,i);else for(c=0;c<r.length;c++)$p(e,r[c],a,i);return e}if(r.nodeType)for(c=e.length;c--;)a.call(e[c],r);return e},vk=function(e,r){return e&&r&&(" "+e.className+" ").indexOf(" "+r+" ")!==-1},pk=function(e,r,a){var i,c;return r=$n(r)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,c=r.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),e},Lx=mt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$x=mt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Hx={for:"htmlFor",class:"className",readonly:"readOnly"},mk={float:"cssFloat"},gy={},yy={},vu=function(e,r){return new $n.fn.init(e,r)},by=function(e,r){var a;if(r.indexOf)return r.indexOf(e);for(a=r.length;a--;)if(r[a]===e)return a;return-1},f_=/^\s*|\s*$/g,Ac=function(e){return e==null?"":(""+e).replace(f_,"")},wo=function(e,r){var a,i,c,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],r.call(f,i,f)===!1))break}else for(c=0;c<a&&(f=e[c],r.call(f,c,f)!==!1);c++);return e},mc=function(e,r){var a=[];return wo(e,function(i,c){r(c,i)&&a.push(c)}),a},Bd=function(e){return e?e.nodeType===9?e:e.ownerDocument:l_};vu.fn=vu.prototype={constructor:vu,selector:"",context:null,length:0,init:function(e,r){var a=this,i,c;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(r&&r.nodeType)a.context=r;else{if(r)return $n(e).attr(r);a.context=r=document}if(hy(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=yi.exec(e),i)if(i[1])for(c=Lp(e,Bd(r)).firstChild;c;)Ai.call(a,c),c=c.nextSibling;else{if(c=Bd(r).getElementById(i[2]),!c)return a;if(c.id!==i[2])return a.find(e);a.length=1,a[0]=c}else return $n(r).find(e);else this.add(e,!1);return a},toArray:function(){return mt.toArray(this)},add:function(e,r){var a=this,i,c;if(hy(e))return a.add($n(e));if(r!==!1)for(i=$n.unique(a.toArray().concat($n.makeArray(e))),a.length=i.length,c=0;c<i.length;c++)a[c]=i[c];else Ai.apply(a,$n.makeArray(e));return a},attr:function(e,r){var a=this,i;if(typeof e=="object")wo(e,function(c,f){a.attr(c,f)});else if(pc(r))this.each(function(){var c;if(this.nodeType===1){if(c=gy[e],c&&c.set){c.set(this,r);return}r===null?this.removeAttribute(e,2):this.setAttribute(e,r,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=gy[e],i&&i.get)return i.get(a[0],e);if($x[e])return a.prop(e)?e:void 0;r=a[0].getAttribute(e,2),r===null&&(r=void 0)}return r}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,r){var a=this;if(e=Hx[e]||e,typeof e=="object")wo(e,function(i,c){a.prop(i,c)});else if(pc(r))this.each(function(){this.nodeType===1&&(this[e]=r)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:r;return a},css:function(e,r){var a=this,i,c,f=function(y){return y.replace(/-(\D)/g,function(w,R){return R.toUpperCase()})},m=function(y){return y.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof e=="object")wo(e,function(y,w){a.css(y,w)});else if(pc(r))e=f(e),typeof r=="number"&&!Lx[e]&&(r=r.toString()+"px"),a.each(function(){var y=this.style;if(c=yy[e],c&&c.set){c.set(this,r);return}try{this.style[mk[e]||e]=r}catch{}(r===null||r==="")&&(y.removeProperty?y.removeProperty(m(e)):y.removeAttribute(e))});else{if(i=a[0],c=yy[e],c&&c.get)return c.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(m(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,r,a=this.length;a--;)r=e[a],as.clean(r),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=this,r,a=this.length;a--;)for(r=e[a];r.firstChild;)r.removeChild(r.firstChild);return this},html:function(e){var r=this,a;if(pc(e)){a=r.length;try{for(;a--;)r[a].innerHTML=e}catch{$n(r[a]).empty().append(e)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var r=this,a;if(pc(e)){for(a=r.length;a--;)"innerText"in r[a]?r[a].innerText=e:r[0].textContent=e;return r}return r[0]?r[0].innerText||r[0].textContent:""},append:function(){return $p(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return $p(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?$p(e,arguments,function(r){this.parentNode.insertBefore(r,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?$p(e,arguments,function(r){this.parentNode.insertBefore(r,this.nextSibling)},!0):e},appendTo:function(e){return $n(e).append(this),this},prependTo:function(e){return $n(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return pk(this,e)},wrapAll:function(e){return pk(this,e,!0)},wrapInner:function(e){return this.each(function(){$n(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){$n(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),$n(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,r){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?wo(e.split(" "),function(){a.toggleClass(this,r)}):a.each(function(i,c){var f=vk(c,e);if(f!==r){var m=c.className;f?c.className=Ac((" "+m+" ").replace(" "+e+" "," ")):c.className+=m?" "+e:e}})),a},hasClass:function(e){return vk(this[0],e)},each:function(e){return wo(this,e)},on:function(e,r){return this.each(function(){as.bind(this,e,r)})},off:function(e,r){return this.each(function(){as.unbind(this,e,r)})},trigger:function(e){return this.each(function(){typeof e=="object"?as.fire(this,e.type,e):as.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return $n(kv.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var r,a,i=[];for(r=0,a=this.length;r<a;r++)$n.find(e,this[r],i);return $n(i)},filter:function(e){return $n(typeof e=="function"?mc(this.toArray(),function(r,a){return e(a,r)}):$n.filter(e,this.toArray()))},closest:function(e){var r=[];return e instanceof $n&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&$n(i).is(e)){r.push(i);break}else if(i===e){r.push(i);break}i=i.parentNode}}),$n(r)},offset:function(e){var r,a,i,c=0,f=0,m;return e?this.css(e):(r=this[0],r&&(a=r.ownerDocument,i=a.documentElement,r.getBoundingClientRect&&(m=r.getBoundingClientRect(),c=m.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=m.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:c,top:f})},push:Ai,sort:Array.prototype.sort,splice:Array.prototype.splice},mt.extend(vu,{extend:mt.extend,makeArray:function(e){return ef(e)||e.nodeType?[e]:mt.toArray(e)},inArray:by,isArray:mt.isArray,each:wo,trim:Ac,grep:mc,find:Ya,expr:Ya.selectors,unique:Ya.uniqueSort,text:Ya.getText,contains:Ya.contains,filter:function(e,r,a){var i=r.length;for(a&&(e=":not("+e+")");i--;)r[i].nodeType!==1&&r.splice(i,1);return r.length===1?r=$n.find.matchesSelector(r[0],e)?[r[0]]:[]:r=$n.find.matches(e,r),r}});var d_=function(e,r,a){var i=[],c=e[r];for(typeof a!="string"&&a instanceof $n&&(a=a[0]);c&&c.nodeType!==9&&!(a!==void 0&&(c===a||typeof a=="string"&&$n(c).is(a)));)c.nodeType===1&&i.push(c),c=c[r];return i},_y=function(e,r,a,i){var c=[];for(i instanceof $n&&(i=i[0]);e;e=e[r])if(e.nodeType===a){if(i!==void 0&&(e===i||typeof i=="string"&&$n(e).is(i)))break;c.push(e)}return c},hk=function(e,r,a){for(e=e[r];e;e=e[r])if(e.nodeType===a)return e;return null};wo({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return d_(e,"parentNode")},next:function(e){return hk(e,"nextSibling",1)},prev:function(e){return hk(e,"previousSibling",1)},children:function(e){return _y(e.firstChild,"nextSibling",1)},contents:function(e){return mt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){vu.fn[e]=function(a){var i=this,c=[];i.each(function(){var m=r.call(c,this,a,c);m&&($n.isArray(m)?c.push.apply(c,m):c.push(m))}),this.length>1&&(Cv[e]||(c=$n.unique(c)),e.indexOf("parents")===0&&(c=c.reverse()));var f=$n(c);return a?f.filter(a):f}}),wo({parentsUntil:function(e,r){return d_(e,"parentNode",r)},nextUntil:function(e,r){return _y(e,"nextSibling",1,r).slice(1)},prevUntil:function(e,r){return _y(e,"previousSibling",1,r).slice(1)}},function(e,r){vu.fn[e]=function(a,i){var c=this,f=[];c.each(function(){var y=r.call(f,this,a,f);y&&($n.isArray(y)?f.push.apply(f,y):f.push(y))}),this.length>1&&(f=$n.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var m=$n(f);return i?m.filter(i):m}}),vu.fn.is=function(e){return!!e&&this.filter(e).length>0},vu.fn.init.prototype=vu.fn,vu.overrideDefaults=function(e){var r,a=function(i,c){return r=r||e(),arguments.length===0&&(i=r.element),c||(c=r.context),new a.fn.init(i,c)};return $n.extend(a,this),a},vu.attrHooks=gy,vu.cssHooks=yy;var $n=vu,Hp=mt.each,wy=mt.grep,v_=Zt.ie,Oi=/^([a-z0-9],?)+$/i,Oc=function(e,r,a){var i=r.keep_values,c={set:function(m,y,w){r.url_converter&&y!==null&&(y=r.url_converter.call(r.url_converter_scope||a(),y,w,m[0])),m.attr("data-mce-"+w,y).attr(w,y)},get:function(m,y){return m.attr("data-mce-"+y)||m.attr(y)}},f={style:{set:function(m,y){if(y!==null&&typeof y=="object"){m.css(y);return}i&&m.attr("data-mce-style",y),y!==null&&typeof y=="string"?(m.removeAttr("style"),m.css(e.parse(y))):m.attr("style",y)},get:function(m){var y=m.attr("data-mce-style")||m.attr("style");return y=e.serialize(e.parse(y),m[0].nodeName),y}}};return i&&(f.href=f.src=c),f},gk=function(e,r){var a=r.attr("style"),i=e.serialize(e.parse(a),r[0].nodeName);i||(i=null),r.attr("data-mce-style",i)},xv=function(e,r){var a=0,i,c;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)c=e.nodeType,!(r&&c===3&&(c===i||!e.nodeValue.length))&&(a++,i=c);return a},mo=function(e,r){r===void 0&&(r={});var a={},i=window,c={},f=0,m=!0,y=!0,w=Kc.forElement(x.fromDom(e),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),R=[],$=r.schema?r.schema:lc({}),V=Qc({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),j=r.ownEvents?new Bp:Bp.Event,re=$.getBlockElements(),ae=$n.overrideDefaults(function(){return{context:e,element:Pg.getRoot()}}),ie=function(Re){if(typeof Re=="string")return!!re[Re];if(Re){var lt=Re.nodeType;if(lt)return!!(lt===1&&re[Re.nodeName])}return!1},ue=function(Re){return Re&&e&&ke(Re)?e.getElementById(Re):Re},_e=function(Re){return ae(typeof Re=="string"?ue(Re):Re)},he=function(Re,lt,er){var mr,jn,$a=_e(Re);return $a.length&&(mr=uv[lt],mr&&mr.get?jn=mr.get($a,lt):jn=$a.attr(lt)),typeof jn>"u"&&(jn=er||""),jn},Xe=function(Re){var lt=ue(Re);return lt?lt.attributes:[]},Ve=function(Re,lt,er){er===""&&(er=null);var mr=_e(Re),jn=mr.attr(lt);if(mr.length){var $a=uv[lt];$a&&$a.set?$a.set(mr,er,lt):mr.attr(lt,er),jn!==er&&r.onSetAttrib&&r.onSetAttrib({attrElm:mr,attrName:lt,attrValue:er})}},Ee=function(Re,lt){if(!v_||Re.nodeType!==1||lt)return Re.cloneNode(lt);var er=e.createElement(Re.nodeName);return Hp(Xe(Re),function(mr){Ve(er,mr.nodeName,he(Re,mr.nodeName))}),er},tt=function(){return r.root_element||e.body},Tt=function(Re){var lt=Mf(Re);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Kt=function(Re,lt){return uh(e.body,ue(Re),lt)},nn=function(Re,lt,er){var mr=ke(lt)?_e(Re).css(lt,er):_e(Re).css(lt);r.update_styles&&gk(V,mr)},Cr=function(Re,lt){var er=_e(Re).css(lt);r.update_styles&&gk(V,er)},At=function(Re,lt,er){var mr=_e(Re);return er?mr.css(lt):(lt=lt.replace(/-(\D)/g,function(jn,$a){return $a.toUpperCase()}),lt==="float"&&(lt=Zt.browser.isIE()?"styleFloat":"cssFloat"),mr[0]&&mr[0].style?mr[0].style[lt]:void 0)},qr=function(Re){var lt,er;return Re=ue(Re),lt=At(Re,"width"),er=At(Re,"height"),lt.indexOf("px")===-1&&(lt=0),er.indexOf("px")===-1&&(er=0),{w:parseInt(lt,10)||Re.offsetWidth||Re.clientWidth,h:parseInt(er,10)||Re.offsetHeight||Re.clientHeight}},Jt=function(Re){Re=ue(Re);var lt=Kt(Re),er=qr(Re);return{x:lt.x,y:lt.y,w:er.w,h:er.h}},wr=function(Re,lt){var er;if(!Re)return!1;if(!Array.isArray(Re)){if(lt==="*")return Re.nodeType===1;if(Oi.test(lt)){var mr=lt.toLowerCase().split(/,/),jn=Re.nodeName.toLowerCase();for(er=mr.length-1;er>=0;er--)if(mr[er]===jn)return!0;return!1}if(Re.nodeType&&Re.nodeType!==1)return!1}var $a=Array.isArray(Re)?Re:[Re];return Ya(lt,$a[0].ownerDocument||$a[0],null,$a).length>0},Qt=function(Re,lt,er,mr){var jn=[],$a,Io=ue(Re);for(mr=mr===void 0,er=er||(tt().nodeName!=="BODY"?tt().parentNode:null),mt.is(lt,"string")&&($a=lt,lt==="*"?lt=function(eh){return eh.nodeType===1}:lt=function(eh){return wr(eh,$a)});Io&&!(Io===er||$e(Io.nodeType)||ih(Io)||Ln(Io));){if(!lt||typeof lt=="function"&&lt(Io))if(mr)jn.push(Io);else return[Io];Io=Io.parentNode}return mr?jn:null},pr=function(Re,lt,er){var mr=Qt(Re,lt,er,!1);return mr&&mr.length>0?mr[0]:null},Or=function(Re,lt,er){var mr=lt;if(Re){for(typeof lt=="string"&&(mr=function(jn){return wr(jn,lt)}),Re=Re[er];Re;Re=Re[er])if(typeof mr=="function"&&mr(Re))return Re}return null},Ut=function(Re,lt){return Or(Re,lt,"nextSibling")},Er=function(Re,lt){return Or(Re,lt,"previousSibling")},ea=function(Re,lt){return Ya(Re,ue(lt)||r.root_element||e,[])},Pa=function(Re,lt,er){var mr,jn=typeof Re=="string"?ue(Re):Re;if(!jn)return!1;if(mt.isArray(jn)&&(jn.length||jn.length===0))return mr=[],Hp(jn,function(Io,eh){Io&&mr.push(lt.call(er,typeof Io=="string"?ue(Io):Io,eh))}),mr;var $a=er||this;return lt.call($a,jn)},Ma=function(Re,lt){_e(Re).each(function(er,mr){Hp(lt,function(jn,$a){Ve(mr,$a,jn)})})},wu=function(Re,lt){var er=_e(Re);v_?er.each(function(mr,jn){if(jn.canHaveHTML!==!1){for(;jn.firstChild;)jn.removeChild(jn.firstChild);try{jn.innerHTML="<br>"+lt,jn.removeChild(jn.firstChild)}catch{$n("<div></div>").html("<br>"+lt).contents().slice(1).appendTo(jn)}return lt}}):er.html(lt)},Go=function(Re,lt,er,mr,jn){return Pa(Re,function($a){var Io=typeof lt=="string"?e.createElement(lt):lt;return Ma(Io,er),mr&&(typeof mr!="string"&&mr.nodeType?Io.appendChild(mr):typeof mr=="string"&&wu(Io,mr)),jn?Io:$a.appendChild(Io)})},Ds=function(Re,lt,er){return Go(e.createElement(Re),Re,lt,er,!0)},Hc=cc.decode,jt=cc.encodeAllRaw,ir=function(Re,lt,er){var mr="",jn;mr+="<"+Re;for(jn in lt)xo(lt,jn)&&(mr+=" "+jn+'="'+jt(lt[jn])+'"');return typeof er<"u"?mr+">"+er+"</"+Re+">":mr+" />"},Gr=function(Re){var lt,er=e.createElement("div"),mr=e.createDocumentFragment();for(mr.appendChild(er),Re&&(er.innerHTML=Re);lt=er.firstChild;)mr.appendChild(lt);return mr.removeChild(er),mr},nt=function(Re,lt){var er=_e(Re);return lt?er.each(function(){for(var mr;mr=this.firstChild;)mr.nodeType===3&&mr.data.length===0?this.removeChild(mr):this.parentNode.insertBefore(mr,this)}).remove():er.remove(),er.length>1?er.toArray():er[0]},Yt=function(Re){return Pa(Re,function(lt){var er,mr=lt.attributes;for(er=mr.length-1;er>=0;er--)lt.removeAttributeNode(mr.item(er))})},qt=function(Re){return V.parse(Re)},Yr=function(Re,lt){return V.serialize(Re,lt)},rn=function(Re){var lt,er;if(Pg!==mo.DOM&&e===document){if(a[Re])return;a[Re]=!0}er=e.getElementById("mceDefaultStyles"),er||(er=e.createElement("style"),er.id="mceDefaultStyles",er.type="text/css",lt=e.getElementsByTagName("head")[0],lt.firstChild?lt.insertBefore(er,lt.firstChild):lt.appendChild(er)),er.styleSheet?er.styleSheet.cssText+=Re:er.appendChild(e.createTextNode(Re))},so=function(Re){Re||(Re=""),je(Re.split(","),function(lt){c[lt]=!0,w.load(lt,U)})},ru=function(Re,lt,er){_e(Re).toggleClass(lt,er).each(function(){this.className===""&&$n(this).attr("class",null)})},ji=function(Re,lt){_e(Re).addClass(lt)},ps=function(Re,lt){ru(Re,lt,!1)},ms=function(Re,lt){return _e(Re).hasClass(lt)},Zs=function(Re){_e(Re).show()},Wi=function(Re){_e(Re).hide()},fl=function(Re){return _e(Re).css("display")==="none"},Js=function(Re){return(Re||"mce_")+f++},iv=function(Re){var lt=typeof Re=="string"?ue(Re):Re;return hn(lt)?lt.outerHTML:$n("<div></div>").append($n(lt).clone()).html()},Fa=function(Re,lt){_e(Re).each(function(){try{if("outerHTML"in this){this.outerHTML=lt;return}}catch{}nt($n(this).html(lt),!0)})},ko=function(Re,lt){var er=ue(lt);return Pa(Re,function(mr){var jn=er.parentNode,$a=er.nextSibling;return $a?jn.insertBefore(mr,$a):jn.appendChild(mr),mr})},nu=function(Re,lt,er){return Pa(lt,function(mr){return mt.is(mr,"array")&&(Re=Re.cloneNode(!0)),er&&Hp(wy(mr.childNodes),function(jn){Re.appendChild(jn)}),mr.parentNode.replaceChild(Re,mr)})},ld=function(Re,lt){var er;return Re.nodeName!==lt.toUpperCase()&&(er=Ds(lt),Hp(Xe(Re),function(mr){Ve(er,mr.nodeName,he(Re,mr.nodeName))}),nu(er,Re,!0)),er||Re},fd=function(Re,lt){for(var er=Re,mr;er;){for(mr=lt;mr&&er!==mr;)mr=mr.parentNode;if(er===mr)break;er=er.parentNode}return!er&&Re.ownerDocument?Re.ownerDocument.documentElement:er},dd=function(Re){return V.toHex(mt.trim(Re))},Qm=function(Re){if(hn(Re)){var lt=Re.nodeName.toLowerCase()==="a"&&!he(Re,"href")&&he(Re,"id");if(he(Re,"name")||he(Re,"data-mce-bookmark")||lt)return!0}return!1},mz=function(Re,lt){var er,mr,jn=0;if(Qm(Re))return!1;if(Re=Re.firstChild,Re){var $a=new Ua(Re,Re.parentNode),Io=$?$.getWhiteSpaceElements():{};lt=lt||($?$.getNonEmptyElements():null);do{if(er=Re.nodeType,hn(Re)){var eh=Re.getAttribute("data-mce-bogus");if(eh){Re=$a.next(eh==="all");continue}if(mr=Re.nodeName.toLowerCase(),lt&&lt[mr]){if(mr==="br"){jn++,Re=$a.next();continue}return!1}if(Qm(Re))return!1}if(er===8||er===3&&!Yc(Re.nodeValue)||er===3&&Re.parentNode&&Io[Re.parentNode.nodeName]&&Yc(Re.nodeValue))return!1;Re=$a.next()}while(Re)}return jn<=1},hz=function(){return e.createRange()},F7=function(Re,lt,er){var mr=hz(),jn,$a,Io;if(Re&&lt)return mr.setStart(Re.parentNode,xv(Re)),mr.setEnd(lt.parentNode,xv(lt)),jn=mr.extractContents(),mr=hz(),mr.setStart(lt.parentNode,xv(lt)+1),mr.setEnd(Re.parentNode,xv(Re)+1),$a=mr.extractContents(),Io=Re.parentNode,Io.insertBefore(X1(Pg,jn),Re),er?Io.insertBefore(er,Re):Io.insertBefore(lt,Re),Io.insertBefore(X1(Pg,$a),Re),nt(Re),er||lt},ix=function(Re,lt,er,mr){if(mt.isArray(Re)){for(var jn=Re.length,$a=[];jn--;)$a[jn]=ix(Re[jn],lt,er,mr);return $a}r.collect&&(Re===e||Re===i)&&R.push([Re,lt,er,mr]);var Io=j.bind(Re,lt,er,mr||Pg);return Io},ux=function(Re,lt,er){if(mt.isArray(Re)){for(var mr=Re.length,jn=[];mr--;)jn[mr]=ux(Re[mr],lt,er);return jn}else{if(R.length>0&&(Re===e||Re===i))for(var mr=R.length;mr--;){var $a=R[mr];Re===$a[0]&&(!lt||lt===$a[1])&&(!er||er===$a[2])&&j.unbind($a[0],$a[1],$a[2])}return j.unbind(Re,lt,er)}},I7=function(Re,lt,er){return j.fire(Re,lt,er)},mD=function(Re){if(Re&&hn(Re)){var lt=Re.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:Re.contentEditable!=="inherit"?Re.contentEditable:null}else return null},L7=function(Re){for(var lt=tt(),er=null;Re&&Re!==lt&&(er=mD(Re),er===null);Re=Re.parentNode);return er},$7=function(){if(R.length>0)for(var Re=R.length;Re--;){var lt=R[Re];j.unbind(lt[0],lt[1],lt[2])}xn(c,function(er,mr){w.unload(mr),delete c[mr]}),Ya.setDocument&&Ya.setDocument()},H7=function(Re,lt){if(v_){for(;Re;){if(lt===Re)return!0;Re=Re.parentNode}return!1}else return Re===lt||lt.contains(Re)},V7=function(Re){return"startContainer: "+Re.startContainer.nodeName+", startOffset: "+Re.startOffset+", endContainer: "+Re.endContainer.nodeName+", endOffset: "+Re.endOffset},Pg={doc:e,settings:r,win:i,files:c,stdMode:m,boxModel:y,styleSheetLoader:w,boundEvents:R,styles:V,schema:$,events:j,isBlock:ie,$:ae,$$:_e,root:null,clone:Ee,getRoot:tt,getViewPort:Tt,getRect:Jt,getSize:qr,getParent:pr,getParents:Qt,get:ue,getNext:Ut,getPrev:Er,select:ea,is:wr,add:Go,create:Ds,createHTML:ir,createFragment:Gr,remove:nt,setStyle:nn,getStyle:At,setStyles:Cr,removeAllAttribs:Yt,setAttrib:Ve,setAttribs:Ma,getAttrib:he,getPos:Kt,parseStyle:qt,serializeStyle:Yr,addStyle:rn,loadCSS:so,addClass:ji,removeClass:ps,hasClass:ms,toggleClass:ru,show:Zs,hide:Wi,isHidden:fl,uniqueId:Js,setHTML:wu,getOuterHTML:iv,setOuterHTML:Fa,decode:Hc,encode:jt,insertAfter:ko,replace:nu,rename:ld,findCommonAncestor:fd,toHex:dd,run:Pa,getAttribs:Xe,isEmpty:mz,createRng:hz,nodeIndex:xv,split:F7,bind:ix,unbind:ux,fire:I7,getContentEditable:mD,getContentEditableParent:L7,destroy:$7,isChildOf:H7,dumpRng:V7},uv=Oc(V,r,X(Pg));return Pg};mo.DOM=mo(document),mo.nodeIndex=xv;var Sv=mo.DOM,ky=mt.each,Vp=mt.grep,p_=0,yk=1,xh=2,bk=3,jf=function(){function e(r){r===void 0&&(r={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=r}return e.prototype._setReferrerPolicy=function(r){this.settings.referrerPolicy=r},e.prototype.loadScript=function(r,a,i){var c=Sv,f,m=function(){c.remove(R),f&&(f.onerror=f.onload=f=null)},y=function(){m(),a()},w=function(){m(),ce(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+r)},R=c.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=mt._addCacheSuffix(r),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=y,f.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(r){return this.states[r]===xh},e.prototype.markDone=function(r){this.states[r]=xh},e.prototype.add=function(r,a,i,c){var f=this.states[r];this.queue.push(r),f===void 0&&(this.states[r]=p_),a&&(this.scriptLoadedCallbacks[r]||(this.scriptLoadedCallbacks[r]=[]),this.scriptLoadedCallbacks[r].push({success:a,failure:c,scope:i||this}))},e.prototype.load=function(r,a,i,c){return this.add(r,a,i,c)},e.prototype.remove=function(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]},e.prototype.loadQueue=function(r,a,i){this.loadScripts(this.queue,r,a,i)},e.prototype.loadScripts=function(r,a,i,c){var f=this,m=[],y=function(R,$){ky(f.scriptLoadedCallbacks[$],function(V){ce(V[R])&&V[R].call(V.scope)}),f.scriptLoadedCallbacks[$]=void 0};f.queueLoadedCallbacks.push({success:a,failure:c,scope:i||this});var w=function(){var R=Vp(r);if(r.length=0,ky(R,function(V){if(f.states[V]===xh){y("success",V);return}if(f.states[V]===bk){y("failure",V);return}f.states[V]!==yk&&(f.states[V]=yk,f.loading++,f.loadScript(V,function(){f.states[V]=xh,f.loading--,y("success",V),w()},function(){f.states[V]=bk,f.loading--,m.push(V),y("failure",V),w()}))}),!f.loading){var $=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,ky($,function(V){m.length===0?ce(V.success)&&V.success.call(V.scope):ce(V.failure)&&V.failure.call(V.scope,m)})}};w()},e.ScriptLoader=new e,e}(),os=function(e){var r=e,a=function(){return r},i=function(c){r=c};return{get:a,set:i}},m_=function(e){return J(e)&&Sn(e,"raw")},Vx=function(e){return Fe(e)&&e.length>1},Sl={},Wf=os("en"),Cy=function(){return Kn(Sl,Wf.get())},Ux=function(){return Co(Sl,function(e){return Lr({},e)})},jx=function(e){e&&Wf.set(e)},Tv=function(){return Wf.get()},Ev=function(e,r){var a=Sl[e];a||(Sl[e]=a={}),xn(r,function(i,c){a[c.toLowerCase()]=i})},xy=function(e){var r=Cy().getOr({}),a=function(w){return ce(w)?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||w===void 0},c=function(w){var R=a(w);return Kn(r,R.toLowerCase()).map(a).getOr(R)},f=function(w){return w.replace(/{context:\w+}$/,"")};if(i(e))return"";if(m_(e))return a(e.raw);if(Vx(e)){var m=e.slice(1),y=c(e[0]).replace(/\{([0-9]+)\}/g,function(w,R){return Sn(m,R)?a(m[R]):w});return f(y)}return f(c(e))},Ra=function(){return Cy().bind(function(e){return Kn(e,"_dir")}).exists(function(e){return e==="rtl"})},Ri=function(e){return Sn(Sl,e)},is={getData:Ux,setCode:jx,getCode:Tv,add:Ev,translate:xy,isRtl:Ra,hasCode:Ri},Ss=function(){var e=[],r={},a={},i=[],c=function(ie,ue){var _e=Xt(i,function(he){return he.name===ie&&he.state===ue});je(_e,function(he){return he.callback()})},f=function(ie){if(a[ie])return a[ie].instance},m=function(ie){var ue;return a[ie]&&(ue=a[ie].dependencies),ue||[]},y=function(ie,ue){Ss.languageLoad!==!1&&ae(ie,function(){var _e=is.getCode(),he=","+(ue||"")+",";!_e||ue&&he.indexOf(","+_e+",")===-1||jf.ScriptLoader.add(r[ie]+"/langs/"+_e+".js")},"loaded")},w=function(ie,ue,_e){var he=ue;return e.push(he),a[ie]={instance:he,dependencies:_e},c(ie,"added"),he},R=function(ie){delete r[ie],delete a[ie]},$=function(ie,ue){return typeof ue=="object"?ue:typeof ie=="string"?{prefix:"",resource:ue,suffix:""}:{prefix:ie.prefix,resource:ue,suffix:ie.suffix}},V=function(ie,ue){var _e=r[ie];je(ue,function(he){jf.ScriptLoader.add(_e+"/"+he)})},j=function(ie,ue,_e,he){var Xe=m(ie);je(Xe,function(Ve){var Ee=$(ue,Ve);re(Ee.resource,Ee,void 0,void 0)}),_e&&(he?_e.call(he):_e.call(jf))},re=function(ie,ue,_e,he,Xe){if(!r[ie]){var Ve=typeof ue=="string"?ue:ue.prefix+ue.resource+ue.suffix;Ve.indexOf("/")!==0&&Ve.indexOf("://")===-1&&(Ve=Ss.baseURL+"/"+Ve),r[ie]=Ve.substring(0,Ve.lastIndexOf("/"));var Ee=function(){c(ie,"loaded"),j(ie,ue,_e,he)};a[ie]?Ee():jf.ScriptLoader.add(Ve,Ee,he,Xe)}},ae=function(ie,ue,_e){_e===void 0&&(_e="added"),Sn(a,ie)&&_e==="added"||Sn(r,ie)&&_e==="loaded"?ue():i.push({name:ie,state:_e,callback:ue})};return{items:e,urls:r,lookup:a,_listeners:i,get:f,dependencies:m,requireLangPack:y,add:w,remove:R,createUrl:$,addComponents:V,load:re,waitFor:ae}};Ss.languageLoad=!0,Ss.baseURL="",Ss.PluginManager=Ss(),Ss.ThemeManager=Ss();var uo=function(e){var r=os(oe.none()),a=function(){return r.get().each(e)},i=function(){a(),r.set(oe.none())},c=function(){return r.get().isSome()},f=function(){return r.get()},m=function(y){a(),r.set(oe.some(y))};return{clear:i,isSet:c,get:f,set:m}},Nd=function(){var e=uo(U),r=function(a){return e.get().each(a)};return Lr(Lr({},e),{on:r})},Sy=function(e,r){var a=null,i=function(){se(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];se(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},r))};return{cancel:i,throttle:c}},$i=function(e,r){var a=null,i=function(){se(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];i(),a=setTimeout(function(){a=null,e.apply(null,f)},r)};return{cancel:i,throttle:c}},tf=function(e,r){var a=K(e,r);return a===void 0||a===""?[]:a.split(" ")},Wx=function(e,r,a){var i=tf(e,r),c=i.concat([a]);return z(e,r,c.join(" ")),!0},qx=function(e,r,a){var i=Xt(tf(e,r),function(c){return c!==a});return i.length>0?z(e,r,i.join(" ")):_t(e,r),!1},Ty=function(e){return e.dom.classList!==void 0},Ey=function(e){return tf(e,"class")},h_=function(e,r){return Wx(e,"class",r)},g_=function(e,r){return qx(e,"class",r)},zv=function(e,r){Ty(e)?e.dom.classList.add(r):h_(e,r)},Sh=function(e){var r=Ty(e)?e.dom.classList:Ey(e);r.length===0&&_t(e,"class")},y_=function(e,r){if(Ty(e)){var a=e.dom.classList;a.remove(r)}else g_(e,r);Sh(e)},b_=function(e,r){return Ty(e)&&e.dom.classList.contains(r)},Up=function(e,r){var a=[];return je(Iu(e),function(i){r(i)&&(a=a.concat([i])),a=a.concat(Up(i,r))}),a},pu=function(e,r){return En(r,e)},qs=X("mce-annotation"),Th=X("data-mce-annotation"),Di=X("data-mce-annotation-uid"),zy=function(e,r){var a=e.selection.getRng(),i=x.fromDom(a.startContainer),c=x.fromDom(e.getBody()),f=r.fold(function(){return"."+qs()},function(R){return"["+Th()+'="'+R+'"]'}),m=ml(i,a.startOffset).getOr(i),y=ri(m,f,function(R){return an(R,c)}),w=function(R,$){return We(R,$)?oe.some(K(R,$)):oe.none()};return y.bind(function(R){return w(R,""+Di()).bind(function($){return w(R,""+Th()).map(function(V){var j=__(e,$);return{uid:$,name:V,elements:j}})})})},qf=function(e){return bo(e)&&b_(e,qs())},__=function(e,r){var a=x.fromDom(e.getBody());return pu(a,"["+Di()+'="'+r+'"]')},w_=function(e,r){var a=x.fromDom(e.getBody()),i=pu(a,"["+Th()+'="'+r+'"]'),c={};return je(i,function(f){var m=K(f,Di()),y=Kn(c,m).getOr([]);c[m]=y.concat([f])}),c},_k=function(e,r){var a=os({}),i=function(){return{listeners:[],previous:Nd()}},c=function($,V){f($,function(j){return V(j),j})},f=function($,V){var j=a.get(),re=Kn(j,$).getOrThunk(i),ae=V(re);j[$]=ae,a.set(j)},m=function($,V,j){c($,function(re){je(re.listeners,function(ae){return ae(!0,$,{uid:V,nodes:Ne(j,function(ie){return ie.dom})})})})},y=function($){c($,function(V){je(V.listeners,function(j){return j(!1,$)})})},w=$i(function(){var $=a.get(),V=Zn(ao($));je(V,function(j){f(j,function(re){var ae=re.previous.get();return zy(e,oe.some(j)).fold(function(){ae.isSome()&&(y(j),re.previous.clear())},function(ie){var ue=ie.uid,_e=ie.name,he=ie.elements;lv(ae,ue)||(m(_e,ue,he),re.previous.set(ue))}),{previous:re.previous,listeners:re.listeners}})})},30);e.on("remove",function(){w.cancel()}),e.on("NodeChange",function(){w.throttle()});var R=function($,V){f($,function(j){return{previous:j.previous,listeners:j.listeners.concat([V])}})};return{addListener:R}},k_=function(e,r){var a=function(i){return oe.from(i.attr(Th())).bind(r.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){je(i,function(c){a(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},Eh=function(){var e={},r=function(i,c){e[i]={name:i,settings:c}},a=function(i){return Kn(e,i).map(function(c){return c.settings})};return{register:r,lookup:a}},Ay=0,wk=function(e){var r=new Date,a=r.getTime(),i=Math.floor(Math.random()*1e9);return Ay++,e+"_"+i+Ay+String(a)},Gx=function(e,r){je(r,function(a){zv(e,a)})},Mu=function(e,r){var a=r||document,i=a.createElement("div");return i.innerHTML=e,Iu(x.fromDom(i))},Hi=function(e){return Ne(e,x.fromDom)},us=function(e){return e.dom.innerHTML},ss=function(e,r){var a=Wc(e),i=a.dom,c=x.fromDom(i.createDocumentFragment()),f=Mu(r,i);zf(c,f),Af(e),Ti(e,c)},Ts=function(e,r){return x.fromDom(e.dom.cloneNode(r))},bi=function(e){return Ts(e,!1)},Oy=function(e){return Ts(e,!0)},Ry=function(e,r,a){a===void 0&&(a=Wt);var i=new Ua(e,r),c=function(f){var m;do m=i[f]();while(m&&!zr(m)&&!a(m));return oe.from(m).filter(zr)};return{current:function(){return oe.from(i.current()).filter(zr)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},C_=function(e,r){var a=r||function(m){return e.isBlock(m)||eo(m)||_o(m)},i=function(m,y,w,R){if(zr(m)){var $=R(m,y,m.data);if($!==-1)return oe.some({container:m,offset:$})}return w().bind(function(V){return i(V.container,V.offset,w,R)})},c=function(m,y,w,R){var $=Ry(m,R,a);return i(m,y,function(){return $.prev().map(function(V){return{container:V,offset:V.length}})},w).getOrNull()},f=function(m,y,w,R){var $=Ry(m,R,a);return i(m,y,function(){return $.next().map(function(V){return{container:V,offset:0}})},w).getOrNull()};return{backwards:c,forwards:f}},Av=Math.round,Pd=function(e){return e?{left:Av(e.left),top:Av(e.top),bottom:Av(e.bottom),right:Av(e.right),width:Av(e.width),height:Av(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Dy=function(e,r){return e=Pd(e),r||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},My=function(e,r){return e.left===r.left&&e.top===r.top&&e.bottom===r.bottom&&e.right===r.right},By=function(e,r,a){return e>=0&&e<=Math.min(r.height,a.height)/2},jp=function(e,r){var a=Math.min(r.height/2,e.height/2);return e.bottom-a<r.top?!0:e.top>r.bottom?!1:By(r.top-e.bottom,e,r)},Wp=function(e,r){return e.top>r.bottom?!0:e.bottom<r.top?!1:By(r.bottom-e.top,e,r)},kk=function(e,r,a){return r>=e.left&&r<=e.right&&a>=e.top&&a<=e.bottom},rf=function(e,r,a){return Math.min(Math.max(e,r),a)},Ov=function(e){var r=e.startContainer,a=e.startOffset;return r.hasChildNodes()&&e.endOffset===a+1?r.childNodes[a]:null},Oo=function(e,r){if(hn(e)&&e.hasChildNodes()){var a=e.childNodes,i=rf(r,0,a.length-1);return a[i]}else return e},Kx=function(e,r){if(!(r<0&&hn(e)&&e.hasChildNodes()))return Oo(e,r)},Xx=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ny=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Xx.test(e)},Yx=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},Ck=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},sr=hn,Zx=Kl,Mi=es("display","block table"),x_=es("float","left right"),Rv=Ck(sr,Zx,Xn(x_)),xk=Xn(es("white-space","pre pre-line pre-wrap")),Hu=zr,zh=eo,Py=mo.nodeIndex,Ah=Kx,Tl=function(e){return"createRange"in e?e.createRange():mo.DOM.createRng()},Oh=function(e){return e&&/[\r\n\t ]/.test(e)},Rh=function(e){return!!e.setStart&&!!e.setEnd},cs=function(e){var r=e.startContainer,a=e.startOffset;if(Oh(e.toString())&&xk(r.parentNode)&&zr(r)){var i=r.data;if(Oh(i[a-1])||Oh(i[a+1]))return!0}return!1},El=function(e){var r=e.ownerDocument,a=Tl(r),i=r.createTextNode(Vs),c=e.parentNode;c.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Pd(a.getBoundingClientRect());return c.removeChild(i),f},Sk=function(e){var r=e.startContainer,a=e.endContainer,i=e.startOffset,c=e.endOffset;if(r===a&&zr(a)&&i===0&&c===1){var f=e.cloneRange();return f.setEndAfter(a),nf(f)}else return null},Vu=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},nf=function(e){var r,a=e.getClientRects();return a.length>0?r=Pd(a[0]):r=Pd(e.getBoundingClientRect()),!Rh(e)&&zh(e)&&Vu(r)?El(e):Vu(r)&&Rh(e)?Sk(e):r},Fd=function(e,r){var a=Dy(e,r);return a.width=1,a.right=a.left+1,a},Dh=function(e){var r=[],a=function(w){w.height!==0&&(r.length>0&&My(w,r[r.length-1])||r.push(w))},i=function(w,R){var $=Tl(w.ownerDocument);if(R<w.data.length){if(Ny(w.data[R]))return r;if(Ny(w.data[R-1])&&($.setStart(w,R),$.setEnd(w,R+1),!cs($)))return a(Fd(nf($),!1)),r}R>0&&($.setStart(w,R-1),$.setEnd(w,R),cs($)||a(Fd(nf($),!1))),R<w.data.length&&($.setStart(w,R),$.setEnd(w,R+1),cs($)||a(Fd(nf($),!0)))},c=e.container(),f=e.offset();if(Hu(c))return i(c,f),r;if(sr(c))if(e.isAtEnd()){var m=Ah(c,f);Hu(m)&&i(m,m.data.length),Rv(m)&&!zh(m)&&a(Fd(nf(m),!1))}else{var m=Ah(c,f);if(Hu(m)&&i(m,0),Rv(m)&&e.isAtEnd())return a(Fd(nf(m),!1)),r;var y=Ah(e.container(),e.offset()-1);Rv(y)&&!zh(y)&&(Mi(y)||Mi(m)||!Rv(m))&&a(Fd(nf(y),!1)),Rv(m)&&a(Fd(nf(m),!0))}return r},vt=function(e,r,a){var i=function(){return Hu(e),r===0},c=function(){return Hu(e)?r>=e.data.length:r>=e.childNodes.length},f=function(){var $=Tl(e.ownerDocument);return $.setStart(e,r),$.setEnd(e,r),$},m=function(){return a||(a=Dh(vt(e,r))),a},y=function(){return m().length>0},w=function($){return $&&e===$.container()&&r===$.offset()},R=function($){return Ah(e,$?r-1:r)};return{container:X(e),offset:X(r),toRange:f,getClientRects:m,isVisible:y,isAtStart:i,isAtEnd:c,isEqual:w,getNode:R}};vt.fromRangeStart=function(e){return vt(e.startContainer,e.startOffset)},vt.fromRangeEnd=function(e){return vt(e.endContainer,e.endOffset)},vt.after=function(e){return vt(e.parentNode,Py(e)+1)},vt.before=function(e){return vt(e.parentNode,Py(e))},vt.isAbove=function(e,r){return Lu(ga(r.getClientRects()),Rn(e.getClientRects()),jp).getOr(!1)},vt.isBelow=function(e,r){return Lu(Rn(r.getClientRects()),ga(e.getClientRects()),Wp).getOr(!1)},vt.isAtStart=function(e){return e?e.isAtStart():!1},vt.isAtEnd=function(e){return e?e.isAtEnd():!1},vt.isTextPosition=function(e){return e?zr(e.container()):!1},vt.isElementPosition=function(e){return vt.isTextPosition(e)===!1};var Gf=function(e,r){zr(r)&&r.data.length===0&&e.remove(r)},qp=function(e,r,a){r.insertNode(a),Gf(e,a.previousSibling),Gf(e,a.nextSibling)},Jx=function(e,r,a){var i=oe.from(a.firstChild),c=oe.from(a.lastChild);r.insertNode(a),i.each(function(f){return Gf(e,f.previousSibling)}),c.each(function(f){return Gf(e,f.nextSibling)})},Fy=function(e,r,a){Ln(a)?Jx(e,r,a):qp(e,r,a)},tl=zr,Iy=ti,S_=mo.nodeIndex,T_=function(e){var r=e.parentNode;return Iy(r)?T_(r):r},Ly=function(e){return e?Gi(e.childNodes,function(r,a){return Iy(a)&&a.nodeName!=="BR"?r=r.concat(Ly(a)):r.push(a),r},[]):[]},E_=function(e,r){for(;(e=e.previousSibling)&&tl(e);)r+=e.data.length;return r},z_=function(e){return function(r){return e===r}},A_=function(e){var r,a;r=Ly(T_(e)),a=ra(r,z_(e),e),r=r.slice(0,a+1);var i=Gi(r,function(c,f,m){return tl(f)&&tl(r[m-1])&&c++,c},0);return r=Qo(r,nc([e.nodeName])),a=ra(r,z_(e),e),a-i},O_=function(e){var r;return tl(e)?r="text()":r=e.nodeName.toLowerCase(),r+"["+A_(e)+"]"},Dv=function(e,r,a){var i=[];for(r=r.parentNode;r!==e;r=r.parentNode)i.push(r);return i},Tk=function(e,r){var a,i,c=[],f,m,y;return a=r.container(),i=r.offset(),tl(a)?f=E_(a,i):(m=a.childNodes,i>=m.length?(f="after",i=m.length-1):f="before",a=m[i]),c.push(O_(a)),y=Dv(e,a),y=Qo(y,Xn(ti)),c=c.concat(qi(y,function(w){return O_(w)})),c.reverse().join("/")+","+f},Qx=function(e,r,a){var i=Ly(e);return i=Qo(i,function(c,f){return!tl(c)||!tl(i[f-1])}),i=Qo(i,nc([r])),i[a]},eS=function(e,r){for(var a=e,i=0,c;tl(a);){if(c=a.data.length,r>=i&&r<=i+c){e=a,r=r-i;break}if(!tl(a.nextSibling)){e=a,r=c;break}i+=c,a=a.nextSibling}return tl(e)&&r>e.data.length&&(r=e.data.length),vt(e,r)},Gp=function(e,r){var a;if(!r)return null;var i=r.split(","),c=i[0].split("/");a=i.length>1?i[1]:"before";var f=Gi(c,function(m,y){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);return w?(w[1]==="text()"&&(w[1]="#text"),Qx(m,w[1],parseInt(w[2],10))):null},e);return f?tl(f)?eS(f,parseInt(a,10)):(a==="after"?a=S_(f)+1:a=S_(f),vt(f.parentNode,a)):null},Kp=_o,$y=function(e,r,a){var i,c;for(c=e(r.data.slice(0,a)).length,i=r.previousSibling;i&&zr(i);i=i.previousSibling)c+=e(i.data).length;return c},R_=function(e,r,a,i,c){var f=i[c?"startContainer":"endContainer"],m=i[c?"startOffset":"endOffset"],y=[],w,R=0,$=e.getRoot();for(zr(f)?y.push(a?$y(r,f,m):m):(w=f.childNodes,m>=w.length&&w.length&&(R=1,m=Math.max(0,w.length-1)),y.push(e.nodeIndex(w[m],a)+R));f&&f!==$;f=f.parentNode)y.push(e.nodeIndex(f,a));return y},Xp=function(e,r,a,i){var c=r.dom,f={};return f.start=R_(c,e,a,i,!0),r.isCollapsed()||(f.end=R_(c,e,a,i,!1)),Gl(i)&&(f.isFakeCaret=!0),f},D_=function(e,r,a){var i=0;return mt.each(e.select(r),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===a)return!1;i++}}),i},Yo=function(e,r){var a,i,c,f=r?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],hn(a)&&a.nodeName==="TR"&&(c=a.childNodes,a=c[Math.min(r?i:i-1,c.length-1)],a&&(i=r?0:a.childNodes.length,e["set"+(r?"Start":"End")](a,i)))},Mh=function(e){return Yo(e,!0),Yo(e,!1),e},ni=function(e,r){var a;if(hn(e)&&(e=Oo(e,r),Kp(e)))return e;if(xs(e)&&(zr(e)&&to(e)&&(e=e.parentNode),a=e.previousSibling,Kp(a)||(a=e.nextSibling,Kp(a))))return a},Hy=function(e){return ni(e.startContainer,e.startOffset)||ni(e.endContainer,e.endOffset)},Mv=function(e,r,a){var i=a.getNode(),c=i?i.nodeName:null,f=a.getRng();if(Kp(i)||c==="IMG")return{name:c,index:D_(a.dom,c,i)};var m=Hy(f);return m?(c=m.tagName,{name:c,index:D_(a.dom,c,m)}):Xp(e,a,r,f)},M_=function(e){var r=e.getRng();return{start:Tk(e.dom.getRoot(),vt.fromRangeStart(r)),end:Tk(e.dom.getRoot(),vt.fromRangeEnd(r))}},Bh=function(e){return{rng:e.getRng()}},B_=function(e,r,a){var i={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Ek=function(e,r){var a=e.dom,i=e.getRng(),c=a.uniqueId(),f=e.isCollapsed(),m=e.getNode(),y=m.nodeName;if(y==="IMG")return{name:y,index:D_(a,y,m)};var w=Mh(i.cloneRange());if(!f){w.collapse(!1);var R=B_(a,c+"_end",r);Fy(a,w,R)}i=Mh(i),i.collapse(!0);var $=B_(a,c+"_start",r);return Fy(a,i,$),e.moveToBookmark({id:c,keep:!0}),{id:c}},tS=function(e,r,a){return r===2?Mv(Cs,a,e):r===3?M_(e):r?Bh(e):Ek(e,!1)},zk=St(Mv,Lt,!0),rS=mo.DOM,Vy="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Nh=function(e,r,a){var i=e.getParam(r,a);if(i.indexOf("=")!==-1){var c=e.getParam(r,"","hash");return Kn(c,e.id).getOr(a)}else return i},nS=function(e){return e.getParam("iframe_attrs",{})},Ak=function(e){return e.getParam("doctype","<!DOCTYPE html>")},N_=function(e){return e.getParam("document_base_url","")},aS=function(e){return Nh(e,"body_id","tinymce")},oS=function(e){return Nh(e,"body_class","")},Uy=function(e){return e.getParam("content_security_policy","")},P_=function(e){return e.getParam("br_in_pre",!0)},mu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var r=e.getParam("forced_root_block","p");return r===!1?"":r===!0?"p":r},Yp=function(e){return e.getParam("forced_root_block_attrs",{})},Zp=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Ok=function(e){return e.getParam("no_newline_selector","")},iS=function(e){return e.getParam("keep_styles",!0)},Ph=function(e){return e.getParam("end_container_on_empty_block",!1)},Fh=function(e){return mt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Bv=function(e){return mt.explode(e.getParam("font_size_classes",""))},jy=function(e){return e.getParam("images_dataimg_filter",ur,"function")},Ih=function(e){return e.getParam("automatic_uploads",!0,"boolean")},F_=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},uS=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},af=function(e){return e.getParam("icons","","string")},Wy=function(e){return e.getParam("icons_url","","string")},sS=function(e){return e.getParam("images_upload_url","","string")},Id=function(e){return e.getParam("images_upload_base_path","","string")},Ld=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},cS=function(e){return e.getParam("images_upload_handler",null,"function")},qy=function(e){return e.getParam("content_css_cors",!1,"boolean")},Gy=function(e){return e.getParam("referrer_policy","","string")},Ky=function(e){return e.getParam("language","en","string")},Ji=function(e){return e.getParam("language_url","","string")},Rk=function(e){return e.getParam("indent_use_margin",!1)},I_=function(e){return e.getParam("indentation","40px","string")},Dk=function(e){var r=e.getParam("content_css");return ke(r)?Ne(r.split(","),kr):Fe(r)?r:r===!1||e.inline?[]:["default"]},Mk=function(e){var r=e.getParam("font_css",[]);return Fe(r)?r:Ne(r.split(","),kr)},zl=function(e){return e.getParam("directionality",is.isRtl()?"rtl":void 0)},Kf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Bk=function(e){var r=e.getParam("object_resizing");return r===!1||Zt.iOS?!1:ke(r)?r:"table,img,figure.image,div,video,iframe"},Nk=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},L_=function(e){return e.getParam("placeholder",rS.getAttrib(e.getElement(),"placeholder"),"string")},Xy=function(e){return e.getParam("event_root")},Pk=function(e){return e.getParam("service_message")},Jp=function(e){return e.getParam("theme")},lS=function(e){return e.getParam("validate")},Lh=function(e){return e.getParam("inline_boundaries")!==!1},fS=function(e){return e.getParam("formats")},Qp=function(e){var r=e.getParam("preview_styles",Vy);return ke(r)?r:""},Nv=function(e){return e.getParam("format_empty_lines",!1,"boolean")},$_=function(e){return e.getParam("custom_ui_selector","","string")},Fk=function(e){return e.getParam("theme_url")},dS=function(e){return e.getParam("inline")},Ik=function(e){return e.getParam("hidden_input")},Lk=function(e){return e.getParam("submit_patch")},H_=function(e){return e.getParam("encoding")==="xml"},vS=function(e){return e.getParam("add_form_submit_trigger")},Yy=function(e){return e.getParam("add_unload_trigger")},pS=function(e){return mu(e)!==""},$h=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},mS=function(e){return e.getParam("disable_nodechange")},hS=function(e){return e.getParam("readonly")},gS=function(e){return e.getParam("content_css_cors")},Zy=function(e){return e.getParam("plugins","","string")},yS=function(e){return e.getParam("external_plugins")},em=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},$k=function(e){return e.getParam("visual",!0,"boolean")},bS=function(e){return e.getParam("visual_table_class","mce-item-table","string")},V_=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Hk=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},U_=hn,Vk=zr,Uk=function(e){var r=e.parentNode;r&&r.removeChild(e)},tm=function(e){var r=Cs(e);return{count:e.length-r.length,text:r}},j_=function(e){for(var r;(r=e.data.lastIndexOf(Pe))!==-1;)e.deleteData(r,1)},W_=function(e,r){return $d(e),r},_S=function(e,r){var a=tm(e.data.substr(0,r.offset())),i=tm(e.data.substr(r.offset())),c=a.text+i.text;return c.length>0?(j_(e),vt(e,r.offset()-a.count)):r},wS=function(e,r){var a=r.container(),i=et(kn(a.childNodes),e).map(function(c){return c<r.offset()?vt(a,r.offset()-1):r}).getOr(r);return $d(e),i},q_=function(e,r){return Vk(e)&&r.container()===e?_S(e,r):W_(e,r)},kS=function(e,r){return r.container()===e.parentNode?wS(e,r):W_(e,r)},jk=function(e,r){return vt.isTextPosition(r)?q_(e,r):kS(e,r)},$d=function(e){U_(e)&&xs(e)&&(If(e)?e.removeAttribute("data-mce-caret"):Uk(e)),Vk(e)&&(j_(e),e.data.length===0&&Uk(e))},rm=br().browser,Wk=_o,CS=_s,qk=bp,xS="*[contentEditable=false],video,audio,embed,object",G_=function(e,r,a){var i=Dy(r.getBoundingClientRect(),a),c,f;if(e.tagName==="BODY"){var m=e.ownerDocument.documentElement;c=e.scrollLeft||m.scrollLeft,f=e.scrollTop||m.scrollTop}else{var y=e.getBoundingClientRect();c=e.scrollLeft-y.left,f=e.scrollTop-y.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;var w=r.offsetWidth-r.clientWidth;return w>0&&(a&&(w*=-1),i.left+=w,i.right+=w),i},nm=function(e){for(var r=pu(x.fromDom(e),xS),a=0;a<r.length;a++){var i=r[a].dom,c=i.previousSibling;if(mh(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=i.nextSibling,ph(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},Uu=function(e,r,a,i){var c=Nd(),f,m,y=mu(e),w=y.length>0?y:"p",R=function(ie,ue){var _e;if($(),qk(ue))return null;if(a(ue)){m=Qw(w,ue,ie);var he=G_(r,ue,ie);$n(m).css("top",he.top);var Xe=$n('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Lr({},he)).appendTo(r)[0];c.set({caret:Xe,element:ue,before:ie}),ie&&$n(Xe).addClass("mce-visual-caret-before"),V(),_e=ue.ownerDocument.createRange(),_e.setStart(m,0),_e.setEnd(m,0)}else return m=H1(ue,ie),_e=ue.ownerDocument.createRange(),am(m.nextSibling)?(_e.setStart(m,0),_e.setEnd(m,0)):(_e.setStart(m,1),_e.setEnd(m,1)),_e;return _e},$=function(){nm(r),m&&($d(m),m=null),c.on(function(ie){$n(ie.caret).remove(),c.clear()}),f&&(Au.clearInterval(f),f=void 0)},V=function(){f=Au.setInterval(function(){i()?$n("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):$n("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},j=function(){c.on(function(ie){var ue=G_(r,ie.element,ie.before);$n(ie.caret).css(Lr({},ue))})},re=function(){return Au.clearInterval(f)},ae=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:R,hide:$,getCss:ae,reposition:j,destroy:re}},K_=function(){return rm.isIE()||rm.isEdge()||rm.isFirefox()},am=function(e){return Wk(e)||CS(e)},Pv=function(e){return am(e)||si(e)&&K_()},Jy=_o,SS=_s,Gk=es("display","block table table-cell table-caption list-item"),X_=xs,Es=to,Hh=hn,TS=Kl,Fv=function(e){return e>0},Hd=function(e){return e<0},om=function(e,r){for(var a;a=e(r);)if(!Es(a))return a;return null},Vd=function(e,r,a,i,c){var f=new Ua(e,i),m=Jy(e)||Es(e);if(Hd(r)){if(m&&(e=om(f.prev.bind(f),!0),a(e)))return e;for(;e=om(f.prev.bind(f),c);)if(a(e))return e}if(Fv(r)){if(m&&(e=om(f.next.bind(f),!0),a(e)))return e;for(;e=om(f.next.bind(f),c);)if(a(e))return e}return null},Al=function(e,r){for(;e&&e!==r;){if(Gk(e))return e;e=e.parentNode}return null},Ol=function(e,r,a){return Al(e.container(),a)===Al(r.container(),a)},Qy=function(e,r){if(!r)return null;var a=r.container(),i=r.offset();return Hh(a)?a.childNodes[i+e]:null},eb=function(e,r){var a=r.ownerDocument.createRange();return e?(a.setStartBefore(r),a.setEndBefore(r)):(a.setStartAfter(r),a.setEndAfter(r)),a},Y_=function(e,r,a){return Al(r,e)===Al(a,e)},im=function(e,r,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==r;){var c=a[i];if(X_(c)&&(c=c[i]),Jy(c)||SS(c)){if(Y_(r,c,a))return c;break}if(TS(c))break;a=a.parentNode}return null},um=St(eb,!0),sm=St(eb,!1),Bu=function(e,r,a){var i,c=St(im,!0,r),f=St(im,!1,r),m=a.startContainer,y=a.startOffset;if(to(m)){Hh(m)||(m=m.parentNode);var w=m.getAttribute("data-mce-caret");if(w==="before"&&(i=m.nextSibling,Pv(i)))return um(i);if(w==="after"&&(i=m.previousSibling,Pv(i)))return sm(i)}if(!a.collapsed)return a;if(zr(m)){if(X_(m)){if(e===1){if(i=f(m),i)return um(i);if(i=c(m),i)return sm(i)}if(e===-1){if(i=c(m),i)return sm(i);if(i=f(m),i)return um(i)}return a}if(mh(m)&&y>=m.data.length-1)return e===1&&(i=f(m),i)?um(i):a;if(ph(m)&&y<=1)return e===-1&&(i=c(m),i)?sm(i):a;if(y===m.data.length)return i=f(m),i?um(i):a;if(y===0)return i=c(m),i?sm(i):a}return a},cm=function(e,r){return oe.from(Qy(e?0:-1,r)).filter(Jy)},lm=function(e,r,a){var i=Bu(e,r,a);return e===-1?vt.fromRangeStart(i):vt.fromRangeEnd(i)},tb=function(e){return oe.from(e.getNode()).map(x.fromDom)},ES=function(e){return oe.from(e.getNode(!0)).map(x.fromDom)},Z_=function(e,r){for(;r=e(r);)if(r.isVisible())return r;return r},rb=function(e,r){var a=Ol(e,r);return!a&&eo(e.getNode())?!0:a},hu;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(hu||(hu={}));var zS=_o,of=zr,nb=hn,J_=eo,fm=Kl,Q_=Ax,Vh=gi,AS=function(e,r){for(var a=[];e&&e!==r;)a.push(e),e=e.parentNode;return a},Kk=function(e,r){return e.hasChildNodes()&&r<e.childNodes.length?e.childNodes[r]:null},Xk=function(e,r){if(Fv(e)){if(fm(r.previousSibling)&&!of(r.previousSibling))return vt.before(r);if(of(r))return vt(r,0)}if(Hd(e)){if(fm(r.nextSibling)&&!of(r.nextSibling))return vt.after(r);if(of(r))return vt(r,r.data.length)}return Hd(e)?J_(r)?vt.before(r):vt.after(r):vt.before(r)},OS=function(e,r){var a=r.nextSibling;return a&&fm(a)?of(a)?vt(a,0):vt.before(a):dm(hu.Forwards,vt.after(r),e)},dm=function(e,r,a){var i,c,f,m;if(!nb(a)||!r)return null;if(r.isEqual(vt.after(a))&&a.lastChild){if(m=vt.after(a.lastChild),Hd(e)&&fm(a.lastChild)&&nb(a.lastChild))return J_(a.lastChild)?vt.before(a.lastChild):m}else m=r;var y=m.container(),w=m.offset();if(of(y)){if(Hd(e)&&w>0)return vt(y,--w);if(Fv(e)&&w<y.length)return vt(y,++w);i=y}else{if(Hd(e)&&w>0&&(c=Kk(y,w-1),fm(c)))return!Q_(c)&&(f=Vd(c,e,Vh,c),f)?of(f)?vt(f,f.data.length):vt.after(f):of(c)?vt(c,c.data.length):vt.before(c);if(Fv(e)&&w<y.childNodes.length&&(c=Kk(y,w),fm(c)))return J_(c)?OS(a,c):!Q_(c)&&(f=Vd(c,e,Vh,c),f)?of(f)?vt(f,0):vt.before(f):of(c)?vt(c,0):vt.after(c);i=c||m.getNode()}if((Fv(e)&&m.isAtEnd()||Hd(e)&&m.isAtStart())&&(i=Vd(i,e,ur,a,!0),Vh(i,a)))return Xk(e,i);c=Vd(i,e,Vh,a);var R=oi(Xt(AS(y,a),zS));return R&&(!c||!R.contains(c))?(Fv(e)?m=vt.after(R):m=vt.before(R),m):c?Xk(e,c):null},Zo=function(e){return{next:function(r){return dm(hu.Forwards,r,e)},prev:function(r){return dm(hu.Backwards,r,e)}}},ab=function(e,r,a){var i=e?vt.before(a):vt.after(a);return zs(e,r,i)},ob=function(e){return eo(e)?vt.before(e):vt.after(e)},e0=function(e){return vt.isTextPosition(e)?e.offset()===0:Kl(e.getNode())},Yk=function(e){if(vt.isTextPosition(e)){var r=e.container();return e.offset()===r.data.length}else return Kl(e.getNode(!0))},t0=function(e,r){return!vt.isTextPosition(e)&&!vt.isTextPosition(r)&&e.getNode()===r.getNode(!0)},Iv=function(e){return!vt.isTextPosition(e)&&eo(e.getNode())},ib=function(e,r,a){return e?!t0(r,a)&&!Iv(r)&&Yk(r)&&e0(a):!t0(a,r)&&e0(r)&&Yk(a)},zs=function(e,r,a){var i=Zo(r);return oe.from(e?i.next(a):i.prev(a))},Rl=function(e,r,a){return zs(e,r,a).bind(function(i){return Ol(a,i,r)&&ib(e,a,i)?zs(e,r,i):oe.some(i)})},ub=function(e,r,a,i){return Rl(e,r,a).bind(function(c){return i(c)?ub(e,r,c,i):oe.some(c)})},Xf=function(e,r){var a=e?r.firstChild:r.lastChild;return zr(a)?oe.some(vt(a,e?0:a.data.length)):a?Kl(a)?oe.some(e?vt.before(a):ob(a)):ab(e,r,a):oe.none()},rl=St(zs,!0),Dl=St(zs,!1),ju=St(Xf,!0),Rc=St(Xf,!1),vm="_mce_caret",uf=function(e){return hn(e)&&e.id===vm},Lv=function(e,r){for(;r&&r!==e;){if(r.id===vm)return r;r=r.parentNode}return null},Zk=function(e){return ke(e.start)},Jk=function(e){return Sn(e,"rng")},RS=function(e){return Sn(e,"id")},DS=function(e){return Sn(e,"name")},Qk=function(e){return mt.isArray(e.start)},e2=function(e,r){return hn(r)&&e.isBlock(r)&&!r.innerHTML&&!Zt.ie&&(r.innerHTML='<br data-mce-bogus="1" />'),r},t2=function(e,r){var a,i=e.createRng();return a=Gp(e.getRoot(),r.start),i.setStart(a.container(),a.offset()),a=Gp(e.getRoot(),r.end),i.setEnd(a.container(),a.offset()),i},MS=function(e,r){var a=e.ownerDocument.createTextNode(Pe);e.appendChild(a),r.setStart(a,0),r.setEnd(a,0)},r2=function(e){return e.hasChildNodes()===!1},BS=function(e,r){return Rc(e).fold(Wt,function(a){return r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0})},n2=function(e,r,a){return r2(r)&&Lv(e,r)?(MS(r,a),!0):!1},a2=function(e,r,a,i){var c=a[r?"start":"end"],f,m,y,w,R=e.getRoot();if(c){for(y=c[0],m=R,f=c.length-1;f>=1;f--){if(w=m.childNodes,n2(R,m,i))return!0;if(c[f]>w.length-1)return n2(R,m,i)?!0:BS(m,i);m=w[c[f]]}m.nodeType===3&&(y=Math.min(c[0],m.nodeValue.length)),m.nodeType===1&&(y=Math.min(c[0],m.childNodes.length)),r?i.setStart(m,y):i.setEnd(m,y)}return!0},r0=function(e){return zr(e)&&e.data.length>0},o2=function(e,r,a){var i=e.get(a.id+"_"+r),c,f,m,y,w=a.keep,R,$;if(i){if(c=i.parentNode,r==="start"?(w?i.hasChildNodes()?(c=i.firstChild,f=1):r0(i.nextSibling)?(c=i.nextSibling,f=0):r0(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),R=c,$=f):(w?i.hasChildNodes()?(c=i.firstChild,f=1):r0(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),R=c,$=f),!w){for(y=i.previousSibling,m=i.nextSibling,mt.each(mt.grep(i.childNodes),function(V){zr(V)&&(V.nodeValue=V.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+r);)e.remove(i,!0);y&&m&&y.nodeType===m.nodeType&&zr(y)&&!Zt.opera&&(f=y.nodeValue.length,y.appendData(m.nodeValue),e.remove(m),R=y,$=f)}return oe.some(vt(R,$))}else return oe.none()},NS=function(e,r){var a=e.createRng();return a2(e,!0,r,a)&&a2(e,!1,r,a)?oe.some(a):oe.none()},pa=function(e,r){var a=o2(e,"start",r),i=o2(e,"end",r);return Lu(a,i.or(a),function(c,f){var m=e.createRng();return m.setStart(e2(e,c.container()),c.offset()),m.setEnd(e2(e,f.container()),f.offset()),m})},$v=function(e,r){return oe.from(e.select(r.name)[r.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},pm=function(e,r){var a=e.dom;if(r){if(Qk(r))return NS(a,r);if(Zk(r))return oe.some(t2(a,r));if(RS(r))return pa(a,r);if(DS(r))return $v(a,r);if(Jk(r))return oe.some(r.rng)}return oe.none()},n0=function(e,r,a){return tS(e,r,a)},PS=function(e,r){pm(e,r).each(function(a){e.setRng(a)})},As=function(e){return hn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},FS=function(e){return function(r){return e===r}},Hv=FS(Vs),Ud=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},sb=function(e){return!Ud(e)&&!Hv(e)},cb=function(e){return!!e.nodeType},IS=function(e){return e&&/^(IMG)$/.test(e.nodeName)},i2=function(e,r,a){var i=a.startOffset,c=a.startContainer;if(!(c===a.endContainer&&IS(c.childNodes[i]))&&hn(c)){var f=c.childNodes,m=void 0;i<f.length?(c=f[i],m=new Ua(c,e.getParent(c,e.isBlock))):(c=f[f.length-1],m=new Ua(c,e.getParent(c,e.isBlock)),m.next(!0));for(var y=m.current();y;y=m.next())if(zr(y)&&!fb(y)){a.setStart(y,0),r.setRng(a);return}}},lb=function(e,r,a){if(e){var i=r?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(hn(e)||!fb(e))return e}},a0=function(e,r){return cb(r)&&(r=r.nodeName),!!e.schema.getTextBlockElements()[r.toLowerCase()]},mm=function(e,r,a){return e.schema.isValidChild(r,a)},fb=function(e,r){if(r===void 0&&(r=!1),Ge(e)&&zr(e)){var a=r?e.data.replace(/ /g," "):e.data;return Yc(a)}else return!1},LS=function(e){return Ge(e)&&zr(e)&&e.length===0},sf=function(e,r){return ce(e)?e=e(r):Ge(r)&&(e=e.replace(/%(\w+)/g,function(a,i){return r[i]||a})),e},o0=function(e,r){return e=e||"",r=r||"",e=""+(e.nodeName||e),r=""+(r.nodeName||r),e.toLowerCase()===r.toLowerCase()},i0=function(e,r,a){return(a==="color"||a==="backgroundColor")&&(r=e.toHex(r)),a==="fontWeight"&&r===700&&(r="bold"),a==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+r},hm=function(e,r,a){return i0(e,e.getStyle(r,a),a)},u0=function(e,r){var a;return e.getParent(r,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Uh=function(e,r,a){return e.getParents(r,a,e.getRoot())},u2=function(e,r){var a=function(i){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return be(["styles","attributes"],function(f){return Kn(i,f).exists(function(m){var y=Fe(m)?m:fi(m);return be(y,c)})})};return be(e.formatter.get(r),a)},$S=function(e,r,a){var i=["inline","block","selector","attributes","styles","classes"],c=function(f){return un(f,function(m,y){return be(i,function(w){return w===y})})};return be(e.formatter.get(r),function(f){var m=c(f);return be(e.formatter.get(a),function(y){var w=c(y);return di(m,w)})})},cf=function(e){return xo(e,"block")},Gs=function(e){return xo(e,"selector")},gu=function(e){return xo(e,"inline")},HS=function(e){return Gs(e)&&gu(e)&&lv(Kn(e,"mixed"),!0)},s0=function(e){return Gs(e)&&e.expand!==!1&&!gu(e)},gm=As,c0=Uh,jh=fb,l0=a0,VS=function(e){return eo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},gr=function(e,r){for(var a=r;a;){if(hn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},Bi=function(e,r,a,i){for(var c=r.data,f=a;e?f>=0:f<c.length;e?f--:f++)if(i(c.charAt(f)))return e?f+1:f;return-1},ym=function(e,r,a){return Bi(e,r,a,function(i){return Hv(i)||Ud(i)})},Qi=function(e,r,a){return Bi(e,r,a,sb)},Dc=function(e,r,a,i,c,f){var m,y=e.getParent(a,e.isBlock)||r,w=function($,V,j){var re=C_(e),ae=c?re.backwards:re.forwards;return oe.from(ae($,V,function(ie,ue){return gm(ie.parentNode)?-1:(m=ie,j(c,ie,ue))},y))},R=w(a,i,ym);return R.bind(function($){return f?w($.container,$.offset+(c?-1:0),Qi):oe.some($)}).orThunk(function(){return m?oe.some({container:m,offset:c?0:m.length}):oe.none()})},f0=function(e,r,a,i,c){zr(i)&&ka(i.data)&&i[c]&&(i=i[c]);for(var f=c0(e,i),m=0;m<f.length;m++)for(var y=0;y<r.length;y++){var w=r[y];if(!(Ge(w.collapsed)&&w.collapsed!==a.collapsed)&&Gs(w)&&e.is(f[m],w.selector))return f[m]}return i},Wh=function(e,r,a,i){var c=a,f=e.dom,m=f.getRoot(),y=r[0];if(cf(y)&&(c=y.wrapper?null:f.getParent(a,y.block,m)),!c){var w=f.getParent(a,"LI,TD,TH");c=f.getParent(zr(a)?a.parentNode:a,function(R){return R!==m&&l0(e,R)},w)}if(c&&cf(y)&&y.wrapper&&(c=c0(f,c,"ul,ol").reverse()[0]||c),!c)for(c=a;c[i]&&!f.isBlock(c[i])&&(c=c[i],!o0(c,"br")););return c||a},db=function(e,r,a,i){var c=a.parentNode;return Ge(a[i])?!1:c===r||$e(c)||e.isBlock(c)?!0:db(e,r,c,i)},vb=function(e,r,a,i,c){var f=a,m=c?"previousSibling":"nextSibling",y=e.getRoot();if(zr(a)&&!jh(a)&&(c?i>0:i<a.data.length))return a;for(;;){if(!r[0].block_expand&&e.isBlock(f))return f;for(var w=f[m];w;w=w[m]){var R=zr(w)&&!db(e,y,w,m);if(!gm(w)&&!VS(w)&&!jh(w,R))return f}if(f===y||f.parentNode===y){a=f;break}f=f.parentNode}return a},pb=function(e){return gm(e.parentNode)||gm(e)},jd=function(e,r,a,i){i===void 0&&(i=!1);var c=r.startContainer,f=r.startOffset,m=r.endContainer,y=r.endOffset,w=e.dom,R=a[0];if(hn(c)&&c.hasChildNodes()&&(c=Oo(c,f),zr(c)&&(f=0)),hn(m)&&m.hasChildNodes()&&(m=Oo(m,r.collapsed?y:y-1),zr(m)&&(y=m.nodeValue.length)),c=gr(w,c),m=gr(w,m),pb(c)&&(c=gm(c)?c:c.parentNode,r.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,zr(c)&&(f=r.collapsed?c.length:0)),pb(m)&&(m=gm(m)?m:m.parentNode,r.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,zr(m)&&(y=r.collapsed?0:m.length)),r.collapsed){var $=Dc(w,e.getBody(),c,f,!0,i);$.each(function(j){var re=j.container,ae=j.offset;c=re,f=ae});var V=Dc(w,e.getBody(),m,y,!1,i);V.each(function(j){var re=j.container,ae=j.offset;m=re,y=ae})}return(gu(R)||R.block_expand)&&((!gu(R)||!zr(c)||f===0)&&(c=vb(w,a,c,f,!0)),(!gu(R)||!zr(m)||y===m.nodeValue.length)&&(m=vb(w,a,m,y,!1))),s0(R)&&(c=f0(w,a,r,c,"previousSibling"),m=f0(w,a,r,m,"nextSibling")),(cf(R)||Gs(R))&&(c=Wh(e,a,c,"previousSibling"),m=Wh(e,a,m,"nextSibling"),cf(R)&&(w.isBlock(c)||(c=vb(w,a,c,f,!0)),w.isBlock(m)||(m=vb(w,a,m,y,!1)))),hn(c)&&(f=w.nodeIndex(c),c=c.parentNode),hn(m)&&(y=w.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:f,endContainer:m,endOffset:y}},qh=function(e,r,a){var i=r.startOffset,c=Oo(r.startContainer,i),f=r.endOffset,m=Oo(r.endContainer,f-1),y=function(ie){var ue=ie[0];zr(ue)&&ue===c&&i>=ue.data.length&&ie.splice(0,1);var _e=ie[ie.length-1];return f===0&&ie.length>0&&_e===m&&zr(_e)&&ie.splice(ie.length-1,1),ie},w=function(ie,ue,_e){for(var he=[];ie&&ie!==_e;ie=ie[ue])he.push(ie);return he},R=function(ie,ue){return e.getParent(ie,function(_e){return _e.parentNode===ue},ue)},$=function(ie,ue,_e){for(var he=_e?"nextSibling":"previousSibling",Xe=ie,Ve=Xe.parentNode;Xe&&Xe!==ue;Xe=Ve){Ve=Xe.parentNode;var Ee=w(Xe===ie?Xe:Xe[he],he);Ee.length&&(_e||Ee.reverse(),a(y(Ee)))}};if(c===m)return a(y([c]));var V=e.findCommonAncestor(c,m);if(e.isChildOf(c,m))return $(c,V,!0);if(e.isChildOf(m,c))return $(m,V);var j=R(c,V)||c,re=R(m,V)||m;$(c,j,!0);var ae=w(j===c?j:j.nextSibling,"nextSibling",re===m?re.nextSibling:re);ae.length&&a(y(ae)),$(m,re)},d0=function(e){var r=[];if(e)for(var a=0;a<e.rangeCount;a++)r.push(e.getRangeAt(a));return r},v0=function(e){return wn(e,function(r){var a=Ov(r);return a?[x.fromDom(a)]:[]})},p0=function(e){return d0(e).length>1},US=function(e){return Xt(v0(e),wl)},s2=function(e){return pu(e,"td[data-mce-selected],th[data-mce-selected]")},Yf=function(e,r){var a=s2(r);return a.length>0?a:US(e)},lf=function(e){return Yf(d0(e.selection.getSel()),x.fromDom(e.getBody()))},Vv=function(e,r){return fv(e,"table",r)},bm=function(e){var r=e.startContainer,a=e.startOffset;return zr(r)?a===0?oe.some(x.fromDom(r)):oe.none():oe.from(r.childNodes[a]).map(x.fromDom)},m0=function(e){var r=e.endContainer,a=e.endOffset;return zr(r)?a===r.data.length?oe.some(x.fromDom(r)):oe.none():oe.from(r.childNodes[a-1]).map(x.fromDom)},mb=function(e){return hi(e).fold(X([e]),function(r){return[e].concat(mb(r))})},ff=function(e){return Ls(e).fold(X([e]),function(r){return za(r)==="br"?Tf(r).map(function(a){return[e].concat(ff(a))}).getOr([]):[e].concat(ff(r))})},nl=function(e,r){return Lu(bm(r),m0(r),function(a,i){var c=rr(mb(e),St(an,a)),f=rr(ff(e),St(an,i));return c.isSome()&&f.isSome()}).getOr(!1)},Wd=function(e,r,a,i){var c=a,f=new Ua(a,c),m=un(e.schema.getMoveCaretBeforeOnEnterElements(),function(y,w){return!qe(["td","th","table"],w.toLowerCase())});do{if(zr(a)&&mt.trim(a.nodeValue).length!==0){i?r.setStart(a,0):r.setEnd(a,a.nodeValue.length);return}if(m[a.nodeName]){i?r.setStartBefore(a):a.nodeName==="BR"?r.setEndBefore(a):r.setEndAfter(a);return}}while(a=i?f.next():f.prev());c.nodeName==="BODY"&&(i?r.setStart(c,0):r.setEnd(c,c.childNodes.length))},qd=function(e){var r=e.selection.getSel();return r&&r.rangeCount>0},Uv=function(e,r){var a=lf(e);a.length>0?je(a,function(i){var c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),r(f,!0)}):r(e.selection.getRng(),!1)},_m=function(e,r,a){var i=Ek(e,r);a(i),e.moveToBookmark(i)},h0=function(e,r){var a=function(f){if(!e(f))throw new Error("Can only get "+r+" value of a "+r+" node");return i(f).getOr("")},i=function(f){return e(f)?oe.from(f.dom.nodeValue):oe.none()},c=function(f,m){if(!e(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=m};return{get:a,getOption:i,set:c}},g0=h0(No,"text"),y0=function(e){return g0.get(e)},hb=function(e){return No(e)&&y0(e)===Pe},yu=function(e,r,a,i){return Vo(r).fold(function(){return"skipping"},function(c){return i==="br"||hb(r)?"valid":qf(r)?"existing":uf(r.dom)?"caret":!mm(e,a,i)||!mm(e,za(c),a)?"invalid-child":"valid"})},hc=function(e,r){var a=jd(e,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),e.selection.setRng(r)},Mc=function(e,r,a,i){var c=r.uid,f=c===void 0?wk("mce-annotation"):c,m=Pu(r,["uid"]),y=x.fromTag("span",e);zv(y,qs()),z(y,""+Di(),f),z(y,""+Th(),a);var w=i(f,m),R=w.attributes,$=R===void 0?{}:R,V=w.classes,j=V===void 0?[]:V;return H(y,$),Gx(y,j),y},df=function(e,r,a,i,c){var f=[],m=Mc(e.getDoc(),c,a,i),y=Nd(),w=function(){y.clear()},R=function(){return y.get().getOrThunk(function(){var re=bi(m);return f.push(re),y.set(re),re})},$=function(re){je(re,V)},V=function(re){var ae=yu(e,re,"span",za(re));switch(ae){case"invalid-child":{w();var ie=Iu(re);$(ie),w();break}case"valid":{var ue=R();cv(re,ue);break}}},j=function(re){var ae=Ne(re,x.fromDom);$(ae)};return qh(e.dom,r,function(re){w(),j(re)}),f},wm=function(e,r,a,i){e.undoManager.transact(function(){var c=e.selection,f=c.getRng(),m=lf(e).length>0;if(f.collapsed&&!m&&hc(e,f),c.getRng().collapsed&&!m){var y=Mc(e.getDoc(),i,r,a.decorate);ss(y,Vs),c.getRng().insertNode(y.dom),c.select(y.dom)}else _m(c,!1,function(){Uv(e,function(w){df(e,w,r,a.decorate,i)})})})},gb=function(e){var r=Eh();k_(e,r);var a=_k(e);return{register:function(i,c){r.register(i,c)},annotate:function(i,c){r.lookup(i).each(function(f){wm(e,i,f,c)})},annotationChanged:function(i,c){a.addListener(i,c)},remove:function(i){zy(e,oe.some(i)).each(function(c){var f=c.elements;je(f,Of)})},getAll:function(i){var c=w_(e,i);return Co(c,function(f){return Ne(f,function(m){return m.dom})})}}},Gd=function(e){return{getBookmark:St(n0,e),moveToBookmark:St(PS,e)}};Gd.isBookmarkNode=As;var jv=function(e,r){for(;r&&r!==e;){if(qc(r)||_o(r))return r;r=r.parentNode}return null},Wv=function(e,r,a){if(a.collapsed)return!1;if(Zt.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(hn(i))return be(i.getClientRects(),function(c){return kk(c,e,r)})}return be(a.getClientRects(),function(c){return kk(c,e,r)})},jS=function(e,r){return e.fire("PreProcess",r)},b0=function(e,r){return e.fire("PostProcess",r)},c2=function(e){return e.fire("remove")},l2=function(e){return e.fire("detach")},_0=function(e,r){return e.fire("SwitchMode",{mode:r})},w0=function(e,r,a,i,c){e.fire("ObjectResizeStart",{target:r,width:a,height:i,origin:c})},Za=function(e,r,a,i,c){e.fire("ObjectResized",{target:r,width:a,height:i,origin:c})},vf=function(e){return e.fire("PreInit")},f2=function(e){return e.fire("PostRender")},d2=function(e){return e.fire("Init")},v2=function(e,r){return e.fire("PlaceholderToggle",{state:r})},yb=function(e,r,a){return e.fire(r,a)},k0=function(e,r,a,i){return e.fire("FormatApply",{format:r,node:a,vars:i})},Gh=function(e,r,a,i){return e.fire("FormatRemove",{format:r,node:a,vars:i})},on={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||on.metaKeyPressed(e)},metaKeyPressed:function(e){return Zt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},WS=_o,C0=function(e,r){var a="data-mce-selected",i=r.dom,c=mt.each,f,m,y,w,R,$,V,j,re,ae,ie,ue,_e,he,Xe,Ve=r.getDoc(),Ee=document,tt=Math.abs,Tt=Math.round,Kt=r.getBody(),nn,Cr,At={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},qr=function(nt){return nt&&(nt.nodeName==="IMG"||r.dom.is(nt,"figure.image"))},Jt=function(nt){return _s(nt)||i.hasClass(nt,"mce-preview-object")},wr=function(nt,Yt){if(nt.type==="longpress"||nt.type.indexOf("touch")===0){var qt=nt.touches[0];return qr(nt.target)&&!Wv(qt.clientX,qt.clientY,Yt)}else return qr(nt.target)&&!Wv(nt.clientX,nt.clientY,Yt)},Qt=function(nt){var Yt=nt.target;wr(nt,r.selection.getRng())&&!nt.isDefaultPrevented()&&r.selection.select(Yt)},pr=function(nt){return i.is(nt,"figure.image")?[nt.querySelector("img")]:i.hasClass(nt,"mce-preview-object")&&Ge(nt.firstElementChild)?[nt,nt.firstElementChild]:[nt]},Or=function(nt){var Yt=Bk(r);return!Yt||nt.getAttribute("data-mce-resize")==="false"||nt===r.getBody()?!1:i.hasClass(nt,"mce-preview-object")?or(x.fromDom(nt.firstElementChild),Yt):or(x.fromDom(nt),Yt)},Ut=function(nt){return Jt(nt)?i.create("img",{src:Zt.transparentSrc}):nt.cloneNode(!0)},Er=function(nt,Yt,qt){if(Ge(qt)){var Yr=pr(nt);je(Yr,function(rn){rn.style[Yt]||!r.schema.isValid(rn.nodeName.toLowerCase(),Yt)?i.setStyle(rn,Yt,qt):i.setAttrib(rn,Yt,""+qt)})}},ea=function(nt,Yt,qt){Er(nt,"width",Yt),Er(nt,"height",qt)},Pa=function(nt){var Yt,qt,Yr,rn,so;Yt=nt.screenX-$,qt=nt.screenY-V,he=Yt*w[2]+ae,Xe=qt*w[3]+ie,he=he<5?5:he,Xe=Xe<5?5:Xe,(qr(f)||Jt(f))&&Nk(r)!==!1?Yr=!on.modifierPressed(nt):Yr=on.modifierPressed(nt),Yr&&(tt(Yt)>tt(qt)?(Xe=Tt(he*ue),he=Tt(Xe/ue)):(he=Tt(Xe/ue),Xe=Tt(he*ue))),ea(m,he,Xe),rn=w.startPos.x+Yt,so=w.startPos.y+qt,rn=rn>0?rn:0,so=so>0?so:0,i.setStyles(y,{left:rn,top:so,display:"block"}),y.innerHTML=he+" &times; "+Xe,w[2]<0&&m.clientWidth<=he&&i.setStyle(m,"left",j+(ae-he)),w[3]<0&&m.clientHeight<=Xe&&i.setStyle(m,"top",re+(ie-Xe)),Yt=Kt.scrollWidth-nn,qt=Kt.scrollHeight-Cr,Yt+qt!==0&&i.setStyles(y,{left:rn-Yt,top:so-qt}),_e||(w0(r,f,ae,ie,"corner-"+w.name),_e=!0)},Ma=function(){var nt=_e;_e=!1,nt&&(Er(f,"width",he),Er(f,"height",Xe)),i.unbind(Ve,"mousemove",Pa),i.unbind(Ve,"mouseup",Ma),Ee!==Ve&&(i.unbind(Ee,"mousemove",Pa),i.unbind(Ee,"mouseup",Ma)),i.remove(m),i.remove(y),i.remove(R),wu(f),nt&&(Za(r,f,he,Xe,"corner-"+w.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),r.nodeChanged()},wu=function(nt){jt();var Yt=i.getPos(nt,Kt),qt=Yt.x,Yr=Yt.y,rn=nt.getBoundingClientRect(),so=rn.width||rn.right-rn.left,ru=rn.height||rn.bottom-rn.top;f!==nt&&(Go(),f=nt,he=Xe=0);var ji=r.fire("ObjectSelected",{target:nt}),ps=i.getAttrib(f,a,"1");Or(nt)&&!ji.isDefaultPrevented()?c(At,function(ms,Zs){var Wi,fl=function(Js){var iv=pr(f)[0];$=Js.screenX,V=Js.screenY,ae=iv.clientWidth,ie=iv.clientHeight,ue=ie/ae,w=ms,w.name=Zs,w.startPos={x:so*ms[0]+qt,y:ru*ms[1]+Yr},nn=Kt.scrollWidth,Cr=Kt.scrollHeight,R=i.add(Kt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),m=Ut(f),i.addClass(m,"mce-clonedresizable"),i.setAttrib(m,"data-mce-bogus","all"),m.contentEditable="false",i.setStyles(m,{left:qt,top:Yr,margin:0}),ea(m,so,ru),m.removeAttribute(a),Kt.appendChild(m),i.bind(Ve,"mousemove",Pa),i.bind(Ve,"mouseup",Ma),Ee!==Ve&&(i.bind(Ee,"mousemove",Pa),i.bind(Ee,"mouseup",Ma)),y=i.add(Kt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ae+" &times; "+ie)};Wi=i.get("mceResizeHandle"+Zs),Wi&&i.remove(Wi),Wi=i.add(Kt,"div",{id:"mceResizeHandle"+Zs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Zs+"-resize; margin:0; padding:0"}),Zt.ie===11&&(Wi.contentEditable=!1),i.bind(Wi,"mousedown",function(Js){Js.stopImmediatePropagation(),Js.preventDefault(),fl(Js)}),ms.elm=Wi,i.setStyles(Wi,{left:so*ms[0]+qt-Wi.offsetWidth/2,top:ru*ms[1]+Yr-Wi.offsetHeight/2})}):Go(),i.getAttrib(f,a)||f.setAttribute(a,ps)},Go=function(){jt(),f&&f.removeAttribute(a),xn(At,function(nt,Yt){var qt=i.get("mceResizeHandle"+Yt);qt&&(i.unbind(qt),i.remove(qt))})},Ds=function(nt){var Yt,qt,Yr=function(rn,so){if(rn)do if(rn===so)return!0;while(rn=rn.parentNode)};if(!(_e||r.removed)){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(rn){rn.removeAttribute(a)}),qt=nt.type==="mousedown"?nt.target:e.getNode(),qt=i.$(qt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Yr(qt,Kt)&&(ir(),Yt=e.getStart(!0),Yr(Yt,qt)&&Yr(e.getEnd(!0),qt))){wu(qt);return}Go()}},Hc=function(nt){return WS(jv(r.getBody(),nt))},jt=function(){xn(At,function(nt){nt.elm&&(i.unbind(nt.elm),delete nt.elm)})},ir=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};r.on("init",function(){if(ir(),Zt.browser.isIE()||Zt.browser.isEdge()){r.on("mousedown click",function(qt){var Yr=qt.target,rn=Yr.nodeName;!_e&&/^(TABLE|IMG|HR)$/.test(rn)&&!Hc(Yr)&&(qt.button!==2&&r.selection.select(Yr,rn==="TABLE"),qt.type==="mousedown"&&r.nodeChanged())});var nt=function(qt){var Yr=function(rn){Au.setEditorTimeout(r,function(){return r.selection.select(rn)})};if(Hc(qt.target)||_s(qt.target)){qt.preventDefault(),Yr(qt.target);return}/^(TABLE|IMG|HR)$/.test(qt.target.nodeName)&&(qt.preventDefault(),qt.target.tagName==="IMG"&&Yr(qt.target))};i.bind(Kt,"mscontrolselect",nt),r.on("remove",function(){return i.unbind(Kt,"mscontrolselect",nt)})}var Yt=Au.throttle(function(qt){r.composing||Ds(qt)});r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Yt),r.on("keyup compositionend",function(qt){f&&f.nodeName==="TABLE"&&Yt(qt)}),r.on("hide blur",Go),r.on("contextmenu longpress",Qt,!0)}),r.on("remove",jt);var Gr=function(){f=m=R=null};return{isResizable:Or,showResizeRect:wu,hideResizeRect:Go,updateResizeRect:Ds,destroy:Gr}},p2=function(e){return qc(e)||_o(e)},x0=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},qS=function(e,r,a){var i,c=a.elementFromPoint(e,r),f=a.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=a.body),f.moveToElementText(c),i=mt.toArray(f.getClientRects()),i=i.sort(function(m,y){return m=Math.abs(Math.max(m.top-r,m.bottom-r)),y=Math.abs(Math.max(y.top-r,y.bottom-r)),m-y}),i.length>0){r=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,r),f.collapse(!0),f}catch{}}return null},m2=function(e,r){var a=e&&e.parentElement?e.parentElement():null;return _o(x0(a,r,p2))?null:e},S0=function(e,r,a){var i,c,f=a;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(e,r),c&&(i=a.createRange(),i.setStart(c.offsetNode,c.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,r);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,r),i.collapse(!0)}catch{i=qS(e,r,a)}return m2(i,a.body)}return i},T0=function(e,r){return e&&r&&e.startContainer===r.startContainer&&e.startOffset===r.startOffset&&e.endContainer===r.endContainer&&e.endOffset===r.endOffset},GS=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},gc=function(e,r,a){return GS(e,r,a)!==null},ls=function(e,r,a){return gc(e,r,function(i){return i.nodeName===a})},pf=function(e){return e&&e.nodeName==="TABLE"},KS=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},XS=function(e,r){return xs(e)&&gc(e,r,uf)===!1},E0=function(e,r,a){for(var i=new Ua(r,e.getParent(r.parentNode,e.isBlock)||e.getRoot());r=i[a?"prev":"next"]();)if(eo(r))return!0},aa=function(e,r){return e.previousSibling&&e.previousSibling.nodeName===r},YS=function(e,r){for(;r&&r!==e;){if(_o(r))return!0;r=r.parentNode}return!1},bb=function(e,r,a,i,c){var f,m=e.getRoot(),y,w=e.schema.getNonEmptyElements(),R=e.getParent(c.parentNode,e.isBlock)||m;if(i&&eo(c)&&r&&e.isEmpty(R))return oe.some(vt(c.parentNode,e.nodeIndex(c)));for(var $=new Ua(c,R);y=$[i?"prev":"next"]();){if(e.getContentEditableParent(y)==="false"||XS(y,m))return oe.none();if(zr(y)&&y.nodeValue.length>0)return ls(y,m,"A")===!1?oe.some(vt(y,i?y.nodeValue.length:0)):oe.none();if(e.isBlock(y)||w[y.nodeName.toLowerCase()])return oe.none();f=y}return a&&f?oe.some(vt(f,0)):oe.none()},_b=function(e,r,a,i){var c,f,m=e.getRoot(),y,w,R=!1;c=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var $=hn(c)&&f===c.childNodes.length,V=e.schema.getNonEmptyElements();if(w=a,xs(c))return oe.none();if(hn(c)&&f>c.childNodes.length-1&&(w=!1),ih(c)&&(c=m,f=0),c===m){if(w&&(y=c.childNodes[f>0?f-1:0],y&&(xs(y)||V[y.nodeName]||pf(y))))return oe.none();if(c.hasChildNodes()){if(f=Math.min(!w&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=zr(c)&&$?c.data.length:0,!r&&c===m.lastChild&&pf(c)||YS(m,c)||xs(c))return oe.none();if(c.hasChildNodes()&&pf(c)===!1){y=c;var j=new Ua(c,m);do{if(_o(y)||xs(y)){R=!1;break}if(zr(y)&&y.nodeValue.length>0){f=w?0:y.nodeValue.length,c=y,R=!0;break}if(V[y.nodeName.toLowerCase()]&&!KS(y)){f=e.nodeIndex(y),c=y.parentNode,w||f++,R=!0;break}}while(y=w?j.next():j.prev())}}}return r&&(zr(c)&&f===0&&bb(e,$,r,!0,c).each(function(re){c=re.container(),f=re.offset(),R=!0}),hn(c)&&(y=c.childNodes[f],y||(y=c.childNodes[f-1]),y&&eo(y)&&!aa(y,"A")&&!E0(e,y,!1)&&!E0(e,y,!0)&&bb(e,$,r,!0,y).each(function(re){c=re.container(),f=re.offset(),R=!0}))),w&&!r&&zr(c)&&f===c.nodeValue.length&&bb(e,$,r,!1,c).each(function(re){c=re.container(),f=re.offset(),R=!0}),R?oe.some(vt(c,f)):oe.none()},wb=function(e,r){var a=r.collapsed,i=r.cloneRange(),c=vt.fromRangeStart(r);return _b(e,a,!0,i).each(function(f){(!a||!vt.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),a||_b(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),T0(r,i)?oe.none():oe.some(i)},Kh=function(e,r){return e.splitText(r)},Zf=function(e){var r=e.startContainer,a=e.startOffset,i=e.endContainer,c=e.endOffset;return r===i&&zr(r)?a>0&&a<r.nodeValue.length&&(i=Kh(r,a),r=i.previousSibling,c>a?(c=c-a,r=i=Kh(i,c).previousSibling,c=i.nodeValue.length,a=0):c=0):(zr(r)&&a>0&&a<r.nodeValue.length&&(r=Kh(r,a),a=0),zr(i)&&c>0&&c<i.nodeValue.length&&(i=Kh(i,c).previousSibling,c=i.nodeValue.length)),{startContainer:r,startOffset:a,endContainer:i,endOffset:c}},Xh=function(e){var r=function(c,f){return qh(e,c,f)},a=Zf,i=function(c){return wb(e,c).fold(Wt,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:r,split:a,normalize:i}};Xh.compareRanges=T0,Xh.getCaretRangeFromPoint=S0,Xh.getSelectedNode=Ov,Xh.getNode=Oo;var ZS=function(e,r){var a=function(y,w){if(!Ue(w)&&!w.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+w);var R=y.dom;Ao(R)&&(R.style[e]=w+"px")},i=function(y){var w=r(y);if(w<=0||w===null){var R=Un(y,e);return parseFloat(R)||0}return w},c=i,f=function(y,w){return it(w,function(R,$){var V=Un(y,$),j=V===void 0?0:parseInt(V,10);return isNaN(j)?R:R+j},0)},m=function(y,w,R){var $=f(y,R),V=w>$?w-$:0;return V};return{set:a,get:i,getOuter:c,aggregate:f,max:m}},h2=ZS("height",function(e){var r=e.dom;return Rf(e)?r.getBoundingClientRect().height:r.offsetHeight}),z0=function(e){return h2.get(e)},Kd=function(e,r){var a=e.view(r);return a.fold(X([]),function(i){var c=e.owner(i),f=Kd(e,c);return[i].concat(f)})},kb=function(e,r){var a=r.owner(e);return Kd(r,a)},g2=function(e){var r,a=e.dom===document?oe.none():oe.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return a.map(x.fromDom)},JS=function(e){return vn(e)},QS=Object.freeze({__proto__:null,view:g2,owner:JS}),e8=function(e){var r=x.fromDom(document),a=hp(r),i=kb(e,QS),c=bs(e),f=Pr(i,function(m,y){var w=bs(y);return{left:m.left+w.left,top:m.top+w.top}},{left:0,top:0});return gl(f.left+c.left+a.left,f.top+c.top+a.top)},qv=function(e){return za(e)==="textarea"},A0=function(e,r){var a=e.fire("ScrollIntoView",r);return a.isDefaultPrevented()},Jr=function(e,r){e.fire("AfterScrollIntoView",r)},y2=function(e,r){var a=Iu(e);if(a.length===0||qv(e))return{element:e,offset:r};if(r<a.length&&!qv(a[r]))return{element:a[r],offset:0};var i=a[a.length-1];return qv(i)?{element:e,offset:r}:za(i)==="img"?{element:i,offset:1}:No(i)?{element:i,offset:y0(i).length}:{element:i,offset:Iu(i).length}},b2=function(e,r){var a=zo(e),i=z0(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:r}},t8=function(e,r){var a=y2(e,r),i=x.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Pe+"</span>");return uu(a.element,i),b2(i,function(){return Uo(i)})},Yh=function(e){return b2(x.fromDom(e),U)},Wu=function(e,r,a,i){O0(e,function(c,f){return r8(e,r,a,i)},a)},Zh=function(e,r,a,i,c){var f={elm:i.element.dom,alignToTop:c};if(!A0(e,f)){var m=hp(r).top;a(r,m,i,c),Jr(e,f)}},r8=function(e,r,a,i){var c=x.fromDom(e.getBody()),f=x.fromDom(e.getDoc());hx(c);var m=t8(x.fromDom(a.startContainer),a.startOffset);Zh(e,f,r,m,i),m.cleanup()},_2=function(e,r,a,i){var c=x.fromDom(e.getDoc());Zh(e,c,a,Yh(r),i)},O0=function(e,r,a){var i=a.startContainer,c=a.startOffset,f=a.endContainer,m=a.endOffset;r(x.fromDom(i),x.fromDom(f));var y=e.dom.createRng();y.setStart(i,c),y.setEnd(f,m),e.selection.setRng(a)},R0=function(e,r,a,i){var c=e.pos;if(a)$s(c.left,c.top,i);else{var f=c.top-r+e.height;$s(c.left,f,i)}},w2=function(e,r,a,i,c){var f=a+r,m=i.pos.top,y=i.bottom,w=y-m>=a;if(m<r)R0(i,a,c!==!1,e);else if(m>f){var R=w?c!==!1:c===!0;R0(i,a,R,e)}else y>f&&!w&&R0(i,a,c===!0,e)},D0=function(e,r,a,i){var c=e.dom.defaultView.innerHeight;w2(e,r,c,a,i)},M0=function(e,r,a,i){var c=e.dom.defaultView.innerHeight;w2(e,r,c,a,i);var f=e8(a.element),m=Mf(window);f.top<m.y?gp(a.element,i!==!1):f.top>m.bottom&&gp(a.element,i===!0)},Jf=function(e,r,a){return Wu(e,D0,r,a)},n8=function(e,r,a){return _2(e,r,D0,a)},a8=function(e,r,a){return Wu(e,M0,r,a)},k2=function(e,r,a){return _2(e,r,M0,a)},o8=function(e,r,a){var i=e.inline?n8:k2;i(e,r,a)},Jh=function(e,r,a){var i=e.inline?Jf:a8;i(e,r,a)},Na=function(){return x.fromDom(document)},Cb=function(e){return e.dom.focus()},Qf=function(e){var r=Ju(e).dom;return e.dom===r.activeElement},al=function(e){return e===void 0&&(e=Na()),oe.from(e.dom.activeElement).map(x.fromDom)},Xd=function(e){return al(Ju(e)).filter(function(r){return e.dom.contains(r.dom)})},Os=function(e,r,a,i){return{start:e,soffset:r,finish:a,foffset:i}},xb={create:Os},Gv=Kr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),km=function(e,r,a,i){return e.fold(r,a,i)},Yd=function(e){return e.fold(Lt,Lt,Lt)},i8=Gv.before,C2=Gv.on,u8=Gv.after,s8={before:i8,on:C2,after:u8,cata:km,getStart:Yd},Jn=Kr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ol=function(e){return Jn.exact(e.start,e.soffset,e.finish,e.foffset)},Cm=function(e){return e.match({domRange:function(r){return x.fromDom(r.startContainer)},relative:function(r,a){return s8.getStart(r)},exact:function(r,a,i,c){return r}})},x2=Jn.domRange,Qh=Jn.relative,ma=Jn.exact,S2=function(e){var r=Cm(e);return Ho(r)},T2=xb.create,eg={domRange:x2,relative:Qh,exact:ma,exactFromRange:ol,getWin:S2,range:T2},E2=br().browser,tg=function(e,r){var a=No(r)?y0(r).length:Iu(r).length+1;return e>a?a:e<0?0:e},Kv=function(e){return eg.range(e.start,tg(e.soffset,e.start),e.finish,tg(e.foffset,e.finish))},B0=function(e,r){return!Ul(r.dom)&&(Ia(e,r)||an(e,r))},N0=function(e){return function(r){return B0(e,r.start)&&B0(e,r.finish)}},z2=function(e){return e.inline===!0||E2.isIE()},A2=function(e){return eg.range(x.fromDom(e.startContainer),e.startOffset,x.fromDom(e.endContainer),e.endOffset)},Zd=function(e){var r=e.getSelection(),a=!r||r.rangeCount===0?oe.none():oe.from(r.getRangeAt(0));return a.map(A2)},Xv=function(e){var r=Ho(e);return Zd(r.dom).filter(N0(e))},P0=function(e,r){return oe.from(r).filter(N0(e)).map(Kv)},O2=function(e){var r=document.createRange();try{return r.setStart(e.start.dom,e.soffset),r.setEnd(e.finish.dom,e.foffset),oe.some(r)}catch{return oe.none()}},Sb=function(e){var r=z2(e)?Xv(x.fromDom(e.getBody())):oe.none();e.bookmark=r.isSome()?r:e.bookmark},c8=function(e,r){var a=x.fromDom(e.getBody()),i=z2(e)?oe.from(r):oe.none(),c=i.map(A2).filter(N0(a));e.bookmark=c.isSome()?c:e.bookmark},xm=function(e){var r=e.bookmark?e.bookmark:oe.none();return r.bind(function(a){return P0(x.fromDom(e.getBody()),a)}).bind(O2)},F0=function(e){xm(e).each(function(r){return e.selection.setRng(r)})},I0=function(e){var r=e.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1},R2={isEditorUIElement:I0},L0=function(e){return e.type==="nodechange"&&e.selectionChange},Tb=function(e,r){var a=function(){r.throttle()};mo.DOM.bind(document,"mouseup",a),e.on("remove",function(){mo.DOM.unbind(document,"mouseup",a)})},Eb=function(e){e.on("focusout",function(){Sb(e)})},$0=function(e,r){e.on("mouseup touchend",function(a){r.throttle()})},H0=function(e,r){var a=br().browser;a.isIE()?Eb(e):$0(e,r),e.on("keyup NodeChange",function(i){L0(i)||Sb(e)})},D2=function(e){var r=Sy(function(){Sb(e)},0);e.on("init",function(){e.inline&&Tb(e,r),H0(e,r)}),e.on("remove",function(){r.cancel()})},Yv,Sm=mo.DOM,M2=function(e){return R2.isEditorUIElement(e)},B2=function(e){var r=e.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},zb=function(e,r){var a=$_(e),i=Sm.getParent(r,function(c){return M2(c)||(a?e.dom.is(c,a):!1)});return i!==null},N2=function(e){try{var r=Ju(x.fromDom(e.getElement()));return al(r).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},P2=function(e,r){var a=r.editor;D2(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Au.setEditorTimeout(a,function(){var i=e.focusedEditor;!zb(a,N2(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Yv||(Yv=function(i){var c=e.activeEditor;c&&Tu(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!zb(c,f)&&e.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sm.bind(document,"focusin",Yv))},V0=function(e,r){e.focusedEditor===r.editor&&(e.focusedEditor=null),e.activeEditor||(Sm.unbind(document,"focusin",Yv),Yv=null)},F2=function(e){e.on("AddEditor",St(P2,e)),e.on("RemoveEditor",St(V0,e))},I2=function(e,r){return e.dom.getParent(r,function(a){return e.dom.getContentEditable(a)==="true"})},L2=function(e){return e.collapsed?oe.from(Oo(e.startContainer,e.startOffset)).map(x.fromDom):oe.none()},l8=function(e,r){return L2(r).bind(function(a){return Oa(a)?oe.some(a):Ia(e,a)===!1?oe.some(e):oe.none()})},$2=function(e,r){l8(x.fromDom(e.getBody()),r).bind(function(a){return ju(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},U0=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Tm=function(e){return Qf(e)||Xd(e).isSome()},f8=function(e){return e.iframeElement&&Qf(x.fromDom(e.iframeElement))},H2=function(e){var r=e.getBody();return r&&Tm(x.fromDom(r))},V2=function(e){var r=Ju(x.fromDom(e.getElement()));return al(r).filter(function(a){return!B2(a.dom)&&zb(e,a.dom)}).isSome()},Bc=function(e){return e.inline?H2(e):f8(e)},U2=function(e){return Bc(e)||V2(e)},j2=function(e){var r=e.selection,a=e.getBody(),i=r.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Bc(e)===!1&&xm(e).each(function(f){e.selection.setRng(f),i=f});var c=I2(e,r.getNode());if(e.$.contains(a,c)){U0(c),$2(e,i),Ab(e);return}e.inline||(Zt.opera||U0(a),e.getWin().focus()),(Zt.gecko||e.inline)&&(U0(a),$2(e,i)),Ab(e)},Ab=function(e){return e.editorManager.setActive(e)},Ob=function(e,r){e.removed||(r?Ab(e):j2(e))},j0=function(e,r,a,i,c){var f=a?r.startContainer:r.endContainer,m=a?r.startOffset:r.endOffset;return oe.from(f).map(x.fromDom).map(function(y){return!i||!r.collapsed?ml(y,c(y,m)).getOr(y):y}).bind(function(y){return bo(y)?oe.some(y):Vo(y).filter(bo)}).map(function(y){return y.dom}).getOr(e)},Zv=function(e,r,a){return j0(e,r,!0,a,function(i,c){return Math.min(qg(i),c)})},Em=function(e,r,a){return j0(e,r,!1,a,function(i,c){return c>0?c-1:c})},W2=function(e,r){for(var a=e;e&&zr(e)&&e.length===0;)e=r?e.nextSibling:e.previousSibling;return e||a},q2=function(e,r){var a,i,c;if(!r)return e;i=r.startContainer,c=r.endContainer;var f=r.startOffset,m=r.endOffset;return a=r.commonAncestorContainer,!r.collapsed&&(i===c&&m-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&c.nodeType===3&&(i.length===f?i=W2(i.nextSibling,!0):i=i.parentNode,m===0?c=W2(c.previousSibling,!1):c=c.parentNode,i&&i===c))?i:a&&a.nodeType===3?a.parentNode:a},Rb=function(e,r,a,i){var c,f=[],m=e.getRoot();if(a=e.getParent(a||Zv(m,r,r.collapsed),e.isBlock),i=e.getParent(i||Em(m,r,r.collapsed),e.isBlock),a&&a!==m&&f.push(a),a&&i&&a!==i){c=a;for(var y=new Ua(a,m);(c=y.next())&&c!==i;)e.isBlock(c)&&f.push(c)}return i&&a!==i&&i!==m&&f.push(i),f},d8=function(e,r,a){return oe.from(r).map(function(i){var c=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,c),f.setEnd(i.parentNode,c+1),a&&(Wd(e,f,i,!0),Wd(e,f,i,!1)),f})},Db=function(e,r){return Ne(r,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},rg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Mb=function(e,r,a){var i=a?"lastChild":"firstChild",c=a?"prev":"next";if(e[i])return e[i];if(e!==r){var f=e[c];if(f)return f;for(var m=e.parent;m&&m!==r;m=m.parent)if(f=m[c],f)return f}},G2=function(e){if(!Yc(e.value))return!1;var r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(e.value))},Bb=function(e){var r=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||r},Nc=function(){function e(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(r,a){var i=new e(r,rg[r]||1);return a&&xn(a,function(c,f){i.attr(f,c)}),i},e.prototype.replace=function(r){var a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a},e.prototype.attr=function(r,a){var i=this,c;if(typeof r!="string")return r!=null&&xn(r,function(m,y){i.attr(y,m)}),i;if(c=i.attributes){if(a!==void 0){if(a===null){if(r in c.map){delete c.map[r];for(var f=c.length;f--;)if(c[f].name===r)return c.splice(f,1),i}return i}if(r in c.map){for(var f=c.length;f--;)if(c[f].name===r){c[f].value=a;break}}else c.push({name:r,value:a});return c.map[r]=a,i}return c.map[r]}},e.prototype.clone=function(){var r=this,a=new e(r.name,r.type),i;if(i=r.attributes){var c=[];c.map={};for(var f=0,m=i.length;f<m;f++){var y=i[f];y.name!=="id"&&(c[c.length]={name:y.name,value:y.value},c.map[y.name]=y.value)}a.attributes=c}return a.value=r.value,a.shortEnded=r.shortEnded,a},e.prototype.wrap=function(r){var a=this;return a.parent.insert(r,a),r.append(a),a},e.prototype.unwrap=function(){for(var r=this,a=r.firstChild;a;){var i=a.next;r.insert(a,r,!0),a=i}r.remove()},e.prototype.remove=function(){var r=this,a=r.parent,i=r.next,c=r.prev;return a&&(a.firstChild===r?(a.firstChild=i,i&&(i.prev=null)):c.next=i,a.lastChild===r?(a.lastChild=c,c&&(c.next=null)):i.prev=c,r.parent=r.next=r.prev=null),r},e.prototype.append=function(r){var a=this;r.parent&&r.remove();var i=a.lastChild;return i?(i.next=r,r.prev=i,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r},e.prototype.insert=function(r,a,i){r.parent&&r.remove();var c=a.parent||this;return i?(a===c.firstChild?c.firstChild=r:a.prev.next=r,r.prev=a.prev,r.next=a,a.prev=r):(a===c.lastChild?c.lastChild=r:a.next.prev=r,r.next=a.next,r.prev=a,a.next=r),r.parent=c,r},e.prototype.getAll=function(r){for(var a=this,i=[],c=a.firstChild;c;c=Mb(c,a))c.name===r&&i.push(c);return i},e.prototype.children=function(){for(var r=this,a=[],i=r.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var r=this;if(r.firstChild){for(var a=[],i=r.firstChild;i;i=Mb(i,r))a.push(i);for(var c=a.length;c--;){var i=a[c];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(r,a,i){a===void 0&&(a={});var c=this,f=c.firstChild;if(Bb(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(r[f.name]||Bb(f))return!1}if(f.type===8||f.type===3&&!G2(f)||f.type===3&&f.parent&&a[f.parent.name]&&Yc(f.value)||i&&i(f))return!1}while(f=Mb(f,c));return!0},e.prototype.walk=function(r){return Mb(this,null,r)},e}(),v8=mt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),W0=function(e){return ke(e.nodeValue)&&Ft(e.nodeValue,Pe)},q0=function(e){return(e.length===0?"":Ne(e,function(r){return"["+r+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},Nb=function(e,r){return r.querySelectorAll(q0(e))},zm=function(e,r,a){return document.createTreeWalker(e,r,a,!1)},Pb=function(e){return zm(e,NodeFilter.SHOW_COMMENT,function(r){return W0(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},G0=function(e){return zm(e,NodeFilter.SHOW_TEXT,function(r){if(W0(r)){var a=r.parentNode;return a&&Sn(v8,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},K2=function(e){return Pb(e).nextNode()!==null},X2=function(e){return G0(e).nextNode()!==null},Fb=function(e,r){return r.querySelector(q0(e))!==null},p8=function(e,r){je(Nb(e,r),function(a){var i=x.fromDom(a);K(i,"data-mce-bogus")==="all"?Uo(i):je(e,function(c){We(i,c)&&_t(i,c)})})},Y2=function(e){for(var r=e.nextNode();r!==null;)r.nodeValue=null,r=e.nextNode()},m8=xe(Y2,Pb),h8=xe(Y2,G0),Jv=function(e,r){var a=[{condition:St(Fb,r),action:St(p8,r)},{condition:K2,action:m8},{condition:X2,action:h8}],i=e,c=!1;return je(a,function(f){var m=f.condition,y=f.action;m(i)&&(c||(i=e.cloneNode(!0),c=!0),y(i))}),i},g8=function(e,r){var a=mu(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(i,"")},y8=function(e,r){return Lr(Lr({},e),{format:r,get:!0,getInner:!0})},b8=function(e,r,a,i){var c=y8(r,a),f=r.no_events?c:e.fire("BeforeGetContent",c),m;return f.format==="raw"?m=mt.trim(Cs(Jv(i,e.serializer.getTempAttrs()).innerHTML)):f.format==="text"?m=e.dom.isEmpty(i)?"":Cs(i.innerText||i.textContent):f.format==="tree"?m=e.serializer.serialize(i,f):m=g8(e,e.serializer.serialize(i,f)),!qe(["text","tree"],f.format)&&!dv(x.fromDom(i))?f.content=mt.trim(m):f.content=m,f.no_events?f.content:e.fire("GetContent",f).content},K0=function(e,r,a){return oe.from(e.getBody()).fold(X(r.format==="tree"?new Nc("body",11):""),function(i){return b8(e,r,a,i)})},X0=mt.each,Z2=function(e){var r=function(a,i){if(a.nodeName!==i.nodeName)return!1;var c=function(m){var y={};return X0(e.getAttribs(m),function(w){var R=w.nodeName.toLowerCase();R.indexOf("_")!==0&&R!=="style"&&R.indexOf("data-")!==0&&(y[R]=e.getAttrib(m,R))}),y},f=function(m,y){var w,R;for(R in m)if(Sn(m,R)){if(w=y[R],typeof w>"u"||m[R]!==w)return!1;delete y[R]}for(R in y)if(Sn(y,R))return!1;return!0};return!f(c(a),c(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!As(a)&&!As(i)};return{compare:r}},ng=mt.makeMap,Y0=function(e){var r=[];e=e||{};var a=e.indent,i=ng(e.indent_before||""),c=ng(e.indent_after||""),f=cc.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format==="html";return{start:function(y,w,R){var $,V,j,re;if(a&&i[y]&&r.length>0&&(re=r[r.length-1],re.length>0&&re!==`
`&&r.push(`
`)),r.push("<",y),w)for($=0,V=w.length;$<V;$++)j=w[$],r.push(" ",j.name,'="',f(j.value,!0),'"');!R||m?r[r.length]=">":r[r.length]=" />",R&&a&&c[y]&&r.length>0&&(re=r[r.length-1],re.length>0&&re!==`
`&&r.push(`
`))},end:function(y){var w;r.push("</",y,">"),a&&c[y]&&r.length>0&&(w=r[r.length-1],w.length>0&&w!==`
`&&r.push(`
`))},text:function(y,w){y.length>0&&(r[r.length]=w?y:f(y))},cdata:function(y){r.push("<![CDATA[",y,"]]>")},comment:function(y){r.push("<!--",y,"-->")},pi:function(y,w){w?r.push("<?",y," ",f(w),"?>"):r.push("<?",y,"?>"),a&&r.push(`
`)},doctype:function(y){r.push("<!DOCTYPE",y,">",a?`
`:"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},Qv=function(e,r){r===void 0&&(r=lc());var a=Y0(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(c){var f=e.validate,m={3:function(w){a.text(w.value,w.raw)},8:function(w){a.comment(w.value)},7:function(w){a.pi(w.name,w.value)},10:function(w){a.doctype(w.value)},4:function(w){a.cdata(w.value)},11:function(w){if(w=w.firstChild)do y(w);while(w=w.next)}};a.reset();var y=function(w){var R=m[w.type];if(R)R(w);else{var $=w.name,V=w.shortEnded,j=w.attributes;if(f&&j&&j.length>1){var re=[];re.map={};var ae=r.getElementRule(w.name);if(ae){for(var ie=0,ue=ae.attributesOrder.length;ie<ue;ie++){var _e=ae.attributesOrder[ie];if(_e in j.map){var he=j.map[_e];re.map[_e]=he,re.push({name:_e,value:he})}}for(var ie=0,ue=j.length;ie<ue;ie++){var _e=j[ie].name;if(!(_e in re.map)){var he=j.map[_e];re.map[_e]=he,re.push({name:_e,value:he})}}j=re}}if(a.start(w.name,j,V),!V){if(w=w.firstChild)do y(w);while(w=w.next);a.end($)}}};return c.type===1&&!e.inner?y(c):m[11](c),a.getContent()};return{serialize:i}},J2=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];je(e,function(r){J2.add(r)})})();var ag=["font","text-decoration","text-emphasis"],Am=function(e,r){return ao(e.parseStyle(e.getAttrib(r,"style")))},Q2=function(e){return J2.has(e)},_8=function(e,r){return Gn(Am(e,r),function(a){return!Q2(a)})},w8=function(e){return Xt(e,function(r){return be(ag,function(a){return Gt(r,a)})})},e3=function(e,r,a){var i=Am(e,r),c=Am(e,a),f=function(m){var y=e.getStyle(r,m),w=e.getStyle(a,m);return Dn(y)&&Dn(w)&&y!==w};return be(i,function(m){var y=function(R){return be(R,function($){return $===m})};if(!y(c)&&y(ag)){var w=w8(c);return be(w,f)}else return f(m)})},og=function(e,r,a){return oe.from(a.container()).filter(zr).exists(function(i){var c=e?0:-1;return r(i.data.charAt(a.offset()+c))})},ig=St(og,!0,Ud),ug=St(og,!1,Ud),t3=function(e){var r=e.container();return zr(r)&&(r.data.length===0||rs(r.data)&&Gd.isBookmarkNode(r.parentNode))},Rs=function(e,r){return function(a){return oe.from(Qy(e?0:-1,a)).filter(r).isSome()}},r3=function(e){return yp(e)&&Un(x.fromDom(e),"display")==="block"},Ml=function(e){return _o(e)&&!Ei(e)},k8=Rs(!0,r3),n3=Rs(!1,r3),Om=Rs(!0,_s),Rm=Rs(!1,_s),a3=Rs(!0,si),o3=Rs(!1,si),Jd=Rs(!0,Ml),Qd=Rs(!1,Ml),Z0=function(e){for(var r=[],a=e.dom;a;)r.push(x.fromDom(a)),a=a.lastChild;return r},C8=function(e){var r=pu(e,"br"),a=Xt(Z0(e).slice(-1),Tp);r.length===a.length&&je(a,Uo)},ep=function(e){Af(e),Ti(e,x.fromHtml('<br data-mce-bogus="1">'))},x8=function(e){Ls(e).each(function(r){Tf(r).each(function(a){oc(e)&&Tp(r)&&oc(a)&&Uo(r)})})},i3=function(e){return e.slice(0,-1)},sg=function(e,r,a){return Ia(r,e)?i3(Si(e,function(i){return a(i)||an(i,r)})):[]},u3=function(e,r){return sg(e,r,Wt)},jr=function(e,r){return[e].concat(u3(e,r))},cg=function(e,r,a){return ub(e,r,a,t3)},lg=function(e,r){return rr(jr(x.fromDom(r.container()),e),oc)},J0=function(e,r,a){return cg(e,r.dom,a).forall(function(i){return lg(r,a).fold(function(){return Ol(i,a,r.dom)===!1},function(c){return Ol(i,a,r.dom)===!1&&Ia(c,x.fromDom(i.container()))})})},s3=function(e,r,a){return lg(r,a).fold(function(){return cg(e,r.dom,a).forall(function(i){return Ol(i,a,r.dom)===!1})},function(i){return cg(e,i.dom,a).isNone()})},Ib=St(s3,!1),fg=St(s3,!0),Q0=St(J0,!1),c3=St(J0,!0),S8=function(e){return tb(e).exists(Tp)},yn=function(e,r,a){var i=Xt(jr(x.fromDom(a.container()),r),oc),c=ga(i).getOr(r);return zs(e,c.dom,a).filter(S8)},Lb=function(e,r){return tb(r).exists(Tp)||yn(!0,e,r).isSome()},Nn=function(e,r){return ES(r).exists(Tp)||yn(!1,e,r).isSome()},l3=St(yn,!1),f3=St(yn,!0),ew=function(e){return vt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},tp=function(e,r){var a=Xt(jr(x.fromDom(r.container()),e),oc);return ga(a).getOr(e)},$b=function(e,r){return ew(r)?ug(r):ug(r)||Dl(tp(e,r).dom,r).exists(ug)},dg=function(e,r){return ew(r)?ig(r):ig(r)||rl(tp(e,r).dom,r).exists(ig)},Hb=function(e){return qe(["pre","pre-wrap"],e)},tw=function(e){return tb(e).bind(function(r){return Cp(r,bo)}).exists(function(r){return Hb(Un(r,"white-space"))})},bn=function(e,r){return Dl(e.dom,r).isNone()},T8=function(e,r){return rl(e.dom,r).isNone()},d3=function(e,r){return bn(e,r)||T8(e,r)||Ib(e,r)||fg(e,r)||Nn(e,r)||Lb(e,r)},Vb=function(e,r){return tw(r)?!1:d3(e,r)||$b(e,r)||dg(e,r)},mf=function(e,r){return tw(r)?!1:Ib(e,r)||Q0(e,r)||Nn(e,r)||$b(e,r)},v3=function(e){var r=e.container(),a=e.offset();return zr(r)&&a<r.data.length?vt(r,a+1):e},vg=function(e,r){return tw(r)?!1:fg(e,r)||c3(e,r)||Lb(e,r)||dg(e,r)},Ub=function(e,r){return mf(e,r)||vg(e,v3(r))},p3=function(e,r){return Hv(e.charAt(r))},m3=function(e){var r=e.container();return zr(r)&&Ft(r.data,Vs)},E8=function(e){var r=e.split("");return Ne(r,function(a,i){return Hv(a)&&i>0&&i<r.length-1&&sb(r[i-1])&&sb(r[i+1])?" ":a}).join("")},z8=function(e,r){var a=r.data,i=vt(r,0);return p3(a,0)&&!Ub(e,i)?(r.data=" "+a.slice(1),!0):!1},A8=function(e){var r=e.data,a=E8(r);return a!==r?(e.data=a,!0):!1},O8=function(e,r){var a=r.data,i=vt(r,a.length-1);return p3(a,a.length-1)&&!Ub(e,i)?(r.data=a.slice(0,-1)+" ",!0):!1},R8=function(e,r){return oe.some(r).filter(m3).bind(function(a){var i=a.container(),c=z8(e,i)||A8(i)||O8(e,i);return c?oe.some(a):oe.none()})},h3=function(e){var r=x.fromDom(e.getBody());e.selection.isCollapsed()&&R8(r,vt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},D8=function(e,r,a){var i=it(e,function(c,f){return Ud(f)||Hv(f)?c.previousCharIsSpace||c.str===""&&r||c.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:c.str+Vs}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return i.str},rw=function(e,r,a){if(a!==0){var i=x.fromDom(e),c=gd(i,oc).getOr(i),f=e.data.slice(r,r+a),m=r+a>=e.data.length&&vg(c,vt(e,e.data.length)),y=r===0&&mf(c,vt(e,0));e.replaceData(r,a,D8(f,y,m))}},Dm=function(e,r){var a=e.data.slice(r),i=a.length-ln(a).length;rw(e,r,i)},ca=function(e,r){var a=e.data.slice(0,r),i=a.length-mn(a).length;rw(e,r-i,i)},jb=function(e,r,a,i){i===void 0&&(i=!0);var c=mn(e.data).length,f=i?e:r,m=i?r:e;return i?f.appendData(m.data):f.insertData(0,m.data),Uo(x.fromDom(m)),a&&Dm(f,c),f},Wb=function(e,r){var a=e.container(),i=e.offset();return vt.isTextPosition(e)===!1&&a===r.parentNode&&i>vt.before(r).offset()},g3=function(e,r){return Wb(r,e)?vt(r.container(),r.offset()-1):r},y3=function(e){return zr(e)?vt(e,0):vt.before(e)},b3=function(e){return zr(e)?vt(e,e.data.length):vt.after(e)},nw=function(e){return Kl(e.previousSibling)?oe.some(b3(e.previousSibling)):e.previousSibling?Rc(e.previousSibling):oe.none()},aw=function(e){return Kl(e.nextSibling)?oe.some(y3(e.nextSibling)):e.nextSibling?ju(e.nextSibling):oe.none()},u=function(e,r){var a=vt.before(r.previousSibling?r.previousSibling:r.parentNode);return Dl(e,a).fold(function(){return rl(e,vt.after(r))},oe.some)},l=function(e,r){return rl(e,vt.after(r)).fold(function(){return Dl(e,vt.before(r))},oe.some)},v=function(e,r){return nw(r).orThunk(function(){return aw(r)}).orThunk(function(){return u(e,r)})},h=function(e,r){return aw(r).orThunk(function(){return nw(r)}).orThunk(function(){return l(e,r)})},b=function(e,r,a){return e?h(r,a):v(r,a)},T=function(e,r,a){return b(e,r,a).map(St(g3,a))},D=function(e,r,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),r)})},L=function(e){return function(r){return r.dom===e}},Q=function(e,r){return r&&Sn(e.schema.getBlockElements(),za(r))},fe=function(e){if(lu(e)){var r=x.fromHtml('<br data-mce-bogus="1">');return Af(e),Ti(e,r),oe.some(vt.before(r.dom))}else return oe.none()},Ae=function(e,r,a){var i=Tf(e).filter(No),c=rc(e).filter(No);return Uo(e),P1(i,c,r,function(f,m,y){var w=f.dom,R=m.dom,$=w.data.length;return jb(w,R,a),y.container()===R?vt(w,$):y}).orThunk(function(){return a&&(i.each(function(f){return ca(f.dom,f.dom.length)}),c.each(function(f){return Dm(f.dom,0)})),r})},yt=function(e,r){return Sn(e.schema.getTextInlineElements(),za(r))},Vt=function(e,r,a,i){i===void 0&&(i=!0);var c=T(r,e.getBody(),a.dom),f=gd(a,St(Q,e),L(e.getBody())),m=Ae(a,c,yt(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(fe).fold(function(){i&&D(e,r,m)},function(y){i&&D(e,r,oe.some(y))})},Rt=function(e){return function(r){return an(e,r)}},ht=function(e){return pu(e,"td,th")},ar=function(e,r){var a=function(R){return Vv(x.fromDom(R),r)},i=a(e.startContainer),c=a(e.endContainer),f=i.isSome(),m=c.isSome(),y=Lu(i,c,an).getOr(!1),w=!y&&f&&m;return{startTable:i,endTable:c,isStartInTable:f,isEndInTable:m,isSameTable:y,isMultiTable:w}},cr=function(e,r){return{start:e,end:r}},Wr=function(e,r,a){return{rng:e,table:r,cells:a}},ha=Kr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Xr=function(e,r){return ri(x.fromDom(e),"td,th",r)},_n=function(e){return!an(e.start,e.end)},oa=function(e,r){return Vv(e.start,r).bind(function(a){return Vv(e.end,r).bind(function(i){return F1(an(a,i),a)})})},Qn=function(e,r){return!_n(e)&&oa(e,r).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},_i=function(e,r){var a=Xr(e.startContainer,r),i=Xr(e.endContainer,r);return Lu(a,i,cr)},eu=function(e){return function(r){return Vv(r,e).bind(function(a){return Rn(ht(a)).map(function(i){return cr(r,i)})})}},fs=function(e){return function(r){return Vv(r,e).bind(function(a){return ga(ht(a)).map(function(i){return cr(i,r)})})}},_a=function(e){return function(r){return oa(r,e).map(function(a){return Wr(r,a,ht(a))})}},An=function(e,r,a,i){if(a.collapsed||!e.forall(_n))return oe.none();if(r.isSameTable){var c=e.bind(_a(i));return oe.some({start:c,end:c})}else{var f=Xr(a.startContainer,i),m=Xr(a.endContainer,i),y=f.bind(eu(i)).bind(_a(i)),w=m.bind(fs(i)).bind(_a(i));return oe.some({start:y,end:w})}},la=function(e,r){return Rr(e,function(a){return an(a,r)})},ja=function(e){return Lu(la(e.cells,e.rng.start),la(e.cells,e.rng.end),function(r,a){return e.cells.slice(r,a+1)})},qo=function(e,r,a){return e.exists(function(i){return Qn(i,a)&&nl(i.start,r)})},hf=function(e,r){var a=r.startTable,i=r.endTable,c=e.cloneRange();return a.each(function(f){return c.setStartAfter(f.dom)}),i.each(function(f){return c.setEndBefore(f.dom)}),c},Ga=function(e,r,a,i){return An(e,r,a,i).bind(function(c){var f=c.start,m=c.end;return f.or(m)}).bind(function(c){var f=r.isSameTable,m=ja(c).getOr([]);if(f&&c.cells.length===m.length)return oe.some(ha.fullTable(c.table));if(m.length>0){if(f)return oe.some(ha.partialTable(m,oe.none()));var y=hf(a,r);return oe.some(ha.partialTable(m,oe.some(Lr(Lr({},r),{rng:y}))))}else return oe.none()})},Pc=function(e,r,a,i){return An(e,r,a,i).bind(function(c){var f=c.start,m=c.end,y=f.bind(ja).getOr([]),w=m.bind(ja).getOr([]);if(y.length>0&&w.length>0){var R=hf(a,r);return oe.some(ha.multiTable(y,w,R))}else return oe.none()})},bu=function(e,r){var a=Rt(e),i=_i(r,a),c=ar(r,a);return qo(i,r,a)?i.map(function(f){return ha.singleCellTable(r,f.start)}):c.isMultiTable?Pc(i,c,r,a):Ga(i,c,r,a)},pg=function(e){var r=Fs(e)?Tf(e):Ls(e);return r.bind(pg).orThunk(function(){return oe.some(e)})},ev=function(e){return je(e,function(r){_t(r,"contenteditable"),ep(r)})},Bl=function(e,r){return oe.from(e.dom.getParent(r,e.dom.isBlock)).map(x.fromDom)},Fc=function(e,r,a){a.each(function(i){r?Uo(i):(ep(i),e.selection.setCursorLocation(i.dom,0))})},il=function(e,r,a,i){var c=a.cloneRange();i?(c.setStart(a.startContainer,a.startOffset),c.setEndAfter(r.dom.lastChild)):(c.setStartBefore(r.dom.firstChild),c.setEnd(a.endContainer,a.endOffset)),np(e,c,r,!1)},mg=function(e){var r=lf(e),a=x.fromDom(e.selection.getNode());bp(a.dom)&&lu(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),r.length>1&&be(r,function(i){return an(i,a)})&&z(a,"data-mce-selected","1")},rp=function(e,r,a){var i=e.selection.getRng(),c=a.bind(function(f){var m=f.rng,y=f.isStartInTable,w=Bl(e,y?m.endContainer:m.startContainer);m.deleteContents(),Fc(e,y,w.filter(lu));var R=y?r[0]:r[r.length-1];return il(e,R,i,y),lu(R)?oe.none():oe.some(y?r.slice(1):r.slice(0,-1))}).getOr(r);return ev(c),mg(e),!0},hg=function(e,r,a,i){var c=e.selection.getRng(),f=r[0],m=a[a.length-1];il(e,f,c,!0),il(e,m,c,!1);var y=lu(f)?r:r.slice(1),w=lu(m)?a:a.slice(0,-1);return ev(y.concat(w)),i.deleteContents(),mg(e),!0},np=function(e,r,a,i){i===void 0&&(i=!0),r.deleteContents();var c=pg(a).getOr(a),f=x.fromDom(e.dom.getParent(c.dom,e.dom.isBlock));if(lu(f)&&(ep(f),i&&e.selection.setCursorLocation(f.dom,0)),!an(a,f)){var m=lv(Vo(f),a)?[]:ui(f);je(m.concat(Iu(a)),function(y){!an(y,f)&&!Ia(y,f)&&lu(y)&&Uo(y)})}return!0},Nl=function(e,r){return Vt(e,!1,r),!0},Mm=function(e,r,a){return bu(r,a).map(function(i){return i.fold(St(np,e),St(Nl,e),St(rp,e),St(hg,e))})},qb=function(e,r){return ed(e,r)},_3=function(e,r,a,i){return B8(r,i).fold(function(){return Mm(e,r,a)},function(c){return qb(e,c)}).getOr(!1)},gg=function(e,r,a){var i=x.fromDom(e.getBody()),c=e.selection.getRng();return a.length!==0?rp(e,a,oe.none()):_3(e,i,c,r)},M8=function(e,r){return rr(jr(r,e),wl)},B8=function(e,r){return rr(jr(r,e),ah("caption"))},GD=function(e,r,a,i,c){return Rl(a,e.getBody(),c).bind(function(f){return M8(r,x.fromDom(f.getNode())).map(function(m){return an(m,i)===!1})})},ed=function(e,r){return ep(r),e.selection.setCursorLocation(r.dom,0),oe.some(!0)},KD=function(e,r,a,i){return ju(e.dom).bind(function(c){return Rc(e.dom).map(function(f){return r?a.isEqual(c)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(c)})}).getOr(!0)},Ks=function(e,r){return ed(e,r)},XD=function(e,r,a){return B8(e,x.fromDom(a.getNode())).map(function(i){return an(i,r)===!1})},YD=function(e,r,a,i,c){return Rl(a,e.getBody(),c).bind(function(f){return KD(i,a,c,f)?Ks(e,i):XD(r,i,f)}).or(oe.some(!0))},ap=function(e,r,a,i){var c=vt.fromRangeStart(e.selection.getRng());return M8(a,i).bind(function(f){return lu(f)?ed(e,f):GD(e,a,r,f,c)}).getOr(!1)},La=function(e,r,a,i){var c=vt.fromRangeStart(e.selection.getRng());return lu(i)?ed(e,i):YD(e,a,r,i,c)},Bm=function(e,r){return e?a3(r):o3(r)},N8=function(e,r){var a=vt.fromRangeStart(e.selection.getRng());return Bm(r,a)||zs(r,e.getBody(),a).exists(function(i){return Bm(r,i)})},ZD=function(e,r,a){var i=x.fromDom(e.getBody());return B8(i,a).fold(function(){return ap(e,r,i,a)||N8(e,r)},function(c){return La(e,r,i,c).getOr(!1)})},yg=function(e,r){var a=x.fromDom(e.selection.getStart(!0)),i=lf(e);return e.selection.isCollapsed()&&i.length===0?ZD(e,r,a):gg(e,a,i)},td=function(e,r,a,i){var c=document.createRange();return c.setStart(e,r),c.setEnd(a,i),c},JD=function(e){var r=vt.fromRangeStart(e),a=vt.fromRangeEnd(e),i=e.commonAncestorContainer;return zs(!1,i,a).map(function(c){return!Ol(r,a,i)&&Ol(r,c,i)?td(r.container(),r.offset(),c.container(),c.offset()):e}).getOr(e)},P8=function(e){return e.collapsed?e:JD(e)},QD=function(e){return e.firstChild&&e.firstChild===e.lastChild},F8=function(e){return e.name==="br"||e.value===Vs},e6=function(e,r){var a=e.getBlockElements();return a[r.name]&&QD(r)&&F8(r.firstChild)},t6=function(e,r){var a=e.getNonEmptyElements();return r&&(r.isEmpty(a)||e6(e,r))},Sz=function(e,r){var a=r.firstChild,i=r.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),t6(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},r6=function(e){var r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&r.parentNode.removeChild(r),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},n6=function(e,r,a){var i=r.serialize(a),c=e.createFragment(i);return r6(c)},a6=function(e){return Xt(e.childNodes,function(r){return r.nodeName==="LI"})},Ic=function(e){return e.data===Vs||eo(e)},tv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Ic(e.firstChild)},o6=function(e){return!e.firstChild||tv(e)},Tz=function(e){return e.length>0&&o6(e[e.length-1])?e.slice(0,-1):e},Gb=function(e,r){var a=e.getParent(r,e.isBlock);return a&&a.nodeName==="LI"?a:null},I8=function(e,r){return!!Gb(e,r)},i6=function(e,r){var a=r.cloneRange(),i=r.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},Ez=function(e,r){var a=vt.before(e),i=Zo(r),c=i.next(a);return c?c.toRange():null},Kb=function(e,r){var a=vt.after(e),i=Zo(r),c=i.prev(a);return c?c.toRange():null},w3=function(e,r,a,i){var c=i6(e,i),f=e.parentNode;return f.insertBefore(c[0],e),mt.each(r,function(m){f.insertBefore(m,e)}),f.insertBefore(c[1],e),f.removeChild(e),Kb(r[r.length-1],a)},u6=function(e,r,a){var i=e.parentNode;return mt.each(r,function(c){i.insertBefore(c,e)}),Ez(e,a)},Nm=function(e,r,a,i){return i.insertAfter(r.reverse(),e),Kb(r[0],a)},s6=function(e,r,a,i){var c=n6(r,e,i),f=Gb(r,a.startContainer),m=Tz(a6(c.firstChild)),y=1,w=2,R=r.getRoot(),$=function(V){var j=vt.fromRangeStart(a),re=Zo(r.getRoot()),ae=V===y?re.prev(j):re.next(j);return ae?Gb(r,ae.getNode())!==f:!0};return $(y)?u6(f,m,R):$(w)?Nm(f,m,R,r):w3(f,m,R,a)},c6=function(e,r,a){var i=x.fromDom(e.getRoot());return mf(i,vt.fromRangeStart(r))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),vg(i,vt.fromRangeEnd(r))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Xs=bp,L8=function(e,r,a){if(a!==null){var i=e.getParent(r.endContainer,Xs);return a===i&&nl(x.fromDom(a),r)}else return!1},rd=function(e,r,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(r),a);else{var i=a.firstChild,c=a.lastChild;!i||i===c&&i.nodeName==="BR"?e.dom.setHTML(a,r):e.selection.setContent(r)}},l6=function(e,r){oe.from(e.getParent(r,"td,th")).map(x.fromDom).each(x8)},no=function(e,r){var a=e.schema.getTextInlineElements(),i=e.dom;if(r){var c=e.getBody(),f=Z2(i);mt.each(i.select("*[data-mce-fragment]"),function(m){var y=Ge(a[m.nodeName.toLowerCase()]);if(y&&_8(i,m))for(var w=m.parentNode;Ge(w)&&w!==c;w=w.parentNode){var R=e3(i,m,w);if(R)break;if(f.compare(w,m)){i.remove(m,!0);break}}})}},bg=function(e){for(var r=e;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},k3=function(e){mt.each(e.getElementsByTagName("*"),function(r){r.removeAttribute("data-mce-fragment")})},zz=function(e){return!!e.getAttribute("data-mce-fragment")},$8=function(e,r){return r&&!e.schema.getShortEndedElements()[r.nodeName]},H8=function(e,r){var a,i=e.dom,c=e.selection;if(r){c.scrollIntoView(r);var f=jv(e.getBody(),r);if(i.getContentEditable(f)==="false"){i.remove(r),c.select(f);return}var m=i.createRng(),y=r.previousSibling;if(zr(y)){if(m.setStart(y,y.nodeValue.length),!Zt.ie){var w=r.nextSibling;zr(w)&&(y.appendData(w.data),w.parentNode.removeChild(w))}}else m.setStartBefore(r),m.setEndBefore(r);var R=function(V){var j=vt.fromRangeStart(V),re=Zo(e.getBody());if(j=re.next(j),j)return j.toRange()},$=i.getParent(r,i.isBlock);i.remove(r),$&&i.isEmpty($)&&(e.$($).empty(),m.setStart($,0),m.setEnd($,0),!Xs($)&&!zz($)&&(a=R(m))?(m=a,i.remove($)):i.add($,i.create("br",{"data-mce-bogus":"1"}))),c.setRng(m)}},f6=function(e){var r=e.dom,a=P8(e.selection.getRng());e.selection.setRng(a);var i=r.getParent(a.startContainer,Xs);L8(r,a,i)?np(e,a,x.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},V8=function(e,r,a){var i,c,f,m=e.selection,y=e.dom;/^ | $/.test(r)&&(r=c6(y,m.getRng(),r));var w=e.parser,R=a.merge,$=Qv({validate:lS(e)},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',j=e.fire("BeforeSetContent",{content:r,format:"html",selection:!0,paste:a.paste});if(j.isDefaultPrevented()){e.fire("SetContent",{content:j.content,format:"html",selection:!0,paste:a.paste});return}r=j.content,a.preserve_zwsp||(r=Cs(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,V),c=m.getRng();var re=c.startContainer||(c.parentElement?c.parentElement():null),ae=e.getBody();re===ae&&m.isCollapsed()&&y.isBlock(ae.firstChild)&&$8(e,ae.firstChild)&&y.isEmpty(ae.firstChild)&&(c=y.createRng(),c.setStart(ae.firstChild,0),c.setEnd(ae.firstChild,0),m.setRng(c)),m.isCollapsed()||f6(e),i=m.getNode();var ie={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},ue=w.parse(r,ie);if(a.paste===!0&&Sz(e.schema,ue)&&I8(y,i)){c=s6($,y,m.getRng(),ue),m.setRng(c),e.fire("SetContent",j);return}if(bg(ue),f=ue.lastChild,f.attr("id")==="mce_marker"){var _e=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!y.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(_e,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ie.invalid)r=$.serialize(ue),rd(e,r,i);else{e.selection.setContent(V),i=m.getNode();var he=e.getBody();for(i.nodeType===9?i=f=he:f=i;f!==he;)i=f,f=f.parentNode;r=i===he?he.innerHTML:y.getOuterHTML(i),r=$.serialize(w.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return $.serialize(ue)}))),i===he?y.setHTML(he,r):y.setOuterHTML(i,r)}no(e,R),H8(e,y.get("mce_marker")),k3(e.getBody()),l6(y,m.getStart()),e.fire("SetContent",j),e.addVisual()},U8=function(e,r){r(e),e.firstChild&&U8(e.firstChild,r),e.next&&U8(e.next,r)},Az=function(e,r,a){var i={},c={},f=[];a.firstChild&&U8(a.firstChild,function(w){je(e,function(R){R.name===w.name&&(i[R.name]?i[R.name].nodes.push(w):i[R.name]={filter:R,nodes:[w]})}),je(r,function(R){typeof w.attr(R.name)=="string"&&(c[R.name]?c[R.name].nodes.push(w):c[R.name]={filter:R,nodes:[w]})})});for(var m in i)Sn(i,m)&&f.push(i[m]);for(var y in c)Sn(c,y)&&f.push(c[y]);return f},Oz=function(e,r,a){var i=Az(e,r,a);je(i,function(c){je(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},j8="html",C3=function(e){return e instanceof Nc},x3=function(e){Bc(e)&&ju(e.getBody()).each(function(r){var a=r.getNode(),i=si(a)?ju(a).getOr(r):r;e.selection.setRng(i.toRange())})},W8=function(e,r,a){e.dom.setHTML(e.getBody(),r),a!==!0&&x3(e)},d6=function(e,r,a,i){if(a=Cs(a),a.length===0||/^\s+$/.test(a)){var c='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+c+"</li>");var f=mu(e);f&&e.schema.isValidChild(r.nodeName.toLowerCase(),f.toLowerCase())?(a=c,a=e.dom.createHTML(f,Yp(e),a)):a||(a='<br data-mce-bogus="1">'),W8(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Qv({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=dv(x.fromDom(r))?a:mt.trim(a),W8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},v6=function(e,r,a,i){Oz(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var c=Qv({validate:e.validate},e.schema).serialize(a);return i.content=Cs(dv(x.fromDom(r))?c:mt.trim(c)),W8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},p6=function(e,r){return Lr(Lr({format:j8},e),{set:!0,content:C3(r)?"":r})},m6=function(e,r,a){var i=p6(a,r),c=a.no_events?i:e.fire("BeforeSetContent",i);return C3(r)||(r=c.content),oe.from(e.getBody()).fold(X(r),function(f){return C3(r)?v6(e,f,r,c):d6(e,f,r,c)})},h6=function(e,r){return $1(e,r).isSome()},Rz=function(e){return ce(e)?e:Wt},g6=function(e,r,a){for(var i=e.dom,c=Rz(a);i.parentNode;){i=i.parentNode;var f=x.fromDom(i),m=r(f);if(m.isSome())return m;if(c(f))break}return oe.none()},q8=function(e,r,a){var i=r(e),c=Rz(a);return i.orThunk(function(){return c(e)?oe.none():g6(e,r,c)})},G8=o0,K8=function(e,r,a){var i=e.formatter.get(a);if(i)for(var c=0;c<i.length;c++){var f=i[c];if(Gs(f)&&f.inherit===!1&&e.dom.is(r,f.selector))return!0}return!1},X8=function(e,r,a,i,c){var f=e.dom.getRoot();return r===f?!1:(r=e.dom.getParent(r,function(m){return K8(e,m,a)?!0:m.parentNode===f||!!rv(e,m,a,i,!0)}),!!rv(e,r,a,i,c))},S3=function(e,r,a){if(G8(r,a.inline)||G8(r,a.block))return!0;if(a.selector)return r.nodeType===1&&e.is(r,a.selector)},gf=function(e,r,a,i,c,f){var m=a[i];if(ce(a.onmatch))return a.onmatch(r,a,i);if(m){if(ze(m.length)){for(var y in m)if(Sn(m,y)){var w=i==="attributes"?e.getAttrib(r,y):hm(e,r,y),R=sf(m[y],f),$=$e(w)||ka(w);if($&&$e(R))continue;if(c&&$&&!a.exact||(!c||a.exact)&&!G8(w,i0(e,R,y)))return!1}}else for(var V=0;V<m.length;V++)if(i==="attributes"?e.getAttrib(r,m[V]):hm(e,r,m[V]))return!0}return!0},rv=function(e,r,a,i,c){var f=e.formatter.get(a),m=e.dom;if(f&&r)for(var y=0;y<f.length;y++){var w=f[y];if(S3(e.dom,r,w)&&gf(m,r,w,"attributes",c,i)&&gf(m,r,w,"styles",c,i)){var R=w.classes;if(R){for(var $=0;$<R.length;$++)if(!e.dom.hasClass(r,sf(R[$],i)))return}return w}}},T3=function(e,r,a,i,c){if(i)return X8(e,i,r,a,c);if(i=e.selection.getNode(),X8(e,i,r,a,c))return!0;var f=e.selection.getStart();return!!(f!==i&&X8(e,f,r,a,c))},Y8=function(e,r,a){var i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,function(m){for(var y=0;y<r.length;y++){var w=r[y];!c[w]&&rv(e,m,w,a)&&(c[w]=!0,i.push(w))}},e.dom.getRoot()),i},Z8=function(e,r){var a=function(c){return an(c,x.fromDom(e.getBody()))},i=function(c,f){return rv(e,c.dom,f)?oe.some(f):oe.none()};return oe.from(e.selection.getStart(!0)).bind(function(c){return q8(x.fromDom(c),function(f){return Ka(r,function(m){return i(f,m)})},a)}).getOrNull()},Dz=function(e,r){var a=e.formatter.get(r),i=e.dom;if(a)for(var c=e.selection.getStart(),f=Uh(i,c),m=a.length-1;m>=0;m--){var y=a[m];if(!Gs(y)||Ge(y.defaultBlock))return!0;for(var w=f.length-1;w>=0;w--)if(i.is(f[w],y.selector))return!0}return!1},Mz=function(e,r,a){return it(a,function(i,c){var f=u2(e,c);return e.formatter.matchNode(r,c,{},f)?i.concat([c]):i},[])},Xb=Pe,Bz="_mce_caret",J8=function(e,r){return e.importNode(r,!0)},Nz=function(e){for(var r=[];e;){if(e.nodeType===3&&e.nodeValue!==Xb||e.childNodes.length>1)return[];e.nodeType===1&&r.push(e),e=e.firstChild}return r},yf=function(e){return Nz(e).length>0},Pz=function(e){if(e){var r=new Ua(e,e);for(e=r.current();e;e=r.next())if(zr(e))return e}return null},Q8=function(e){var r=x.fromTag("span");return H(r,{id:Bz,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ti(r,x.fromText(Xb)),r},y6=function(e){var r=Pz(e);return r&&r.nodeValue.charAt(0)===Xb&&r.deleteData(0,1),r},ow=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(yf(r))Vt(e,!1,x.fromDom(r),a);else{var f=c.getRng(),m=i.getParent(r,i.isBlock),y=f.startContainer,w=f.startOffset,R=f.endContainer,$=f.endOffset,V=y6(r);i.remove(r,!0),y===V&&w>0&&f.setStart(V,w-1),R===V&&$>0&&f.setEnd(V,$-1),m&&i.isEmpty(m)&&ep(x.fromDom(m)),c.setRng(f)}},eT=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(r)ow(e,r,a);else if(r=Lv(e.getBody(),c.getStart()),!r)for(;r=i.get(Bz);)ow(e,r,!1)},b6=function(e,r,a){var i=e.dom,c=i.getParent(a,St(a0,e));c&&i.isEmpty(c)?a.parentNode.replaceChild(r,a):(C8(x.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(r,a):i.insertAfter(r,a))},E3=function(e,r){return e.appendChild(r),r},Fz=function(e,r){var a=Pr(e,function(i,c){return E3(i,c.cloneNode(!1))},r);return E3(a,a.ownerDocument.createTextNode(Xb))},_6=function(e,r,a,i,c,f){var m=e.formatter,y=e.dom,w=Xt(ao(m.get()),function(j){return j!==i&&!Ft(j,"removeformat")}),R=Mz(e,a,w),$=Xt(R,function(j){return!$S(e,j,i)});if($.length>0){var V=a.cloneNode(!1);return y.add(r,V),m.remove(i,c,V,f),y.remove(V),oe.some(V)}else return oe.none()},Iz=function(e,r,a){var i,c,f=e.selection,m=f.getRng(),y=m.startOffset,w=m.startContainer,R=w.nodeValue;i=Lv(e.getBody(),f.getStart()),i&&(c=Pz(i));var $=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&y>0&&y<R.length&&$.test(R.charAt(y))&&$.test(R.charAt(y-1))){var V=f.getBookmark();m.collapse(!0);var j=jd(e,m,e.formatter.get(r));j=Zf(j),e.formatter.apply(r,a,j),f.moveToBookmark(V)}else(!i||c.nodeValue!==Xb)&&(i=J8(e.getDoc(),Q8(!0).dom),c=i.firstChild,m.insertNode(i),y=1),e.formatter.apply(r,a,i),f.setCursorLocation(c,y)},w6=function(e,r,a,i){var c=e.dom,f=e.selection,m,y,w,R=[],$=f.getRng(),V=$.startContainer,j=$.startOffset;for(y=V,V.nodeType===3&&(j!==V.nodeValue.length&&(m=!0),y=y.parentNode);y;){if(rv(e,y,r,a,i)){w=y;break}y.nextSibling&&(m=!0),R.push(y),y=y.parentNode}if(w)if(m){var re=f.getBookmark();$.collapse(!0);var ae=jd(e,$,e.formatter.get(r),!0);ae=Zf(ae),e.formatter.remove(r,a,ae,i),f.moveToBookmark(re)}else{var ie=Lv(e.getBody(),w),ue=Q8(!1).dom;b6(e,ue,ie!==null?ie:w);var _e=_6(e,ue,w,r,a,i),he=Fz(R.concat(_e.toArray()),ue);ow(e,ie,!1),f.setCursorLocation(he,1),c.isEmpty(w)&&c.remove(w)}},k6=function(e,r){var a=e.selection,i=e.getBody();eT(e,null,!1),(r===8||r===46)&&a.isCollapsed()&&a.getStart().innerHTML===Xb&&eT(e,Lv(i,a.getStart())),(r===37||r===39)&&eT(e,Lv(i,a.getStart()))},z3=function(e){e.on("mouseup keydown",function(r){k6(e,r.keyCode)})},C6=function(e,r){var a=Q8(!1),i=Fz(r,a.dom);return uu(x.fromDom(e),a),Uo(x.fromDom(e)),vt(i,0)},Lz=function(e,r){var a=e.schema.getTextInlineElements();return Sn(a,za(r))&&!uf(r.dom)&&!ti(r.dom)},$z=function(e){return uf(e.dom)&&yf(e.dom)},Yb={},Hz=Qo,Vz=Jo,tT=function(e,r){var a=Yb[e];a||(Yb[e]=[]),Yb[e].push(r)},x6=function(e,r){Vz(Yb[e],function(a){a(r)})};tT("pre",function(e){var r=e.selection.getRng(),a,i=function(m){return f(m.previousSibling)&&$o(a,m.previousSibling)!==-1},c=function(m,y){$n(y).remove(),$n(m).append("<br><br>").append(y.childNodes)},f=nc(["pre"]);r.collapsed||(a=e.selection.getSelectedBlocks(),Vz(Hz(Hz(a,f),i),function(m){c(m.previousSibling,m)}))});var rT=mt.each,_g=function(e){return hn(e)&&!As(e)&&!uf(e)&&!ti(e)},A3=function(e,r){for(var a=e;a;a=a[r]){if(zr(a)&&Dn(a.data))return e;if(hn(a)&&!As(a))return a}return e},Uz=function(e,r,a){var i=Z2(e);if(r&&a&&(r=A3(r,"previousSibling"),a=A3(a,"nextSibling"),i.compare(r,a))){for(var c=r.nextSibling;c&&c!==a;){var f=c;c=c.nextSibling,r.appendChild(f)}return e.remove(a),mt.each(mt.grep(a.childNodes),function(m){r.appendChild(m)}),r}return a},jz=function(e,r,a,i){if(i&&r.merge_siblings!==!1){var c=Uz(e,lb(i),i);Uz(e,c,lb(c,!0))}},Wz=function(e,r,a){if(r.clear_child_styles){var i=r.links?"*:not(a)":"*";rT(e.select(i,a),function(c){_g(c)&&rT(r.styles,function(f,m){e.setStyle(c,m,"")})})}},O3=function(e,r,a){rT(e.childNodes,function(i){_g(i)&&(r(i)&&a(i),i.hasChildNodes()&&O3(i,r,a))})},S6=function(e,r){r.nodeName==="SPAN"&&e.getAttribs(r).length===0&&e.remove(r,!0)},qz=function(e,r){return function(a){return!!(a&&hm(e,a,r))}},Gz=function(e,r,a){return function(i){e.setStyle(i,r,a),i.getAttribute("style")===""&&i.removeAttribute("style"),S6(e,i)}},iw=Kr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Kz=/^(src|href|style)$/,R3=mt.each,Zb=o0,T6=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},Xz=function(e,r,a){return e.isChildOf(r,a)&&r!==a&&!e.isBlock(a)},Yz=function(e,r,a){var i=r[a?"startContainer":"endContainer"],c=r[a?"startOffset":"endOffset"];if(hn(i)){var f=i.childNodes.length-1;!a&&c&&c--,i=i.childNodes[c>f?f:c]}return zr(i)&&a&&c>=i.nodeValue.length&&(i=new Ua(i,e.getBody()).next()||i),zr(i)&&!a&&c===0&&(i=new Ua(i,e.getBody()).prev()||i),i},Zz=function(e,r){var a=r?"firstChild":"lastChild";if(T6(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},nT=function(e,r,a,i){var c=e.create(a,i);return r.parentNode.insertBefore(c,r),c.appendChild(r),c},Jb=function(e,r,a,i,c){var f=x.fromDom(r),m=x.fromDom(e.create(i,c)),y=a?fo(f):Aa(f);return zf(m,y),a?(uu(f,m),Sc(m,f)):(hd(f,m),Ti(m,f)),m.dom},E6=function(e,r,a){if(gu(a)&&Zb(r,a.inline)||cf(a)&&Zb(r,a.block))return!0;if(Gs(a))return hn(r)&&e.is(r,a.selector)},Jz=function(e,r){return r.links&&e.nodeName==="A"},Qb=function(e,r,a,i){var c=lb(r,a,i);return $e(c)||c.nodeName==="BR"||e.isBlock(c)},z6=function(e,r,a){var i=r.parentNode,c,f=e.dom,m=mu(e);cf(a)&&(m?i===f.getRoot()&&(!a.list_block||!Zb(r,a.list_block))&&je(kn(r.childNodes),function(y){mm(e,m,y.nodeName.toLowerCase())?c?c.appendChild(y):(c=nT(f,y,m),f.setAttribs(c,e.settings.forced_root_block_attrs)):c=null}):f.isBlock(r)&&!f.isBlock(i)&&(!Qb(f,r,!1)&&!Qb(f,r.firstChild,!0,!0)&&r.insertBefore(f.create("br"),r.firstChild),!Qb(f,r,!0)&&!Qb(f,r.lastChild,!1,!0)&&r.appendChild(f.create("br")))),!(HS(a)&&!Zb(a.inline,r))&&f.remove(r,!0)},aT=function(e,r,a,i,c){var f,m=e.dom;if(!E6(m,i,r)&&!Jz(i,r))return iw.keep();var y=i;if(gu(r)&&r.remove==="all"&&Fe(r.preserve_attributes)){var w=Xt(m.getAttribs(y),function(j){return qe(r.preserve_attributes,j.name.toLowerCase())});if(m.removeAllAttribs(y),je(w,function(j){return m.setAttrib(y,j.name,j.value)}),w.length>0)return iw.rename("span")}if(r.remove!=="all"){R3(r.styles,function(j,re){j=i0(m,sf(j,a),re+""),Ue(re)&&(re=j,c=null),(r.remove_similar||!c||Zb(hm(m,c,re),j))&&m.setStyle(y,re,""),f=!0}),f&&m.getAttrib(y,"style")===""&&(y.removeAttribute("style"),y.removeAttribute("data-mce-style")),R3(r.attributes,function(j,re){var ae;if(j=sf(j,a),Ue(re)&&(re=j,c=null),r.remove_similar||!c||Zb(m.getAttrib(c,re),j)){if(re==="class"&&(j=m.getAttrib(y,re),j&&(ae="",je(j.split(/\s+/),function(ie){/mce\-\w+/.test(ie)&&(ae+=(ae?" ":"")+ie)}),ae))){m.setAttrib(y,re,ae);return}if(Kz.test(re)&&y.removeAttribute("data-mce-"+re),re==="style"&&nc(["li"])(y)&&m.getStyle(y,"list-style-type")==="none"){y.removeAttribute(re),m.setStyle(y,"list-style-type","none");return}re==="class"&&y.removeAttribute("className"),y.removeAttribute(re)}}),R3(r.classes,function(j){j=sf(j,a),(!c||m.hasClass(c,j))&&m.removeClass(y,j)});for(var R=m.getAttribs(y),$=0;$<R.length;$++){var V=R[$].nodeName;if(V.indexOf("_")!==0&&V.indexOf("data-")!==0)return iw.keep()}}return r.remove!=="none"?(z6(e,y,r),iw.removed()):iw.keep()},wg=function(e,r,a,i,c){return aT(e,r,a,i,c).fold(Wt,function(f){return e.dom.rename(i,f),!0},ur)},A6=function(e,r,a,i,c){var f;return je(Uh(e.dom,r.parentNode).reverse(),function(m){if(!f&&m.id!=="_start"&&m.id!=="_end"){var y=rv(e,m,a,i,c);y&&y.split!==!1&&(f=m)}}),f},O6=function(e,r,a,i){return aT(e,r,a,i,i).fold(X(i),function(c){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,c)},X(null))},R6=function(e,r,a,i,c,f,m,y){var w,R,$,V=e.dom;if(a){for(var j=a.parentNode,re=i.parentNode;re&&re!==j;re=re.parentNode){w=V.clone(re,!1);for(var ae=0;ae<r.length&&(w=O6(e,r[ae],y,w),w!==null);ae++);w&&(R&&w.appendChild(R),$||($=w),R=w)}(!m.mixed||!V.isBlock(a))&&(i=V.split(a,i)),R&&(c.parentNode.insertBefore(R,c),$.appendChild(c),gu(m)&&jz(V,m,y,R))}return i},Qz=function(e,r,a,i,c){var f=e.formatter.get(r),m=f[0],y=!0,w=e.dom,R=e.selection,$=function(he){var Xe=A6(e,he,r,a,c);return R6(e,f,Xe,he,he,!0,m,a)},V=function(he){return As(he)&&hn(he)&&(he.id==="_start"||he.id==="_end")},j=function(he){return be(f,function(Xe){return wg(e,Xe,a,he,he)})},re=function(he){var Xe=!0,Ve=!1;hn(he)&&w.getContentEditable(he)&&(Xe=y,y=w.getContentEditable(he)==="true",Ve=!0);var Ee=kn(he.childNodes);if(y&&!Ve){var tt=j(he),Tt=tt||be(f,function(At){return S3(w,he,At)}),Kt=he.parentNode;!Tt&&Ge(Kt)&&s0(m)&&j(Kt)}if(m.deep&&Ee.length){for(var nn=0;nn<Ee.length;nn++)re(Ee[nn]);Ve&&(y=Xe)}var Cr=["underline","line-through","overline"];je(Cr,function(At){hn(he)&&e.dom.getStyle(he,"text-decoration")===At&&he.parentNode&&u0(w,he.parentNode)===At&&wg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:At}},null,he)})},ae=function(he){var Xe=w.get(he?"_start":"_end"),Ve=Xe[he?"firstChild":"lastChild"];return V(Ve)&&(Ve=Ve[he?"firstChild":"lastChild"]),zr(Ve)&&Ve.data.length===0&&(Ve=he?Xe.previousSibling||Xe.nextSibling:Xe.nextSibling||Xe.previousSibling),w.remove(Xe,!0),Ve},ie=function(he){var Xe,Ve,Ee=jd(e,he,f,he.collapsed);if(m.split){if(Ee=Zf(Ee),Xe=Yz(e,Ee,!0),Ve=Yz(e,Ee),Xe!==Ve){if(Xe=Zz(Xe,!0),Ve=Zz(Ve,!1),Xz(w,Xe,Ve)){var tt=oe.from(Xe.firstChild).getOr(Xe);$(Jb(w,tt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ae(!0);return}if(Xz(w,Ve,Xe)){var tt=oe.from(Ve.lastChild).getOr(Ve);$(Jb(w,tt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ae(!1);return}Xe=nT(w,Xe,"span",{id:"_start","data-mce-type":"bookmark"}),Ve=nT(w,Ve,"span",{id:"_end","data-mce-type":"bookmark"});var Tt=w.createRng();Tt.setStartAfter(Xe),Tt.setEndBefore(Ve),qh(w,Tt,function(Kt){je(Kt,function(nn){!As(nn)&&!As(nn.parentNode)&&$(nn)})}),$(Xe),$(Ve),Xe=ae(!0),Ve=ae()}else Xe=Ve=$(Xe);Ee.startContainer=Xe.parentNode?Xe.parentNode:Xe,Ee.startOffset=w.nodeIndex(Xe),Ee.endContainer=Ve.parentNode?Ve.parentNode:Ve,Ee.endOffset=w.nodeIndex(Ve)+1}qh(w,Ee,function(Kt){je(Kt,re)})};if(i){if(cb(i)){var ue=w.createRng();ue.setStartBefore(i),ue.setEndAfter(i),ie(ue)}else ie(i);Gh(e,r,i,a);return}if(w.getContentEditable(R.getNode())==="false"){i=R.getNode();for(var _e=0;_e<f.length&&!(f[_e].ceFalseOverride&&wg(e,f[_e],a,i,i));_e++);Gh(e,r,i,a);return}!R.isCollapsed()||!gu(m)||lf(e).length?(_m(R,!0,function(){Uv(e,ie)}),gu(m)&&T3(e,r,a,R.getStart())&&i2(w,R,R.getRng()),e.nodeChanged()):w6(e,r,a,c),Gh(e,r,i,a)},e4=mt.each,D6=function(e,r,a,i){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var m=u0(e,f.parentNode);e.getStyle(f,"color")&&m?e.setStyle(f,"text-decoration",m):e.getStyle(f,"text-decoration")===m&&e.setStyle(f,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(mt.walk(i,c,"childNodes"),c(i))},M6=function(e,r,a,i){r.styles&&r.styles.backgroundColor&&O3(i,qz(e,"fontSize"),Gz(e,"backgroundColor",sf(r.styles.backgroundColor,a)))},B6=function(e,r,a,i){gu(r)&&(r.inline==="sub"||r.inline==="sup")&&(O3(i,qz(e,"fontSize"),Gz(e,"fontSize","")),e.remove(e.select(r.inline==="sup"?"sub":"sup",i),!0))},N6=function(e,r,a,i){e4(r,function(c){gu(c)&&e4(e.dom.select(c.inline,i),function(f){_g(f)&&wg(e,c,a,f,c.exact?f:null)}),Wz(e.dom,c,i)})},P6=function(e,r,a,i,c){rv(e,c.parentNode,a,i)&&wg(e,r,i,c)||r.merge_with_parents&&e.dom.getParent(c.parentNode,function(f){if(rv(e,f,a,i))return wg(e,r,i,c),!0})},D3=mt.each,oT=function(e){return hn(e)&&!As(e)&&!uf(e)&&!ti(e)},nd=function(e,r,a,i){if(Nv(e)&&gu(r)){var c=ay(e.schema),f=h6(x.fromDom(a),function(m){return uf(m.dom)});return xo(c,i)&&lu(x.fromDom(a.parentNode),!1)&&!f}else return!1},uw=function(e,r,a,i){var c=e.formatter.get(r),f=c[0],m=!i&&e.selection.isCollapsed(),y=e.dom,w=e.selection,R=function(Xe,Ve){if(Ve===void 0&&(Ve=f),ce(Ve.onformat)&&Ve.onformat(Xe,Ve,a,i),D3(Ve.styles,function(tt,Tt){y.setStyle(Xe,Tt,sf(tt,a))}),Ve.styles){var Ee=y.getAttrib(Xe,"style");Ee&&y.setAttrib(Xe,"data-mce-style",Ee)}D3(Ve.attributes,function(tt,Tt){y.setAttrib(Xe,Tt,sf(tt,a))}),D3(Ve.classes,function(tt){tt=sf(tt,a),y.hasClass(Xe,tt)||y.addClass(Xe,tt)})},$=function(Xe,Ve){var Ee=!1;return D3(Xe,function(tt){if(!Gs(tt))return!1;if(!(Ge(tt.collapsed)&&tt.collapsed!==m)&&y.is(Ve,tt.selector)&&!uf(Ve))return R(Ve,tt),Ee=!0,!1}),Ee},V=function(Xe){if(ke(Xe)){var Ve=y.create(Xe);return R(Ve),Ve}else return null},j=function(Xe,Ve,Ee){var tt=[],Tt=!0,Kt=f.inline||f.block,nn=V(Kt);qh(Xe,Ve,function(Cr){var At,qr=function(Jt){var wr=!1,Qt=Tt,pr=Jt.nodeName.toLowerCase(),Or=Jt.parentNode,Ut=Or.nodeName.toLowerCase();if(hn(Jt)&&Xe.getContentEditable(Jt)&&(Qt=Tt,Tt=Xe.getContentEditable(Jt)==="true",wr=!0),eo(Jt)&&!nd(e,f,Jt,Ut)){At=null,cf(f)&&Xe.remove(Jt);return}if(cf(f)&&f.wrapper&&rv(e,Jt,r,a)){At=null;return}if(Tt&&!wr&&cf(f)&&!f.wrapper&&a0(e,pr)&&mm(e,Ut,Kt)){var Er=Xe.rename(Jt,Kt);R(Er),tt.push(Er),At=null;return}if(Gs(f)){var ea=$(c,Jt);if(!ea&&Ge(Or)&&s0(f)&&(ea=$(c,Or)),!gu(f)||ea){At=null;return}}Tt&&!wr&&mm(e,Kt,pr)&&mm(e,Ut,Kt)&&!(!Ee&&zr(Jt)&&rs(Jt.data))&&!uf(Jt)&&(!gu(f)||!Xe.isBlock(Jt))?(At||(At=Xe.clone(nn,!1),Jt.parentNode.insertBefore(At,Jt),tt.push(At)),At.appendChild(Jt)):(At=null,je(kn(Jt.childNodes),qr),wr&&(Tt=Qt),At=null)};je(Cr,qr)}),f.links===!0&&je(tt,function(Cr){var At=function(qr){qr.nodeName==="A"&&R(qr,f),je(kn(qr.childNodes),At)};At(Cr)}),je(tt,function(Cr){var At=function(wr){var Qt=0;return je(wr.childNodes,function(pr){!LS(pr)&&!As(pr)&&Qt++}),Qt},qr=function(wr){var Qt=rr(wr.childNodes,oT).filter(function(pr){return S3(Xe,pr,f)});return Qt.map(function(pr){var Or=Xe.clone(pr,!1);return R(Or),Xe.replace(Or,wr,!0),Xe.remove(pr,!0),Or}).getOr(wr)},Jt=At(Cr);if((tt.length>1||!Xe.isBlock(Cr))&&Jt===0){Xe.remove(Cr,!0);return}(gu(f)||cf(f)&&f.wrapper)&&(!f.exact&&Jt===1&&(Cr=qr(Cr)),N6(e,c,a,Cr),P6(e,f,r,a,Cr),M6(Xe,f,a,Cr),D6(Xe,f,a,Cr),B6(Xe,f,a,Cr),jz(Xe,f,a,Cr))})};if(y.getContentEditable(w.getNode())==="false"){i=w.getNode();for(var re=0,ae=c.length;re<ae;re++){var ie=c[re];if(ie.ceFalseOverride&&Gs(ie)&&y.is(i,ie.selector)){R(i,ie);break}}k0(e,r,i,a);return}if(f){if(i)if(cb(i)){if(!$(c,i)){var ue=y.createRng();ue.setStartBefore(i),ue.setEndAfter(i),j(y,jd(e,ue,c),!0)}}else j(y,i,!0);else if(!m||!gu(f)||lf(e).length){var _e=w.getNode(),he=c[0];!e.settings.forced_root_block&&he.defaultBlock&&!y.getParent(_e,y.isBlock)&&uw(e,he.defaultBlock),w.setRng(P8(w.getRng())),_m(w,!0,function(){Uv(e,function(Xe,Ve){var Ee=Ve?Xe:jd(e,Xe,c);j(y,Ee,!1)})}),i2(y,w,w.getRng()),e.nodeChanged()}else Iz(e,r,a);x6(r,e)}k0(e,r,i,a)},M3=function(e){return Sn(e,"vars")},iT=function(e,r){e.set({}),r.on("NodeChange",function(a){sT(r,a.element,e.get())}),r.on("FormatApply FormatRemove",function(a){var i=oe.from(a.node).map(function(c){return cb(c)?c:c.startContainer}).bind(function(c){return hn(c)?oe.some(c):oe.from(c.parentElement)}).getOrThunk(function(){return t4(r)});sT(r,i,e.get())})},t4=function(e){return e.selection.getStart()},uT=function(e,r,a,i,c){var f=function(y){var w=e.formatter.matchNode(y,a,c??{},i);return!ze(w)},m=function(y){return K8(e,y,a)?!0:i?!1:Ge(e.formatter.matchNode(y,a,c,!0))};return st(r,f,m)},r4=function(e,r){var a=r??t4(e);return Xt(Uh(e.dom,a),function(i){return hn(i)&&!ti(i)})},sT=function(e,r,a){var i=r4(e,r);xn(a,function(c,f){var m=function(y){var w=uT(e,i,f,y.similar,M3(y)?y.vars:void 0),R=w.isSome();if(y.state.get()!==R){y.state.set(R);var $=w.getOr(r);M3(y)?y.callback(R,{node:$,format:f,parents:i}):je(y.callbacks,function(V){return V(R,{node:$,format:f,parents:i})})}};je([c.withSimilar,c.withoutSimilar],m),je(c.withVars,m)})},cT=function(e,r,a,i,c,f){var m=r.get();je(a.split(","),function(y){var w=Kn(m,y).getOrThunk(function(){var V={withSimilar:{state:os(!1),similar:!0,callbacks:[]},withoutSimilar:{state:os(!1),similar:!1,callbacks:[]},withVars:[]};return m[y]=V,V}),R=function(){var V=r4(e);return uT(e,V,y,c,f).isSome()};if(ze(f)){var $=c?w.withSimilar:w.withoutSimilar;$.callbacks.push(i),$.callbacks.length===1&&$.state.set(R())}else w.withVars.push({state:os(R()),similar:c,vars:f,callback:i})}),r.set(m)},F6=function(e,r,a){var i=e.get();je(r.split(","),function(c){return Kn(i,c).each(function(f){i[c]={withSimilar:Lr(Lr({},f.withSimilar),{callbacks:Xt(f.withSimilar.callbacks,function(m){return m!==a})}),withoutSimilar:Lr(Lr({},f.withoutSimilar),{callbacks:Xt(f.withoutSimilar.callbacks,function(m){return m!==a})}),withVars:Xt(f.withVars,function(m){return m.callback!==a})}})}),e.set(i)},n4=function(e,r,a,i,c,f){return r.get()===null&&iT(r,e),cT(e,r,a,i,c,f),{unbind:function(){return F6(r,a,i)}}},I6=function(e,r,a,i){var c=e.formatter.get(r);T3(e,r,a,i)&&(!("toggle"in c[0])||c[0].toggle)?Qz(e,r,a,i):uw(e,r,a,i)},kg=function(e,r){var a=document,i=a.createDocumentFragment();return je(e,function(c){i.appendChild(c.dom)}),x.fromDom(i)},B3=function(e,r,a){return{element:e,width:r,rows:a}},a4=function(e,r){return{element:e,cells:r}},o4=function(e,r){return{x:e,y:r}},i4=function(e,r){var a=parseInt(K(e,r),10);return isNaN(a)?1:a},L6=function(e,r,a,i,c){for(var f=i4(c,"rowspan"),m=i4(c,"colspan"),y=e.rows,w=a;w<a+f;w++){y[w]||(y[w]=a4(Oy(i),[]));for(var R=r;R<r+m;R++){var $=y[w].cells;$[R]=w===a&&R===r?c:bi(c)}}},$6=function(e,r,a){var i=e.rows,c=i[a]?i[a].cells:[];return!!c[r]},H6=function(e,r,a){for(;$6(e,r,a);)r++;return r},u4=function(e){return it(e,function(r,a){return a.cells.length>r?a.cells.length:r},0)},lT=function(e,r){for(var a=e.rows,i=0;i<a.length;i++)for(var c=a[i].cells,f=0;f<c.length;f++)if(an(c[f],r))return oe.some(o4(f,i));return oe.none()},s4=function(e,r,a,i,c){for(var f=[],m=e.rows,y=a;y<=c;y++){var w=m[y].cells,R=r<i?w.slice(r,i+1):w.slice(i,r+1);f.push(a4(m[y].element,R))}return f},fT=function(e,r,a){var i=r.x,c=r.y,f=a.x,m=a.y,y=c<m?s4(e,i,c,f,m):s4(e,i,m,f,c);return B3(e.element,u4(y),y)},e1=function(e,r){var a=bi(e.element),i=x.fromTag("tbody");return zf(i,r),Ti(a,i),a},V6=function(e){return Ne(e.rows,function(r){var a=Ne(r.cells,function(c){var f=Oy(c);return _t(f,"colspan"),_t(f,"rowspan"),f}),i=bi(r.element);return zf(i,a),i})},U6=function(e){var r=B3(bi(e),0,[]);return je(pu(e,"tr"),function(a,i){je(pu(a,"td,th"),function(c,f){L6(r,H6(r,f,i),i,a,c)})}),B3(r.element,u4(r.rows),r.rows)},N3=function(e){return e1(e,V6(e))},dT=function(e,r,a){return lT(e,r).bind(function(i){return lT(e,a).map(function(c){return fT(e,i,c)})})},j6=function(e){return rr(e,function(r){return za(r)==="ul"||za(r)==="ol"})},W6=function(e,r){return rr(e,function(a){return za(a)==="li"&&nl(a,r)}).fold(X([]),function(a){return j6(e).map(function(i){var c=x.fromTag(za(i)),f=un(jo(i),function(m,y){return Gt(y,"list-style")});return sa(c,f),[x.fromTag("li"),c]}).getOr([])})},c4=function(e,r){var a=it(r,function(i,c){return Ti(c,i),c},e);return r.length>0?kg([a]):a},vT=function(e){return Ou(e)?Vo(e).filter(Xc).fold(X([]),function(r){return[e,r]}):Xc(e)?[e]:[]},q6=function(e,r){var a=x.fromDom(r.commonAncestorContainer),i=jr(a,e),c=Xt(i,function(y){return $u(y)||gn(y)}),f=W6(i,r),m=c.concat(f.length?f:vT(a));return Ne(m,bi)},sw=function(){return kg([])},op=function(e,r){return c4(x.fromDom(r.cloneContents()),q6(e,r))},G6=function(e,r){return fv(r,"table",St(an,e))},pT=function(e,r){return G6(e,r[0]).bind(function(a){var i=r[0],c=r[r.length-1],f=U6(a);return dT(f,i,c).map(function(m){return kg([N3(m)])})}).getOrThunk(sw)},K6=function(e,r){return r.length>0&&r[0].collapsed?sw():op(e,r[0])},X6=function(e,r){var a=Yf(r,e);return a.length>0?pT(e,a):K6(e,r)},Y6=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},P3=function(e,r){return r>=0&&r<e.length&&Ud(e.charAt(r))},mT=function(e,r){var a=Cs(e.innerText);return r?Y6(a):a},Z6=function(e){return e.map(function(r){return r.nodeName}).getOr("div").toLowerCase()},t1=function(e){return oe.from(e.selection.getRng()).map(function(r){var a=oe.from(e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=Z6(a),f=Zt.browser.isIE()&&c!=="pre",m=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),y=mT(m,f),w=Cs(m.textContent);if(e.dom.remove(m),P3(w,0)||P3(w,w.length-1)){var R=a.getOr(i),$=mT(R,f),V=$.indexOf(y);if(V===-1)return y;var j=P3($,V-1),re=P3($,V+y.length);return(j?" ":"")+y+(re?" ":"")}else return y}).getOr("")},J6=function(e,r){var a=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=Db(e,d0(c)),m=r.contextual?X6(x.fromDom(e.getBody()),f).dom:a.cloneContents();return m&&i.appendChild(m),e.selection.serializer.serialize(i,r)},Q6=function(e,r){return Lr(Lr({},e),{format:r,get:!0,selection:!0})},e5=function(e,r,a){a===void 0&&(a={});var i=Q6(a,r),c=e.fire("BeforeGetContent",i);if(c.isDefaultPrevented())return e.fire("GetContent",c),c.content;if(c.format==="text")return t1(e);c.getInner=!0;var f=J6(e,c);return c.format==="tree"?f:(c.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",c),c.content)},hT=0,gT=1,l4=2,t5=function(e,r){var a=e.length+r.length+2,i=new Array(a),c=new Array(a),f=function($,V,j){return{start:$,end:V,diag:j}},m=function($,V,j,re,ae){var ie=w($,V,j,re);if(ie===null||ie.start===V&&ie.diag===V-re||ie.end===$&&ie.diag===$-j)for(var ue=$,_e=j;ue<V||_e<re;)ue<V&&_e<re&&e[ue]===r[_e]?(ae.push([hT,e[ue]]),++ue,++_e):V-$>re-j?(ae.push([l4,e[ue]]),++ue):(ae.push([gT,r[_e]]),++_e);else{m($,ie.start,j,ie.start-ie.diag,ae);for(var he=ie.start;he<ie.end;++he)ae.push([hT,e[he]]);m(ie.end,V,ie.end-ie.diag,re,ae)}},y=function($,V,j,re){for(var ae=$;ae-V<re&&ae<j&&e[ae]===r[ae-V];)++ae;return f($,ae,V)},w=function($,V,j,re){var ae=V-$,ie=re-j;if(ae===0||ie===0)return null;var ue=ae-ie,_e=ie+ae,he=(_e%2===0?_e:_e+1)/2;i[1+he]=$,c[1+he]=V+1;var Xe,Ve,Ee,tt,Tt;for(Xe=0;Xe<=he;++Xe){for(Ve=-Xe;Ve<=Xe;Ve+=2){for(Ee=Ve+he,Ve===-Xe||Ve!==Xe&&i[Ee-1]<i[Ee+1]?i[Ee]=i[Ee+1]:i[Ee]=i[Ee-1]+1,tt=i[Ee],Tt=tt-$+j-Ve;tt<V&&Tt<re&&e[tt]===r[Tt];)i[Ee]=++tt,++Tt;if(ue%2!==0&&ue-Xe<=Ve&&Ve<=ue+Xe&&c[Ee-ue]<=i[Ee])return y(c[Ee-ue],Ve+$-j,V,re)}for(Ve=ue-Xe;Ve<=ue+Xe;Ve+=2){for(Ee=Ve+he-ue,Ve===ue-Xe||Ve!==ue+Xe&&c[Ee+1]<=c[Ee-1]?c[Ee]=c[Ee+1]-1:c[Ee]=c[Ee-1],tt=c[Ee]-1,Tt=tt-$+j-Ve;tt>=$&&Tt>=j&&e[tt]===r[Tt];)c[Ee]=tt--,Tt--;if(ue%2===0&&-Xe<=Ve&&Ve<=Xe&&c[Ee]<=i[Ee+ue])return y(c[Ee],Ve+$-j,V,re)}}},R=[];return m(0,e.length,0,r.length,R),R},f4=function(e){return hn(e)?e.outerHTML:zr(e)?cc.encodeRaw(e.data,!1):Nf(e)?"<!--"+e.data+"-->":""},r5=function(e){var r,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);r=a.firstChild;)i.appendChild(r);return i},n5=function(e,r,a){var i=r5(r);if(e.hasChildNodes()&&a<e.childNodes.length){var c=e.childNodes[a];c.parentNode.insertBefore(i,c)}else e.appendChild(i)},a5=function(e,r){if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r];a.parentNode.removeChild(a)}},o5=function(e,r){var a=0;je(e,function(i){i[0]===hT?a++:i[0]===gT?(n5(r,i[1],a),a++):i[0]===l4&&a5(r,a)})},i5=function(e,r){return Xt(Ne(kn(e.childNodes),xe(Cs,f4)),function(a){return a.length>0})},u5=function(e,r){var a=Ne(kn(r.childNodes),f4);return o5(t5(a,e),r),r},s5=vi(function(){return document.implementation.createHTMLDocument("undo")}),yT=function(e){return e.querySelector("iframe")!==null},d4=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},c5=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},r1=function(e){var r=e.serializer.getTempAttrs(),a=Jv(e.getBody(),r);return yT(a)?d4(i5(a)):c5(Cs(a.innerHTML))},F3=function(e,r,a){var i=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?u5(r.fragments,e.getBody()):e.setContent(r.content,{format:"raw",no_selection:Ge(i)&&Qk(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},Cg=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},n1=function(e){var r=x.fromTag("body",s5());return ss(r,Cg(e)),je(pu(r,"*[data-mce-bogus]"),Of),us(r)},v4=function(e,r){return Cg(e)===Cg(r)},l5=function(e,r){return n1(e)===n1(r)},I3=function(e,r){return!e||!r?!1:v4(e,r)?!0:l5(e,r)},bT=function(e){return e.get()===0},L3=function(e,r,a){bT(a)&&(e.typing=r)},p4=function(e,r){e.typing&&(L3(e,!1,r),e.add())},f5=function(e){e.typing&&(e.typing=!1,e.add())},d5=function(e,r,a){bT(r)&&a.set(zk(e.selection))},m4=function(e,r,a,i,c,f,m){var y=r1(e);if(f=f||{},f=mt.extend(f,y),bT(i)===!1||e.removed)return null;var w=r.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:w,originalEvent:m}).isDefaultPrevented()||w&&I3(w,f))return null;r.data[a.get()]&&c.get().each(function(j){r.data[a.get()].beforeBookmark=j});var R=$h(e);if(R&&r.data.length>R){for(var $=0;$<r.data.length-1;$++)r.data[$]=r.data[$+1];r.data.length--,a.set(r.data.length)}f.bookmark=zk(e.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(f),a.set(r.data.length-1);var V={level:f,lastLevel:w,originalEvent:m};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",V),e.fire("change",V)):e.fire("AddUndo",V),f},v5=function(e,r,a){r.data=[],a.set(0),r.typing=!1,e.fire("ClearUndos")},cw=function(e,r,a,i,c){if(r.transact(i)){var f=r.data[a.get()].bookmark,m=r.data[a.get()-1];F3(e,m,!0),r.transact(c)&&(r.data[a.get()-1].beforeBookmark=f)}},p5=function(e,r,a){var i;return r.get()<a.length-1&&(r.set(r.get()+1),i=a[r.get()],F3(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},m5=function(e,r,a,i){var c;return r.typing&&(r.add(),r.typing=!1,L3(r,!1,a)),i.get()>0&&(i.set(i.get()-1),c=r.data[i.get()],F3(e,c,!0),e.setDirty(!0),e.fire("Undo",{level:c})),c},h5=function(e){e.clear(),e.add()},g5=function(e,r,a){return a.get()>0||r.typing&&r.data[0]&&!I3(r1(e),r.data[0])},h4=function(e,r){return r.get()<e.data.length-1&&!e.typing},g4=function(e,r,a){return p4(e,r),e.beforeChange(),e.ignore(a),e.add()},y4=function(e,r){try{e.set(e.get()+1),r()}finally{e.set(e.get()-1)}},b4=function(e,r){var a=e.dom,i=Ge(r)?r:e.getBody();ze(e.hasVisual)&&(e.hasVisual=$k(e)),je(a.select("table,a",i),function(c){switch(c.nodeName){case"TABLE":var f=bS(e),m=a.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?a.addClass(c,f):a.removeClass(c,f);break;case"A":if(!a.getAttrib(c,"href")){var y=a.getAttrib(c,"name")||c.id,w=V_(e);y&&e.hasVisual?a.addClass(c,w):a.removeClass(c,w)}break}}),e.fire("VisualAid",{element:r,hasVisual:e.hasVisual})},$3=function(e){return{undoManager:{beforeChange:function(r,a){return d5(e,r,a)},add:function(r,a,i,c,f,m){return m4(e,r,a,i,c,f,m)},undo:function(r,a,i){return m5(e,r,a,i)},redo:function(r,a){return p5(e,r,a)},clear:function(r,a){return v5(e,r,a)},reset:function(r){return h5(r)},hasUndo:function(r,a){return g5(e,r,a)},hasRedo:function(r,a){return h4(r,a)},transact:function(r,a,i){return g4(r,a,i)},ignore:function(r,a){return y4(r,a)},extra:function(r,a,i,c){return cw(e,r,a,i,c)}},formatter:{match:function(r,a,i,c){return T3(e,r,a,i,c)},matchAll:function(r,a){return Y8(e,r,a)},matchNode:function(r,a,i,c){return rv(e,r,a,i,c)},canApply:function(r){return Dz(e,r)},closest:function(r){return Z8(e,r)},apply:function(r,a,i){return uw(e,r,a,i)},remove:function(r,a,i,c){return Qz(e,r,a,i,c)},toggle:function(r,a,i){return I6(e,r,a,i)},formatChanged:function(r,a,i,c,f){return n4(e,r,a,i,c,f)}},editor:{getContent:function(r,a){return K0(e,r,a)},setContent:function(r,a){return m6(e,r,a)},insertContent:function(r,a){return V8(e,r,a)},addVisual:function(r){return b4(e,r)}},selection:{getContent:function(r,a){return e5(e,r,a)}},raw:{getModel:function(){return oe.none()}}}},_4=function(e){var r=function(y){return J(y)?y:{}},a=e.undoManager,i=e.formatter,c=e.editor,f=e.selection,m=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(y,w,R){return a.transact(R)},ignore:function(y,w){return a.ignore(w)},extra:function(y,w,R,$){return a.extra(R,$)}},formatter:{match:function(y,w,R,$){return i.match(y,r(w),$)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(y){return i.canApply(y)},closest:function(y){return i.closest(y)},apply:function(y,w,R){return i.apply(y,r(w))},remove:function(y,w,R,$){return i.remove(y,r(w))},toggle:function(y,w,R){return i.toggle(y,r(w))},formatChanged:function(y,w,R,$,V){return i.formatChanged(w,R,$,V)}},editor:{getContent:function(y,w){return c.getContent(y)},setContent:function(y,w){return c.setContent(y,w)},insertContent:function(y,w){return c.insertContent(y)},addVisual:c.addVisual},selection:{getContent:function(y,w){return f.getContent(w)}},raw:{getModel:function(){return oe.some(m.getRawModel())}}}},y5=function(){var e=X(null),r=X("");return{undoManager:{beforeChange:U,add:e,undo:e,redo:e,clear:U,reset:U,hasUndo:Wt,hasRedo:Wt,transact:e,ignore:U,extra:U},formatter:{match:Wt,matchAll:X([]),matchNode:X(void 0),canApply:Wt,closest:r,apply:U,remove:U,toggle:U,formatChanged:X({unbind:U})},editor:{getContent:r,setContent:r,insertContent:U,addVisual:U},selection:{getContent:r},raw:{getModel:X(oe.none())}}},ip=function(e){return Sn(e.plugins,"rtc")},b5=function(e){return Kn(e.plugins,"rtc").bind(function(r){return oe.from(r.setup)})},_5=function(e){var r=e;return b5(e).fold(function(){return r.rtcInstance=$3(e),oe.none()},function(a){return r.rtcInstance=y5(),oe.some(function(){return a().then(function(i){return r.rtcInstance=_4(i),i.rtc.isRemote})})})},_T=function(e){return e.rtcInstance?e.rtcInstance:$3(e)},Vi=function(e){var r=e.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},wT=function(e,r,a){Vi(e).undoManager.beforeChange(r,a)},w4=function(e,r,a,i,c,f,m){return Vi(e).undoManager.add(r,a,i,c,f,m)},H3=function(e,r,a,i){return Vi(e).undoManager.undo(r,a,i)},ul=function(e,r,a){return Vi(e).undoManager.redo(r,a)},lw=function(e,r,a){Vi(e).undoManager.clear(r,a)},xg=function(e,r){Vi(e).undoManager.reset(r)},w5=function(e,r,a){return Vi(e).undoManager.hasUndo(r,a)},k4=function(e,r,a){return Vi(e).undoManager.hasRedo(r,a)},C4=function(e,r,a,i){return Vi(e).undoManager.transact(r,a,i)},k5=function(e,r,a){Vi(e).undoManager.ignore(r,a)},C5=function(e,r,a,i,c){Vi(e).undoManager.extra(r,a,i,c)},x5=function(e,r,a,i,c){return Vi(e).formatter.match(r,a,i,c)},x4=function(e,r,a){return Vi(e).formatter.matchAll(r,a)},V3=function(e,r,a,i,c){return Vi(e).formatter.matchNode(r,a,i,c)},S4=function(e,r){return Vi(e).formatter.canApply(r)},T4=function(e,r){return Vi(e).formatter.closest(r)},U3=function(e,r,a,i){Vi(e).formatter.apply(r,a,i)},S5=function(e,r,a,i,c){Vi(e).formatter.remove(r,a,i,c)},T5=function(e,r,a,i){Vi(e).formatter.toggle(r,a,i)},E5=function(e,r,a,i,c,f){return Vi(e).formatter.formatChanged(r,a,i,c,f)},z5=function(e,r,a){return _T(e).editor.getContent(r,a)},A5=function(e,r,a){return _T(e).editor.setContent(r,a)},O5=function(e,r,a){return _T(e).editor.insertContent(r,a)},R5=function(e,r,a){return Vi(e).selection.getContent(r,a)},D5=function(e,r){return Vi(e).editor.addVisual(r)},M5=function(e,r){r===void 0&&(r={});var a=r.format?r.format:"html";return R5(e,a,r)},E4=function(e){return e.dom.length===0?(Uo(e),oe.none()):oe.some(e)},B5=function(e,r){return e.filter(function(a){return Gd.isBookmarkNode(a.dom)}).bind(r?rc:Tf)},N5=function(e,r,a,i){var c=e.dom,f=r.dom,m=i?c.length:f.length;i?(jb(c,f,!1,!i),a.setStart(f,m)):(jb(f,c,!1,!i),a.setEnd(f,m))},kT=function(e,r){Vo(e).each(function(a){var i=e.dom;r&&mf(a,vt(i,0))?Dm(i,0):!r&&vg(a,vt(i,i.length))&&ca(i,i.length)})},z4=function(e,r,a,i){e.bind(function(c){var f=i?ca:Dm;return f(c.dom,i?c.dom.length:0),r.filter(No).map(function(m){return N5(c,m,a,i)})}).orThunk(function(){var c=B5(r,i).or(r).filter(No);return c.map(function(f){return kT(f,i)})})},a1=function(e,r){var a=oe.from(r.firstChild).map(x.fromDom),i=oe.from(r.lastChild).map(x.fromDom);e.deleteContents(),e.insertNode(r);var c=a.bind(Tf).filter(No).bind(E4),f=i.bind(rc).filter(No).bind(E4);z4(c,a,e,!0),z4(f,i,e,!1),e.collapse(!1)},A4=function(e,r){return Lr(Lr({format:"html"},e),{set:!0,selection:!0,content:r})},Ui=function(e,r){if(r.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(r.content,Lr(Lr({isRootContent:!0,forced_root_block:!1},c),r));return Qv({validate:e.validate},e.schema).serialize(f)}else return r.content},P5=function(e,r,a){a===void 0&&(a={});var i=A4(a,r),c=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else c=f}c.content=Ui(e,c);var m=e.selection.getRng();a1(m,m.createContextualFragment(c.content)),e.selection.setRng(m),Jh(e,m),c.no_events||e.fire("SetContent",c)},O4=function(e,r,a){if(e&&Sn(e,r)){var i=Xt(e[r],function(c){return c!==a});i.length===0?delete e[r]:e[r]=i}};function F5(e,r){var a,i,c=function(m,y){return rr(y,function(w){return e.is(w,m)})},f=function(m){return e.getParents(m,null,e.getRoot())};return{selectorChangedWithUnbind:function(m,y){return a||(a={},i={},r.on("NodeChange",function(w){var R=w.element,$=f(R),V={};mt.each(a,function(j,re){c(re,$).each(function(ae){i[re]||(je(j,function(ie){ie(!0,{node:ae,selector:re,parents:$})}),i[re]=j),V[re]=j})}),mt.each(i,function(j,re){V[re]||(delete i[re],mt.each(j,function(ae){ae(!1,{node:R,selector:re,parents:$})}))})})),a[m]||(a[m]=[]),a[m].push(y),c(m,f(r.selection.getStart())).each(function(){i[m]=a[m]}),{unbind:function(){O4(a,m,y),O4(i,m,y)}}}}}var R4=function(e){return!!e.select},Pl=function(e){return!!(e&&e.ownerDocument)&&Ia(x.fromDom(e.ownerDocument),x.fromDom(e))},j3=function(e){return e?R4(e)?!0:Pl(e.startContainer)&&Pl(e.endContainer):!1},o1=function(e,r,a,i){var c,f,m=F5(e,i).selectorChangedWithUnbind,y=function(Ut,Er){var ea=e.createRng();Ge(Ut)&&Ge(Er)?(ea.setStart(Ut,Er),ea.setEnd(Ut,Er),Xe(ea),ue(!1)):(Wd(e,ea,i.getBody(),!0),Xe(ea))},w=function(Ut){return M5(i,Ut)},R=function(Ut,Er){return P5(i,Ut,Er)},$=function(Ut){return Zv(i.getBody(),he(),Ut)},V=function(Ut){return Em(i.getBody(),he(),Ut)},j=function(Ut,Er){return pr.getBookmark(Ut,Er)},re=function(Ut){return pr.moveToBookmark(Ut)},ae=function(Ut,Er){return d8(e,Ut,Er).each(Xe),Ut},ie=function(){var Ut=he(),Er=_e();return!Ut||Ut.item?!1:Ut.compareEndPoints?Ut.compareEndPoints("StartToEnd",Ut)===0:!Er||Ut.collapsed},ue=function(Ut){var Er=he();Er.collapse(!!Ut),Xe(Er)},_e=function(){return r.getSelection?r.getSelection():r.document.selection},he=function(){var Ut,Er,ea,Pa=function(Go,Ds,Hc){try{return Ds.compareBoundaryPoints(Go,Hc)}catch{return-1}},Ma=r.document;if(i.bookmark!==void 0&&Bc(i)===!1){var wu=xm(i);if(wu.isSome())return wu.map(function(Go){return Db(i,[Go])[0]}).getOr(Ma.createRange())}try{(Ut=_e())&&!Ul(Ut.anchorNode)&&(Ut.rangeCount>0?Er=Ut.getRangeAt(0):Er=Ut.createRange?Ut.createRange():Ma.createRange(),Er=Db(i,[Er])[0])}catch{}return Er||(Er=Ma.createRange?Ma.createRange():Ma.body.createTextRange()),Er.setStart&&Er.startContainer.nodeType===9&&Er.collapsed&&(ea=e.getRoot(),Er.setStart(ea,0),Er.setEnd(ea,0)),c&&f&&(Pa(Er.START_TO_START,Er,c)===0&&Pa(Er.END_TO_END,Er,c)===0?Er=f:(c=null,f=null)),Er},Xe=function(Ut,Er){var ea;if(j3(Ut)){var Pa=R4(Ut)?Ut:null;if(Pa){f=null;try{Pa.select()}catch{}return}var Ma=_e(),wu=i.fire("SetSelectionRange",{range:Ut,forward:Er});if(Ut=wu.range,Ma){f=Ut;try{Ma.removeAllRanges(),Ma.addRange(Ut)}catch{}Er===!1&&Ma.extend&&(Ma.collapse(Ut.endContainer,Ut.endOffset),Ma.extend(Ut.startContainer,Ut.startOffset)),c=Ma.rangeCount>0?Ma.getRangeAt(0):null}!Ut.collapsed&&Ut.startContainer===Ut.endContainer&&Ma.setBaseAndExtent&&!Zt.ie&&Ut.endOffset-Ut.startOffset<2&&Ut.startContainer.hasChildNodes()&&(ea=Ut.startContainer.childNodes[Ut.startOffset],ea&&ea.tagName==="IMG"&&(Ma.setBaseAndExtent(Ut.startContainer,Ut.startOffset,Ut.endContainer,Ut.endOffset),(Ma.anchorNode!==Ut.startContainer||Ma.focusNode!==Ut.endContainer)&&Ma.setBaseAndExtent(ea,0,ea,1))),i.fire("AfterSetSelectionRange",{range:Ut,forward:Er})}},Ve=function(Ut){return R(e.getOuterHTML(Ut)),Ut},Ee=function(){return q2(i.getBody(),he())},tt=function(Ut,Er){return Rb(e,he(),Ut,Er)},Tt=function(){var Ut=_e(),Er=Ut==null?void 0:Ut.anchorNode,ea=Ut==null?void 0:Ut.focusNode;if(!Ut||!Er||!ea||Ul(Er)||Ul(ea))return!0;var Pa=e.createRng();Pa.setStart(Er,Ut.anchorOffset),Pa.collapse(!0);var Ma=e.createRng();return Ma.setStart(ea,Ut.focusOffset),Ma.collapse(!0),Pa.compareBoundaryPoints(Pa.START_TO_START,Ma)<=0},Kt=function(){var Ut=he(),Er=_e();if(!p0(Er)&&qd(i)){var ea=wb(e,Ut);return ea.each(function(Pa){Xe(Pa,Tt())}),ea.getOr(Ut)}return Ut},nn=function(Ut,Er){return m(Ut,Er),Qt},Cr=function(){for(var Ut,Er=e.getRoot();Er&&Er.nodeName!=="BODY";){if(Er.scrollHeight>Er.clientHeight){Ut=Er;break}Er=Er.parentNode}return Ut},At=function(Ut,Er){Ge(Ut)?o8(i,Ut,Er):Jh(i,he(),Er)},qr=function(Ut,Er){return Xe(S0(Ut,Er,i.getDoc()))},Jt=function(){var Ut=he();return Ut.collapsed?vt.fromRangeStart(Ut).getClientRects()[0]:Ut.getBoundingClientRect()},wr=function(){r=c=f=null,Or.destroy()},Qt={bookmarkManager:null,controlSelection:null,dom:e,win:r,serializer:a,editor:i,collapse:ue,setCursorLocation:y,getContent:w,setContent:R,getBookmark:j,moveToBookmark:re,select:ae,isCollapsed:ie,isForward:Tt,setNode:Ve,getNode:Ee,getSel:_e,setRng:Xe,getRng:he,getStart:$,getEnd:V,getSelectedBlocks:tt,normalize:Kt,selectorChanged:nn,selectorChangedWithUnbind:m,getScrollContainer:Cr,scrollIntoView:At,placeCaretAt:qr,getBoundingClientRect:Jt,destroy:wr},pr=Gd(Qt),Or=C0(Qt,i);return Qt.bookmarkManager=pr,Qt.controlSelection=Or,Qt},fw=function(e,r){je(r,function(a){e.attr(a,null)})},CT=function(e,r,a){e.addNodeFilter("font",function(i){je(i,function(c){var f=r.parse(c.attr("style")),m=c.attr("color"),y=c.attr("face"),w=c.attr("size");m&&(f.color=m),y&&(f["font-family"]=y),w&&(f["font-size"]=a[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",r.serialize(f)),fw(c,["color","face","size"])})})},I5=function(e,r){e.addNodeFilter("strike",function(a){je(a,function(i){var c=r.parse(i.attr("style"));c["text-decoration"]="line-through",i.name="span",i.attr("style",r.serialize(c))})})},L5=function(e,r){var a=Qc();r.convert_fonts_to_spans&&CT(e,a,mt.explode(r.font_size_legacy_values)),I5(e,a)},i1=function(e,r){r.inline_styles&&L5(e,r)},u1=function(e){return new Yi(function(r,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=function(){c.status===200?r(c.response):i()},c.onerror=i,c.send()}catch{i()}})},Pm=function(e){var r,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(r=i[1]),{type:r,data:a[1]}},W3=function(e,r){var a;try{a=atob(r)}catch{return oe.none()}for(var i=new Uint8Array(a.length),c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return oe.some(new Blob([i],{type:e}))},$5=function(e){return new Yi(function(r){var a=Pm(e),i=a.type,c=a.data;W3(i,c).fold(function(){return r(new Blob([]))},r)})},q3=function(e){return e.indexOf("blob:")===0?u1(e):e.indexOf("data:")===0?$5(e):null},D4=function(e){return new Yi(function(r){var a=new FileReader;a.onloadend=function(){r(a.result)},a.readAsDataURL(e)})},M4=0,xT=function(e){return"blobid"+M4++},H5=function(e,r,a,i){var c,f;if(r.src.indexOf("blob:")===0){f=e.getByUri(r.src),f?a({image:r,blobInfo:f}):q3(r.src).then(function(R){D4(R).then(function($){c=Pm($).data,f=e.create(xT(),R,c),e.add(f),a({image:r,blobInfo:f})})},function(R){i(R)});return}var m=Pm(r.src),y=m.data,w=m.type;c=y,f=e.getByData(c,w),f?a({image:r,blobInfo:f}):q3(r.src).then(function(R){f=e.create(xT(),R,c),e.add(f),a({image:r,blobInfo:f})},function(R){i(R)})},B4=function(e){return e?kn(e.getElementsByTagName("img")):[]},V5=function(e,r){var a={},i=function(c,f){f||(f=ur);var m=Xt(B4(c),function(w){var R=w.src;return!Zt.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!R||R===Zt.transparentSrc?!1:R.indexOf("blob:")===0?!e.isUploaded(R)&&f(w):R.indexOf("data:")===0?f(w):!1}),y=Ne(m,function(w){if(a[w.src]!==void 0)return new Yi(function($){a[w.src].then(function(V){if(typeof V=="string")return V;$({image:w,blobInfo:V.blobInfo})})});var R=new Yi(function($,V){H5(r,w,$,V)}).then(function($){return delete a[$.image.src],$}).catch(function($){return delete a[w.src],$});return a[w.src]=R,R});return Yi.all(y)};return{findAll:i}},U5=function(e){for(var r=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},c=wk("img"),f,m=0,y=0;f=r.exec(e);){var w=f[0],R=c+"_"+y++;i[R]=w,m<f.index&&a.push(e.substr(m,f.index-m)),a.push(R),m=f.index+w.length}var $=new RegExp(c+"_[0-9]+","g");return m===0?{prefix:c,uris:i,html:e,re:$}:(m<e.length&&a.push(e.substr(m)),{prefix:c,uris:i,html:a.join(""),re:$})},ST=function(e,r){return e.replace(r.re,function(a){return Kn(r.uris,a).getOr(a)})},j5=function(e){var r=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return r?oe.some({type:r[1],data:decodeURIComponent(r[2])}):oe.none()},TT=function(e,r,a,i){var c=e.padd_empty_with_br||r.insert;c&&a[i.name]?i.empty().append(new Nc("br",1)).shortEnded=!0:i.empty().append(new Nc("#text",3)).value=Vs},N4=function(e){return P4(e,"#text")&&e.firstChild.value===Vs},P4=function(e,r){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===r},dw=function(e,r){var a=e.getElementRule(r.name);return a&&a.paddEmpty},s1=function(e,r,a,i){return i.isEmpty(r,a,function(c){return dw(e,c)})},W5=function(e,r){return e&&(Sn(r,e.name)||e.name==="br")},F4=function(e){return Ge(e.attr("data-mce-bogus"))},q5=function(e){return e.attr("src")===Zt.transparentSrc||Ge(e.attr("data-mce-placeholder"))},I4=function(e,r){if(r.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),xn(e.attributes.map,function(i,c){a.setAttribute(c,i)}),r.images_dataimg_filter(a)}else return!0},G5=function(e,r){var a=r.blob_cache,i=function(c){var f=c.attr("src");q5(c)||F4(c)||j5(f).filter(function(){return I4(c,r)}).bind(function(m){var y=m.type,w=m.data;return oe.from(a.getByData(w,y)).orThunk(function(){return W3(y,w).map(function(R){var $=a.create(xT(),R,w);return a.add($),$})})}).each(function(m){c.attr("src",m.blobUri())})};a&&e.addAttributeFilter("src",function(c){return je(c,i)})},K5=function(e,r){var a=e.schema;r.remove_trailing_brs&&e.addNodeFilter("br",function(i,c,f){var m,y=i.length,w,R=mt.extend({},a.getBlockElements()),$=a.getNonEmptyElements(),V,j,re,ae,ie=a.getWhiteSpaceElements(),ue,_e;for(R.body=1,m=0;m<y;m++)if(w=i[m],V=w.parent,R[w.parent.name]&&w===V.lastChild){for(re=w.prev;re;){if(ae=re.name,ae!=="span"||re.attr("data-mce-type")!=="bookmark"){ae==="br"&&(w=null);break}re=re.prev}w&&(w.remove(),s1(a,$,ie,V)&&(ue=a.getElementRule(V.name),ue&&(ue.removeEmpty?V.remove():ue.paddEmpty&&TT(r,f,R,V))))}else{for(j=w;V&&V.firstChild===j&&V.lastChild===j&&(j=V,!R[V.name]);)V=V.parent;j===V&&r.padd_empty_with_br!==!0&&(_e=new Nc("#text",3),_e.value=Vs,w.replace(_e))}}),e.addAttributeFilter("href",function(i){var c=i.length,f=function(w){var R=w.split(" ").filter(function($){return $.length>0});return R.concat(["noopener"]).sort().join(" ")},m=function(w){var R=w?mt.trim(w):"";return/\b(noopener)\b/g.test(R)?R:f(R)};if(!r.allow_unsafe_link_target)for(;c--;){var y=i[c];y.name==="a"&&y.attr("target")==="_blank"&&y.attr("rel",m(y.attr("rel")))}}),r.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var c=i.length,f,m,y,w;c--;)if(w=i[c],w.name==="a"&&w.firstChild&&!w.attr("href")){y=w.parent,f=w.lastChild;do m=f.prev,y.insert(f,w),f=m;while(f)}}),r.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var c=i.length,f,m;c--;)if(f=i[c],m=f.parent,m.name==="ul"||m.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var y=new Nc("li",1);y.attr("style","list-style-type: none"),f.wrap(y)}}),r.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var c=a.getValidClasses(),f=i.length;f--;){for(var m=i[f],y=m.attr("class").split(" "),w="",R=0;R<y.length;R++){var $=y[R],V=!1,j=c["*"];j&&j[$]&&(V=!0),j=c[m.name],!V&&j&&j[$]&&(V=!0),V&&(w&&(w+=" "),w+=$)}w.length||(w=null),m.attr("class",w)}}),G5(e,r)},ET=mt.each,L4=mt.trim,$4="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),H4={ftp:21,http:80,https:443,mailto:25},V4=["img","video"],X5=function(e,r){return Ge(e)?!e:Ge(r)?!qe(V4,r):!0},Y5=function(e,r,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(r)?X5(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)},Fm=function(){function e(r,a){r=L4(r),this.settings=a||{};var i=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){c.source=r;return}var f=r.indexOf("//")===0;if(r.indexOf("/")===0&&!f&&(r=(i&&i.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){var m=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")r="//mce_host"+c.toAbsPath(m,r);else{var y=/([^#?]*)([#?]?.*)/.exec(r);r=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(m,y[1])+y[2]}}r=r.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);ET($4,function(R,$){var V=w[$];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[R]=V}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}return e.parseDataUri=function(r){var a,i=decodeURIComponent(r).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(a=c[1]),{type:a,data:i[1]}},e.isDomSafe=function(r,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var c=cc.decode(r).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!Y5(i,c,a)},e.getDocumentBaseUrl=function(r){var a;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?a=r.href:a=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(r){var a=/^(.*?)\/?(\w+)?$/.exec(r);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(r){var a;if(r==="./")return r;var i=new e(r,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var c=this.getURI(),f=i.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(r,a){var i=new e(r,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var a=H4[this.protocol];if(a&&(this.port||a)==(r.port||a))return!0}return!1},e.prototype.toRelPath=function(r,a){var i=0,c="",f,m,y=r.substring(0,r.lastIndexOf("/")).split("/"),w=a.split("/");if(y.length>=w.length){for(f=0,m=y.length;f<m;f++)if(f>=w.length||y[f]!==w[f]){i=f+1;break}}if(y.length<w.length){for(f=0,m=w.length;f<m;f++)if(f>=y.length||y[f]!==w[f]){i=f+1;break}}if(i===1)return a;for(f=0,m=y.length-(i-1);f<m;f++)c+="../";for(f=i-1,m=w.length;f<m;f++)f!==i-1?c+="/"+w[f]:c+=w[f];return c},e.prototype.toAbsPath=function(r,a){var i,c=0,f=[],m,y=/\/$/.test(a)?"/":"",w=r.split("/"),R=a.split("/");for(ET(w,function($){$&&f.push($)}),w=f,i=R.length-1,f=[];i>=0;i--)if(!(R[i].length===0||R[i]===".")){if(R[i]===".."){c++;continue}if(c>0){c--;continue}f.push(R[i])}return i=w.length-c,i<=0?m=Yn(f).join("/"):m=w.slice(0,i).join("/")+"/"+Yn(f).join("/"),m.indexOf("/")!==0&&(m="/"+m),y&&m.lastIndexOf("/")!==m.length-1&&(m+=y),m},e.prototype.getURI=function(r){r===void 0&&(r=!1);var a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),Z5=mt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),zT=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},vw=vi(function(){return document.implementation.createHTMLDocument("parser")}),G3=function(e,r,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),m=1,y=a;m!==0;)for(i.lastIndex=y;;){var w=i.exec(r);if(w===null)return y;if(w[1]==="!"){Gt(w[2],"--")?y=c1(r,!1,w.index+3):y=c1(r,!0,w.index+1);break}else{c.lastIndex=i.lastIndex;var R=c.exec(r);if(se(R)||R.index!==i.lastIndex)continue;w[1]==="/"?m-=1:Sn(f,w[2])||(m+=1),y=i.lastIndex+R[0].length;break}}return y},U4=function(e,r){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(r))},c1=function(e,r,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&U4(i,a)){var c=i.indexOf("[endif]",a);return i.indexOf(">",c)}else if(r){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var m=/--!?>/g;m.lastIndex=a;var y=m.exec(e);return y?y.index+y[0].length:i.length}},J5=function(e,r){var a=e.exec(r);if(a){var i=a[1],c=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?c:null}else return null},AT=function(e,r){r===void 0&&(r=lc()),e=e||{};var a=vw(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:U,f=e.cdata?e.cdata:U,m=e.text?e.text:U,y=e.start?e.start:U,w=e.end?e.end:U,R=e.pi?e.pi:U,$=e.doctype?e.doctype:U,V=function(re,ae){ae===void 0&&(ae="html");for(var ie=re.html,ue,_e=0,he,Xe,Ve=[],Ee,tt,Tt,Kt,nn,Cr,At,qr,Jt,wr,Qt,pr,Or,Ut,Er,ea,Pa,Ma=0,wu=cc.decode,Go=mt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ds=ae==="html"?0:1,Hc=function(Fa){var ko,nu;for(ko=Ve.length;ko--&&Ve[ko].name!==Fa;);if(ko>=0){for(nu=Ve.length-1;nu>=ko;nu--)Fa=Ve[nu],Fa.valid&&w(Fa.name);Ve.length=ko}},jt=function(Fa,ko){return m(ST(Fa,re),ko)},ir=function(Fa){Fa!==""&&(Fa.charAt(0)===">"&&(Fa=" "+Fa),!e.allow_conditional_comments&&Fa.substr(0,3).toLowerCase()==="[if"&&(Fa=" "+Fa),c(ST(Fa,re)))},Gr=function(Fa){return ST(Fa,re)},nt=function(Fa,ko){var nu=Fa||"",ld=!Gt(nu,"--"),fd=c1(ie,ld,ko);return Fa=ie.substr(ko,fd-ko),ir(ld?nu+Fa:Fa),fd+1},Yt=function(Fa,ko,nu,ld,fd){if(ko=ko.toLowerCase(),nu=Gr(ko in ru?ko:wu(nu||ld||fd||"")),ji&&!nn&&zT(ko)===!1){var dd=Qt[ko];if(!dd&&pr){for(var Qm=pr.length;Qm--&&(dd=pr[Qm],!dd.pattern.test(ko)););Qm===-1&&(dd=null)}if(!dd||dd.validValues&&!(nu in dd.validValues))return}var mz=ko==="name"||ko==="id";mz&&Fa in Z5&&(nu in a||nu in i)||Go[ko]&&!Fm.isDomSafe(nu,Fa,e)||nn&&(ko in Go||ko.indexOf("on")===0)||(Ee.map[ko]=nu,Ee.push({name:ko,value:nu}))},qt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Yr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,rn=r.getShortEndedElements(),so=e.self_closing_elements||r.getSelfClosingElements(),ru=r.getBoolAttrs(),ji=e.validate,ps=e.remove_internals,ms=e.fix_self_closing,Zs=r.getSpecialElements(),Wi=ie+">";ue=qt.exec(Wi);){var fl=ue[0];if(_e<ue.index&&jt(wu(ie.substr(_e,ue.index-_e))),he=ue[7])he=he.toLowerCase(),he.charAt(0)===":"&&(he=he.substr(1)),Hc(he);else if(he=ue[8]){if(ue.index+fl.length>ie.length){jt(wu(ie.substr(ue.index))),_e=ue.index+fl.length;continue}he=he.toLowerCase(),he.charAt(0)===":"&&(he=he.substr(1)),Cr=he in rn,ms&&so[he]&&Ve.length>0&&Ve[Ve.length-1].name===he&&Hc(he);var Js=J5(Yr,ue[9]);if(Js!==null){if(Js==="all"){_e=G3(r,ie,qt.lastIndex),qt.lastIndex=_e;continue}qr=!1}if(!ji||(At=r.getElementRule(he))){if(qr=!0,ji&&(Qt=At.attributes,pr=At.attributePatterns),(wr=ue[9])?(nn=wr.indexOf("data-mce-type")!==-1,nn&&ps&&(qr=!1),Ee=[],Ee.map={},wr.replace(Yr,function(Fa,ko,nu,ld,fd){return Yt(he,ko,nu,ld,fd),""})):(Ee=[],Ee.map={}),ji&&!nn){if(Or=At.attributesRequired,Ut=At.attributesDefault,Er=At.attributesForced,ea=At.removeEmptyAttrs,ea&&!Ee.length&&(qr=!1),Er)for(tt=Er.length;tt--;)Jt=Er[tt],Kt=Jt.name,Pa=Jt.value,Pa==="{$uid}"&&(Pa="mce_"+Ma++),Ee.map[Kt]=Pa,Ee.push({name:Kt,value:Pa});if(Ut)for(tt=Ut.length;tt--;)Jt=Ut[tt],Kt=Jt.name,Kt in Ee.map||(Pa=Jt.value,Pa==="{$uid}"&&(Pa="mce_"+Ma++),Ee.map[Kt]=Pa,Ee.push({name:Kt,value:Pa}));if(Or){for(tt=Or.length;tt--&&!(Or[tt]in Ee.map););tt===-1&&(qr=!1)}if(Jt=Ee.map["data-mce-bogus"]){if(Jt==="all"){_e=G3(r,ie,qt.lastIndex),qt.lastIndex=_e;continue}qr=!1}}qr&&y(he,Ee,Cr)}else qr=!1;if(Xe=Zs[he]){Xe.lastIndex=_e=ue.index+fl.length,(ue=Xe.exec(ie))?(qr&&(Tt=ie.substr(_e,ue.index-_e)),_e=ue.index+ue[0].length):(Tt=ie.substr(_e),_e=ie.length),qr&&(Tt.length>0&&jt(Tt,!0),w(he)),qt.lastIndex=_e;continue}Cr||(!wr||wr.indexOf("/")!==wr.length-1?Ve.push({name:he,valid:qr}):qr&&w(he))}else if(he=ue[1])ir(he);else if(he=ue[2]){var iv=Ds===1||e.preserve_cdata||Ve.length>0&&r.isValidChild(Ve[Ve.length-1].name,"#cdata");if(iv)f(he);else{_e=nt("",ue.index+2),qt.lastIndex=_e;continue}}else if(he=ue[3])$(he);else if((he=ue[4])||fl==="<!"){_e=nt(he,ue.index+fl.length),qt.lastIndex=_e;continue}else if(he=ue[5])if(Ds===1)R(he,ue[6]);else{_e=nt("?",ue.index+2),qt.lastIndex=_e;continue}_e=ue.index+fl.length}for(_e<ie.length&&jt(wu(ie.substr(_e))),tt=Ve.length-1;tt>=0;tt--)he=Ve[tt],he.valid&&w(he.name)},j=function(re,ae){ae===void 0&&(ae="html"),V(U5(re),ae)};return{parse:j}};AT.findEndTag=G3;var up=mt.makeMap,K3=mt.each,OT=mt.explode,pw=mt.extend,X3=function(e,r){r===void 0&&(r=lc());var a={},i=[],c={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var m=function(ae){for(var ie=up("tr,td,th,tbody,thead,tfoot,table"),ue=r.getNonEmptyElements(),_e=r.getWhiteSpaceElements(),he=r.getTextBlockElements(),Xe=r.getSpecialElements(),Ve=function(pr,Or){if(Or===void 0&&(Or=pr.parent),Xe[pr.name])pr.empty().remove();else{for(var Ut=pr.children(),Er=0,ea=Ut;Er<ea.length;Er++){var Pa=ea[Er];r.isValidChild(Or.name,Pa.name)||Ve(Pa,Or)}pr.unwrap()}},Ee=0;Ee<ae.length;Ee++){var tt=ae[Ee],Tt=void 0,Kt=void 0,nn=void 0;if(!(!tt.parent||tt.fixed)){if(he[tt.name]&&tt.parent.name==="li"){for(var Cr=tt.next;Cr&&he[Cr.name];){Cr.name="li",Cr.fixed=!0,tt.parent.insert(Cr,tt.parent);Cr=Cr.next}tt.unwrap();continue}var At=[tt];for(Tt=tt.parent;Tt&&!r.isValidChild(Tt.name,tt.name)&&!ie[Tt.name];Tt=Tt.parent)At.push(Tt);if(Tt&&At.length>1)if(r.isValidChild(Tt.name,tt.name)){At.reverse(),Kt=y(At[0].clone());for(var qr=Kt,Jt=0;Jt<At.length-1;Jt++){r.isValidChild(qr.name,At[Jt].name)?(nn=y(At[Jt].clone()),qr.append(nn)):nn=qr;for(var wr=At[Jt].firstChild;wr&&wr!==At[Jt+1];){var Qt=wr.next;nn.append(wr),wr=Qt}qr=nn}s1(r,ue,_e,Kt)?Tt.insert(tt,At[0],!0):(Tt.insert(Kt,At[0],!0),Tt.insert(tt,Kt)),Tt=At[0],(s1(r,ue,_e,Tt)||P4(Tt,"br"))&&Tt.empty().remove()}else Ve(tt);else if(tt.parent){if(tt.name==="li"){var Cr=tt.prev;if(Cr&&(Cr.name==="ul"||Cr.name==="ol")){Cr.append(tt);continue}if(Cr=tt.next,Cr&&(Cr.name==="ul"||Cr.name==="ol")){Cr.insert(tt,Cr.firstChild,!0);continue}tt.wrap(y(new Nc("ul",1)));continue}r.isValidChild(tt.parent.name,"div")&&r.isValidChild("div",tt.name)?tt.wrap(y(new Nc("div",1))):Ve(tt)}}}},y=function(ae){var ie=ae.name;if(ie in a){var ue=c[ie];ue?ue.push(ae):c[ie]=[ae]}for(var _e=i.length;_e--;){var he=i[_e].name;if(he in ae.attributes.map){var ue=f[he];ue?ue.push(ae):f[he]=[ae]}}return ae},w=function(ae,ie){K3(OT(ae),function(ue){var _e=a[ue];_e||(a[ue]=_e=[]),_e.push(ie)})},R=function(){var ae=[];for(var ie in a)Sn(a,ie)&&ae.push({name:ie,callbacks:a[ie]});return ae},$=function(ae,ie){K3(OT(ae),function(ue){var _e;for(_e=0;_e<i.length;_e++)if(i[_e].name===ue){i[_e].callbacks.push(ie);return}i.push({name:ue,callbacks:[ie]})})},V=function(){return[].concat(i)},j=function(ae,ie){var ue,_e,he,Xe,Ve,Ee,tt,Tt=[],Kt,nn=function(nt){return nt===!1?"":nt===!0?"p":nt};ie=ie||{},c={},f={};var Cr=pw(up("script,style,head,html,body,title,meta,param"),r.getBlockElements()),At=ay(r),qr=r.getNonEmptyElements(),Jt=r.children,wr=e.validate,Qt="forced_root_block"in ie?ie.forced_root_block:e.forced_root_block,pr=nn(Qt),Or=r.getWhiteSpaceElements(),Ut=/^[ \t\r\n]+/,Er=/[ \t\r\n]+$/,ea=/[ \t\r\n]+/g,Pa=/^[ \t\r\n]+$/,Ma=Sn(Or,ie.context)||Sn(Or,e.root_name),wu=function(){var nt=Gr.firstChild,Yt=null,qt=function(rn){rn&&(nt=rn.firstChild,nt&&nt.type===3&&(nt.value=nt.value.replace(Ut,"")),nt=rn.lastChild,nt&&nt.type===3&&(nt.value=nt.value.replace(Er,"")))};if(r.isValidChild(Gr.name,pr.toLowerCase())){for(;nt;){var Yr=nt.next;nt.type===3||nt.type===1&&nt.name!=="p"&&!Cr[nt.name]&&!nt.attr("data-mce-type")?(Yt||(Yt=Go(pr,1),Yt.attr(e.forced_root_block_attrs),Gr.insert(Yt,nt)),Yt.append(nt)):(qt(Yt),Yt=null),nt=Yr}qt(Yt)}},Go=function(nt,Yt){var qt=new Nc(nt,Yt),Yr;return nt in a&&(Yr=c[nt],Yr?Yr.push(qt):c[nt]=[qt]),qt},Ds=function(nt){for(var Yt=r.getBlockElements(),qt=nt.prev;qt&&qt.type===3;){var Yr=qt.value.replace(Er,"");if(Yr.length>0){qt.value=Yr;return}var rn=qt.next;if(rn){if(rn.type===3&&rn.value.length){qt=qt.prev;continue}if(!Yt[rn.name]&&rn.name!=="script"&&rn.name!=="style"){qt=qt.prev;continue}}var so=qt.prev;qt.remove(),qt=so}},Hc=function(nt){var Yt={};for(var qt in nt)qt!=="li"&&qt!=="p"&&(Yt[qt]=nt[qt]);return Yt},jt=function(nt){for(var Yt=nt;Ge(Yt);){if(Yt.name in At)return s1(r,qr,Or,Yt);Yt=Yt.parent}return!1},ir=AT({validate:wr,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Hc(r.getSelfClosingElements()),cdata:function(nt){Kt.append(Go("#cdata",4)).value=nt},text:function(nt,Yt){var qt;Ma||(nt=nt.replace(ea," "),W5(Kt.lastChild,Cr)&&(nt=nt.replace(Ut,""))),nt.length!==0&&(qt=Go("#text",3),qt.raw=!!Yt,Kt.append(qt).value=nt)},comment:function(nt){Kt.append(Go("#comment",8)).value=nt},pi:function(nt,Yt){Kt.append(Go(nt,7)).value=Yt,Ds(Kt)},doctype:function(nt){var Yt=Kt.append(Go("#doctype",10));Yt.value=nt,Ds(Kt)},start:function(nt,Yt,qt){var Yr=wr?r.getElementRule(nt):{};if(Yr){var rn=Go(Yr.outputName||nt,1);rn.attributes=Yt,rn.shortEnded=qt,Kt.append(rn);var so=Jt[Kt.name];so&&Jt[rn.name]&&!so[rn.name]&&Tt.push(rn);for(var ru=i.length;ru--;){var ji=i[ru].name;ji in Yt.map&&(Ee=f[ji],Ee?Ee.push(rn):f[ji]=[rn])}Cr[nt]&&Ds(rn),qt||(Kt=rn),!Ma&&Or[nt]&&(Ma=!0)}},end:function(nt){var Yt,qt,Yr,rn=wr?r.getElementRule(nt):{};if(rn){if(Cr[nt]&&!Ma){if(Yt=Kt.firstChild,Yt&&Yt.type===3)if(qt=Yt.value.replace(Ut,""),qt.length>0)Yt.value=qt,Yt=Yt.next;else for(Yr=Yt.next,Yt.remove(),Yt=Yr;Yt&&Yt.type===3;)qt=Yt.value,Yr=Yt.next,(qt.length===0||Pa.test(qt))&&(Yt.remove(),Yt=Yr),Yt=Yr;if(Yt=Kt.lastChild,Yt&&Yt.type===3)if(qt=Yt.value.replace(Er,""),qt.length>0)Yt.value=qt,Yt=Yt.prev;else for(Yr=Yt.prev,Yt.remove(),Yt=Yr;Yt&&Yt.type===3;)qt=Yt.value,Yr=Yt.prev,(qt.length===0||Pa.test(qt))&&(Yt.remove(),Yt=Yr),Yt=Yr}Ma&&Or[nt]&&(Ma=!1);var so=s1(r,qr,Or,Kt),ru=Kt.parent;rn.paddInEmptyBlock&&so&&jt(Kt)?TT(e,ie,Cr,Kt):rn.removeEmpty&&so?Cr[Kt.name]?Kt.empty().remove():Kt.unwrap():rn.paddEmpty&&(N4(Kt)||so)&&TT(e,ie,Cr,Kt),Kt=ru}}},r),Gr=Kt=new Nc(ie.context||e.root_name,11);if(ir.parse(ae,ie.format),wr&&Tt.length&&(ie.context?ie.invalid=!0:m(Tt)),pr&&(Gr.name==="body"||ie.isRootContent)&&wu(),!ie.invalid){for(tt in c)if(Sn(c,tt)){for(Ee=a[tt],ue=c[tt],Xe=ue.length;Xe--;)ue[Xe].parent||ue.splice(Xe,1);for(_e=0,he=Ee.length;_e<he;_e++)Ee[_e](ue,tt,ie)}for(_e=0,he=i.length;_e<he;_e++)if(Ee=i[_e],Ee.name in f){for(ue=f[Ee.name],Xe=ue.length;Xe--;)ue[Xe].parent||ue.splice(Xe,1);for(Xe=0,Ve=Ee.callbacks.length;Xe<Ve;Xe++)Ee.callbacks[Xe](ue,Ee.name,ie)}}return Gr},re={schema:r,addAttributeFilter:$,getAttributeFilters:V,addNodeFilter:w,getNodeFilters:R,filterNode:y,parse:j};return K5(re,e),i1(re,e),re},j4=function(e,r,a){e.addAttributeFilter("data-mce-tabindex",function(i,c){for(var f=i.length;f--;){var m=i[f];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",function(i,c){for(var f="data-mce-"+c,m=r.url_converter,y=r.url_converter_scope,w=i.length;w--;){var R=i[w],$=R.attr(f);$!==void 0?(R.attr(c,$.length>0?$:null),R.attr(f,null)):($=R.attr(c),c==="style"?$=a.serializeStyle(a.parseStyle($),R.name):m&&($=m.call(y,$,c,R.name)),R.attr(c,$.length>0?$:null))}}),e.addAttributeFilter("class",function(i){for(var c=i.length;c--;){var f=i[c],m=f.attr("class");m&&(m=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",function(i,c,f){for(var m=i.length;m--;){var y=i[m];if(y.attr("data-mce-type")==="bookmark"&&!f.cleanup){var w=oe.from(y.firstChild).exists(function(R){return!rs(R.value)});w?y.unwrap():y.remove()}}}),e.addNodeFilter("noscript",function(i){for(var c=i.length;c--;){var f=i[c].firstChild;f&&(f.value=cc.decode(f.value))}}),e.addNodeFilter("script,style",function(i,c){for(var f=function($){return $.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},m=i.length;m--;){var y=i[m],w=y.firstChild?y.firstChild.value:"";if(c==="script"){var R=y.attr("type");R&&y.attr("type",R==="mce-no/type"?null:R.replace(/^mce\-/,"")),r.element_format==="xhtml"&&w.length>0&&(y.firstChild.value=`// <![CDATA[
`+f(w)+`
// ]]>`)}else r.element_format==="xhtml"&&w.length>0&&(y.firstChild.value=`<!--
`+f(w)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var c=i.length;c--;){var f=i[c];r.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,c){for(var f=i.length;f--;){var m=i[f];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){je(i,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)})},W4=function(e){var r=function(c){return c&&c.name==="br"},a=e.lastChild;if(r(a)){var i=a.prev;r(i)&&(a.remove(),i.remove())}},q4=function(e,r,a){var i,c=e.dom,f=r.cloneNode(!0),m=document.implementation;if(m.createHTMLDocument){var y=m.createHTMLDocument("");mt.each(f.nodeName==="BODY"?f.childNodes:[f],function(w){y.body.appendChild(y.importNode(w,!0))}),f.nodeName!=="BODY"?f=y.body.firstChild:f=y.body,i=c.doc,c.doc=y}return jS(e,Lr(Lr({},a),{node:f})),i&&(c.doc=i),f},Q5=function(e,r){return e&&e.hasEventListeners("PreProcess")&&!r.no_events},eM=function(e,r,a){return Q5(e,a)?q4(e,r,a):r},tM=function(e,r,a){mt.inArray(r,a)===-1&&(e.addAttributeFilter(a,function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)}),r.push(a))},RT=function(e,r,a){if(!r.no_events&&e){var i=b0(e,Lr(Lr({},r),{content:a}));return i.content}else return a},rM=function(e,r,a){var i=Cs(a.getInner?r.innerHTML:e.getOuterHTML(r));return a.selection||dv(x.fromDom(r))?i:mt.trim(i)},nM=function(e,r,a){var i=a.selection?Lr({forced_root_block:!1},a):a,c=e.parse(r,i);return W4(c),c},mw=function(e,r,a){var i=Qv(e,r);return i.serialize(a)},DT=function(e,r,a,i,c){var f=mw(r,a,i);return RT(e,c,f)},aM=function(e,r){var a=["data-mce-selected"],i=r&&r.dom?r.dom:mo.DOM,c=r&&r.schema?r.schema:lc(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=X3(e,c);j4(f,e,i);var m=function(y,w){w===void 0&&(w={});var R=Lr({format:"html"},w),$=eM(r,y,R),V=rM(i,$,R),j=nM(f,V,R);return R.format==="tree"?j:DT(r,e,c,j,R)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:m,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:St(tM,f,a),getTempAttrs:X(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},MT=function(e,r){var a=aM(e,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},oM="html",Y3=function(e,r){r===void 0&&(r={});var a=r.format?r.format:oM;return z5(e,r,a)},Z3=function(e,r,a){return a===void 0&&(a={}),A5(e,r,a)},J3=mo.DOM,tu=function(e){J3.setStyle(e.id,"display",e.orgDisplay)},Q3=function(e){return oe.from(e).each(function(r){return r.destroy()})},G4=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},iM=function(e){var r=e.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),J3.unbind(r,"submit reset",e.formEventDelegate))},uM=function(e){if(!e.removed){var r=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&c&&J3.remove(c.nextSibling),c2(e),e.editorManager.remove(e),!e.inline&&i&&tu(e),l2(e),J3.remove(e.getContainer()),Q3(r),Q3(a),e.destroy()}},K4=function(e,r){var a=e.selection,i=e.dom;if(!e.destroyed){if(!r&&!e.removed){e.remove();return}r||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Q3(a),Q3(i)),iM(e),G4(e),e.destroyed=!0}},sM=function(e,r){var a=J(e)&&J(r);return a?X4(e,r):r},BT=function(e){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(r.length===0)throw new Error("Can't merge zero objects");for(var i={},c=0;c<r.length;c++){var f=r[c];for(var m in f)Sn(f,m)&&(i[m]=e(i[m],f[m]))}return i}},X4=BT(sM),Y4="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),NT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),cM="imagetools,toc".split(","),lM=function(e){var r=Xt(Y4,function(i){return Sn(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),Zn(r)},fM=function(e){var r=mt.makeMap(e.plugins," "),a=function(c){return Sn(r,c)},i=ei(ei([],Xt(NT,a),!0),wn(cM,function(c){return a(c)?[c+" (moving to premium)"]:[]}),!0);return Zn(i)},dM=function(e,r){var a=lM(e),i=fM(r),c=i.length>0,f=a.length>0,m=r.theme==="mobile";if(c||f||m){var y=`
- `,w=m?`

Themes:`+y+"mobile":"",R=c?`

Plugins:`+y+i.join(y):"",$=f?`

Settings:`+y+a.join(y):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+w+R+$)}},vM=function(e,r){return{sections:X(e),settings:X(r)}},eC=br().deviceType,Z4=eC.isTouch(),tC=eC.isPhone(),J4=eC.isTablet(),Q4=["lists","autolink","autosave"],PT={table_grid:!1,object_resizing:!1,resize:!1},l1=function(e){var r=Fe(e)?e.join(" "):e,a=Ne(ke(r)?r.split(" "):[],kr);return Xt(a,function(i){return i.length>0})},eA=function(e){return Xt(e,St(qe,Q4))},tA=function(e,r){var a=fr(r,function(i,c){return qe(e,c)});return vM(a.t,a.f)},pM=function(e,r,a){a===void 0&&(a={});var i=e.sections(),c=Kn(i,r).getOr({});return mt.extend({},a,c)},f1=function(e,r){return Sn(e.sections(),r)},mM=function(e,r,a){var i=e.sections();return f1(e,r)&&i[r].theme===a},rC=function(e,r){return f1(e,r)?e.sections()[r]:{}},rA=function(e,r){return Kn(e,"toolbar_mode").orThunk(function(){return Kn(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(r)},hM=function(e,r,a,i,c){var f={id:r,theme:"silver",toolbar_mode:rA(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return Lr(Lr({},f),i?PT:{})},gM=function(e,r){var a={resize:!1,toolbar_mode:rA(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Lr(Lr(Lr({},PT),a),r?i:{})},nA=function(e,r){var a=r.external_plugins?r.external_plugins:{};return e&&e.external_plugins?mt.extend({},e.external_plugins,a):a},aA=function(e,r){return[].concat(l1(e)).concat(l1(r))},yM=function(e,r,a,i){return e&&mM(r,"mobile","mobile")?eA(i):e&&f1(r,"mobile")?i:a},bM=function(e,r,a,i){var c=l1(a.forced_plugins),f=l1(i.plugins),m=rC(r,"mobile"),y=m.plugins?l1(m.plugins):f,w=yM(e,r,f,y),R=aA(c,w);if(Zt.browser.isIE()&&qe(R,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return mt.extend(i,{plugins:R.join(" ")})},_M=function(e,r){return e&&f1(r,"mobile")},wM=function(e,r,a,i,c){var f=e?{mobile:gM(c.mobile||{},r)}:{},m=tA(["mobile"],X4(f,c)),y=mt.extend(a,i,m.settings(),_M(e,m)?pM(m,"mobile"):{},{validate:!0,external_plugins:nA(i,m.settings())});return bM(e,m,i,y)},oA=function(e,r,a,i,c){var f=hM(c,r,a,Z4,e),m=wM(tC||J4,tC,f,i,c);return m.deprecation_warnings!==!1&&dM(c,m),m},Sg=function(e,r,a){return oe.from(r.settings[a]).filter(e)},kM=function(e){var r={};return typeof e=="string"?je(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?r[mt.trim(i[0])]=mt.trim(i[1]):r[mt.trim(i[0])]=mt.trim(i[0])}):r=e,r},CM=function(e){return function(r){return Fe(r)&&Gn(r,e)}},xM=function(e,r,a,i){var c=r in e.settings?e.settings[r]:a;return i==="hash"?kM(c):i==="string"?Sg(ke,e,r).getOr(a):i==="number"?Sg(Ue,e,r).getOr(a):i==="boolean"?Sg(Ye,e,r).getOr(a):i==="object"?Sg(J,e,r).getOr(a):i==="array"?Sg(Fe,e,r).getOr(a):i==="string[]"?Sg(CM(ke),e,r).getOr(a):i==="function"?Sg(ce,e,r).getOr(a):c},SM=function(){var e={},r=function(c,f){e[c]=f},a=function(c){return e[c]?e[c]:{icons:{}}},i=function(c){return Sn(e,c)};return{add:r,get:a,has:i}},nC=SM(),iA=function(e,r){var a=r.dom;return a[e]},uA=function(e,r){return parseInt(Un(r,e),10)},sA=St(iA,"clientWidth"),TM=St(iA,"clientHeight"),EM=St(uA,"margin-top"),zM=St(uA,"margin-left"),AM=function(e){return e.dom.getBoundingClientRect()},OM=function(e,r,a){var i=sA(e),c=TM(e);return r>=0&&a>=0&&r<=i&&a<=c},hw=function(e,r,a,i){var c=AM(r),f=e?c.left+r.dom.clientLeft+zM(r):0,m=e?c.top+r.dom.clientTop+EM(r):0,y=a-f,w=i-m;return{x:y,y:w}},cA=function(e,r,a){var i=x.fromDom(e.getBody()),c=e.inline?i:Is(i),f=hw(e.inline,c,r,a);return OM(c,f.x,f.y)},RM=function(e){return oe.from(e).map(x.fromDom)},lA=function(e){var r=e.inline?e.getBody():e.getContentAreaContainer();return RM(r).map(Rf).getOr(!1)},fA=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},dA=function(e){var r=[],a=function(){var j=e.theme;return j&&j.getNotificationManagerImpl?j.getNotificationManagerImpl():fA()},i=function(){return oe.from(r[0])},c=function(j,re){return j.type===re.type&&j.text===re.text&&!j.progressBar&&!j.timeout&&!re.progressBar&&!re.timeout},f=function(){r.length>0&&a().reposition(r)},m=function(j){r.push(j)},y=function(j){Rr(r,function(re){return re===j}).each(function(re){r.splice(re,1)})},w=function(j,re){if(re===void 0&&(re=!0),!(e.removed||!lA(e)))return re&&e.fire("BeforeOpenNotification",{notification:j}),rr(r,function(ae){return c(a().getArgs(ae),j)}).getOrThunk(function(){e.editorManager.setActive(e);var ae=a().open(j,function(){y(ae),f(),i().fold(function(){return e.focus()},function(ie){return Cb(x.fromDom(ie.getEl()))})});return m(ae),f(),e.fire("OpenNotification",{notification:Lr({},ae)}),ae})},R=function(){i().each(function(j){a().close(j),y(j),f()})},$=X(r),V=function(j){j.on("SkinLoaded",function(){var re=Pk(j);re&&w({text:re,type:"warning",timeout:0},!1),f()}),j.on("show ResizeEditor ResizeWindow NodeChange",function(){Au.requestAnimationFrame(f)}),j.on("remove",function(){je(r.slice(),function(re){a().close(re)})})};return V(e),{open:w,close:R,getNotifications:$}},ad=Ss.PluginManager,Im=Ss.ThemeManager;function gw(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var FT=function(e){var r=[],a=function(){var ie=e.theme;return ie&&ie.getWindowManagerImpl?ie.getWindowManagerImpl():gw()},i=function(ie,ue){return function(){for(var _e=[],he=0;he<arguments.length;he++)_e[he]=arguments[he];return ue?ue.apply(ie,_e):void 0}},c=function(ie){e.fire("OpenWindow",{dialog:ie})},f=function(ie){e.fire("CloseWindow",{dialog:ie})},m=function(ie){r.push(ie),c(ie)},y=function(ie){f(ie),r=Xt(r,function(ue){return ue!==ie}),r.length===0&&e.focus()},w=function(){return oe.from(r[r.length-1])},R=function(ie){e.editorManager.setActive(e),Sb(e);var ue=ie();return m(ue),ue},$=function(ie,ue){return R(function(){return a().open(ie,ue,y)})},V=function(ie){return R(function(){return a().openUrl(ie,y)})},j=function(ie,ue,_e){var he=a();he.alert(ie,i(_e||he,ue))},re=function(ie,ue,_e){var he=a();he.confirm(ie,i(_e||he,ue))},ae=function(){w().each(function(ie){a().close(ie),y(ie)})};return e.on("remove",function(){je(r,function(ie){a().close(ie)})}),{open:$,openUrl:V,alert:j,confirm:re,close:ae}},IT=function(e,r){e.notificationManager.open({type:"error",text:r})},aC=function(e,r){e._skinLoaded?IT(e,r):e.on("SkinLoaded",function(){IT(e,r)})},vA=function(e,r){aC(e,is.translate(["Failed to upload image: {0}",r]))},LT=function(e,r,a){yb(e,r,{message:a}),console.error(a)},$T=function(e,r,a){return a?"Failed to load "+e+": "+a+" from url "+r:"Failed to load "+e+" url: "+r},HT=function(e,r,a){LT(e,"PluginLoadError",$T("plugin",r,a))},pA=function(e,r,a){LT(e,"IconsLoadError",$T("icons",r,a))},DM=function(e,r,a){LT(e,"LanguageLoadError",$T("language",r,a))},MM=function(e,r,a){var i=is.translate(["Failed to initialize plugin: {0}",r]);yb(e,"PluginLoadError",{message:i}),oC(i,a),aC(e,i)},oC=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,ei([e],r,!1)):i.log.apply(i,ei([e],r,!1)))},mA=function(e){return/^[a-z0-9\-]+$/i.test(e)},BM=function(e){return d1(e,Dk(e))},NM=function(e){return d1(e,Mk(e))},d1=function(e,r){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,c="content"+i+".css",f=e.inline===!0;return Ne(r,function(m){return mA(m)&&!f?a+"/"+m+"/"+c:e.documentBaseURI.toAbsolute(m)})},hA=function(e){e.contentCSS=e.contentCSS.concat(BM(e),NM(e))},VT=function(){var e=1,r=2,a={},i=function(j,re){return{status:j,resultUri:re}},c=function(j){return j in a},f=function(j){var re=a[j];return re?re.resultUri:null},m=function(j){return c(j)?a[j].status===e:!1},y=function(j){return c(j)?a[j].status===r:!1},w=function(j){a[j]=i(e,null)},R=function(j,re){a[j]=i(r,re)},$=function(j){delete a[j]},V=function(){a={}};return{hasBlobUri:c,getResultUri:f,isPending:m,isUploaded:y,markPending:w,markUploaded:R,removeFailed:$,destroy:V}},PM=0,FM=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},r=new Date().getTime();return"s"+r.toString(36)+e()+e()+e()},gA=function(e){return e+PM+++FM()},yA=function(){var e=[],r=function(V){var j={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return j[V.toLowerCase()]||"dat"},a=function(V,j,re,ae,ie){if(ke(V)){var ue=V;return i({id:ue,name:ae,filename:ie,blob:j,base64:re})}else{if(J(V))return i(V);throw new Error("Unknown input type")}},i=function(V){if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var j=V.id||gA("blobid"),re=V.name||j,ae=V.blob;return{id:X(j),name:X(re),filename:X(V.filename||re+"."+r(ae.type)),blob:X(ae),base64:X(V.base64),blobUri:X(V.blobUri||URL.createObjectURL(ae)),uri:X(V.uri)}},c=function(V){m(V.id())||e.push(V)},f=function(V){return rr(e,V).getOrUndefined()},m=function(V){return f(function(j){return j.id()===V})},y=function(V){return f(function(j){return j.blobUri()===V})},w=function(V,j){return f(function(re){return re.base64()===V&&re.blob().type===j})},R=function(V){e=Xt(e,function(j){return j.blobUri()===V?(URL.revokeObjectURL(j.blobUri()),!1):!0})},$=function(){je(e,function(V){URL.revokeObjectURL(V.blobUri())}),e=[]};return{create:a,add:c,get:m,getByUri:y,getByData:w,findFirst:f,removeByUri:R,destroy:$}},IM=function(e,r){var a={},i=function(ae,ie){return ae?ae.replace(/\/$/,"")+"/"+ie.replace(/^\//,""):ie},c=function(ae,ie,ue,_e){var he=new XMLHttpRequest;he.open("POST",r.url),he.withCredentials=r.credentials,he.upload.onprogress=function(Ve){_e(Ve.loaded/Ve.total*100)},he.onerror=function(){ue("Image upload failed due to a XHR Transport error. Code: "+he.status)},he.onload=function(){if(he.status<200||he.status>=300){ue("HTTP Error: "+he.status);return}var Ve=JSON.parse(he.responseText);if(!Ve||typeof Ve.location!="string"){ue("Invalid JSON: "+he.responseText);return}ie(i(r.basePath,Ve.location))};var Xe=new FormData;Xe.append("file",ae.blob(),ae.filename()),he.send(Xe)},f=function(){return new Yi(function(ae){ae([])})},m=function(ae,ie){return{url:ie,blobInfo:ae,status:!0}},y=function(ae,ie,ue){return{url:"",blobInfo:ae,status:!1,error:{message:ie,options:ue}}},w=function(ae,ie){mt.each(a[ae],function(ue){ue(ie)}),delete a[ae]},R=function(ae,ie,ue){return e.markPending(ae.blobUri()),new Yi(function(_e){var he,Xe;try{var Ve=function(){he&&(he.close(),Xe=U)},Ee=function(Tt){Ve(),e.markUploaded(ae.blobUri(),Tt),w(ae.blobUri(),m(ae,Tt)),_e(m(ae,Tt))},tt=function(Tt,Kt){var nn=Kt||{};Ve(),e.removeFailed(ae.blobUri()),w(ae.blobUri(),y(ae,Tt,nn)),_e(y(ae,Tt,nn))};Xe=function(Tt){Tt<0||Tt>100||oe.from(he).orThunk(function(){return oe.from(ue).map(O)}).each(function(Kt){he=Kt,Kt.progressBar.value(Tt)})},ie(ae,Ee,tt,Xe)}catch(Tt){_e(y(ae,Tt.message,{}))}})},$=function(ae){return ae===c},V=function(ae){var ie=ae.blobUri();return new Yi(function(ue){a[ie]=a[ie]||[],a[ie].push(ue)})},j=function(ae,ie){return ae=mt.grep(ae,function(ue){return!e.isUploaded(ue.blobUri())}),Yi.all(mt.map(ae,function(ue){return e.isPending(ue.blobUri())?V(ue):R(ue,r.handler,ie)}))},re=function(ae,ie){return!r.url&&$(r.handler)?f():j(ae,ie)};return ce(r.handler)===!1&&(r.handler=c),{upload:re}},bA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},_A=function(e,r){return IM(r,{url:sS(e),basePath:Id(e),credentials:Ld(e),handler:cS(e)})},LM=function(e){var r=VT(),a=_A(e,r);return{upload:function(i,c){return c===void 0&&(c=!0),a.upload(i,c?bA(e):void 0)}}},$M=function(e){var r=os(null);e.on("change AddUndo",function(i){r.set(Lr({},i.level))});var a=function(){var i=e.undoManager.data;Rn(i).filter(function(c){return!I3(r.get(),c)}).each(function(c){e.setDirty(!0),e.fire("change",{level:c,lastLevel:In(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},ds=function(e){var r=yA(),a,i,c=VT(),f=[],m=$M(e),y=function(Ve){return function(Ee){return e.selection?Ve(Ee):[]}},w=function(Ve){return Ve+(Ve.indexOf("?")===-1?"?":"&")+new Date().getTime()},R=function(Ve,Ee,tt){var Tt=0;do Tt=Ve.indexOf(Ee,Tt),Tt!==-1&&(Ve=Ve.substring(0,Tt)+tt+Ve.substr(Tt+Ee.length),Tt+=tt.length-Ee.length+1);while(Tt!==-1);return Ve},$=function(Ve,Ee,tt){var Tt='src="'+tt+'"'+(tt===Zt.transparentSrc?' data-mce-placeholder="1"':"");return Ve=R(Ve,'src="'+Ee+'"',Tt),Ve=R(Ve,'data-mce-src="'+Ee+'"','data-mce-src="'+tt+'"'),Ve},V=function(Ve,Ee){je(e.undoManager.data,function(tt){tt.type==="fragmented"?tt.fragments=Ne(tt.fragments,function(Tt){return $(Tt,Ve,Ee)}):tt.content=$(tt.content,Ve,Ee)})},j=function(Ve,Ee){var tt=e.convertURL(Ee,"src");V(Ve.src,Ee),e.$(Ve).attr({src:F_(e)?w(Ee):Ee,"data-mce-src":tt})},re=function(Ve){return a||(a=_A(e,c)),_e().then(y(function(Ee){var tt=Ne(Ee,function(Tt){return Tt.blobInfo});return a.upload(tt,bA(e)).then(y(function(Tt){var Kt=[],nn=Ne(Tt,function(Cr,At){var qr=Ee[At].blobInfo,Jt=Ee[At].image;return Cr.status&&uS(e)?(r.removeByUri(Jt.src),ip(e)||j(Jt,Cr.url)):Cr.error&&(Cr.error.options.remove&&(V(Jt.getAttribute("src"),Zt.transparentSrc),Kt.push(Jt)),vA(e,Cr.error.message)),{element:Jt,status:Cr.status,uploadUri:Cr.url,blobInfo:qr}});return nn.length>0&&m.fireIfChanged(),Kt.length>0&&(ip(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){je(Kt,function(Cr){e.dom.remove(Cr),r.removeByUri(Cr.src)})})),Ve&&Ve(nn),nn}))}))},ae=function(Ve){if(Ih(e))return re(Ve)},ie=function(Ve){if(Gn(f,function(tt){return tt(Ve)})===!1)return!1;if(Ve.getAttribute("src").indexOf("data:")===0){var Ee=jy(e);return Ee(Ve)}return!0},ue=function(Ve){f.push(Ve)},_e=function(){return i||(i=V5(c,r)),i.findAll(e.getBody(),ie).then(y(function(Ve){return Ve=Xt(Ve,function(Ee){return typeof Ee=="string"?(aC(e,Ee),!1):!0}),ip(e)||je(Ve,function(Ee){V(Ee.image.src,Ee.blobInfo.blobUri()),Ee.image.src=Ee.blobInfo.blobUri(),Ee.image.removeAttribute("data-mce-src")}),Ve}))},he=function(){r.destroy(),c.destroy(),i=a=null},Xe=function(Ve){return Ve.replace(/src="(blob:[^"]+)"/g,function(Ee,tt){var Tt=c.getResultUri(tt);if(Tt)return'src="'+Tt+'"';var Kt=r.getByUri(tt);if(Kt||(Kt=it(e.editorManager.get(),function(Cr,At){return Cr||At.editorUpload&&At.editorUpload.blobCache.getByUri(tt)},null)),Kt){var nn=Kt.blob();return'src="data:'+nn.type+";base64,"+Kt.base64()+'"'}return Ee})};return e.on("SetContent",function(){Ih(e)?ae():_e()}),e.on("RawSaveContent",function(Ve){Ve.content=Xe(Ve.content)}),e.on("GetContent",function(Ve){Ve.source_view||Ve.format==="raw"||Ve.format==="tree"||(Ve.content=Xe(Ve.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Ve){je(Ve,function(Ee){var tt=Ee.attr("src");if(!r.getByUri(tt)){var Tt=c.getResultUri(tt);Tt&&Ee.attr("src",Tt)}})})}),{blobCache:r,addFilter:ue,uploadImages:re,uploadImagesAuto:ae,scanForImages:_e,destroy:he}},wA=function(e){var r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,c){return hn(a)&&a.hasAttribute("href")},onformat:function(a,i,c){mt.each(c,function(f,m){e.setAttrib(a,m,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return mt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){r[a]={block:a,remove:"all"}}),r},HM=function(e){var r={},a=function(m){return Ge(m)?r[m]:r},i=function(m){return Sn(r,m)},c=function(m,y){m&&(ke(m)?(Fe(y)||(y=[y]),je(y,function(w){ze(w.deep)&&(w.deep=!Gs(w)),ze(w.split)&&(w.split=!Gs(w)||gu(w)),ze(w.remove)&&Gs(w)&&!gu(w)&&(w.remove="none"),Gs(w)&&gu(w)&&(w.mixed=!0,w.block_expand=!0),ke(w.classes)&&(w.classes=w.classes.split(/\s+/))}),r[m]=y):xn(m,function(w,R){c(R,w)}))},f=function(m){return m&&r[m]&&delete r[m],r};return c(wA(e.dom)),c(fS(e)),{get:a,has:i,register:c,unregister:f}},iC=mt.each,Ys=mo.DOM,kA=function(e,r){var a,i,c,f=r&&r.schema||lc({}),m=function($,V){V.classes.length&&Ys.addClass($,V.classes.join(" ")),Ys.setAttribs($,V.attrs)},y=function($){i=typeof $=="string"?{name:$,classes:[],attrs:{}}:$;var V=Ys.create(i.name);return m(V,i),V},w=function($,V){var j=typeof $!="string"?$.nodeName.toLowerCase():$,re=f.getElementRule(j),ae=re&&re.parentsRequired;return ae&&ae.length?V&&mt.inArray(ae,V)!==-1?V:ae[0]:!1},R=function($,V,j){var re,ae,ie=V.length>0&&V[0],ue=ie&&ie.name,_e=w($,ue);if(_e)ue===_e?(ae=V[0],V=V.slice(1)):ae=_e;else if(ie)ae=V[0],V=V.slice(1);else if(!j)return $;return ae&&(re=y(ae),re.appendChild($)),j&&(re||(re=Ys.create("div"),re.appendChild($)),mt.each(j,function(he){var Xe=y(he);re.insertBefore(Xe,$)})),R(re,V,ae&&ae.siblings)};return e&&e.length?(i=e[0],a=y(i),c=Ys.create("div"),c.appendChild(R(a,e.slice(1),i.siblings)),c):""},Da=function(e){var r,a={classes:[],attrs:{}};return e=a.selector=mt.trim(e),e!=="*"&&(r=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,c,f,m,y){switch(c){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":mt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(m==="["){var w=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(a.attrs[w[1]]=w[2])}return""})),a.name=r||"div",a},VM=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),mt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(r){var a=mt.map(r.split(/(?:~\+|~|\+)/),Da),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},UM=function(e,r){var a,i,c="",f,m=Qp(e);if(m==="")return"";var y=function(V){return V.replace(/%(\w+)/g,"")};if(typeof r=="string"){if(r=e.formatter.get(r),!r)return;r=r[0]}if("preview"in r){var w=Kn(r,"preview");if(lv(w,!1))return"";m=w.getOr(m)}a=r.block||r.inline||"span";var R=VM(r.selector);R.length?(R[0].name||(R[0].name=a),a=r.selector,i=kA(R,e)):i=kA([a],e);var $=Ys.select(a,i)[0]||i.firstChild;return iC(r.styles,function(V,j){var re=y(V);re&&Ys.setStyle($,j,re)}),iC(r.attributes,function(V,j){var re=y(V);re&&Ys.setAttrib($,j,re)}),iC(r.classes,function(V){var j=y(V);Ys.hasClass($,j)||Ys.addClass($,j)}),e.fire("PreviewFormats"),Ys.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=Ys.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,iC(m.split(" "),function(V){var j=Ys.getStyle($,V,!0);if(!(V==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(j)&&(j=Ys.getStyle(e.getBody(),V,!0),Ys.toHex(j).toLowerCase()==="#ffffff"))&&!(V==="color"&&Ys.toHex(j).toLowerCase()==="#000000")){if(V==="font-size"&&/em|%$/.test(j)){if(f===0)return;var re=parseFloat(j)/(/%$/.test(j)?100:1);j=re*f+"px"}V==="border"&&j&&(c+="padding:0 2px;"),c+=V+":"+j+";"}}),e.fire("AfterPreviewFormats"),Ys.remove(i),c},jM=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)e.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ai=function(e){var r=HM(e),a=os(null);return jM(e),z3(e),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:function(i,c,f){U3(e,i,c,f)},remove:function(i,c,f,m){S5(e,i,c,f,m)},toggle:function(i,c,f){T5(e,i,c,f)},match:function(i,c,f,m){return x5(e,i,c,f,m)},closest:function(i){return T4(e,i)},matchAll:function(i,c){return x4(e,i,c)},matchNode:function(i,c,f,m){return V3(e,i,c,f,m)},canApply:function(i){return S4(e,i)},formatChanged:function(i,c,f,m){return E5(e,a,i,c,f,m)},getCssText:St(UM,e)}},CA=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},yw=function(e,r,a){var i=os(!1),c=function(w){L3(r,!1,a),r.add({},w)};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(w){var R=w.command;CA(R)||(p4(r,a),r.beforeChange())}),e.on("ExecCommand",function(w){var R=w.command;CA(R)||c(w)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(w){var R=w.keyCode;w.isDefaultPrevented()||((R>=33&&R<=36||R>=37&&R<=40||R===45||w.ctrlKey)&&(c(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),i.get()&&r.typing&&I3(r1(e),r.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:r.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(w){var R=w.keyCode;if(!w.isDefaultPrevented()){if(R>=33&&R<=36||R>=37&&R<=40||R===45){r.typing&&c(w);return}var $=w.ctrlKey&&!w.altKey||w.metaKey;(R<16||R>20)&&R!==224&&R!==91&&!r.typing&&!$&&(r.beforeChange(),L3(r,!0,a),r.add({},w),i.set(!0))}}),e.on("mousedown",function(w){r.typing&&c(w)});var f=function(w){return w.inputType==="insertReplacementText"},m=function(w){return w.inputType==="insertText"&&w.data===null},y=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};e.on("input",function(w){w.inputType&&(f(w)||m(w)||y(w))&&c(w)}),e.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||e.nodeChanged()})},WM=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},xA=function(e){var r=Nd(),a=os(0),i=os(0),c={data:[],typing:!1,beforeChange:function(){wT(e,a,r)},add:function(f,m){return w4(e,c,i,a,r,f,m)},undo:function(){return H3(e,c,a,i)},redo:function(){return ul(e,i,c.data)},clear:function(){lw(e,c,i)},reset:function(){xg(e,c)},hasUndo:function(){return w5(e,c,i)},hasRedo:function(){return k4(e,c,i)},transact:function(f){return C4(e,c,a,f)},ignore:function(f){k5(e,a,f)},extra:function(f,m){C5(e,c,i,f,m)}};return ip(e)||yw(e,c,a),WM(e),c},qM=[9,27,on.HOME,on.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,on.DOWN,on.UP,on.LEFT,on.RIGHT].concat(Zt.browser.isFirefox()?[224]:[]),UT="data-mce-placeholder",sp=function(e){return e.type==="keydown"||e.type==="keyup"},Lc=function(e){var r=e.keyCode;return r===on.BACKSPACE||r===on.DELETE},bw=function(e){if(sp(e)){var r=e.keyCode;return!Lc(e)&&(on.metaKeyPressed(e)||e.altKey||r>=112&&r<=123||qe(qM,r))}else return!1},Tg=function(e){return sp(e)&&!(Lc(e)||e.type==="keyup"&&e.keyCode===229)},nv=function(e,r,a){if(lu(x.fromDom(r),!1)){var i=a==="",c=r.firstElementChild;return c?e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")?!1:i?!e.isBlock(c):a===c.nodeName.toLowerCase():!0}else return!1},_w=function(e){var r=e.dom,a=mu(e),i=L_(e),c=function(f,m){if(!bw(f)){var y=e.getBody(),w=Tg(f)?!1:nv(r,y,a),R=r.getAttrib(y,UT)!=="";(R!==w||m)&&(r.setAttrib(y,UT,w?i:null),r.setAttrib(y,"aria-placeholder",w?i:null),v2(e,w),e.on(w?"keydown":"keyup",c),e.off(w?"keyup":"keydown",c))}};i&&e.on("init",function(f){c(f,!0),e.on("change SetContent ExecCommand",c),e.on("paste",function(m){return Au.setEditorTimeout(e,function(){return c(m)})})})},jT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,WT=function(e){return jT.test(e)},Lm=function(e,r){return or(x.fromDom(r),Kf(e))},SA=function(e){return mo.DOM.getStyle(e,"direction",!0)==="rtl"||WT(e.textContent)},GM=function(e,r,a){return Xt(mo.DOM.getParents(a.container(),"*",r),e)},cp=function(e,r,a){var i=GM(e,r,a);return oe.from(i[i.length-1])},TA=function(e,r,a){var i=Al(r,e),c=Al(a,e);return i&&i===c},KM=function(e){return Qr(e)||Jg(e)},sl=function(e,r){if(!r)return r;var a=r.container(),i=r.offset();return e?lo(a)?zr(a.nextSibling)?vt(a.nextSibling,0):vt.after(a):Qr(r)?vt(a,i+1):r:lo(a)?zr(a.previousSibling)?vt(a.previousSibling,a.previousSibling.data.length):vt.before(a):Jg(r)?vt(a,i-1):r},EA=St(sl,!0),v1=St(sl,!1),zA=function(e){return function(r){return an(e,x.fromDom(r.dom.parentNode))}},AA=function(e){return ql(e)||Ou(e)},bf=function(e,r){return Ia(e,r)?Cp(r,AA,zA(e)):oe.none()},qT=function(e){var r=e.getBody(),a=r.firstChild&&e.dom.isBlock(r.firstChild)?r.firstChild:r;e.selection.setCursorLocation(a,0)},OA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),qT(e))},XM=function(e,r,a){return Lu(ju(a),Rc(a),function(i,c){var f=sl(!0,i),m=sl(!1,c),y=sl(!1,r);return e?rl(a,y).exists(function(w){return w.isEqual(m)&&r.isEqual(f)}):Dl(a,y).exists(function(w){return w.isEqual(f)&&r.isEqual(m)})}).getOr(!0)},YM=function(e,r){return{block:e,position:r}},p1=function(e,r){return{from:e,to:r}},GT=function(e,r){var a=x.fromDom(e),i=x.fromDom(r.container());return bf(a,i).map(function(c){return YM(c,r)})},ZM=function(e){return an(e.from.block,e.to.block)===!1},qu=function(e){return Vo(e.from.block).bind(function(r){return Vo(e.to.block).filter(function(a){return an(r,a)})}).isSome()},JM=function(e){return _o(e.from.block.dom)===!1&&_o(e.to.block.dom)===!1},RA=function(e,r,a){return eo(a.position.getNode())&&lu(a.block)===!1?Xf(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?zs(r,e,i).bind(function(c){return GT(e,c)}):oe.some(a)}).getOr(a):a},DA=function(e,r,a){var i=GT(e,vt.fromRangeStart(a)),c=i.bind(function(f){return zs(r,e,f.position).bind(function(m){return GT(e,m).map(function(y){return RA(e,r,y)})})});return Lu(i,c,p1).filter(function(f){return ZM(f)&&qu(f)&&JM(f)})},MA=function(e,r,a){return a.collapsed?DA(e,r,a):oe.none()},BA=function(e){var r=Iu(e);return Rr(r,oc).fold(X(r),function(a){return r.slice(0,a)})},uC=function(e){var r=BA(e);return je(r,Uo),r},NA=function(e,r){var a=jr(r,e);return rr(a.reverse(),function(i){return lu(i)}).each(Uo)},QM=function(e){return Xt(Aa(e),function(r){return!lu(r)}).length===0},eB=function(e,r,a,i){if(lu(a))return ep(a),ju(a.dom);QM(i)&&lu(r)&&uu(i,x.fromTag("br"));var c=Dl(a.dom,vt.before(i.dom));return je(uC(r),function(f){uu(i,f)}),NA(e,r),c},tB=function(e,r,a){if(lu(a))return Uo(a),lu(r)&&ep(r),ju(r.dom);var i=Rc(a.dom);return je(uC(r),function(c){Ti(a,c)}),NA(e,r),i},rB=function(e,r){var a=jr(r,e);return oe.from(a[a.length-1])},av=function(e,r){return Ia(r,e)?rB(r,e):oe.none()},PA=function(e,r){Xf(e,r.dom).map(function(a){return a.getNode()}).map(x.fromDom).filter(Tp).each(Uo)},FA=function(e,r,a){return PA(!0,r),PA(!1,a),av(r,a).fold(St(tB,e,r,a),St(eB,e,r,a))},IA=function(e,r,a,i){return r?FA(e,i,a):FA(e,a,i)},sC=function(e,r){var a=x.fromDom(e.getBody()),i=MA(a.dom,r,e.selection.getRng()).bind(function(c){return IA(a,r,c.from.block,c.to.block)});return i.each(function(c){e.selection.setRng(c.toRange())}),i.isSome()},nB=function(e,r){var a=r.getRng();return Lu(bf(e,x.fromDom(a.startContainer)),bf(e,x.fromDom(a.endContainer)),function(i,c){return an(i,c)===!1?(a.deleteContents(),IA(e,!0,i,c).each(function(f){r.setRng(f.toRange())}),!0):!1}).getOr(!1)},li=function(e,r){var a=x.fromDom(r),i=St(an,e);return gd(a,wl,i).isSome()},LA=function(e,r){return li(e,r.startContainer)||li(e,r.endContainer)},$A=function(e,r){var a=Dl(e.dom,vt.fromRangeStart(r)).isNone(),i=rl(e.dom,vt.fromRangeEnd(r)).isNone();return!LA(e,r)&&a&&i},od=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},HA=function(e){var r=x.fromDom(e.getBody()),a=e.selection.getRng();return $A(r,a)?od(e):nB(r,e.selection)},cC=function(e,r){return e.selection.isCollapsed()?!1:HA(e)},aB=qc,KT=_o,lp=function(e,r,a,i,c){return oe.from(r._selectionOverrides.showCaret(e,a,i,c))},m1=function(e){var r=e.ownerDocument.createRange();return r.selectNode(e),r},h1=function(e,r){var a=e.fire("BeforeObjectSelected",{target:r});return a.isDefaultPrevented()?oe.none():oe.some(m1(r))},XT=function(e,r,a){var i=Bu(1,e.getBody(),r),c=vt.fromRangeStart(i),f=c.getNode();if(am(f))return lp(1,e,f,!c.isAtEnd(),!1);var m=c.getNode(!0);if(am(m))return lp(1,e,m,!1,!1);var y=e.dom.getParent(c.getNode(),function(w){return KT(w)||aB(w)});return am(y)?lp(1,e,y,!1,a):oe.none()},lC=function(e,r,a){return r.collapsed?XT(e,r,a).getOr(r):r},YT=function(e){return Jd(e)||Om(e)},VA=function(e){return Qd(e)||Rm(e)},ZT=function(e,r){zr(r)&&r.data.length===0&&e.remove(r)},UA=function(e,r,a,i,c,f){return lp(i,e,f.getNode(!c),c,!0).each(function(m){if(r.collapsed){var y=r.cloneRange();c?y.setEnd(m.startContainer,m.startOffset):y.setStart(m.endContainer,m.endOffset),y.deleteContents()}else r.deleteContents();e.selection.setRng(m)}),ZT(e.dom,a),!0},oB=function(e,r){var a=e.selection.getRng();if(!zr(a.commonAncestorContainer))return!1;var i=r?hu.Forwards:hu.Backwards,c=Zo(e.getBody()),f=St(Z_,r?c.next:c.prev),m=r?YT:VA,y=lm(i,e.getBody(),a),w=sl(r,f(y));if(!w||!rb(y,w))return!1;if(m(w))return UA(e,a,y.getNode(),i,r,w);var R=f(w);return R&&m(R)&&rb(w,R)?UA(e,a,y.getNode(),i,r,R):!1},fC=function(e,r){return oB(e,r)},_f=function(e){return wl(x.fromDom(e))||Ou(x.fromDom(e))},cl=Kr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),iB=function(e,r){var a=r.getNode(e===!1),i=e?"after":"before";return hn(a)&&a.getAttribute("data-mce-caret")===i},uB=function(e,r,a,i){var c=function(f){return $u(x.fromDom(f))&&!Ol(a,i,e)};return cm(!r,a).fold(function(){return cm(r,i).fold(Wt,c)},c)},g1=function(e,r,a,i){var c=i.getNode(r===!1);return bf(x.fromDom(e),x.fromDom(a.getNode())).map(function(f){return lu(f)?cl.remove(f.dom):cl.moveToElement(c)}).orThunk(function(){return oe.some(cl.moveToElement(c))})},jA=function(e,r,a){return zs(r,e,a).bind(function(i){return _f(i.getNode())||uB(e,r,a,i)?oe.none():r&&_o(i.getNode())||r===!1&&_o(i.getNode(!0))?g1(e,r,a,i):r&&Qd(a)||r===!1&&Jd(a)?oe.some(cl.moveToPosition(i)):oe.none()})},WA=function(e,r){return e&&_o(r.nextSibling)?oe.some(cl.moveToElement(r.nextSibling)):e===!1&&_o(r.previousSibling)?oe.some(cl.moveToElement(r.previousSibling)):oe.none()},qA=function(e,r,a){return a.fold(function(i){return oe.some(cl.remove(i))},function(i){return oe.some(cl.moveToElement(i))},function(i){return Ol(r,i,e)?oe.none():oe.some(cl.moveToPosition(i))})},GA=function(e,r,a){return iB(r,a)?WA(r,a.getNode(r===!1)).fold(function(){return jA(e,r,a)},oe.some):jA(e,r,a).bind(function(i){return qA(e,a,i)})},sB=function(e,r,a){var i=Bu(r?1:-1,e,a),c=vt.fromRangeStart(i),f=x.fromDom(e);return r===!1&&Qd(c)?oe.some(cl.remove(c.getNode(!0))):r&&Jd(c)?oe.some(cl.remove(c.getNode())):r===!1&&Jd(c)&&Nn(f,c)?l3(f,c).map(function(m){return cl.remove(m.getNode())}):r&&Qd(c)&&Lb(f,c)?f3(f,c).map(function(m){return cl.remove(m.getNode())}):GA(e,r,c)},cB=function(e,r){return function(a){return e._selectionOverrides.hideFakeCaret(),Vt(e,r,x.fromDom(a)),!0}},$m=function(e,r){return function(a){var i=r?vt.before(a):vt.after(a);return e.selection.setRng(i.toRange()),!0}},lB=function(e){return function(r){return e.selection.setRng(r.toRange()),!0}},KA=function(e,r){return oe.from(jv(e.getBody(),r))},fB=function(e,r){var a=e.selection.getNode();return KA(e,a).filter(_o).fold(function(){return sB(e.getBody(),r,e.selection.getRng()).exists(function(i){return i.fold(cB(e,r),$m(e,r),lB(e))})},ur)},dB=function(e){je(pu(e,".mce-offscreen-selection"),Uo)},vB=function(e,r){var a=e.selection.getNode();if(_o(a)&&!bp(a)){var i=KA(e,a.parentNode).filter(_o);return i.fold(function(){return dB(x.fromDom(e.getBody())),Vt(e,r,x.fromDom(e.selection.getNode())),OA(e),!0},ur)}return!1},XA=function(e){var r=e.dom,a=e.selection,i=jv(e.getBody(),a.getNode());if(qc(i)&&r.isBlock(i)&&r.isEmpty(i)){var c=r.create("br",{"data-mce-bogus":"1"});r.setHTML(i,""),i.appendChild(c),a.setRng(vt.before(c).toRange())}return!0},dC=function(e,r){return e.selection.isCollapsed()?fB(e,r):vB(e,r)},pB=function(e,r){var a=vt.fromRangeStart(e.selection.getRng());return zs(r,e.getBody(),a).filter(function(i){return r?k8(i):n3(i)}).bind(function(i){return oe.from(Qy(r?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},vC=function(e,r){return e.selection.isCollapsed()?pB(e,r):!1},y1=zr,YA=function(e){return y1(e)&&e.data[0]===Pe},ZA=function(e){return y1(e)&&e.data[e.data.length-1]===Pe},b1=function(e){return e.ownerDocument.createTextNode(Pe)},mB=function(e){if(y1(e.previousSibling))return ZA(e.previousSibling)||e.previousSibling.appendData(Pe),e.previousSibling;if(y1(e))return YA(e)||e.insertData(0,Pe),e;var r=b1(e);return e.parentNode.insertBefore(r,e),r},JT=function(e){if(y1(e.nextSibling))return YA(e.nextSibling)||e.nextSibling.insertData(0,Pe),e.nextSibling;if(y1(e))return ZA(e)||e.appendData(Pe),e;var r=b1(e);return e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),r},pC=function(e,r){return e?mB(r):JT(r)},hB=St(pC,!0),gB=St(pC,!1),JA=function(e,r){return zr(e.container())?pC(r,e.container()):pC(r,e.getNode())},Hm=function(e,r){var a=r.get();return a&&e.container()===a&&lo(a)},fp=function(e,r){return r.fold(function(a){$d(e.get());var i=hB(a);return e.set(i),oe.some(vt(i,i.length-1))},function(a){return ju(a).map(function(i){if(Hm(i,e))return vt(e.get(),1);$d(e.get());var c=JA(i,!0);return e.set(c),vt(c,1)})},function(a){return Rc(a).map(function(i){if(Hm(i,e))return vt(e.get(),e.get().length-1);$d(e.get());var c=JA(i,!1);return e.set(c),vt(c,c.length-1)})},function(a){$d(e.get());var i=gB(a);return e.set(i),oe.some(vt(i,1))})},ww=function(e,r){for(var a=0;a<e.length;a++){var i=e[a].apply(null,r);if(i.isSome())return i}return oe.none()},Gu=Kr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Vm=function(e,r){var a=Al(r,e);return a||e},Eg=function(e,r,a){var i=EA(a),c=Vm(r,i.container());return cp(e,c,i).fold(function(){return rl(c,i).bind(St(cp,e,c)).map(function(f){return Gu.before(f)})},oe.none)},mC=function(e,r){return Lv(e,r)===null},kw=function(e,r,a){return cp(e,r,a).filter(St(mC,r))},QA=function(e,r,a){var i=v1(a);return kw(e,r,i).bind(function(c){var f=Dl(c,i);return f.isNone()?oe.some(Gu.start(c)):oe.none()})},QT=function(e,r,a){var i=EA(a);return kw(e,r,i).bind(function(c){var f=rl(c,i);return f.isNone()?oe.some(Gu.end(c)):oe.none()})},eE=function(e,r,a){var i=v1(a),c=Vm(r,i.container());return cp(e,c,i).fold(function(){return Dl(c,i).bind(St(cp,e,c)).map(function(f){return Gu.after(f)})},oe.none)},tE=function(e){return SA(Um(e))===!1},id=function(e,r,a){var i=ww([Eg,QA,QT,eE],[e,r,a]);return i.filter(tE)},Um=function(e){return e.fold(Lt,Lt,Lt,Lt)},rE=function(e){return e.fold(X("before"),X("start"),X("end"),X("after"))},Cw=function(e){return e.fold(Gu.before,Gu.before,Gu.after,Gu.after)},hC=function(e){return e.fold(Gu.start,Gu.start,Gu.end,Gu.end)},gC=function(e,r){return rE(e)===rE(r)&&Um(e)===Um(r)},eO=function(e,r,a,i,c,f){return Lu(cp(r,a,i),cp(r,a,c),function(m,y){return m!==y&&TA(a,m,y)?Gu.after(e?m:y):f}).getOr(f)},tO=function(e,r){return e.fold(ur,function(a){return!gC(a,r)})},rO=function(e,r,a,i,c){var f=sl(e,c),m=zs(e,a,f).map(St(sl,e)),y=m.fold(function(){return i.map(Cw)},function(w){return id(r,a,w).map(St(eO,e,r,a,f,w)).filter(St(tO,i))});return y.filter(tE)},nO=function(e,r){return e?r.fold(xe(oe.some,Gu.start),oe.none,xe(oe.some,Gu.after),oe.none):r.fold(oe.none,xe(oe.some,Gu.before),oe.none,xe(oe.some,Gu.end))},ud=function(e,r,a,i){var c=sl(e,i),f=id(r,a,c);return id(r,a,c).bind(St(nO,e)).orThunk(function(){return rO(e,r,a,f,i)})};St(ud,!1),St(ud,!0);var aO=function(e){return ce(e.selection.getSel().modify)},nE=function(e,r,a){var i=e?1:-1;return r.setRng(vt(a.container(),a.offset()+i).toRange()),r.getSel().modify("move",e?"forward":"backward","word"),!0},jm=function(e,r){var a=r.selection.getRng(),i=e?vt.fromRangeEnd(a):vt.fromRangeStart(a);return aO(r)?e&&Qr(i)?nE(!0,r.selection,i):!e&&Jg(i)?nE(!1,r.selection,i):!1:!1},Nu;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Nu||(Nu={}));var yC=function(e,r){return e===hu.Backwards?Yn(r):r},yB=function(e,r,a){return e===hu.Forwards?r.next(a):r.prev(a)},bB=function(e,r,a,i){return eo(i.getNode(r===hu.Forwards))?Nu.Br:Ol(a,i)===!1?Nu.Block:Nu.Wrap},oO=function(e,r,a,i){for(var c=Zo(a),f=i,m=[];f;){var y=yB(r,c,f);if(!y)break;if(eo(y.getNode(!1)))return r===hu.Forwards?{positions:yC(r,m).concat([y]),breakType:Nu.Br,breakAt:oe.some(y)}:{positions:yC(r,m),breakType:Nu.Br,breakAt:oe.some(y)};if(!y.isVisible()){f=y;continue}if(e(f,y)){var w=bB(a,r,f,y);return{positions:yC(r,m),breakType:w,breakAt:oe.some(y)}}m.push(y),f=y}return{positions:yC(r,m),breakType:Nu.Eol,breakAt:oe.none()}},iO=function(e,r,a,i){return r(a,i).breakAt.map(function(c){var f=r(a,c).positions;return e===hu.Backwards?f.concat(c):[c].concat(f)}).getOr([])},aE=function(e,r){return it(e,function(a,i){return a.fold(function(){return oe.some(i)},function(c){return Lu(ga(c.getClientRects()),ga(i.getClientRects()),function(f,m){var y=Math.abs(r-f.left),w=Math.abs(r-m.left);return w<=y?i:c}).or(a)})},oe.none())},uO=function(e,r){return ga(r.getClientRects()).bind(function(a){return aE(e,a.left)})},xw=St(oO,vt.isAbove,-1),Sw=St(oO,vt.isBelow,1),_B=St(iO,-1,xw),wB=St(iO,1,Sw),kB=function(e,r){return xw(e,r).breakAt.isNone()},oE=function(e,r){return Sw(e,r).breakAt.isNone()},iE=function(e){return ju(e).map(function(r){return[r].concat(Sw(e,r).positions)}).getOr([])},sO=function(e){return Rc(e).map(function(r){return xw(e,r).positions.concat(r)}).getOr([])},CB=function(e){var r=function(i){return Ne(i,function(c){var f=Pd(c);return f.node=e,f})};if(hn(e))return r(e.getClientRects());if(zr(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),r(a.getClientRects())}},uE=function(e){return wn(e,CB)},Wm;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Wm||(Wm={}));var cO=function(e,r,a,i){for(;i=Vd(i,e,gi,r);)if(a(i))return},bC=function(e,r,a,i,c,f){var m=0,y=[],w=function(V){var j=uE([V]);e===-1&&(j=j.reverse());for(var re=0;re<j.length;re++){var ae=j[re];if(!a(ae,R)){if(y.length>0&&r(ae,oi(y))&&m++,ae.line=m,c(ae))return!0;y.push(ae)}}},R=oi(f.getClientRects());if(!R)return y;var $=f.getNode();return w($),cO(e,i,w,$),y},lO=function(e,r){return r.line>e},fO=function(e,r){return r.line===e},sE=St(bC,Wm.Up,jp,Wp),xB=St(bC,Wm.Down,Wp,jp),SB=function(e,r,a,i){var c=Zo(r),f,m,y,w,R=[],$=0,V=function(ie){return oi(ie.getClientRects())};e===1?(f=c.next,m=Wp,y=jp,w=vt.after(i)):(f=c.prev,m=jp,y=Wp,w=vt.before(i));var j=V(w);do if(w.isVisible()){var re=V(w);if(!y(re,j)){R.length>0&&m(re,oi(R))&&$++;var ae=Pd(re);if(ae.position=w,ae.line=$,a(ae))return R;R.push(ae)}}while(w=f(w));return R},sd=function(e){return function(r){return lO(e,r)}},ll=function(e){return function(r){return fO(e,r)}},_C=_o,cE=Vd,_1=function(e,r){return Math.abs(e.left-r)},wC=function(e,r){return Math.abs(e.right-r)},lE=function(e,r){return e>=r.left&&e<=r.right},dO=function(e,r){return e>=r.top&&e<=r.bottom},vO=function(e){return xo(e,"node")},Tw=function(e,r,a){return a===void 0&&(a=ur),Gi(e,function(i,c){if(lE(r,c))return a(c)?c:i;if(lE(r,i))return a(i)?i:c;var f=Math.min(_1(i,r),wC(i,r)),m=Math.min(_1(c,r),wC(c,r));return m===f&&vO(c)&&_C(c.node)||m<f?c:i})},fE=function(e,r,a,i,c){var f=cE(i,e,gi,r,!c);do if(!f||a(f))return;while(f=cE(f,e,gi,r))},kC=function(e,r,a){a===void 0&&(a=!0);var i=[],c=function(f,m){var y=Xt(uE([m]),function(w){return!f(w,r)});return i=i.concat(y),y.length===0};return i.push(r),fE(Wm.Up,e,St(c,jp),r.node,a),fE(Wm.Down,e,St(c,Wp),r.node,a),i},CC=function(e){return Xt(kn(e.getElementsByTagName("*")),Pv)},dE=function(e,r){return{node:e.node,before:_1(e,r)<wC(e,r)}},TB=function(e,r,a){var i=uE(CC(e)),c=Xt(i,St(dO,a)),f=function(w){return!si(w.node)&&!_s(w.node)},m=Tw(c,r,f);if(m){var y=f(m);if(m=Tw(kC(e,m,y),r,f),m&&Pv(m.node))return dE(m,r)}return null},dp=function(e,r){e.selection.setRng(r),Jh(e,e.selection.getRng())},vE=function(e,r,a){return oe.some(lC(e,r,a))},pO=function(e,r,a,i,c,f){var m=r===hu.Forwards,y=Zo(e.getBody()),w=St(Z_,m?y.next:y.prev),R=m?i:c;if(!a.collapsed){var $=Ov(a);if(f($))return lp(r,e,$,r===hu.Backwards,!1)}var V=lm(r,e.getBody(),a);if(R(V))return h1(e,V.getNode(!m));var j=sl(m,w(V)),re=Gl(a);if(!j)return re?oe.some(a):oe.none();if(R(j))return lp(r,e,j.getNode(!m),m,!1);var ae=w(j);return ae&&R(ae)&&rb(j,ae)?lp(r,e,ae.getNode(!m),m,!1):re?vE(e,j.toRange(),!1):oe.none()},pE=function(e,r,a,i,c,f){var m=lm(r,e.getBody(),a),y=oi(m.getClientRects()),w=r===Wm.Down;if(!y)return oe.none();var R=w?xB:sE,$=R(e.getBody(),sd(1),m),V=Xt($,ll(1)),j=y.left,re=Tw(V,j);if(re&&f(re.node)){var ae=Math.abs(j-re.left),ie=Math.abs(j-re.right);return lp(r,e,re.node,ae<ie,!1)}var ue;if(i(m)?ue=m.getNode():c(m)?ue=m.getNode(!0):ue=Ov(a),ue){var _e=SB(r,e.getBody(),sd(1),ue),he=Tw(Xt(_e,ll(1)),j);if(he||(he=oi(Xt(_e,ll(0))),he))return vE(e,he.position.toRange(),!1)}return V.length===0?mE(e,w).filter(w?c:i).map(function(Xe){return lC(e,Xe.toRange(),!1)}):oe.none()},mE=function(e,r){var a=e.selection.getRng(),i=e.getBody();if(r){var c=vt.fromRangeEnd(a),f=Sw(i,c);return Rn(f.positions)}else{var c=vt.fromRangeStart(a),f=xw(i,c);return ga(f.positions)}},mO=function(e,r,a){return mE(e,r).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},w1=function(e,r){var a=e.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),e.selection.setRng(a)},hO=function(e,r){e?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},gO=function(e,r,a){return fp(r,a).map(function(i){return w1(e,i),a})},EB=function(e,r,a){var i=e.getBody(),c=vt.fromRangeStart(e.selection.getRng()),f=St(Lm,e),m=ud(a,f,i,c);return m.bind(function(y){return gO(e,r,y)})},zB=function(e,r,a){var i=Ne(pu(x.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(m){return m.dom}),c=Xt(i,e),f=Xt(a,e);je(Ta(c,f),St(hO,!1)),je(Ta(f,c),St(hO,!0))},AB=function(e,r){if(e.selection.isCollapsed()&&e.composing!==!0&&r.get()){var a=vt.fromRangeStart(e.selection.getRng());vt.isTextPosition(a)&&KM(a)===!1&&(w1(e,jk(r.get(),a)),r.set(null))}},OB=function(e,r,a,i){if(r.selection.isCollapsed()){var c=Xt(i,e);je(c,function(f){var m=vt.fromRangeStart(r.selection.getRng());id(e,r.getBody(),m).bind(function(y){return gO(r,a,y)})})}},yO=function(e,r,a){return Lh(e)?EB(e,r,a).isSome():!1},Ew=function(e,r,a){return Lh(r)?jm(e,r):!1},xC=function(e){var r=os(null),a=St(Lm,e);return e.on("NodeChange",function(i){Lh(e)&&!(Zt.browser.isIE()&&i.initial)&&(zB(a,e.dom,i.parents),AB(e,r),OB(a,e,r,i.parents))}),r},hE=St(Ew,!0),RB=St(Ew,!1),SC=function(e,r,a){if(Lh(e)){var i=mE(e,r).getOrThunk(function(){var c=e.selection.getRng();return r?vt.fromRangeEnd(c):vt.fromRangeStart(c)});return id(St(Lm,e),e.getBody(),i).exists(function(c){var f=Cw(c);return fp(a,f).exists(function(m){return w1(e,m),!0})})}else return!1},DB=function(e,r){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(r.container(),r.offset()),a},MB=function(e){return Lu(ju(e),Rc(e),function(r,a){var i=sl(!0,r),c=sl(!1,a);return rl(e,i).forall(function(f){return f.isEqual(c)})}).getOr(!0)},gE=function(e,r){return function(a){return fp(r,a).exists(function(i){return w1(e,i),!0})}},bO=function(e,r,a,i){var c=e.getBody(),f=St(Lm,e);e.undoManager.ignore(function(){e.selection.setRng(DB(a,i)),e.execCommand("Delete"),id(f,c,vt.fromRangeStart(e.selection.getRng())).map(hC).map(gE(e,r))}),e.nodeChanged()},BB=function(e,r){var a=Al(r,e);return a||e},yE=function(e,r,a,i){var c=BB(e.getBody(),i.container()),f=St(Lm,e),m=id(f,c,i);return m.bind(function(y){return a?y.fold(X(oe.some(hC(y))),oe.none,X(oe.some(Cw(y))),oe.none):y.fold(oe.none,X(oe.some(Cw(y))),oe.none,X(oe.some(hC(y))))}).map(gE(e,r)).getOrThunk(function(){var y=Rl(a,c,i),w=y.bind(function(R){return id(f,c,R)});return Lu(m,w,function(){return cp(f,c,i).exists(function(R){return MB(R)?(Vt(e,a,x.fromDom(R)),!0):!1})}).orThunk(function(){return w.bind(function(R){return y.map(function($){return a?bO(e,r,i,$):bO(e,r,$,i),!0})})}).getOr(!1)})},TC=function(e,r,a){if(e.selection.isCollapsed()&&Lh(e)){var i=vt.fromRangeStart(e.selection.getRng());return yE(e,r,a,i)}return!1},NB=function(e,r){var a=jr(r,e);return Rr(a,oc).fold(X(a),function(i){return a.slice(0,i)})},PB=function(e){return qg(e)===1},FB=function(e,r,a,i){var c=St(Lz,r),f=Ne(Xt(i,c),function(y){return y.dom});if(f.length===0)Vt(r,e,a);else{var m=C6(a.dom,f);r.selection.setRng(m.toRange())}},IB=function(e,r){var a=x.fromDom(e.getBody()),i=x.fromDom(e.selection.getStart()),c=Xt(NB(a,i),PB);return Rn(c).exists(function(f){var m=vt.fromRangeStart(e.selection.getRng());return XM(r,m,f.dom)&&!$z(f)?(FB(r,e,f,c),!0):!1})},EC=function(e,r){return e.selection.isCollapsed()?IB(e,r):!1},bE=function(e,r,a){return e._selectionOverrides.hideFakeCaret(),Vt(e,r,x.fromDom(a)),!0},zC=function(e,r){var a=r?Om:Rm,i=r?hu.Forwards:hu.Backwards,c=lm(i,e.getBody(),e.selection.getRng());return a(c)?bE(e,r,c.getNode(!r)):oe.from(sl(r,c)).filter(function(f){return a(f)&&rb(c,f)}).exists(function(f){return bE(e,r,f.getNode(!r))})},AC=function(e,r){var a=e.selection.getNode();return _s(a)?bE(e,r,a):!1},OC=function(e,r){return e.selection.isCollapsed()?zC(e,r):AC(e,r)},LB=function(e){return Cp(e,function(r){return qc(r.dom)||_o(r.dom)}).exists(function(r){return qc(r.dom)})},k1=function(e){var r=parseInt(e,10);return isNaN(r)?0:r},_O=function(e,r){var a=e||xx(r)?"margin":"padding",i=Un(r,"direction")==="rtl"?"-right":"-left";return a+i},$B=function(e,r,a,i,c,f){var m=_O(a,x.fromDom(f));if(r==="outdent"){var y=Math.max(0,k1(f.style[m])-i);e.setStyle(f,m,y?y+c:"")}else{var y=k1(f.style[m])+i+c;e.setStyle(f,m,y)}},HB=function(e,r){return Gn(r,function(a){var i=_O(Rk(e),a),c=cu(a,i).map(k1).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&c>0})},wO=function(e){var r=CO(e);return!e.mode.isReadOnly()&&(r.length>1||HB(e,r))},kO=function(e){return Xc(e)||Ou(e)},VB=function(e){return Vo(e).exists(kO)},CO=function(e){return Xt(Hi(e.selection.getSelectedBlocks()),function(r){return!kO(r)&&!VB(r)&&LB(r)})},xO=function(e,r){var a=e.dom,i=e.selection,c=e.formatter,f=I_(e),m=/[a-z%]+$/i.exec(f)[0],y=parseInt(f,10),w=Rk(e),R=mu(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&R===""&&!a.getParent(i.getNode(),a.isBlock)&&c.apply("div"),je(CO(e),function($){$B(a,r,w,y,m,$.dom)})},SO=function(e,r){if(e.selection.isCollapsed()&&wO(e)){var a=e.dom,i=e.selection.getRng(),c=vt.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&Ib(x.fromDom(f),c))return xO(e,"outdent"),!0}return!1},TO=function(e,r){e.getDoc().execCommand(r,!1,null)},UB=function(e,r){if(!SO(e)){if(dC(e,!1))return;if(fC(e,!1))return;if(TC(e,r,!1))return;if(sC(e,!1))return;if(yg(e))return;if(vC(e,!1))return;if(OC(e,!1))return;if(cC(e))return;if(EC(e,!1))return;TO(e,"Delete"),OA(e)}},jB=function(e,r){if(!dC(e,!0)){if(fC(e,!0))return;if(TC(e,r,!0))return;if(sC(e,!0))return;if(yg(e))return;if(vC(e,!0))return;if(OC(e,!0))return;if(cC(e))return;if(EC(e,!0))return;TO(e,"ForwardDelete")}},wf=function(e,r){e.addCommand("delete",function(){UB(e,r)}),e.addCommand("forwardDelete",function(){jB(e,r)})},RC=5,EO=400,_E=function(e){return e.touches===void 0||e.touches.length!==1?oe.none():oe.some(e.touches[0])},WB=function(e,r){var a=Math.abs(e.clientX-r.x),i=Math.abs(e.clientY-r.y);return a>RC||i>RC},zO=function(e){var r=Nd(),a=os(!1),i=$i(function(c){e.fire("longpress",Lr(Lr({},c),{type:"longpress"})),a.set(!0)},EO);e.on("touchstart",function(c){_E(c).each(function(f){i.cancel();var m={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),a.set(!1),r.set(m)})},!0),e.on("touchmove",function(c){i.cancel(),_E(c).each(function(f){r.on(function(m){WB(f,m)&&(r.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(c){i.cancel(),c.type!=="touchcancel"&&r.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){a.get()?c.preventDefault():e.fire("tap",Lr(Lr({},c),{type:"tap"}))})},!0)},wE=function(e,r){return Sn(e,r.nodeName)},AO=function(e,r){return zr(r)?!0:hn(r)?!wE(e,r)&&!As(r):!1},qB=function(e,r,a){return be(u3(x.fromDom(a),x.fromDom(r)),function(i){return wE(e,i.dom)})},GB=function(e,r){if(zr(r)){if(r.nodeValue.length===0)return!0;if(/^\s+$/.test(r.nodeValue)&&(!r.nextSibling||wE(e,r.nextSibling)))return!0}return!1},KB=function(e){var r=e.dom,a=e.selection,i=e.schema,c=i.getBlockElements(),f=a.getStart(),m=e.getBody(),y,w,R,$=mu(e);if(!(!f||!hn(f)||!$)){var V=m.nodeName.toLowerCase();if(!(!i.isValidChild(V,$.toLowerCase())||qB(c,m,f))){var j=a.getRng(),re=j.startContainer,ae=j.startOffset,ie=j.endContainer,ue=j.endOffset,_e=Bc(e);for(f=m.firstChild;f;)if(AO(c,f)){if(GB(c,f)){w=f,f=f.nextSibling,r.remove(w);continue}y||(y=r.create($,Yp(e)),f.parentNode.insertBefore(y,f),R=!0),w=f,f=f.nextSibling,y.appendChild(w)}else y=null,f=f.nextSibling;R&&_e&&(j.setStart(re,ae),j.setEnd(ie,ue),a.setRng(j),e.nodeChanged())}}},C1=function(e){mu(e)&&e.on("NodeChange",St(KB,e))},OO=function(e){return xp(x.fromDom(e.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull()},RO=function(e){e.selection.setRng(e.selection.getRng())},kE=function(e,r){r.hasAttribute("data-mce-caret")&&(U1(r),RO(e),e.selection.scrollIntoView(r))},CE=function(e,r){var a=OO(e);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),kE(e,a);return}If(a)&&(kE(e,a),e.undoManager.add())}},XB=function(e){e.on("keyup compositionstart",St(CE,e))},DO=_o,YB=function(e,r,a){return pO(r,e,a,Jd,Qd,DO)},ZB=function(e,r,a){var i=function(f){return Jd(f)||a3(f)},c=function(f){return Qd(f)||o3(f)};return pE(r,e,a,i,c,DO)},JB=function(e){var r=e.dom.create(mu(e));return(!Zt.ie||Zt.ie>=11)&&(r.innerHTML='<br data-mce-bogus="1">'),r},MO=function(e,r,a){var i=Zo(e.getBody()),c=St(Z_,r===1?i.next:i.prev);if(a.collapsed&&pS(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var m=c(vt.fromRangeStart(a));if(!m){var y=JB(e);r===1?e.$(f).after(y):e.$(f).before(y),e.selection.select(y,!0),e.selection.collapse()}}},cd=function(e,r){var a=r?hu.Forwards:hu.Backwards,i=e.selection.getRng();return YB(a,e,i).orThunk(function(){return MO(e,a,i),oe.none()})},QB=function(e,r){var a=r?1:-1,i=e.selection.getRng();return ZB(a,e,i).orThunk(function(){return MO(e,a,i),oe.none()})},BO=function(e,r){return cd(e,r).exists(function(a){return dp(e,a),!0})},NO=function(e,r){return QB(e,r).exists(function(a){return dp(e,a),!0})},PO=function(e,r){var a=r?Qd:Jd;return mO(e,r,a)},eN=function(e){return qe(["figcaption"],za(e))},FO=function(e){var r=document.createRange();return r.setStartBefore(e.dom),r.setEndBefore(e.dom),r},IO=function(e,r,a){a?Ti(e,r):Sc(e,r)},qm=function(e,r){var a=x.fromTag("br");return IO(e,a,r),FO(a)},tN=function(e,r,a,i){var c=x.fromTag(a),f=x.fromTag("br");return H(c,i),Ti(c,f),IO(e,c,r),FO(f)},rN=function(e,r,a,i){return r===""?qm(e,i):tN(e,i,r,a)},LO=function(e,r){var a=St(an,r);return Cp(x.fromDom(e.container()),oc,a).filter(eN)},xE=function(e,r,a){return r?oE(e.dom,a):kB(e.dom,a)},nN=function(e,r){var a=x.fromDom(e.getBody()),i=vt.fromRangeStart(e.selection.getRng()),c=mu(e),f=Yp(e);return LO(i,a).exists(function(){if(xE(a,r,i)){var m=rN(a,c,f,r);return e.selection.setRng(m),!0}else return!1})},$O=function(e,r){return e.selection.isCollapsed()?nN(e,r):!1},aN=function(e){return Ne(e,function(r){return Lr({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:U},r)})},zg=function(e,r){return r.keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey},oN=function(e,r){return wn(aN(e),function(a){return zg(a,r)?[a]:[]})},wa=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){return e.apply(null,r)}},x1=function(e,r){return rr(oN(e,r),function(a){return a.action()})},HO=function(e,r){var a=r?hu.Forwards:hu.Backwards,i=e.selection.getRng();return pO(e,a,i,Om,Rm,_s).exists(function(c){return dp(e,c),!0})},DC=function(e,r){var a=r?1:-1,i=e.selection.getRng();return pE(e,a,i,Om,Rm,_s).exists(function(c){return dp(e,c),!0})},MC=function(e,r){var a=r?Rm:Om;return mO(e,r,a)},VO=function(e,r){return{left:e.left-r,top:e.top-r,right:e.right+r*2,bottom:e.bottom+r*2,width:e.width+r,height:e.height+r}},UO=function(e,r){return wn(r,function(a){var i=VO(Pd(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},jO=function(e,r,a){return it(e,function(i,c){return i.fold(function(){return oe.some(c)},function(f){var m=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a)),y=Math.sqrt(Math.abs(c.x-r)+Math.abs(c.y-a));return oe.some(y<m?c:f)})},oe.none())},WO=function(e,r,a,i,c){var f=pu(x.fromDom(a),"td,th,caption").map(function(y){return y.dom}),m=Xt(UO(e,f),function(y){return r(y,c)});return jO(m,i,c).map(function(y){return y.cell})},zw=function(e){return e.bottom},iN=function(e){return e.top},uN=function(e,r){return e.y<r},sN=function(e,r){return e.y>r},S1=St(WO,zw,uN),cN=St(WO,iN,sN),vp=function(e,r){return ga(r.getClientRects()).bind(function(a){return S1(e,a.left,a.top)}).bind(function(a){return uO(sO(a),r)})},lN=function(e,r){return Rn(r.getClientRects()).bind(function(a){return cN(e,a.left,a.top)}).bind(function(a){return uO(iE(a),r)})},SE=function(e,r,a){return a.breakAt.exists(function(i){return e(r,i).breakAt.isSome()})},TE=function(e){return e.breakType===Nu.Wrap&&e.positions.length===0},fN=function(e){return e.breakType===Nu.Br&&e.positions.length===1},qO=function(e,r,a){var i=e(r,a);return TE(i)||!eo(a.getNode())&&fN(i)?!SE(e,r,i):i.breakAt.isNone()},dN=St(qO,xw),GO=St(qO,Sw),vN=function(e,r,a){var i=vt.fromRangeStart(r);return Xf(!e,a).exists(function(c){return c.isEqual(i)})},pN=function(e,r,a,i){var c=e.selection.getRng(),f=r?1:-1;return K_()&&vN(r,c,a)?(lp(f,e,a,!r,!1).each(function(m){dp(e,m)}),!0):!1},mN=function(e,r,a){return vp(r,a).orThunk(function(){return ga(a.getClientRects()).bind(function(i){return aE(_B(e,vt.before(r)),i.left)})}).getOr(vt.before(r))},hN=function(e,r,a){return lN(r,a).orThunk(function(){return ga(a.getClientRects()).bind(function(i){return aE(wB(e,vt.after(r)),i.left)})}).getOr(vt.after(r))},EE=function(e,r){var a=r.getNode(e);return hn(a)&&a.nodeName==="TABLE"?oe.some(a):oe.none()},gN=function(e,r,a,i){var c=mu(r);c?r.undoManager.transact(function(){var f=x.fromTag(c);H(f,Yp(r)),Ti(f,x.fromTag("br")),e?hd(x.fromDom(a),f):uu(x.fromDom(a),f);var m=r.dom.createRng();m.setStart(f.dom,0),m.setEnd(f.dom,0),dp(r,m)}):dp(r,i.toRange())},Gm=function(e,r,a){var i=EE(!!r,a),c=r===!1;i.fold(function(){return dp(e,a.toRange())},function(f){return Xf(c,e.getBody()).filter(function(m){return m.isEqual(a)}).fold(function(){return dp(e,a.toRange())},function(m){return gN(r,e,f,a)})})},yN=function(e,r,a,i){var c=e.selection.getRng(),f=vt.fromRangeStart(c),m=e.getBody();if(!r&&dN(i,f)){var y=mN(m,a,f);return Gm(e,r,y),!0}else if(r&&GO(i,f)){var y=hN(m,a,f);return Gm(e,r,y),!0}else return!1},T1=function(e,r,a){return oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return oe.from(e.dom.getParent(i,"table")).map(function(c){return a(e,r,c,i)})}).getOr(!1)},zE=function(e,r){return T1(e,r,pN)},BC=function(e,r){return T1(e,r,yN)},AE=function(e,r,a){var i=br().os;x1([{keyCode:on.RIGHT,action:wa(BO,e,!0)},{keyCode:on.LEFT,action:wa(BO,e,!1)},{keyCode:on.UP,action:wa(NO,e,!1)},{keyCode:on.DOWN,action:wa(NO,e,!0)},{keyCode:on.RIGHT,action:wa(zE,e,!0)},{keyCode:on.LEFT,action:wa(zE,e,!1)},{keyCode:on.UP,action:wa(BC,e,!1)},{keyCode:on.DOWN,action:wa(BC,e,!0)},{keyCode:on.RIGHT,action:wa(HO,e,!0)},{keyCode:on.LEFT,action:wa(HO,e,!1)},{keyCode:on.UP,action:wa(DC,e,!1)},{keyCode:on.DOWN,action:wa(DC,e,!0)},{keyCode:on.RIGHT,action:wa(yO,e,r,!0)},{keyCode:on.LEFT,action:wa(yO,e,r,!1)},{keyCode:on.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:wa(hE,e,r)},{keyCode:on.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:wa(RB,e,r)},{keyCode:on.UP,action:wa($O,e,!1)},{keyCode:on.DOWN,action:wa($O,e,!0)}],a).each(function(c){a.preventDefault()})},bN=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&AE(e,r,a)})},_N=function(e,r,a){x1([{keyCode:on.BACKSPACE,action:wa(SO,e,!1)},{keyCode:on.BACKSPACE,action:wa(dC,e,!1)},{keyCode:on.DELETE,action:wa(dC,e,!0)},{keyCode:on.BACKSPACE,action:wa(fC,e,!1)},{keyCode:on.DELETE,action:wa(fC,e,!0)},{keyCode:on.BACKSPACE,action:wa(TC,e,r,!1)},{keyCode:on.DELETE,action:wa(TC,e,r,!0)},{keyCode:on.BACKSPACE,action:wa(yg,e,!1)},{keyCode:on.DELETE,action:wa(yg,e,!0)},{keyCode:on.BACKSPACE,action:wa(vC,e,!1)},{keyCode:on.DELETE,action:wa(vC,e,!0)},{keyCode:on.BACKSPACE,action:wa(OC,e,!1)},{keyCode:on.DELETE,action:wa(OC,e,!0)},{keyCode:on.BACKSPACE,action:wa(cC,e,!1)},{keyCode:on.DELETE,action:wa(cC,e,!0)},{keyCode:on.BACKSPACE,action:wa(sC,e,!1)},{keyCode:on.DELETE,action:wa(sC,e,!0)},{keyCode:on.BACKSPACE,action:wa(EC,e,!1)},{keyCode:on.DELETE,action:wa(EC,e,!0)}],a).each(function(i){a.preventDefault()})},wN=function(e,r){x1([{keyCode:on.BACKSPACE,action:wa(XA,e)},{keyCode:on.DELETE,action:wa(XA,e)}],r)},OE=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&_N(e,r,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&wN(e,a)})},kN=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Aw=function(e,r){var a,i=r,c=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){var m=kN(r.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&r.insertBefore(c.doc.createTextNode(Vs),r.firstChild)}var y=c.createRng();if(r.normalize(),r.hasChildNodes()){for(var w=new Ua(r,r);a=w.current();){if(zr(a)){y.setStart(a,0),y.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){y.setStartBefore(a),y.setEndBefore(a);break}i=a,a=w.next()}a||(y.setStart(i,0),y.setEnd(i,0))}else eo(r)?r.nextSibling&&c.isBlock(r.nextSibling)?(y.setStartBefore(r),y.setEndBefore(r)):(y.setStartAfter(r),y.setEndAfter(r)):(y.setStart(r,0),y.setEnd(r,0));e.selection.setRng(y),Jh(e,y)}},CN=function(e,r){var a=e.getRoot(),i,c;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},RE=function(e){return oe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},KO=function(e){return RE(e).fold(X(""),function(r){return r.nodeName.toUpperCase()})},xN=function(e){return RE(e).filter(function(r){return Ou(x.fromDom(r))}).isSome()},SN=function(e,r){return e.firstChild&&e.firstChild.nodeName===r},TN=function(e){var r;return((r=e.parentNode)===null||r===void 0?void 0:r.firstChild)===e},XO=function(e,r){return e&&e.parentNode&&e.parentNode.nodeName===r},YO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},EN=function(e){return YO(e)&&YO(e.parentNode)},NC=function(e){var r=e.parentNode;return/^(LI|DT|DD)$/.test(r.nodeName)?r:e},PC=function(e,r,a){for(var i=e[a?"firstChild":"lastChild"];i&&!hn(i);)i=i[a?"nextSibling":"previousSibling"];return i===r},ZO=function(e,r,a,i,c){var f=e.dom,m=e.selection.getRng();if(a!==e.getBody()){EN(a)&&(c="LI");var y=c?r(c):f.create("BR");if(PC(a,i,!0)&&PC(a,i,!1))if(XO(a,"LI")){var w=NC(a);f.insertAfter(y,w),TN(a)?f.remove(w):f.remove(a)}else f.replace(y,a);else if(PC(a,i,!0))XO(a,"LI")?(f.insertAfter(y,NC(a)),y.appendChild(f.doc.createTextNode(" ")),y.appendChild(a)):a.parentNode.insertBefore(y,a),f.remove(i);else if(PC(a,i,!1))f.insertAfter(y,NC(a)),f.remove(i);else{a=NC(a);var R=m.cloneRange();R.setStartAfter(i),R.setEndAfter(a);var $=R.extractContents();c==="LI"&&SN($,"LI")?(y=$.firstChild,f.insertAfter($,a)):(f.insertAfter($,a),f.insertAfter(y,a)),f.remove(i)}Aw(e,y)}},zN=function(e){je(Up(x.fromDom(e),No),function(r){var a=r.dom;a.nodeValue=Cs(a.nodeValue)})},JO=function(e,r){return r&&r.nodeName==="A"&&e.isEmpty(r)},AN=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},DE=function(e){e.innerHTML='<br data-mce-bogus="1">'},ME=function(e,r){return e.nodeName===r||e.previousSibling&&e.previousSibling.nodeName===r},QO=function(e,r){return r&&e.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&e.getContentEditable(r)!=="true"},ON=function(e,r,a){var i=a,c=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;hn(i)&&!r[i.nodeName.toLowerCase()]&&c.push(i)}for(f=c.length;f--;)i=c[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||JO(e,i))&&e.remove(i)}},BE=function(e,r,a){return zr(r)===!1?a:e?a===1&&r.data.charAt(a-1)===Pe?0:a:a===r.data.length-1&&r.data.charAt(a)===Pe?r.data.length:a},RN=function(e){var r=e.cloneRange();return r.setStart(e.startContainer,BE(!0,e.startContainer,e.startOffset)),r.setEnd(e.endContainer,BE(!1,e.endContainer,e.endOffset)),r},DN=function(e){do zr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},eR=function(e,r){var a=e.getRoot(),i,c;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},MN=function(e,r,a){var i=e.dom;oe.from(a.style).map(i.parseStyle).each(function(w){var R=jo(x.fromDom(r)),$=Lr(Lr({},R),w);i.setStyles(r,$)});var c=oe.from(a.class).map(function(w){return w.split(/\s+/)}),f=oe.from(r.className).map(function(w){return Xt(w.split(/\s+/),function(R){return R!==""})});Lu(c,f,function(w,R){var $=Xt(R,function(j){return!qe(w,j)}),V=ei(ei([],w,!0),$,!0);i.setAttrib(r,"class",V.join(" "))});var m=["style","class"],y=un(a,function(w,R){return!qe(m,R)});i.setAttribs(r,y)},Ow=function(e,r){var a=mu(e);if(a&&a.toLowerCase()===r.tagName.toLowerCase()){var i=Yp(e);MN(e,r,i)}},BN=function(e,r,a,i,c){var f,m,y,w,R,$,V=r||"P",j=e.dom,re=eR(j,i);if(m=j.getParent(i,j.isBlock),!m||!QO(j,m)){if(m=m||re,m===e.getBody()||AN(m)?$=m.nodeName.toLowerCase():$=m.parentNode.nodeName.toLowerCase(),!m.hasChildNodes())return f=j.create(V),Ow(e,f),m.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(w=i;w.parentNode!==m;)w=w.parentNode;for(;w&&!j.isBlock(w);)y=w,w=w.previousSibling;if(y&&e.schema.isValidChild($,V.toLowerCase())){for(f=j.create(V),Ow(e,f),y.parentNode.insertBefore(f,y),w=y;w&&!j.isBlock(w);)R=w.nextSibling,f.appendChild(w),w=R;a.setStart(i,c),a.setEnd(i,c)}}return i},NN=function(e,r){r.normalize();var a=r.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(r,"br")},tR=function(e,r){var a,i,c,f,m,y,w,R,$,V,j=e.dom,re=e.schema,ae=re.getNonEmptyElements(),ie=e.selection.getRng(),ue=function(Tt){var Kt=i,nn,Cr,At,qr=re.getTextInlineElements();if(Tt||R==="TABLE"||R==="HR"?nn=j.create(Tt||$):nn=f.cloneNode(!1),At=nn,iS(e)===!1)j.setAttrib(nn,"style",null),j.setAttrib(nn,"class",null);else do if(qr[Kt.nodeName]){if(uf(Kt)||As(Kt))continue;Cr=Kt.cloneNode(!1),j.setAttrib(Cr,"id",""),nn.hasChildNodes()?(Cr.appendChild(nn.firstChild),nn.appendChild(Cr)):(At=Cr,nn.appendChild(Cr))}while((Kt=Kt.parentNode)&&Kt!==Ee);return Ow(e,nn),DE(At),nn},_e=function(Tt){var Kt,nn,Cr=BE(Tt,i,c);if(zr(i)&&(Tt?Cr>0:Cr<i.nodeValue.length))return!1;if(i.parentNode===f&&V&&!Tt||Tt&&hn(i)&&i===f.firstChild)return!0;if(ME(i,"TABLE")||ME(i,"HR"))return V&&!Tt||!V&&Tt;var At=new Ua(i,f);for(zr(i)&&(Tt&&Cr===0?At.prev():!Tt&&Cr===i.nodeValue.length&&At.next());Kt=At.current();){if(hn(Kt)){if(!Kt.getAttribute("data-mce-bogus")&&(nn=Kt.nodeName.toLowerCase(),ae[nn]&&nn!=="br"))return!1}else if(zr(Kt)&&!Yc(Kt.nodeValue))return!1;Tt?At.prev():At.next()}return!0},he=function(){/^(H[1-6]|PRE|FIGURE)$/.test(R)&&tt!=="HGROUP"?m=ue($):m=ue(),Ph(e)&&QO(j,w)&&j.isEmpty(f)?m=j.split(w,f):j.insertAfter(m,f),Aw(e,m)};wb(j,ie).each(function(Tt){ie.setStart(Tt.startContainer,Tt.startOffset),ie.setEnd(Tt.endContainer,Tt.endOffset)}),i=ie.startContainer,c=ie.startOffset,$=mu(e);var Xe=!!(r&&r.shiftKey),Ve=!!(r&&r.ctrlKey);hn(i)&&i.hasChildNodes()&&(V=c>i.childNodes.length-1,i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i,V&&zr(i)?c=i.nodeValue.length:c=0);var Ee=eR(j,i);if(Ee){($&&!Xe||!$&&Xe)&&(i=BN(e,$,ie,i,c)),f=j.getParent(i,j.isBlock),w=f?j.getParent(f.parentNode,j.isBlock):null,R=f?f.nodeName.toUpperCase():"";var tt=w?w.nodeName.toUpperCase():"";if(tt==="LI"&&!Ve&&(f=w,w=w.parentNode,R=tt),/^(LI|DT|DD)$/.test(R)&&j.isEmpty(f)){ZO(e,ue,w,f,$);return}$&&f===e.getBody()||($=$||"P",to(f)?(m=U1(f),j.isEmpty(f)&&DE(f),Ow(e,m),Aw(e,m)):_e()?he():_e(!0)?(m=f.parentNode.insertBefore(ue(),f),Aw(e,ME(f,"HR")?m:f)):(a=RN(ie).cloneRange(),a.setEndAfter(f),y=a.extractContents(),zN(y),DN(y),m=y.firstChild,j.insertAfter(y,f),ON(j,ae,m),NN(j,f),j.isEmpty(f)&&DE(f),m.normalize(),j.isEmpty(m)?(j.remove(m),he()):(Ow(e,m),Aw(e,m))),j.setAttrib(m,"id",""),e.fire("NewBlock",{newBlock:m}))}},PN=function(e,r,a){for(var i=new Ua(r,a),c,f=e.getNonEmptyElements();c=i.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},rR=function(e,r,a){var i=e.dom.createRng();a?(i.setStartBefore(r),i.setEndBefore(r)):(i.setStartAfter(r),i.setEndAfter(r)),e.selection.setRng(i),Jh(e,i)},nR=function(e,r){var a=e.selection,i=e.dom,c=a.getRng(),f,m;wb(i,c).each(function(ae){c.setStart(ae.startContainer,ae.startOffset),c.setEnd(ae.endContainer,ae.endOffset)});var y=c.startOffset,w=c.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var R=y>w.childNodes.length-1;w=w.childNodes[Math.min(y,w.childNodes.length-1)]||w,R&&w.nodeType===3?y=w.nodeValue.length:y=0}var $=i.getParent(w,i.isBlock),V=$?i.getParent($.parentNode,i.isBlock):null,j=V?V.nodeName.toUpperCase():"",re=!!(r&&r.ctrlKey);j==="LI"&&!re&&($=V),w&&w.nodeType===3&&y>=w.nodeValue.length&&(PN(e.schema,w,$)||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),m=!0)),f=i.create("br"),Fy(i,c,f),rR(e,f,m),e.undoManager.add()},aR=function(e,r){var a=x.fromTag("br");uu(x.fromDom(r),a),e.undoManager.add()},FC=function(e,r){NE(e.getBody(),r)||hd(x.fromDom(r),x.fromTag("br"));var a=x.fromTag("br");hd(x.fromDom(r),a),rR(e,a.dom,!1),e.undoManager.add()},oR=function(e){return eo(e.getNode())},NE=function(e,r){return oR(vt.after(r))?!0:rl(e,vt.after(r)).map(function(a){return eo(a.getNode())}).getOr(!1)},IC=function(e){return e&&e.nodeName==="A"&&"href"in e},iR=function(e){return e.fold(Wt,IC,IC,Wt)},FN=function(e){var r=St(Lm,e),a=vt.fromRangeStart(e.selection.getRng());return id(r,e.getBody(),a).filter(iR)},uR=function(e,r){r.fold(U,St(aR,e),St(FC,e),U)},Ag=function(e,r){var a=FN(e);a.isSome()?a.each(St(uR,e)):nR(e,r)},PE=function(e,r){return RE(e).filter(function(a){return r.length>0&&or(x.fromDom(a),r)}).isSome()},FE=function(e){return PE(e,Zp(e))},IN=function(e){return PE(e,Ok(e))},yc=Kr.generate([{br:[]},{block:[]},{none:[]}]),LN=function(e,r){return IN(e)},IE=function(e){return function(r,a){var i=mu(r)==="";return i===e}},sR=function(e){return function(r,a){return xN(r)===e}},cR=function(e,r){return function(a,i){var c=KO(a)===e.toUpperCase();return c===r}},LC=function(e){return cR("pre",e)},$N=function(){return cR("summary",!0)},Rw=function(e){return function(r,a){return P_(r)===e}},E1=function(e,r){return FE(e)},Dw=function(e,r){return r},$C=function(e){var r=mu(e),a=CN(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,r||"P")},Fl=function(e,r){return function(a,i){var c=it(e,function(f,m){return f&&m(a,i)},!0);return c?oe.some(r):oe.none()}},lR=function(e,r){return ww([Fl([LN],yc.none()),Fl([$N()],yc.br()),Fl([LC(!0),Rw(!1),Dw],yc.br()),Fl([LC(!0),Rw(!1)],yc.block()),Fl([LC(!0),Rw(!0),Dw],yc.block()),Fl([LC(!0),Rw(!0)],yc.br()),Fl([sR(!0),Dw],yc.br()),Fl([sR(!0)],yc.block()),Fl([IE(!0),Dw,$C],yc.block()),Fl([IE(!0)],yc.br()),Fl([E1],yc.br()),Fl([IE(!1),Dw],yc.br()),Fl([$C],yc.block())],[e,!!(r&&r.shiftKey)]).getOr(yc.none())},LE=function(e,r){lR(e,r).fold(function(){Ag(e,r)},function(){tR(e,r)},U)},fR=function(e,r){r.isDefaultPrevented()||(r.preventDefault(),f5(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),LE(e,r)}))},dR=function(e){e.on("keydown",function(r){r.keyCode===on.ENTER&&fR(e,r)})},$E=function(e,r,a){x1([{keyCode:on.END,action:wa(PO,e,!0)},{keyCode:on.HOME,action:wa(PO,e,!1)},{keyCode:on.END,action:wa(MC,e,!0)},{keyCode:on.HOME,action:wa(MC,e,!1)},{keyCode:on.END,action:wa(SC,e,!0,r)},{keyCode:on.HOME,action:wa(SC,e,!1,r)}],a).each(function(i){a.preventDefault()})},vR=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&$E(e,r,a)})},HN=br().browser,VN=function(e){var r=Sy(function(){e.composing||h3(e)},0);HN.isIE()&&(e.on("keypress",function(a){r.throttle()}),e.on("remove",function(a){r.cancel()}))},HC=function(e){VN(e),e.on("input",function(r){r.isComposing===!1&&h3(e)})},UN=br(),jN=function(e,r,a){x1([{keyCode:on.PAGE_UP,action:wa(SC,e,!1,r)},{keyCode:on.PAGE_DOWN,action:wa(SC,e,!0,r)}],a)},pR=function(e){return e.stopImmediatePropagation()},HE=function(e){return e.keyCode===on.PAGE_UP||e.keyCode===on.PAGE_DOWN},mR=function(e,r,a){a&&!e.get()?r.on("NodeChange",pR,!0):!a&&e.get()&&r.off("NodeChange",pR),e.set(a)},WN=function(e,r){if(!UN.os.isOSX()){var a=os(!1);e.on("keydown",function(i){HE(i)&&mR(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&jN(e,r,i),HE(i)&&a.get()&&(mR(a,e,!1),e.nodeChanged())})}},$c=function(e,r){var a=r.container(),i=r.offset();return zr(a)?(a.insertData(i,e),oe.some(vt(a,i+e.length))):tb(r).map(function(c){var f=x.fromText(e);return r.isAtEnd()?hd(c,f):uu(c,f),vt(f.dom,e.length)})},qN=St($c,Vs),VE=St($c," "),hR=function(e){return function(r){return r.fold(function(a){return Dl(e.dom,vt.before(a))},function(a){return ju(a)},function(a){return Rc(a)},function(a){return rl(e.dom,vt.after(a))})}},UE=function(e,r){return function(a){return Vb(e,a)?qN(r):VE(r)}},GN=function(e){return function(r){return e.selection.setRng(r.toRange()),e.nodeChanged(),!0}},KN=function(e){var r=vt.fromRangeStart(e.selection.getRng()),a=x.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=St(Lm,e),c=vt.fromRangeStart(e.selection.getRng());return id(i,e.getBody(),c).bind(hR(a)).bind(UE(a,r)).exists(GN(e))}else return!1},gR=function(e,r){x1([{keyCode:on.SPACEBAR,action:wa(KN,e)}],r).each(function(a){r.preventDefault()})},XN=function(e){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&gR(e,r)})},YN=function(e){var r=xC(e);return XB(e),bN(e,r),OE(e,r),dR(e),XN(e),HC(e),vR(e,r),WN(e,r),r},ZN=function(e){return ip(e)?os(null):YN(e)},JN=function(){function e(r){this.lastPath=[],this.editor=r;var a,i=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",function(c){var f=r.selection.getRng(),m={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!T0(m,a))&&r.fire("SelectionChange"),a=m}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var c=r.selection.getStart(!0);!c||!Zt.range&&r.selection.isCollapsed()||qd(r)&&!i.isSameElementPath(c)&&r.dom.isChildOf(c,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",function(c){!c.isDefaultPrevented()&&qd(r)&&(r.selection.getNode().nodeName==="IMG"?Au.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}return e.prototype.nodeChanged=function(r){var a=this.editor.selection,i,c,f;this.editor.initialized&&a&&!mS(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),c=[],this.editor.dom.getParent(i,function(m){if(m===f)return!0;c.push(m)}),r=r||{},r.element=i,r.parents=c,this.editor.fire("NodeChange",r))},e.prototype.isSameElementPath=function(r){var a,i=this.editor.$(r).parentsUntil(this.editor.getBody()).add(r);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),QN=function(e){e.on("click",function(r){e.dom.getParent(r.target,"details")&&r.preventDefault()})},eP=function(e){e.parser.addNodeFilter("details",function(r){je(r,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(r){je(r,function(a){var i=a.attr("data-mce-open");a.attr("open",ke(i)?i:null),a.attr("data-mce-open",null)})})},tP=function(e){QN(e),eP(e)},yR=function(e){return hn(e)&&ql(x.fromDom(e))},rP=function(e){var r=e.selection.getRng(),a=vt.fromRangeStart(r),i=vt.fromRangeEnd(r);if(vt.isElementPosition(a)){var c=a.container();yR(c)&&ju(c).each(function(f){return r.setStart(f.container(),f.offset())})}if(vt.isElementPosition(i)){var c=a.container();yR(c)&&Rc(c).each(function(m){return r.setEnd(m.container(),m.offset())})}e.selection.setRng(P8(r))},vs=function(e){e.on("click",function(r){r.detail>=3&&rP(e)})},bR=function(e){var r=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,c=a.defaultView;return{top:r.top+c.pageYOffset-i.clientTop,left:r.left+c.pageXOffset-i.clientLeft}},nP=function(e){return e.inline?bR(e.getBody()):{left:0,top:0}},aP=function(e){var r=e.getBody();return e.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},bc=function(e){var r=e.getBody(),a=e.getDoc().documentElement,i={left:r.scrollLeft,top:r.scrollTop},c={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return e.inline?i:c},oP=function(e,r){if(r.target.ownerDocument!==e.getDoc()){var a=bR(e.getContentAreaContainer()),i=bc(e);return{left:r.pageX-a.left+i.left,top:r.pageY-a.top+i.top}}return{left:r.pageX,top:r.pageY}},_R=function(e,r,a){return{pageX:a.left-e.left+r.left,pageY:a.top-e.top+r.top}},iP=function(e,r){return _R(nP(e),aP(e),oP(e,r))},pp=_o,uP=qc,sP=function(e,r){return pp(r)&&r!==e},jE=function(e,r,a){return r===a||e.dom.isChildOf(r,a)?!1:!pp(r)},cP=function(e){var r=e.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},lP=function(e,r,a,i){var c=e.dom,f=r.cloneNode(!0);c.setStyles(f,{width:a,height:i}),c.setAttrib(f,"data-mce-selected",null);var m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),m.appendChild(f),m},fP=function(e,r){e.parentNode!==r&&r.appendChild(e)},dP=function(e,r,a,i,c,f){var m=0,y=0;e.style.left=r.pageX+"px",e.style.top=r.pageY+"px",r.pageX+a>c&&(m=r.pageX+a-c),r.pageY+i>f&&(y=r.pageY+i-f),e.style.width=a-m+"px",e.style.height=i-y+"px"},wR=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},vP=function(e){return e.button===0},VC=function(e,r){return{pageX:r.pageX-e.relX,pageY:r.pageY+5}},kR=function(e,r){return function(a){if(vP(a)){var i=rr(r.dom.getParents(a.target),Yx(pp,uP)).getOr(null);if(sP(r.getBody(),i)){var c=r.dom.getPos(i),f=r.getBody(),m=r.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?f.scrollWidth:m.offsetWidth)-2,maxY:(r.inline?f.scrollHeight:m.offsetHeight)-2,relX:a.pageX-c.x,relY:a.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:lP(r,i,i.offsetWidth,i.offsetHeight)})}}}},pP=function(e,r){var a=Au.throttle(function(i,c){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(i,c)},0);return r.on("remove",a.stop),function(i){return e.on(function(c){var f=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&f>10){var m=r.fire("dragstart",{target:c.element});if(m.isDefaultPrevented())return;c.dragging=!0,r.focus()}if(c.dragging){var y=VC(c,iP(r,i));fP(c.ghost,r.getBody()),dP(c.ghost,y,c.width,c.height,c.maxX,c.maxY),a(i.clientX,i.clientY)}})}},mP=function(e){var r=e.getSel().getRangeAt(0),a=r.startContainer;return a.nodeType===3?a.parentNode:a},hP=function(e,r){return function(a){e.on(function(i){if(i.dragging){if(jE(r,mP(r.selection),i.element)){var c=cP(i.element),f=r.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||r.undoManager.transact(function(){wR(i.element),r.insertContent(r.dom.getOuterHTML(c)),r._selectionOverrides.hideFakeCaret()})}r.fire("dragend")}}),CR(e)}},gP=function(e,r){return function(){e.on(function(a){a.dragging&&r.fire("dragend")}),CR(e)}},CR=function(e){e.on(function(r){wR(r.ghost)}),e.clear()},WE=function(e){var r=Nd(),a=mo.DOM,i=document,c=kR(r,e),f=pP(r,e),m=hP(r,e),y=gP(r,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",m),a.bind(i,"mousemove",f),a.bind(i,"mouseup",y),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",y)}),e.on("keydown",function(w){w.keyCode===on.ESC&&y()})},xR=function(e){e.on("drop",function(r){var a=typeof r.clientX<"u"?e.getDoc().elementFromPoint(r.clientX,r.clientY):null;(pp(a)||e.dom.getContentEditableParent(a)==="false")&&r.preventDefault()})},SR=function(e){var r=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(qe(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&aC(e,"Dropped file type is not supported"))}},a=function(c){zb(e,c.target)&&r(c)},i=function(){var c=mo.DOM,f=e.dom,m=document,y=e.inline?e.getBody():e.getDoc(),w=["drop","dragover"];je(w,function(R){c.bind(m,R,a),f.bind(y,R,r)}),e.on("remove",function(){je(w,function(R){c.unbind(m,R,a),f.unbind(y,R,r)})})};e.on("init",function(){Au.setEditorTimeout(e,i,0)})},TR=function(e){WE(e),xR(e),em(e)&&SR(e)},yP=function(e){var r=Sy(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=lC(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){r.throttle()}),e.on("blur",function(){r.cancel()})},bP=function(e){e.on("init",function(){e.on("focusin",function(r){var a=r.target;if(_s(a)){var i=jv(e.getBody(),a),c=_o(i)?i:a;e.selection.getNode()!==c&&h1(e,c).each(function(f){return e.selection.setRng(f)})}})})},ER=qc,Og=_o,UC=function(e,r){return jv(e.getBody(),r)},_P=function(e){var r=e.selection,a=e.dom,i=a.isBlock,c=e.getBody(),f=Uu(e,c,i,function(){return Bc(e)}),m="sel-"+a.uniqueId(),y="data-mce-selected",w,R=function(At){return a.hasClass(At,"mce-offscreen-selection")},$=function(At){return At!==c&&(Og(At)||_s(At))&&a.isChildOf(At,c)},V=function(At){return Jd(At)||Qd(At)||Om(At)||Rm(At)},j=function(){var At=a.get(m);return At&&At.getElementsByTagName("*")[0]},re=function(At){At&&r.setRng(At)},ae=r.getRng,ie=function(At,qr,Jt,wr){wr===void 0&&(wr=!0);var Qt=e.fire("ShowCaret",{target:qr,direction:At,before:Jt});return Qt.isDefaultPrevented()?null:(wr&&r.scrollIntoView(qr,At===-1),f.show(Jt,qr))},ue=function(At){At.hasAttribute("data-mce-caret")&&(U1(At),re(ae()),r.scrollIntoView(At))},_e=function(){e.on("mouseup",function(Qt){var pr=ae();pr.collapsed&&cA(e,Qt.clientX,Qt.clientY)&&XT(e,pr,!1).each(re)}),e.on("click",function(Qt){var pr=UC(e,Qt.target);pr&&(Og(pr)&&(Qt.preventDefault(),e.focus()),ER(pr)&&a.isChildOf(pr,r.getNode())&&Kt())}),e.on("blur NewBlock",Kt),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var At=function(Qt){var pr=Qt.firstChild;if($e(pr))return!1;var Or=vt.before(pr);if(eo(Or.getNode())&&Qt.childNodes.length===1)return!V(Or);var Ut=Zo(Qt),Er=Ut.next(Or);return Er&&!V(Er)},qr=function(Qt,pr){var Or=a.getParent(Qt,i),Ut=a.getParent(pr,i);return Or===Ut},Jt=function(Qt,pr){var Or=a.getParent(Qt,i),Ut=a.getParent(pr,i);return $e(Or)?!1:Qt!==Ut&&a.isChildOf(Or,Ut)&&Og(UC(e,Or))===!1?!0:!a.isChildOf(Ut,Or)&&!qr(Or,Ut)&&At(Or)};e.on("tap",function(Qt){var pr=Qt.target,Or=UC(e,pr);Og(Or)?(Qt.preventDefault(),h1(e,Or).each(Tt)):$(pr)&&h1(e,pr).each(Tt)},!0),e.on("mousedown",function(Qt){var pr=Qt.target;if(!(pr!==c&&pr.nodeName!=="HTML"&&!a.isChildOf(pr,c))&&cA(e,Qt.clientX,Qt.clientY)!==!1){var Or=UC(e,pr);if(Or)Og(Or)?(Qt.preventDefault(),h1(e,Or).each(Tt)):(Kt(),!(ER(Or)&&Qt.shiftKey)&&!Wv(Qt.clientX,Qt.clientY,r.getRng())&&(Cr(),r.placeCaretAt(Qt.clientX,Qt.clientY)));else if($(pr))h1(e,pr).each(Tt);else if(Pv(pr)===!1){Kt(),Cr();var Ut=TB(c,Qt.clientX,Qt.clientY);if(Ut&&!Jt(pr,Ut.node)){Qt.preventDefault();var Er=ie(1,Ut.node,Ut.before,!1);re(Er),e.getBody().focus()}}}}),e.on("keypress",function(Qt){on.modifierPressed(Qt)||Og(r.getNode())&&Qt.preventDefault()}),e.on("GetSelectionRange",function(Qt){var pr=Qt.range;if(w){if(!w.parentNode){w=null;return}pr=pr.cloneRange(),pr.selectNode(w),Qt.range=pr}}),e.on("SetSelectionRange",function(Qt){Qt.range=Ve(Qt.range);var pr=Tt(Qt.range,Qt.forward);pr&&(Qt.range=pr)});var wr=function(Qt){return Qt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Qt){var pr=Qt.range,Or=pr.startContainer.parentNode;!Xe(pr)&&!wr(Or)&&Cr(),R(Or)||Kt()}),e.on("copy",function(Qt){var pr=Qt.clipboardData;if(!Qt.isDefaultPrevented()&&Qt.clipboardData&&!Zt.ie){var Or=j();Or&&(Qt.preventDefault(),pr.clearData(),pr.setData("text/html",Or.outerHTML),pr.setData("text/plain",Or.outerText||Or.innerText))}}),TR(e),yP(e),bP(e)},he=function(At){return xs(At)||ph(At)||mh(At)},Xe=function(At){return he(At.startContainer)||he(At.endContainer)},Ve=function(At){var qr=e.schema.getShortEndedElements(),Jt=a.createRng(),wr=At.startContainer,Qt=At.startOffset,pr=At.endContainer,Or=At.endOffset;return Sn(qr,wr.nodeName.toLowerCase())?Qt===0?Jt.setStartBefore(wr):Jt.setStartAfter(wr):Jt.setStart(wr,Qt),Sn(qr,pr.nodeName.toLowerCase())?Or===0?Jt.setEndBefore(pr):Jt.setEndAfter(pr):Jt.setEnd(pr,Or),Jt},Ee=function(At,qr,Jt){var wr=e.$,Qt=xp(x.fromDom(e.getBody()),"#"+m).fold(function(){return wr([])},function(Ut){return wr([Ut.dom])});Qt.length===0&&(Qt=wr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m),Qt.appendTo(e.getBody()));var pr=a.createRng();qr===Jt&&Zt.ie?(Qt.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(qr),pr.setStartAfter(Qt[0].firstChild.firstChild),pr.setEndAfter(qr)):(Qt.empty().append(Vs).append(qr).append(Vs),pr.setStart(Qt[0].firstChild,1),pr.setEnd(Qt[0].lastChild,0)),Qt.css({top:a.getPos(At,e.getBody()).y}),Qt[0].focus();var Or=r.getSel();return Or.removeAllRanges(),Or.addRange(pr),pr},tt=function(At){var qr=At.cloneNode(!0),Jt=e.fire("ObjectSelected",{target:At,targetClone:qr});if(Jt.isDefaultPrevented())return null;var wr=Ee(At,Jt.targetClone,qr),Qt=x.fromDom(At);return je(pu(x.fromDom(e.getBody()),"*[data-mce-selected]"),function(pr){an(Qt,pr)||_t(pr,y)}),a.getAttrib(At,y)||At.setAttribute(y,"1"),w=At,Cr(),wr},Tt=function(At,qr){if(!At)return null;if(At.collapsed){if(!Xe(At)){var Jt=qr?1:-1,wr=lm(Jt,c,At),Qt=wr.getNode(!qr);if(Pv(Qt))return ie(Jt,Qt,qr?!wr.isAtEnd():!1,!1);var pr=wr.getNode(qr);if(Pv(pr))return ie(Jt,pr,qr?!1:!wr.isAtEnd(),!1)}return null}var Or=At.startContainer,Ut=At.startOffset,Er=At.endOffset;if(Or.nodeType===3&&Ut===0&&Og(Or.parentNode)&&(Or=Or.parentNode,Ut=a.nodeIndex(Or),Or=Or.parentNode),Or.nodeType!==1)return null;if(Er===Ut+1&&Or===At.endContainer){var ea=Or.childNodes[Ut];if($(ea))return tt(ea)}return null},Kt=function(){w&&w.removeAttribute(y),xp(x.fromDom(e.getBody()),"#"+m).each(Uo),w=null},nn=function(){f.destroy(),w=null},Cr=function(){f.hide()};return Zt.ceFalse&&!ip(e)&&_e(),{showCaret:ie,showBlockCaretContainer:ue,hideFakeCaret:Cr,destroy:nn}},zR=function(e){var r=mt.each,a=on.BACKSPACE,i=on.DELETE,c=e.dom,f=e.selection,m=e.parser,y=Zt.gecko,w=Zt.ie,R=Zt.webkit,$="data:text/mce-internal,",V=w?"Text":"URL",j=function(jt,ir){try{e.getDoc().execCommand(jt,!1,ir)}catch{}},re=function(jt){return jt.isDefaultPrevented()},ae=function(jt){var ir,Gr;jt.dataTransfer&&(e.selection.isCollapsed()&&jt.target.tagName==="IMG"&&f.select(jt.target),ir=e.selection.getContent(),ir.length>0&&(Gr=$+escape(e.id)+","+escape(ir),jt.dataTransfer.setData(V,Gr)))},ie=function(jt){var ir;return jt.dataTransfer&&(ir=jt.dataTransfer.getData(V),ir&&ir.indexOf($)>=0)?(ir=ir.substr($.length).split(","),{id:unescape(ir[0]),html:unescape(ir[1])}):null},ue=function(jt,ir){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:jt,internal:ir}):e.execCommand("mceInsertContent",!1,jt)},_e=function(){var jt=function(Gr){var nt=c.create("body"),Yt=Gr.cloneContents();return nt.appendChild(Yt),f.serializer.serialize(nt,{format:"html"})},ir=function(Gr){var nt=jt(Gr),Yt=c.createRng();Yt.selectNode(e.getBody());var qt=jt(Yt);return nt===qt};e.on("keydown",function(Gr){var nt=Gr.keyCode,Yt,qt;if(!re(Gr)&&(nt===i||nt===a)){if(Yt=e.selection.isCollapsed(),qt=e.getBody(),Yt&&!c.isEmpty(qt)||!Yt&&!ir(e.selection.getRng()))return;Gr.preventDefault(),e.setContent(""),qt.firstChild&&c.isBlock(qt.firstChild)?e.selection.setCursorLocation(qt.firstChild,0):e.selection.setCursorLocation(qt,0),e.nodeChanged()}})},he=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Xe=function(){e.inline||c.bind(e.getDoc(),"mousedown mouseup",function(jt){var ir;if(jt.target===e.getDoc().documentElement)if(ir=f.getRng(),e.getBody().focus(),jt.type==="mousedown"){if(xs(ir.startContainer))return;f.placeCaretAt(jt.clientX,jt.clientY)}else f.setRng(ir)})},Ve=function(){e.on("keydown",function(jt){if(!re(jt)&&jt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var ir=f.getNode(),Gr=ir.previousSibling;if(ir.nodeName==="HR"){c.remove(ir),jt.preventDefault();return}Gr&&Gr.nodeName&&Gr.nodeName.toLowerCase()==="hr"&&(c.remove(Gr),jt.preventDefault())}}})},Ee=function(){Range.prototype.getClientRects||e.on("mousedown",function(jt){if(!re(jt)&&jt.target.nodeName==="HTML"){var ir=e.getBody();ir.blur(),Au.setEditorTimeout(e,function(){ir.focus()})}})},tt=function(){e.on("click",function(jt){var ir=jt.target;/^(IMG|HR)$/.test(ir.nodeName)&&c.getContentEditableParent(ir)!=="false"&&(jt.preventDefault(),e.selection.select(ir),e.nodeChanged()),ir.nodeName==="A"&&c.hasClass(ir,"mce-item-anchor")&&(jt.preventDefault(),f.select(ir))})},Tt=function(){var jt=function(){var Gr=c.getAttribs(f.getStart().cloneNode(!1));return function(){var nt=f.getStart();nt!==e.getBody()&&(c.setAttrib(nt,"style",null),r(Gr,function(Yt){nt.setAttributeNode(Yt.cloneNode(!0))}))}},ir=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};e.on("keypress",function(Gr){var nt;if(!re(Gr)&&(Gr.keyCode===8||Gr.keyCode===46)&&ir())return nt=jt(),e.getDoc().execCommand("delete",!1,null),nt(),Gr.preventDefault(),!1}),c.bind(e.getDoc(),"cut",function(Gr){var nt;!re(Gr)&&ir()&&(nt=jt(),Au.setEditorTimeout(e,function(){nt()}))})},Kt=function(){e.on("keydown",function(jt){if(!re(jt)&&jt.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var ir=f.getNode().previousSibling;if(ir&&ir.nodeName&&ir.nodeName.toLowerCase()==="table")return jt.preventDefault(),!1}})},nn=function(){e.on("keydown",function(jt){var ir,Gr;if(!(re(jt)||jt.keyCode!==on.BACKSPACE)){ir=f.getRng();var nt=ir.startContainer,Yt=ir.startOffset,qt=c.getRoot();if(Gr=nt,!(!ir.collapsed||Yt!==0)){for(;Gr&&Gr.parentNode&&Gr.parentNode.firstChild===Gr&&Gr.parentNode!==qt;)Gr=Gr.parentNode;Gr.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Gr),ir=c.createRng(),ir.setStart(nt,0),ir.setEnd(nt,0),f.setRng(ir))}}})},Cr=function(){var jt=function(){j("StyleWithCSS",!1),j("enableInlineTableEditing",!1),Bk(e)||j("enableObjectResizing",!1)};hS(e)||e.on("BeforeExecCommand mousedown",jt)},At=function(){var jt=function(){r(c.select("a"),function(ir){var Gr=ir.parentNode,nt=c.getRoot();if(Gr.lastChild===ir){for(;Gr&&!c.isBlock(Gr);){if(Gr.parentNode.lastChild!==Gr||Gr===nt)return;Gr=Gr.parentNode}c.add(Gr,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(ir){(ir.type==="setcontent"||ir.command==="mceInsertLink")&&jt()})},qr=function(){mu(e)&&e.on("init",function(){j("DefaultParagraphSeparator",mu(e))})},Jt=function(){e.on("keyup focusin mouseup",function(jt){on.modifierPressed(jt)||f.normalize()},!0)},wr=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Qt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},pr=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(jt){var ir;if(jt.target.nodeName==="HTML"){if(Zt.ie>11){e.getBody().focus();return}ir=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ir),e.selection.normalize(),e.nodeChanged()}}))},Or=function(){Zt.mac&&e.on("keydown",function(jt){if(on.metaKeyPressed(jt)&&!jt.shiftKey&&(jt.keyCode===37||jt.keyCode===39)){jt.preventDefault();var ir=e.selection.getSel();ir.modify("move",jt.keyCode===37?"backward":"forward","lineboundary")}})},Ut=function(){j("AutoUrlDetect",!1)},Er=function(){e.on("click",function(jt){var ir=jt.target;do if(ir.tagName==="A"){jt.preventDefault();return}while(ir=ir.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ea=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(jt){jt.preventDefault()})})},Pa=function(){m.addNodeFilter("br",function(jt){for(var ir=jt.length;ir--;)jt[ir].attr("class")==="Apple-interchange-newline"&&jt[ir].remove()})},Ma=function(){e.on("dragstart",function(jt){ae(jt)}),e.on("drop",function(jt){if(!re(jt)){var ir=ie(jt);if(ir&&ir.id!==e.id){jt.preventDefault();var Gr=S0(jt.x,jt.y,e.getDoc());f.setRng(Gr),ue(ir.html,!0)}}})},wu=U,Go=function(){if(!y||e.removed)return!1;var jt=e.selection.getSel();return!jt||!jt.rangeCount||jt.rangeCount===0},Ds=function(){R&&(Xe(),tt(),ea(),he(),Zt.iOS&&(Qt(),pr(),Er())),y&&(Ee(),Cr(),wr(),Or())},Hc=function(){nn(),_e(),Zt.windowsPhone||Jt(),R&&(Xe(),tt(),qr(),ea(),Kt(),Pa(),Zt.iOS?(Qt(),pr(),Er()):he()),Zt.ie>=11&&(pr(),Kt()),Zt.ie&&(he(),Ut(),Ma()),y&&(Ve(),Ee(),Tt(),Cr(),At(),wr(),Or(),Kt())};return ip(e)?Ds():Hc(),{refreshContentEditable:wu,isHidden:Go}},qE=mo.DOM,wP=function(e,r){var a=x.fromDom(e.getBody()),i=Xo(Ju(a)),c=x.fromTag("style");z(c,"type","text/css"),Ti(c,x.fromText(r)),Ti(i,c),e.on("remove",function(){Uo(c)})},kP=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},GE=function(e){return un(e,function(r){return ze(r)===!1})},KE=function(e){var r=e.settings;return GE({block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements,padd_empty_block_inline_children:r.format_empty_lines})},AR=function(e){var r=e.settings,a=e.editorUpload.blobCache;return GE({allow_conditional_comments:r.allow_conditional_comments,allow_html_data_urls:r.allow_html_data_urls,allow_svg_data_urls:r.allow_svg_data_urls,allow_html_in_named_anchor:r.allow_html_in_named_anchor,allow_script_urls:r.allow_script_urls,allow_unsafe_link_target:r.allow_unsafe_link_target,convert_fonts_to_spans:r.convert_fonts_to_spans,fix_list_elements:r.fix_list_elements,font_size_legacy_values:r.font_size_legacy_values,forced_root_block:r.forced_root_block,forced_root_block_attrs:r.forced_root_block_attrs,padd_empty_with_br:r.padd_empty_with_br,preserve_cdata:r.preserve_cdata,remove_trailing_brs:r.remove_trailing_brs,inline_styles:r.inline_styles,root_name:kP(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:r.images_dataimg_filter})},CP=function(e){var r=e.settings;return Lr(Lr(Lr({},AR(e)),KE(e)),GE({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before}))},xP=function(e){var r=X3(AR(e),e.schema);return r.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var c=a.length,f,m,y=e.dom,w="data-mce-"+i;c--;)if(f=a[c],m=f.attr(i),m&&!f.attr(w)){if(m.indexOf("data:")===0||m.indexOf("blob:")===0)continue;i==="style"?(m=y.serializeStyle(y.parseStyle(m),f.name),m.length||(m=null),f.attr(w,m),f.attr(i,m)):i==="tabindex"?(f.attr(w,m),f.attr(i,null)):f.attr(w,e.convertURL(m,i,f.name))}}),r.addNodeFilter("script",function(a){for(var i=a.length;i--;){var c=a[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var c=a[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,c=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new Nc("br",1)).shortEnded=!0)}}),r},SP=function(e){e.settings.auto_focus&&Au.setEditorTimeout(e,function(){var r;e.settings.auto_focus===!0?r=e:r=e.editorManager.get(e.settings.auto_focus),r.destroyed||r.focus()},100)},OR=function(e){var r=e.dom.getRoot();!e.inline&&(!qd(e)||e.selection.getStart(!0)===r)&&ju(r).each(function(a){var i=a.getNode(),c=si(i)?ju(i).getOr(a):a;Zt.browser.isIE()?c8(e,c.toRange()):e.selection.setRng(c.toRange())})},jC=function(e){e.bindPendingEventDelegates(),e.initialized=!0,d2(e),e.focus(!0),OR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),SP(e)},XE=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},RR=function(e,r,a){var i=[new Yi(function(c,f){return XE(e).loadAll(r,c,f)})];return e.inline?i:i.concat([new Yi(function(c,f){return e.ui.styleSheetLoader.loadAll(a,c,f)})])},DR=function(e){var r=XE(e),a=Mk(e),i=e.contentCSS,c=function(){r.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){var m="";mt.each(e.contentStyles,function(w){m+=w+`\r
`}),e.dom.addStyle(m)}var y=Yi.all(RR(e,i,a)).then(f).catch(f);return e.settings.content_style&&wP(e,e.settings.content_style),y},TP=function(e){var r=e.settings,a=e.getDoc(),i=e.getBody();vf(e),!r.browser_spellcheck&&!r.gecko_spellcheck&&(a.body.spellcheck=!1,qE.setAttrib(i,"spellcheck","false")),e.quirks=zR(e),f2(e);var c=zl(e);c!==void 0&&(i.dir=c),r.protect&&e.on("BeforeSetContent",function(f){mt.each(r.protect,function(m){f.content=f.content.replace(m,function(y){return"<!--mce:protected "+escape(y)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},YE=function(e){ip(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ZE=function(e){e.removed!==!0&&(YE(e),jC(e))},JE=function(e,r){var a=e.settings,i=e.getElement(),c=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),e.inline||(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(qE.addClass(i,"mce-content-body"),e.contentDocument=c=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&qE.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=ds(e),e.schema=lc(KE(e)),e.dom=mo(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:qy(e),referrerPolicy:Gy(e),onSetAttrib:function(w){e.fire("SetAttrib",w)}}),e.parser=xP(e),e.serializer=MT(CP(e),e),e.selection=o1(e.dom,e.getWin(),e.serializer,e),e.annotator=gb(e),e.formatter=ai(e),e.undoManager=xA(e),e._nodeChangeDispatcher=new JN(e),e._selectionOverrides=_P(e),zO(e),tP(e),ip(e)||vs(e);var m=ZN(e);wf(e,m),C1(e),_w(e);var y=_5(e);TP(e),y.fold(function(){DR(e).then(function(){return ZE(e)})},function(w){e.setProgressState(!0),DR(e).then(function(){w().then(function(R){e.setProgressState(!1),ZE(e)},function(R){e.notificationManager.open({type:"error",text:String(R)}),ZE(e)})})})},Mw=mo.DOM,EP=function(e,r){if(document.domain!==window.location.hostname&&Zt.browser.isIE()){var a=gA("mce");e[a]=function(){JE(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return Mw.setAttrib(r,"src",i),!0}return!1},kf=function(e,r,a,i){var c=x.fromTag("iframe");return H(c,i),H(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),zv(c,"tox-edit-area__iframe"),c},MR=function(e){var r=Ak(e)+"<html><head>";N_(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=aS(e),i=oS(e),c=e.translate(Hk(e));return Uy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Uy(e)+'" />'),r+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+c+'">')+"<br></body></html>",r},BR=function(e,r){var a=e.translate("Rich Text Area"),i=kf(e.id,a,r.height,nS(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var c=EP(e,i);return e.contentAreaContainer=r.iframeContainer,e.iframeElement=i,e.iframeHTML=MR(e),Mw.add(r.iframeContainer,i),c},zP=function(e,r){var a=BR(e,r);r.editorContainer&&(Mw.get(r.editorContainer).style.display=e.orgDisplay,e.hidden=Mw.isHidden(r.editorContainer)),e.getElement().style.display="none",Mw.setAttrib(e.id,"aria-hidden","true"),a||JE(e)},NR=mo.DOM,PR=function(e,r,a){var i=ad.get(a),c=ad.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=mt.trim(a),i&&mt.inArray(r,a)===-1){if(mt.each(ad.dependencies(a),function(m){PR(e,r,m)}),e.plugins[a])return;try{var f=new i(e,c,e.$);e.plugins[a]=f,f.init&&(f.init(e,c),r.push(a))}catch(m){MM(e,a,m)}}},FR=function(e){return e.replace(/^\-/,"")},AP=function(e){var r=[];mt.each(Zy(e).split(/[ ,]/),function(a){PR(e,r,FR(a))})},OP=function(e){var r=mt.trim(af(e)),a=e.ui.registry.getAll().icons,i=Lr(Lr({},nC.get("default").icons),nC.get(r).icons);xn(i,function(c,f){Sn(a,f)||e.ui.registry.addIcon(f,c)})},RP=function(e){var r=Jp(e);if(ke(r)){e.settings.theme=FR(r);var a=Im.get(r);e.theme=new a(e,Im.urls[r]),e.theme.init&&e.theme.init(e,Im.urls[r]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},QE=function(e){return e.theme.renderUI()},DP=function(e){var r=e.getElement(),a=Jp(e),i=a(e,r);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:r.offsetHeight,i},IR=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},LR=function(e){var r=NR.create("div");return NR.insertAfter(r,e),IR(r)},MP=function(e){var r=e.getElement();return e.inline?IR(null):LR(r)},BP=function(e){var r=e.getElement();return e.orgDisplay=r.style.display,ke(Jp(e))?QE(e):ce(Jp(e))?DP(e):MP(e)},NP=function(e,r){var a={show:oe.from(r.show).getOr(U),hide:oe.from(r.hide).getOr(U),disable:oe.from(r.disable).getOr(U),isDisabled:oe.from(r.isDisabled).getOr(Wt),enable:function(){e.mode.isReadOnly()||oe.from(r.enable).map(On)}};e.ui=Lr(Lr({},e.ui),a)},$R=function(e){e.fire("ScriptsLoaded"),OP(e),RP(e),AP(e);var r=BP(e);NP(e,oe.from(r.api).getOr({}));var a={editorContainer:r.editorContainer,iframeContainer:r.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,hA(e),e.inline?JE(e):zP(e,a)},Rg=mo.DOM,HR=function(e){return e.charAt(0)==="-"},ez=function(e,r){var a=Ky(r),i=Ji(r);if(is.hasCode(a)===!1&&a!=="en"){var c=i!==""?i:r.editorManager.baseURL+"/langs/"+a+".js";e.add(c,U,void 0,function(){DM(r,c,a)})}},PP=function(e,r,a,i){var c=Jp(r);if(ke(c)){if(!HR(c)&&!Sn(Im.urls,c)){var f=Fk(r);f?Im.load(c,r.documentBaseURI.toAbsolute(f)):Im.load(c,"themes/"+c+"/theme"+a+".js")}e.loadQueue(function(){Im.waitFor(c,i)})}else i()},VR=function(e){return oe.from(Wy(e)).filter(function(r){return r.length>0}).map(function(r){return{url:r,name:oe.none()}})},UR=function(e,r,a){return oe.from(r).filter(function(i){return i.length>0&&!nC.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:oe.some(i)}})},FP=function(e,r,a){var i=UR(r,"default",a),c=VR(r).orThunk(function(){return UR(r,af(r),"")});je(Vn([i,c]),function(f){e.add(f.url,U,void 0,function(){pA(r,f.url,f.name.getOrUndefined())})})},IP=function(e,r){mt.each(yS(e),function(a,i){ad.load(i,a,U,void 0,function(){HT(e,a,i)}),e.settings.plugins+=" "+i}),mt.each(Zy(e).split(/[ ,]/),function(a){if(a=mt.trim(a),a&&!ad.urls[a])if(HR(a)){a=a.substr(1,a.length);var i=ad.dependencies(a);mt.each(i,function(f){var m={prefix:"plugins/",resource:f,suffix:"/plugin"+r+".js"},y=ad.createUrl(m,f);ad.load(y.resource,y,U,void 0,function(){HT(e,y.prefix+y.resource+y.suffix,y.resource)})})}else{var c={prefix:"plugins/",resource:a,suffix:"/plugin"+r+".js"};ad.load(a,c,U,void 0,function(){HT(e,c.prefix+c.resource+c.suffix,a)})}})},LP=function(e,r){var a=jf.ScriptLoader;PP(a,e,r,function(){ez(a,e),FP(a,e,r),IP(e,r),a.loadQueue(function(){e.removed||$R(e)},e,function(){e.removed||$R(e)})})},_u=function(e,r){return Kc.forElement(e,{contentCssCors:gS(r),referrerPolicy:Gy(r)})},$P=function(e){var r=e.id;is.setCode(Ky(e));var a=function(){Rg.unbind(window,"ready",a),e.render()};if(!Bp.Event.domLoaded){Rg.bind(window,"ready",a);return}if(e.getElement()&&Zt.contentEditable){var i=x.fromDom(e.getElement()),c=Vr(i);e.on("remove",function(){Nt(i.dom.attributes,function(m){return _t(i,m.name)}),H(i,c)}),e.ui.styleSheetLoader=_u(i,e),dS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Rg.getParent(r,"form");f&&(e.formElement=f,Ik(e)&&!su(e.getElement())&&(Rg.insertAfter(Rg.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(m){e.fire(m.type,m)},Rg.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),Lk(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=FT(e),e.notificationManager=dA(e),H_(e)&&e.on("GetContent",function(m){m.save&&(m.content=Rg.encode(m.content))}),vS(e)&&e.on("submit",function(){e.initialized&&e.save()}),Yy(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),LP(e,e.suffix)}},HP=function(e,r){return D5(e,r)},VP={"font-size":"size","font-family":"face"},jR=function(e,r,a){var i=function(f){return cu(f,e).orThunk(function(){return za(f)==="font"?Kn(VP,e).bind(function(m){return ve(f,m)}):oe.none()})},c=function(f){return an(x.fromDom(r),f)};return q8(x.fromDom(a),function(f){return i(f)},c)},tz=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},UP=function(e,r){return oe.from(mo.DOM.getStyle(r,e,!0))},rz=function(e){return function(r,a){return oe.from(a).map(x.fromDom).filter(bo).bind(function(i){return jR(e,r,i.dom).or(UP(e,i.dom))}).getOr("")}},jP=rz("font-size"),WP=xe(tz,rz("font-family")),qP=function(e){return ju(e.getBody()).map(function(r){var a=r.container();return zr(a)?a.parentNode:a})},GP=function(e){return oe.from(e.selection.getRng()).bind(function(r){var a=e.getBody(),i=r.startContainer===a&&r.startOffset===0;return i?oe.none():oe.from(e.selection.getStart(!0))})},KP=function(e,r){return GP(e).orThunk(St(qP,e)).map(x.fromDom).filter(bo).bind(r)},nz=function(e,r){return KP(e,Z(oe.some,r))},WR=function(e,r){if(/^[0-9.]+$/.test(r)){var a=parseInt(r,10);if(a>=1&&a<=7){var i=Fh(e),c=Bv(e);return c?c[a-1]||r:i[a-1]||r}else return r}else return r},XP=function(e){var r=e.split(/\s*,\s*/);return Ne(r,function(a){return a.indexOf(" ")!==-1&&!(Gt(a,'"')||Gt(a,"'"))?"'"+a+"'":a}).join(",")},YP=function(e,r){var a=WR(e,r);e.formatter.toggle("fontname",{value:XP(a)}),e.nodeChanged()},ZP=function(e){return nz(e,function(r){return WP(e.getBody(),r.dom)}).getOr("")},JP=function(e,r){e.formatter.toggle("fontsize",{value:WR(e,r)}),e.nodeChanged()},QP=function(e){return nz(e,function(r){return jP(e.getBody(),r.dom)}).getOr("")},e7=function(e){return nz(e,function(r){var a=x.fromDom(e.getBody()),i=q8(r,function(f){return cu(f,"line-height")},St(an,a)),c=function(){var f=parseFloat(Un(r,"line-height")),m=parseFloat(Un(r,"font-size"));return String(f/m)};return i.getOrThunk(c)}).getOr("")},qR=function(e,r){e.formatter.toggle("lineheight",{value:String(r)}),e.nodeChanged()},t7=function(e){if(typeof e!="string"){var r=mt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:r}}return{content:e,details:{}}},r7=function(e,r){var a=t7(r);O5(e,a.content,a.details)},WC=mt.each,n7=mt.map,GR=mt.inArray,KR=function(){function e(r){this.commands={state:{},exec:{},value:{}},this.editor=r,this.setupCommands(r)}return e.prototype.execCommand=function(r,a,i,c){var f,m=!1,y=this;if(!y.editor.removed){if(r.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(r)&&(!c||!c.skip_focus)?y.editor.focus():F0(y.editor)),c=y.editor.fire("BeforeExecCommand",{command:r,ui:a,value:i}),c.isDefaultPrevented())return!1;var w=r.toLowerCase();if(f=y.commands.exec[w])return f(w,a,i),y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;if(WC(this.editor.plugins,function(R){if(R.execCommand&&R.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),m=!0,!1}),m)return m;if(y.editor.theme&&y.editor.theme.execCommand&&y.editor.theme.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;try{m=y.editor.getDoc().execCommand(r,a,i)}catch{}return m?(y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.state[r])return a(r);try{return this.editor.getDoc().queryCommandState(r)}catch{}return!1}},e.prototype.queryCommandValue=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.value[r])return a(r);try{return this.editor.getDoc().queryCommandValue(r)}catch{}}},e.prototype.addCommands=function(r,a){a===void 0&&(a="exec");var i=this;WC(r,function(c,f){WC(f.toLowerCase().split(","),function(m){i.commands[a][m]=c})})},e.prototype.addCommand=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.exec[r]=function(f,m,y,w){return a.call(i||c.editor,m,y,w)}},e.prototype.queryCommandSupported=function(r){if(r=r.toLowerCase(),this.commands.exec[r])return!0;try{return this.editor.getDoc().queryCommandSupported(r)}catch{}return!1},e.prototype.addQueryStateHandler=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.state[r]=function(){return a.call(i||c.editor)}},e.prototype.addQueryValueHandler=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.value[r]=function(){return a.call(i||c.editor)}},e.prototype.hasCustomCommand=function(r){return r=r.toLowerCase(),!!this.commands.exec[r]},e.prototype.execNativeCommand=function(r,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(r,a,i)},e.prototype.isFormatMatch=function(r){return this.editor.formatter.match(r)},e.prototype.toggleFormat=function(r,a){this.editor.formatter.toggle(r,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(r){this.selectionBookmark=this.editor.selection.getBookmark(r)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":U,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},mceFocus:function(c,f,m){Ob(r,m)},"Cut,Copy,Paste":function(c){var f=r.getDoc(),m;try{a.execNativeCommand(c)}catch{m=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(m=!0),m||!f.queryCommandSupported(c)){var y=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Zt.mac&&(y=y.replace(/Ctrl\+/g,"⌘+")),r.notificationManager.open({text:y,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var c=r.dom.getParent(r.selection.getStart(),"a");c&&r.dom.remove(c,!0);return}r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),WC("left,center,right,justify".split(","),function(m){f!==m&&r.formatter.remove("align"+m)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;a.execNativeCommand(c);var m=r.dom.getParent(r.selection.getNode(),"ol,ul");m&&(f=m.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),r.dom.split(f,m),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){a.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,m){a.toggleFormat(c,{value:m})},FontName:function(c,f,m){YP(r,m)},FontSize:function(c,f,m){JP(r,m)},LineHeight:function(c,f,m){qR(r,m)},Lang:function(c,f,m){a.toggleFormat(c,{value:m.code,customValue:m.customCode})},RemoveFormat:function(c){r.formatter.remove(c)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(c,f,m){return a.toggleFormat(m||"p")},mceCleanup:function(){var c=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,m){var y=m||r.selection.getNode();y!==r.getBody()&&(a.storeSelection(),r.dom.remove(y,!0),a.restoreSelection())},mceSelectNodeDepth:function(c,f,m){var y=0;r.dom.getParent(r.selection.getNode(),function(w){if(w.nodeType===1&&y++===m)return r.selection.select(w),!1},r.getBody())},mceSelectNode:function(c,f,m){r.selection.select(m)},mceInsertContent:function(c,f,m){r7(r,m)},mceInsertRawHTML:function(c,f,m){r.selection.setContent("tiny_mce_marker");var y=r.getContent();r.setContent(y.replace(/tiny_mce_marker/g,function(){return m}))},mceInsertNewLine:function(c,f,m){LE(r,m)},mceToggleFormat:function(c,f,m){a.toggleFormat(m)},mceSetContent:function(c,f,m){r.setContent(m)},"Indent,Outdent":function(c){xO(r,c)},mceRepaint:U,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(c,f,m){r.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,m){typeof m=="string"&&(m={href:m});var y=r.dom.getParent(r.selection.getNode(),"a");m.href=m.href.replace(/ /g,"%20"),(!y||!m.href)&&r.formatter.remove("link"),m.href&&r.formatter.apply("link",m,y)},selectAll:function(){var c=r.dom.getParent(r.selection.getStart(),qc);if(c){var f=r.dom.createRng();f.selectNodeContents(c),r.selection.setRng(f)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(c,f,m){return Ag(r,m),!0}});var i=function(c){return function(){var f=r.selection,m=f.isCollapsed()?[r.dom.getParent(f.getNode(),r.dom.isBlock)]:f.getSelectedBlocks(),y=n7(m,function(w){return!!r.formatter.matchNode(w,c)});return GR(y,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return a.isFormatMatch(c)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return wO(r)},"InsertUnorderedList,InsertOrderedList":function(c){var f=r.dom.getParent(r.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return ZP(r)},this),a.addQueryValueHandler("FontSize",function(){return QP(r)},this),a.addQueryValueHandler("LineHeight",function(){return e7(r)},this)},e}(),Km="data-mce-contenteditable",XR=function(e,r,a){b_(e,r)&&a===!1?y_(e,r):a&&zv(e,r)},qC=function(e,r,a){try{e.getDoc().execCommand(r,!1,String(a))}catch{}},GC=function(e,r){e.dom.contentEditable=r?"true":"false"},a7=function(e){je(pu(e,'*[contenteditable="true"]'),function(r){z(r,Km,"true"),GC(r,!1)})},o7=function(e){je(pu(e,"*["+Km+'="true"]'),function(r){_t(r,Km),GC(r,!0)})},YR=function(e){oe.from(e.selection.getNode()).each(function(r){r.removeAttribute("data-mce-selected")})},i7=function(e){e.selection.setRng(e.selection.getRng())},u7=function(e,r){var a=x.fromDom(e.getBody());XR(a,"mce-content-readonly",r),r?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),YR(e),e.readonly=!0,GC(a,!1),a7(a)):(e.readonly=!1,GC(a,!0),o7(a),qC(e,"StyleWithCSS",!1),qC(e,"enableInlineTableEditing",!1),qC(e,"enableObjectResizing",!1),U2(e)&&e.focus(),i7(e),e.nodeChanged())},Xm=function(e){return e.readonly},ZR=function(e){e.parser.addAttributeFilter("contenteditable",function(r){Xm(e)&&je(r,function(a){a.attr(Km,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Km,function(r){Xm(e)&&je(r,function(a){a.attr("contenteditable",a.attr(Km))})}),e.serializer.addTempAttr(Km)},s7=function(e){e.serializer?ZR(e):e.on("PreInit",function(){ZR(e)})},JR=function(e){return e.type==="click"},c7=function(e,r){var a=function(i){return an(i,x.fromDom(e.getBody()))};return ri(r,"a",a).bind(function(i){return ve(i,"href")})},l7=function(e,r){if(JR(r)&&!on.metaKeyPressed(r)){var a=x.fromDom(r.target);c7(e,a).each(function(i){if(r.preventDefault(),/^#/.test(i)){var c=e.dom.select(i+',[name="'+wt(i,"#")+'"]');c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},f7=function(e){e.on("ShowCaret",function(r){Xm(e)&&r.preventDefault()}),e.on("ObjectSelected",function(r){Xm(e)&&r.preventDefault()})},QR=mt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),KC=function(){function e(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Wt}return e.isNative=function(r){return!!QR[r.toLowerCase()]},e.prototype.fire=function(r,a){var i=r.toLowerCase(),c=Bt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[i];if(f)for(var m=0,y=f.length;m<y;m++){var w=f[m];if(!w.removed){if(w.once&&this.off(i,w.func),c.isImmediatePropagationStopped())return c;if(w.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},e.prototype.on=function(r,a,i,c){if(a===!1&&(a=Wt),a){var f={func:a,removed:!1};c&&mt.extend(f,c);for(var m=r.toLowerCase().split(" "),y=m.length;y--;){var w=m[y],R=this.bindings[w];R||(R=[],this.toggleEvent(w,!0)),i?R=ei([f],R,!0):R=ei(ei([],R,!0),[f],!1),this.bindings[w]=R}}return this},e.prototype.off=function(r,a){var i=this;if(r)for(var c=r.toLowerCase().split(" "),f=c.length;f--;){var m=c[f],y=this.bindings[m];if(!m)return xn(this.bindings,function(R,$){i.toggleEvent($,!1),delete i.bindings[$]}),this;if(y){if(!a)y.length=0;else{var w=lr(y,function(R){return R.func===a});y=w.fail,this.bindings[m]=y,je(w.pass,function(R){R.removed=!0})}y.length||(this.toggleEvent(r,!1),delete this.bindings[m])}}else xn(this.bindings,function(R,$){i.toggleEvent($,!1)}),this.bindings={};return this},e.prototype.once=function(r,a,i){return this.on(r,a,i,{once:!0})},e.prototype.has=function(r){return r=r.toLowerCase(),!(!this.bindings[r]||this.bindings[r].length===0)},e}(),Bw=function(e){return e._eventDispatcher||(e._eventDispatcher=new KC({scope:e,toggleEvent:function(r,a){KC.isNative(r)&&e.toggleNativeEvent&&e.toggleNativeEvent(r,a)}})),e._eventDispatcher},XC={fire:function(e,r,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return r;var c=Bw(i).fire(e,r);if(a!==!1&&i.parent)for(var f=i.parent();f&&!c.isPropagationStopped();)f.fire(e,c,!1),f=f.parent();return c},on:function(e,r,a){return Bw(this).on(e,r,a)},off:function(e,r){return Bw(this).off(e,r)},once:function(e,r){return Bw(this).once(e,r)},hasEventListeners:function(e){return Bw(this).has(e)}},YC=mo.DOM,Dg,ZC=function(e,r){if(r==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return e.getDoc().documentElement;var a=Xy(e);return a?(e.eventRoot||(e.eventRoot=YC.select(a)[0]),e.eventRoot):e.getBody()},d7=function(e){return!e.hidden&&!Xm(e)},eD=function(e,r,a){d7(e)?e.fire(r,a):Xm(e)&&l7(e,a)},tD=function(e,r){var a;if(e.delegates||(e.delegates={}),!(e.delegates[r]||e.removed)){var i=ZC(e,r);if(Xy(e)){if(Dg||(Dg={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Dg&&(xn(Dg,function(c,f){e.dom.unbind(ZC(e,f))}),Dg=null)})),Dg[r])return;a=function(c){for(var f=c.target,m=e.editorManager.get(),y=m.length;y--;){var w=m[y].getBody();(w===f||YC.isChildOf(f,w))&&eD(m[y],r,c)}},Dg[r]=a,YC.bind(i,r,a)}else a=function(c){eD(e,r,c)},YC.bind(i,r,a),e.delegates[r]=a}},rD=Lr(Lr({},XC),{bindPendingEventDelegates:function(){var e=this;mt.each(e._pendingNativeEvents,function(r){tD(e,r)})},toggleNativeEvent:function(e,r){var a=this;e==="focus"||e==="blur"||a.removed||(r?a.initialized?tD(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(ZC(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,r=e.getBody(),a=e.dom;e.delegates&&(xn(e.delegates,function(i,c){e.dom.unbind(ZC(e,c),c,i)}),delete e.delegates),!e.inline&&r&&a&&(r.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(r),a.unbind(e.getContainer()))}}),v7=["design","readonly"],Nw=function(e,r,a,i){var c=a[r.get()],f=a[i];try{f.activate()}catch(m){console.error("problem while activating editor mode "+i+":",m);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&u7(e,f.editorReadOnly),r.set(i),_0(e,i)},nD=function(e,r,a,i){if(i!==a.get()){if(!Sn(r,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?Nw(e,a,r,i):e.on("init",function(){return Nw(e,a,r,i)})}},aD=function(e,r,a){var i;if(qe(v7,r))throw new Error("Cannot override default mode "+r);return Lr(Lr({},e),(i={},i[r]=Lr(Lr({},a),{deactivate:function(){try{a.deactivate()}catch(c){console.error("problem while deactivating editor mode "+r+":",c)}}}),i))},p7=function(e){var r=os("design"),a=os({design:{activate:U,deactivate:U,editorReadOnly:!1},readonly:{activate:U,deactivate:U,editorReadOnly:!0}});return s7(e),f7(e),{isReadOnly:function(){return Xm(e)},set:function(i){return nD(e,a.get(),r,i)},get:function(){return r.get()},register:function(i,c){a.set(aD(a.get(),i,c))}}},JC=mt.each,QC=mt.explode,m7={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},oD=mt.makeMap("alt,ctrl,shift,meta,access"),h7=function(e){var r,a={};JC(QC(e.toLowerCase(),"+"),function(c){c in oD?a[c]=!0:/^[0-9]{2,}$/.test(c)?a.keyCode=parseInt(c,10):(a.charCode=c.charCodeAt(0),a.keyCode=m7[c]||c.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(r in oD)a[r]?i.push(r):a[r]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Zt.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Zt.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},ex=function(){function e(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;var a=this;r.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(JC(a.shortcuts,function(c){if(a.matchShortcut(i,c))return a.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(c),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(r,a,i,c){var f=this,m=f.normalizeCommandFunc(i);return JC(QC(mt.trim(r)),function(y){var w=f.createShortcut(y,a,m,c);f.shortcuts[w.id]=w}),!0},e.prototype.remove=function(r){var a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(r){var a=this,i=r;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:mt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(r,a,i,c){var f=mt.map(QC(r,">"),h7);return f[f.length-1]=mt.extend(f[f.length-1],{func:i,scope:c||this.editor}),mt.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(r){return r.altKey||r.ctrlKey||r.metaKey},e.prototype.isFunctionKey=function(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123},e.prototype.matchShortcut=function(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(r){return r.func?r.func.call(r.scope):null},e}(),g7=function(){var e={},r={},a={},i={},c={},f={},m={},y=function(R,$){return function(V,j){return R[V.toLowerCase()]=Lr(Lr({},j),{type:$})}},w=function(R,$){return i[R.toLowerCase()]=$};return{addButton:y(e,"button"),addGroupToolbarButton:y(e,"grouptoolbarbutton"),addToggleButton:y(e,"togglebutton"),addMenuButton:y(e,"menubutton"),addSplitButton:y(e,"splitbutton"),addMenuItem:y(r,"menuitem"),addNestedMenuItem:y(r,"nestedmenuitem"),addToggleMenuItem:y(r,"togglemenuitem"),addAutocompleter:y(a,"autocompleter"),addContextMenu:y(c,"contextmenu"),addContextToolbar:y(f,"contexttoolbar"),addContextForm:y(f,"contextform"),addSidebar:y(m,"sidebar"),addIcon:w,getAll:function(){return{buttons:e,menuItems:r,icons:i,popups:a,contextMenus:c,contextToolbars:f,sidebars:m}}}},az=function(){var e=g7();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Mg=mo.DOM,iD=mt.extend,y7=mt.each,oz=mt.resolve,b7=Zt.ie,tx=function(){function e(r,a,i){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,iD(this,rD),this.settings=oA(this,r,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(jf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),mo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ss.languageLoad=this.settings.language_load,Ss.baseURL=i.baseURL,this.id=r,this.setDirty(!1),this.documentBaseURI=new Fm(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new ex(this),this.editorCommands=new KR(this),this.settings.cache_suffix&&(Zt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:az(),styleSheetLoader:void 0,show:U,hide:U,enable:U,disable:U,isDisabled:Wt};var f=this,m=p7(f);this.mode=m,this.setMode=m.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=$n.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return e.prototype.render=function(){$P(this)},e.prototype.focus=function(r){this.execCommand("mceFocus",!1,r)},e.prototype.hasFocus=function(){return Bc(this)},e.prototype.execCallback=function(r){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var c=this,f=c.settings[r],m;if(f)return c.callbackLookup&&(m=c.callbackLookup[r])&&(f=m.func,m=m.scope),typeof f=="string"&&(m=f.replace(/\.\w+$/,""),m=m?oz(m):0,f=oz(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[r]={func:f,scope:m}),f.apply(m||c,a)},e.prototype.translate=function(r){return is.translate(r)},e.prototype.getParam=function(r,a,i){return xM(this,r,a,i)},e.prototype.hasPlugin=function(r,a){var i=qe(Zy(this).split(/[ ,]/),r);return i?a?ad.get(r)!==void 0:!0:!1},e.prototype.nodeChanged=function(r){this._nodeChangeDispatcher.nodeChanged(r)},e.prototype.addCommand=function(r,a,i){this.editorCommands.addCommand(r,a,i)},e.prototype.addQueryStateHandler=function(r,a,i){this.editorCommands.addQueryStateHandler(r,a,i)},e.prototype.addQueryValueHandler=function(r,a,i){this.editorCommands.addQueryValueHandler(r,a,i)},e.prototype.addShortcut=function(r,a,i,c){this.shortcuts.add(r,a,i,c)},e.prototype.execCommand=function(r,a,i,c){return this.editorCommands.execCommand(r,a,i,c)},e.prototype.queryCommandState=function(r){return this.editorCommands.queryCommandState(r)},e.prototype.queryCommandValue=function(r){return this.editorCommands.queryCommandValue(r)},e.prototype.queryCommandSupported=function(r){return this.editorCommands.queryCommandSupported(r)},e.prototype.show=function(){var r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(Mg.show(r.getContainer()),Mg.hide(r.id)),r.load(),r.fire("show"))},e.prototype.hide=function(){var r=this,a=r.getDoc();r.hidden||(b7&&a&&!r.inline&&a.execCommand("SelectAll"),r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(Mg.hide(r.getContainer()),Mg.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(r,a){this.fire("ProgressState",{state:r,time:a})},e.prototype.load=function(r){var a=this,i=a.getElement(),c;if(a.removed)return"";if(i){r=r||{},r.load=!0;var f=su(i)?i.value:i.innerHTML;return c=a.setContent(f,r),r.element=i,r.no_events||a.fire("LoadContent",r),r.element=i=null,c}},e.prototype.save=function(r){var a=this,i=a.getElement(),c,f;if(!(!i||!a.initialized||a.removed))return r=r||{},r.save=!0,r.element=i,c=r.content=a.getContent(r),r.no_events||a.fire("SaveContent",r),r.format==="raw"&&a.fire("RawSaveContent",r),c=r.content,su(i)?i.value=c:((r.is_removing||!a.inline)&&(i.innerHTML=c),(f=Mg.getParent(a.id,"form"))&&y7(f.elements,function(m){if(m.name===a.id)return m.value=c,!1})),r.element=i=null,r.set_dirty!==!1&&a.setDirty(!1),c},e.prototype.setContent=function(r,a){return Z3(this,r,a)},e.prototype.getContent=function(r){return Y3(this,r)},e.prototype.insertContent=function(r,a){a&&(r=iD({content:r},a)),this.execCommand("mceInsertContent",!1,r)},e.prototype.resetContent=function(r){r===void 0?Z3(this,this.startContent,{format:"raw"}):Z3(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(r){var a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var r=this;return r.container||(r.container=Mg.get(r.editorContainer||r.id+"_parent")),r.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Mg.get(this.id)),this.targetElm},e.prototype.getWin=function(){var r=this,a;return r.contentWindow||(a=r.iframeElement,a&&(r.contentWindow=a.contentWindow)),r.contentWindow},e.prototype.getDoc=function(){var r=this,a;return r.contentDocument||(a=r.getWin(),a&&(r.contentDocument=a.document)),r.contentDocument},e.prototype.getBody=function(){var r=this.getDoc();return this.bodyElement||(r?r.body:null)},e.prototype.convertURL=function(r,a,i){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",r,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:f.relative_urls?c.documentBaseURI.toRelative(r):(r=c.documentBaseURI.toAbsolute(r,f.remove_script_host),r)},e.prototype.addVisual=function(r){HP(this,r)},e.prototype.remove=function(){uM(this)},e.prototype.destroy=function(r){K4(this,r)},e.prototype.uploadImages=function(r){return this.editorUpload.uploadImages(r)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Cf=mo.DOM,_7=mt.explode,ov=mt.each,_c=mt.extend,Bg=0,uD=!1,rx,Ym=[],wc=[],w7=function(e){return e!=="length"},sD=function(e){var r=e.type;ov(Zm.get(),function(a){switch(r){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},iz=function(e){e!==uD&&(e?$n(window).on("resize scroll",sD):$n(window).off("resize scroll",sD),uD=e)},Ng=function(e){var r=wc;delete Ym[e.id];for(var a=0;a<Ym.length;a++)if(Ym[a]===e){Ym.splice(a,1);break}return wc=Xt(wc,function(i){return e!==i}),Zm.activeEditor===e&&(Zm.activeEditor=wc.length>0?wc[0]:null),Zm.focusedEditor===e&&(Zm.focusedEditor=null),r.length!==wc.length},k7=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Ng(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},C7=document.compatMode!=="CSS1Compat",Zm=Lr(Lr({},XC),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:$n,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:Ym,i18n:is,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,r,a,i="";a=Fm.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)r=c.base||c.baseURL,i=c.suffix;else{for(var f=document.getElementsByTagName("script"),m=0;m<f.length;m++){var y=f[m].src||"";if(y!==""){var w=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){w.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"));break}}}if(!r&&document.currentScript){var y=document.currentScript.src;y.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"))}}e.baseURL=new Fm(a).toAbsolute(r),e.documentBaseURL=a,e.baseURI=new Fm(e.baseURL),e.suffix=i,F2(e)},overrideDefaults:function(e){var r=e.base_url;r&&this._setBaseUrl(r);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&xn(i,function(c,f){Ss.PluginManager.urls[f]=c})},init:function(e){var r=this,a,i=mt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(V,j){return V.inline&&j.tagName.toLowerCase()in i},f=function(V){var j=V.id;return j||(j=Kn(V,"name").filter(function(re){return!Cf.get(re)}).getOrThunk(Cf.uniqueId),V.setAttribute("id",j)),j},m=function(V){var j=e[V];if(j)return j.apply(r,[])},y=function(V,j){return j.constructor===RegExp?j.test(V.className):Cf.hasClass(V,j)},w=function(V){var j=[];if(Zt.browser.isIE()&&Zt.browser.version.major<11)return oC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(C7)return oC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(V.types)return ov(V.types,function(ae){j=j.concat(Cf.select(ae.selector))}),j;if(V.selector)return Cf.select(V.selector);if(V.target)return[V.target];switch(V.mode){case"exact":var re=V.elements||"";re.length>0&&ov(_7(re),function(ae){var ie=Cf.get(ae);ie?j.push(ie):ov(document.forms,function(ue){ov(ue.elements,function(_e){_e.name===ae&&(ae="mce_editor_"+Bg++,Cf.setAttrib(_e,"id",ae),j.push(_e))})})});break;case"textareas":case"specific_textareas":ov(Cf.select("textarea"),function(ae){V.editor_deselector&&y(ae,V.editor_deselector)||(!V.editor_selector||y(ae,V.editor_selector))&&j.push(ae)});break}return j},R=function(V){a=V},$=function(){var V=0,j=[],re,ae=function(ie,ue,_e){var he=new tx(ie,ue,r);j.push(he),he.on("init",function(){++V===re.length&&R(j)}),he.targetElm=he.targetElm||_e,he.render()};if(Cf.unbind(window,"ready",$),m("onpageload"),re=$n.unique(w(e)),e.types){ov(e.types,function(ie){mt.each(re,function(ue){return Cf.is(ue,ie.selector)?(ae(f(ue),_c({},e,ie),ue),!1):!0})});return}mt.each(re,function(ie){k7(r.get(ie.id))}),re=mt.grep(re,function(ie){return!r.get(ie.id)}),re.length===0?R([]):ov(re,function(ie){c(e,ie)?oC("Could not initialize inline editor on invalid inline target element",ie):ae(f(ie),e,ie)})};return r.settings=e,Cf.bind(window,"ready",$),new Yi(function(V){a?V(a):R=function(j){V(j)}})},get:function(e){return arguments.length===0?wc.slice(0):ke(e)?rr(wc,function(r){return r.id===e}).getOr(null):Ue(e)&&wc[e]?wc[e]:null},add:function(e){var r=this,a=Ym[e.id];return a===e||(r.get(e.id)===null&&(w7(e.id)&&(Ym[e.id]=e),Ym.push(e),wc.push(e)),iz(!0),r.activeEditor=e,r.fire("AddEditor",{editor:e}),rx||(rx=function(i){var c=r.fire("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",rx))),e},createEditor:function(e,r){return this.add(new tx(e,r,this))},remove:function(e){var r=this,a,i;if(!e){for(a=wc.length-1;a>=0;a--)r.remove(wc[a]);return}if(ke(e)){ov(Cf.select(e),function(c){i=r.get(c.id),i&&r.remove(i)});return}return i=e,se(r.get(i.id))?null:(Ng(i)&&r.fire("RemoveEditor",{editor:i}),wc.length===0&&window.removeEventListener("beforeunload",rx),i.remove(),iz(wc.length>0),i)},execCommand:function(e,r,a){var i=this,c=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new tx(a,i.settings,i).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,r,a):!1},triggerSave:function(){ov(wc,function(e){e.save()})},addI18n:function(e,r){is.add(e,r)},translate:function(e){return is.translate(e)},setActive:function(e){var r=this.activeEditor;this.activeEditor!==e&&(r&&r.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:r})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Fm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Fm(this.baseURL)}});Zm.setup();var xf=Math.min,z1=Math.max,nx=Math.round,uz=function(e,r,a){var i=r.x,c=r.y,f=e.w,m=e.h,y=r.w,w=r.h,R=(a||"").split("");return R[0]==="b"&&(c+=w),R[1]==="r"&&(i+=y),R[0]==="c"&&(c+=nx(w/2)),R[1]==="c"&&(i+=nx(y/2)),R[3]==="b"&&(c-=m),R[4]==="r"&&(i-=f),R[3]==="c"&&(c-=nx(m/2)),R[4]==="c"&&(i-=nx(f/2)),A1(i,c,f,m)},x7=function(e,r,a,i){var c,f;for(f=0;f<i.length;f++)if(c=uz(e,r,i[f]),c.x>=a.x&&c.x+c.w<=a.w+a.x&&c.y>=a.y&&c.y+c.h<=a.h+a.y)return i[f];return null},cD=function(e,r,a){return A1(e.x-r,e.y-a,e.w+r*2,e.h+a*2)},lD=function(e,r){var a=z1(e.x,r.x),i=z1(e.y,r.y),c=xf(e.x+e.w,r.x+r.w),f=xf(e.y+e.h,r.y+r.h);return c-a<0||f-i<0?null:A1(a,i,c-a,f-i)},sz=function(e,r,a){var i=e.x,c=e.y,f=e.x+e.w,m=e.y+e.h,y=r.x+r.w,w=r.y+r.h,R=z1(0,r.x-i),$=z1(0,r.y-c),V=z1(0,f-y),j=z1(0,m-w);return i+=R,c+=$,a&&(f+=R,m+=$,i-=V,c-=j),f-=V,m-=j,A1(i,c,f-i,m-c)},A1=function(e,r,a,i){return{x:e,y:r,w:a,h:i}},S7=function(e){return A1(e.left,e.top,e.width,e.height)},T7={inflate:cD,relativePosition:uz,findBestRelativePosition:x7,intersect:lD,clamp:sz,create:A1,fromClientRect:S7},E7=function(e,r,a){a===void 0&&(a=1e3);var i=!1,c=null,f=function(R){return function(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];i||(i=!0,c!==null&&(clearTimeout(c),c=null),R.apply(null,$))}},m=f(e),y=f(r),w=function(){for(var R=[],$=0;$<arguments.length;$++)R[$]=arguments[$];!i&&c===null&&(c=setTimeout(function(){return y.apply(null,R)},a))};return{start:w,resolve:m,reject:y}},z7=function(){var e={},r={},a=function(c,f){var m='Script at URL "'+f+'" failed to load',y='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(e[c]!==void 0)return e[c];var w=new Yi(function(R,$){var V=E7(R,$);r[c]=V.resolve,jf.ScriptLoader.loadScript(f,function(){return V.start(y)},function(){return V.reject(m)})});return e[c]=w,w},i=function(c,f){r[c]!==void 0&&(r[c](f),delete r[c]),e[c]=Yi.resolve(f)};return{load:a,add:i}},fD=z7(),Pw=mt.each,A7=mt.extend,cz,lz,dD=function(){};dD.extend=cz=function(e){var r=this,a=r.prototype,i=function(){var y,w,R,$=this;if(!lz&&($.init&&$.init.apply($,arguments),w=$.Mixins,w))for(y=w.length;y--;)R=w[y],R.init&&R.init.apply($,arguments)},c=function(){return this},f=function(y,w){return function(){var R=this,$=R._super;R._super=a[y];var V=w.apply(R,arguments);return R._super=$,V}};lz=!0;var m=new r;return lz=!1,e.Mixins&&(Pw(e.Mixins,function(y){for(var w in y)w!=="init"&&(e[w]=y[w])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Pw(e.Methods.split(","),function(y){e[y]=c}),e.Properties&&Pw(e.Properties.split(","),function(y){var w="_"+y;e[y]=function(R){var $=this;return R!==void 0?($[w]=R,$):$[w]}}),e.Statics&&Pw(e.Statics,function(y,w){i[w]=y}),e.Defaults&&a.Defaults&&(e.Defaults=A7({},a.Defaults,e.Defaults)),xn(e,function(y,w){typeof y=="function"&&a[w]?m[w]=f(w,y):m[w]=y}),i.prototype=m,i.constructor=i,i.extend=cz,i};var ax=Math.min,ox=Math.max,Jm=Math.round,fz=function(e){var r={},a=0,i=0,c=0,f=function(V,j,re){var ae,ie,ue;ae=0,ie=0,ue=0,V=V/255,j=j/255,re=re/255;var _e=ax(V,ax(j,re)),he=ox(V,ox(j,re));if(_e===he)return ue=_e,{h:0,s:0,v:ue*100};var Xe=V===_e?j-re:re===_e?V-j:re-V;return ae=V===_e?3:re===_e?1:5,ae=60*(ae-Xe/(he-_e)),ie=(he-_e)/he,ue=he,{h:Jm(ae),s:Jm(ie*100),v:Jm(ue*100)}},m=function(V,j,re){if(V=(parseInt(V,10)||0)%360,j=parseInt(j,10)/100,re=parseInt(re,10)/100,j=ox(0,ax(j,1)),re=ox(0,ax(re,1)),j===0){a=i=c=Jm(255*re);return}var ae=V/60,ie=re*j,ue=ie*(1-Math.abs(ae%2-1)),_e=re-ie;switch(Math.floor(ae)){case 0:a=ie,i=ue,c=0;break;case 1:a=ue,i=ie,c=0;break;case 2:a=0,i=ie,c=ue;break;case 3:a=0,i=ue,c=ie;break;case 4:a=ue,i=0,c=ie;break;case 5:a=ie,i=0,c=ue;break;default:a=i=c=0}a=Jm(255*(a+_e)),i=Jm(255*(i+_e)),c=Jm(255*(c+_e))},y=function(){var V=function(j){return j=parseInt(j,10).toString(16),j.length>1?j:"0"+j};return"#"+V(a)+V(i)+V(c)},w=function(){return{r:a,g:i,b:c}},R=function(){return f(a,i,c)},$=function(V){var j;return typeof V=="object"?"r"in V?(a=V.r,i=V.g,c=V.b):"v"in V&&m(V.h,V.s,V.v):(j=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(V))?(a=parseInt(j[1],10),i=parseInt(j[2],10),c=parseInt(j[3],10)):(j=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(V))?(a=parseInt(j[1],16),i=parseInt(j[2],16),c=parseInt(j[3],16)):(j=/#([0-F])([0-F])([0-F])/gi.exec(V))&&(a=parseInt(j[1]+j[1],16),i=parseInt(j[2]+j[2],16),c=parseInt(j[3]+j[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,c=c<0?0:c>255?255:c,r};return e&&$(e),r.toRgb=w,r.toHsv=R,r.toHex=y,r.parse=$,r},vD=function(e){var r=JSON.stringify(e);return ke(r)?r.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):r},dz={serialize:vD,parse:function(e){try{return JSON.parse(e)}catch{}}},O7={callbacks:{},count:0,send:function(e){var r=this,a=mo.DOM,i=e.count!==void 0?e.count:r.count,c="tinymce_jsonp_"+i;r.callbacks[i]=function(f){a.remove(c),delete r.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:c,src:e.url,type:"text/javascript"}),r.count++}},O1=Lr(Lr({},XC),{send:function(e){var r,a=0,i=function(){!e.async||r.readyState===4||a++>1e4?(e.success&&a<1e4&&r.status===200?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):Au.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",O1.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&mt.each(e.requestheaders,function(c){r.setRequestHeader(c.key,c.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=O1.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return i();Au.setTimeout(i,10)}}),vz=mt.extend,R7=function(){function e(r){this.settings=vz({},r),this.count=0}return e.sendRPC=function(r){return new e().send(r)},e.prototype.send=function(r){var a=r.error,i=r.success,c=vz(this.settings,r);c.success=function(f,m){f=dz.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(c.error_scope||c.scope,f.error,m):i.call(c.success_scope||c.scope,f.result)},c.error=function(f,m){a&&a.call(c.error_scope||c.scope,f,m)},c.data=dz.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),c.content_type="application/json",O1.send(c)},e}(),D7=function(){return function(){var e={},r=[],a={getItem:function(i){var c=e[i];return c||null},setItem:function(i,c){r.push(i),e[i]=String(c)},key:function(i){return r[i]},removeItem:function(i){r=r.filter(function(c){return c===i}),delete e[i]},clear:function(){r=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return r.length},configurable:!1,enumerable:!1}),a}()},Fw;try{var pz="__storage_test__";Fw=window.localStorage,Fw.setItem(pz,pz),Fw.removeItem(pz)}catch{Fw=D7()}var M7=Fw,B7={geom:{Rect:T7},util:{Promise:Yi,Delay:Au,Tools:mt,VK:on,URI:Fm,Class:dD,EventDispatcher:KC,Observable:XC,I18n:is,XHR:O1,JSON:dz,JSONRequest:R7,JSONP:O7,LocalStorage:M7,Color:fz,ImageUploader:LM},dom:{EventUtils:Bp,Sizzle:Ya,DomQuery:$n,TreeWalker:Ua,TextSeeker:C_,DOMUtils:mo,ScriptLoader:jf,RangeUtils:Xh,Serializer:MT,StyleSheetLoader:Zw,ControlSelection:C0,BookmarkManager:Gd,Selection:o1,Event:Bp.Event},html:{Styles:Qc,Entities:cc,Node:Nc,Schema:lc,SaxParser:AT,DomParser:X3,Writer:Y0,Serializer:Qv},Env:Zt,AddOnManager:Ss,Annotator:gb,Formatter:ai,UndoManager:xA,EditorCommands:KR,WindowManager:FT,NotificationManager:dA,EditorObservable:rD,Shortcuts:ex,Editor:tx,FocusManager:R2,EditorManager:Zm,DOM:mo.DOM,ScriptLoader:jf.ScriptLoader,PluginManager:ad,ThemeManager:Im,IconManager:nC,Resource:fD,trim:mt.trim,isArray:mt.isArray,is:mt.is,toArray:mt.toArray,makeMap:mt.makeMap,each:mt.each,map:mt.map,grep:mt.grep,inArray:mt.inArray,extend:mt.extend,create:mt.create,walk:mt.walk,createNS:mt.createNS,resolve:mt.resolve,explode:mt.explode,_addCacheSuffix:mt._addCacheSuffix,isOpera:Zt.opera,isWebKit:Zt.webkit,isIE:Zt.ie,isGecko:Zt.gecko,isMac:Zt.mac},pD=mt.extend(Zm,B7),N7=function(e){try{I.exports=e}catch{}},P7=function(e){window.tinymce=e,window.tinyMCE=e};P7(pD),N7(pD)})()})(JG);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),B=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=function(xe){return xe.getParam("allow_html_in_named_anchor",!1,"boolean")},ee="a:not([href])",me=function(xe){return!xe},Be=function(xe){var Z=xe.getAttribute("id")||xe.getAttribute("name");return Z||""},we=function(xe){return xe&&xe.nodeName.toLowerCase()==="a"},ge=function(xe){return we(xe)&&!xe.getAttribute("href")&&Be(xe)!==""},It=function(xe){return ge(xe)&&!xe.firstChild},rt=function(xe){var Z=xe.dom;S(Z).walk(xe.selection.getRng(),function(X){B.each(X,function(Lt){It(Lt)&&Z.remove(Lt,!1)})})},He=function(xe){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(xe)},at=function(xe){return xe.dom.getParent(xe.selection.getStart(),ee)},hr=function(xe){var Z=at(xe);return Z?Be(Z):""},Qe=function(xe,Z){xe.undoManager.transact(function(){N(xe)||xe.selection.collapse(!0),xe.selection.isCollapsed()?xe.insertContent(xe.dom.createHTML("a",{id:Z})):(rt(xe),xe.formatter.remove("namedAnchor",null,null,!0),xe.formatter.apply("namedAnchor",{value:Z}),xe.addVisual())})},ut=function(xe,Z,X){X.removeAttribute("name"),X.id=Z,xe.addVisual(),xe.undoManager.add()},ke=function(xe,Z){var X=at(xe);X?ut(xe,Z,X):Qe(xe,Z),xe.focus()},J=function(xe,Z){return He(Z)?(ke(xe,Z),!0):(xe.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},Fe=function(xe){var Z=hr(xe);xe.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Z},onSubmit:function(X){J(xe,X.getData().id)&&X.close()}})},se=function(xe){xe.addCommand("mceAnchor",function(){Fe(xe)})},Ye=function(xe){return xe&&me(xe.attr("href"))&&!me(xe.attr("id")||xe.attr("name"))},ze=function(xe){return Ye(xe)&&!xe.firstChild},$e=function(xe){return function(Z){for(var X=0;X<Z.length;X++){var Lt=Z[X];ze(Lt)&&Lt.attr("contenteditable",xe)}}},Ge=function(xe){xe.on("PreInit",function(){xe.parser.addNodeFilter("a",$e("false")),xe.serializer.addNodeFilter("a",$e(null))})},ce=function(xe){xe.formatter.register("namedAnchor",{inline:"a",selector:ee,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(Z,X,Lt){return ge(Z)}})},Ue=function(xe){xe.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return xe.execCommand("mceAnchor")},onSetup:function(Z){return xe.selection.selectorChangedWithUnbind("a:not([href])",Z.setActive).unbind}}),xe.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return xe.execCommand("mceAnchor")}})};function U(){I.add("anchor",function(xe){Ge(xe),se(xe),Ue(xe),xe.on("PreInit",function(){ce(xe)})})}U()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(ce,Ue,U){return ce.length>=Ue.length&&ce.substr(U,U+Ue.length)===Ue},B=function(ce,Ue){return ce.indexOf(Ue)!==-1},N=function(ce,Ue){return S(ce,Ue,0)},ee=tinymce.util.Tools.resolve("tinymce.Env"),me=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},Be=new RegExp("^"+me().source+"$","i"),we=function(ce){return ce.getParam("autolink_pattern",Be)},ge=function(ce){return ce.getParam("default_link_target",!1)},It=function(ce){return ce.getParam("link_default_protocol","http","string")},rt=function(ce){return/^[(\[{ \u00a0]$/.test(ce)},He=function(ce){return ce.nodeType===3},at=function(ce){return ce.nodeType===1},hr=function(ce){return ze(ce,-1)},Qe=function(ce){return ze(ce,0)},ut=function(ce){return ze(ce,-1)},ke=function(ce,Ue){if(Ue<0&&(Ue=0),He(ce)){var U=ce.data.length;Ue>U&&(Ue=U)}return Ue},J=function(ce,Ue,U){!at(Ue)||Ue.hasChildNodes()?ce.setStart(Ue,ke(Ue,U)):ce.setStartBefore(Ue)},Fe=function(ce,Ue,U){!at(Ue)||Ue.hasChildNodes()?ce.setEnd(Ue,ke(Ue,U)):ce.setEndAfter(Ue)},se=function(ce){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(ce)},Ye=function(ce){return/[?!,.;:]/.test(ce)},ze=function(ce,Ue){var U,xe,Z,X,Lt,fn,St,Xn=we(ce),pn=ge(ce);if(ce.dom.getParent(ce.selection.getNode(),"a[href]")===null){var O=ce.selection.getRng().cloneRange();if(O.startOffset<5){if(Lt=O.endContainer.previousSibling,!Lt){if(!O.endContainer.firstChild||!O.endContainer.firstChild.nextSibling)return;Lt=O.endContainer.firstChild.nextSibling}if(fn=Lt.length,J(O,Lt,fn),Fe(O,Lt,fn),O.endOffset<5)return;U=O.endOffset,xe=Lt}else{if(xe=O.endContainer,!He(xe)&&xe.firstChild){for(;!He(xe)&&xe.firstChild;)xe=xe.firstChild;He(xe)&&(J(O,xe,0),Fe(O,xe,xe.nodeValue.length))}O.endOffset===1?U=2:U=O.endOffset-1-Ue}var On=U;do J(O,xe,U>=2?U-2:0),Fe(O,xe,U>=1?U-1:0),U-=1,St=O.toString();while(!rt(St)&&U-2>=0);rt(O.toString())?(J(O,xe,U),Fe(O,xe,On),U+=1):O.startOffset===0?(J(O,xe,0),Fe(O,xe,On)):(J(O,xe,U),Fe(O,xe,On)),X=O.toString(),Ye(X.charAt(X.length-1))&&Fe(O,xe,On-1),X=O.toString().trim();var Wt=X.match(Xn),ur=It(ce);if(Wt){var ya=Wt[0];N(ya,"www.")?ya=ur+"://"+ya:B(ya,"@")&&!se(ya)&&(ya="mailto:"+ya),Z=ce.selection.getBookmark(),ce.selection.setRng(O),ce.execCommand("createlink",!1,ya),pn!==!1&&ce.dom.setAttrib(ce.selection.getNode(),"target",pn),ce.selection.moveToBookmark(Z),ce.nodeChanged()}}},$e=function(ce){var Ue;if(ce.on("keydown",function(U){if(U.keyCode===13)return ut(ce)}),ee.browser.isIE()){ce.on("focus",function(){if(!Ue){Ue=!0;try{ce.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}ce.on("keypress",function(U){if(U.keyCode===41||U.keyCode===93||U.keyCode===125)return hr(ce)}),ce.on("keyup",function(U){if(U.keyCode===32)return Qe(ce)})};function Ge(){I.add("autolink",function(ce){$e(ce)})}Ge()})();(function(){var I=function(ze){var $e=ze,Ge=function(){return $e},ce=function(Ue){$e=Ue};return{get:Ge,set:ce}},S=Object.hasOwnProperty,B=function(ze,$e){return S.call(ze,$e)},N=tinymce.util.Tools.resolve("tinymce.PluginManager"),ee=tinymce.util.Tools.resolve("tinymce.Env"),me=tinymce.util.Tools.resolve("tinymce.util.Delay"),Be=function(ze){return ze.fire("ResizeEditor")},we=function(ze){return ze.getParam("min_height",ze.getElement().offsetHeight,"number")},ge=function(ze){return ze.getParam("max_height",0,"number")},It=function(ze){return ze.getParam("autoresize_overflow_padding",1,"number")},rt=function(ze){return ze.getParam("autoresize_bottom_margin",50,"number")},He=function(ze){return ze.getParam("autoresize_on_init",!0,"boolean")},at=function(ze){return ze.plugins.fullscreen&&ze.plugins.fullscreen.isFullscreen()},hr=function(ze,$e,Ge,ce,Ue){me.setEditorTimeout(ze,function(){J(ze,$e),Ge--?hr(ze,$e,Ge,ce,Ue):Ue&&Ue()},ce)},Qe=function(ze,$e){var Ge=ze.getBody();Ge&&(Ge.style.overflowY=$e?"":"hidden",$e||(Ge.scrollTop=0))},ut=function(ze,$e,Ge,ce){var Ue=parseInt(ze.getStyle($e,Ge,ce),10);return isNaN(Ue)?0:Ue},ke=function(ze){if((ze==null?void 0:ze.type.toLowerCase())==="setcontent"){var $e=ze;return $e.selection===!0||$e.paste===!0}else return!1},J=function(ze,$e,Ge){var ce=ze.dom,Ue=ze.getDoc();if(Ue){if(at(ze)){Qe(ze,!0);return}var U=Ue.documentElement,xe=rt(ze),Z=we(ze),X=ut(ce,U,"margin-top",!0),Lt=ut(ce,U,"margin-bottom",!0),fn=U.offsetHeight+X+Lt+xe;fn<0&&(fn=0);var St=ze.getContainer().offsetHeight,Xn=ze.getContentAreaContainer().offsetHeight,pn=St-Xn;fn+pn>we(ze)&&(Z=fn+pn);var O=ge(ze);if(O&&Z>O?(Z=O,Qe(ze,!0)):Qe(ze,!1),Z!==$e.get()){var On=Z-$e.get();if(ce.setStyle(ze.getContainer(),"height",Z+"px"),$e.set(Z),Be(ze),ee.browser.isSafari()&&ee.mac){var Wt=ze.getWin();Wt.scrollTo(Wt.pageXOffset,Wt.pageYOffset)}ze.hasFocus()&&ke(Ge)&&ze.selection.scrollIntoView(),ee.webkit&&On<0&&J(ze,$e,Ge)}}},Fe=function(ze,$e){ze.on("init",function(){var Ge=It(ze),ce=ze.dom;ce.setStyles(ze.getDoc().documentElement,{height:"auto"}),ce.setStyles(ze.getBody(),{paddingLeft:Ge,paddingRight:Ge,"min-height":0})}),ze.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(Ge){J(ze,$e,Ge)}),He(ze)&&ze.on("init",function(){hr(ze,$e,20,100,function(){hr(ze,$e,5,1e3)})})},se=function(ze,$e){ze.addCommand("mceAutoResize",function(){J(ze,$e)})};function Ye(){N.add("autoresize",function(ze){if(B(ze.settings,"resize")||(ze.settings.resize=!1),!ze.inline){var $e=I(0);se(ze,$e),Fe(ze,$e)}})}Ye()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(be,Ne){return be.fire("insertCustomChar",{chr:Ne})},B=function(be,Ne){var je=S(be,Ne).chr;be.execCommand("mceInsertContent",!1,je)},N=function(be){var Ne=typeof be;return be===null?"null":Ne==="object"&&(Array.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="Array")?"array":Ne==="object"&&(String.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="String")?"string":Ne},ee=function(be){return function(Ne){return N(Ne)===be}},me=function(be){return function(Ne){return be===Ne}},Be=ee("array"),we=me(null),ge=function(){},It=function(be){return function(){return be}},rt=function(be){return be},He=It(!1),at=It(!0),hr=function(){return Qe},Qe=function(){var be=function(Nt){return Nt()},Ne=rt,je={fold:function(Nt,lr){return Nt()},isSome:He,isNone:at,getOr:Ne,getOrThunk:be,getOrDie:function(Nt){throw new Error(Nt||"error: getOrDie called on none.")},getOrNull:It(null),getOrUndefined:It(void 0),or:Ne,orThunk:be,map:hr,each:ge,bind:hr,exists:He,forall:at,filter:function(){return hr()},toArray:function(){return[]},toString:It("none()")};return je}(),ut=function(be){var Ne=It(be),je=function(){return lr},Nt=function(Xt){return Xt(be)},lr={fold:function(Xt,Pr){return Pr(be)},isSome:at,isNone:He,getOr:Ne,getOrThunk:Ne,getOrDie:Ne,getOrNull:Ne,getOrUndefined:Ne,or:je,orThunk:je,map:function(Xt){return ut(Xt(be))},each:function(Xt){Xt(be)},bind:Nt,exists:Nt,forall:Nt,filter:function(Xt){return Xt(be)?lr:Qe},toArray:function(){return[be]},toString:function(){return"some("+be+")"}};return lr},ke=function(be){return be==null?Qe:ut(be)},J={some:ut,none:hr,from:ke},Fe=Array.prototype.push,se=function(be,Ne){for(var je=be.length,Nt=new Array(je),lr=0;lr<je;lr++){var Xt=be[lr];Nt[lr]=Ne(Xt,lr)}return Nt},Ye=function(be,Ne){for(var je=0,Nt=be.length;je<Nt;je++){var lr=be[je];Ne(lr,je)}},ze=function(be,Ne,je){for(var Nt=0,lr=be.length;Nt<lr;Nt++){var Xt=be[Nt];if(Ne(Xt,Nt))return J.some(Xt);if(je(Xt,Nt))break}return J.none()},$e=function(be,Ne){return ze(be,Ne,He)},Ge=function(be){for(var Ne=[],je=0,Nt=be.length;je<Nt;++je){if(!Be(be[je]))throw new Error("Arr.flatten item "+je+" was not an array, input: "+be);Fe.apply(Ne,be[je])}return Ne},ce=function(be,Ne){return Ge(se(be,Ne))},Ue=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=function(be){return be.getParam("charmap")},xe=function(be){return be.getParam("charmap_append")},Z=Ue.isArray,X="User Defined",Lt=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},fn=function(be){return Ue.grep(be,function(Ne){return Z(Ne)&&Ne.length===2})},St=function(be){return Z(be)?fn(be):typeof be=="function"?be():[]},Xn=function(be,Ne){var je=U(be);je&&(Ne=[{name:X,characters:St(je)}]);var Nt=xe(be);if(Nt){var lr=Ue.grep(Ne,function(Xt){return Xt.name===X});return lr.length?(lr[0].characters=[].concat(lr[0].characters).concat(St(Nt)),Ne):Ne.concat({name:X,characters:St(Nt)})}return Ne},pn=function(be){var Ne=Xn(be,Lt());return Ne.length>1?[{name:"All",characters:ce(Ne,function(je){return je.characters})}].concat(Ne):Ne},O=function(be){var Ne=function(){return pn(be)},je=function(Nt){B(be,Nt)};return{getCharMap:Ne,insertChar:je}},On=function(be){var Ne=be,je=function(){return Ne},Nt=function(lr){Ne=lr};return{get:je,set:Nt}},Wt=function(be,Ne){var je=null,Nt=function(){we(je)||(clearTimeout(je),je=null)},lr=function(){for(var Xt=[],Pr=0;Pr<arguments.length;Pr++)Xt[Pr]=arguments[Pr];Nt(),je=setTimeout(function(){je=null,be.apply(null,Xt)},Ne)};return{cancel:Nt,throttle:lr}},ur=String.fromCodePoint,ya=function(be,Ne){return be.indexOf(Ne)!==-1},vo=function(){for(var be=[],Ne=0;Ne<arguments.length;Ne++)be[Ne]=arguments[Ne];if(ur)return ur.apply(void 0,be);for(var je=[],Nt=0,lr="",Xt=0,Pr=be.length;Xt!==Pr;++Xt){var it=+be[Xt];if(!(it<1114111&&it>>>0===it))throw RangeError("Invalid code point: "+it);it<=65535?Nt=je.push(it):(it-=65536,Nt=je.push((it>>10)+55296,it%1024+56320)),Nt>=16383&&(lr+=String.fromCharCode.apply(null,je),je.length=0)}return lr+String.fromCharCode.apply(null,je)},dn=function(be,Ne,je){return ya(vo(be).toLowerCase(),je)?!0:ya(Ne.toLowerCase(),je)||ya(Ne.toLowerCase().replace(/\s+/g,""),je)},fa=function(be,Ne){var je=[],Nt=Ne.toLowerCase();return Ye(be.characters,function(lr){dn(lr[0],lr[1],Nt)&&je.push(lr)}),se(je,function(lr){return{text:lr[1],value:vo(lr[0]),icon:vo(lr[0])}})},oe="pattern",Xa=function(be,Ne){var je=function(){return[{label:"Search",type:"input",name:oe},{type:"collection",name:"results"}]},Nt=function(){return se(Ne,function(Yn){return{title:Yn.name,name:Yn.name,items:je()}})},lr=function(){return{type:"panel",items:je()}},Xt=function(){return{type:"tabpanel",tabs:Nt()}},Pr=Ne.length===1?On(X):On("All"),it=function(Yn,Ta){$e(Ne,function(ba){return ba.name===Pr.get()}).each(function(ba){var Zn=fa(ba,Ta);Yn.setData({results:Zn})})},st=40,rr=Wt(function(Yn){var Ta=Yn.getData().pattern;it(Yn,Ta)},st),Rr=Ne.length===1?lr():Xt(),sn={pattern:"",results:fa(Ne[0],"")},wn={title:"Special Character",size:"normal",body:Rr,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:sn,onAction:function(Yn,Ta){Ta.name==="results"&&(B(be,Ta.value),Yn.close())},onTabChange:function(Yn,Ta){Pr.set(Ta.newTabName),rr.throttle(Yn)},onChange:function(Yn,Ta){Ta.name===oe&&rr.throttle(Yn)}},Gn=be.windowManager.open(wn);Gn.focus(oe)},$t=function(be,Ne){be.addCommand("mceShowCharmap",function(){Xa(be,Ne)})},Ze=tinymce.util.Tools.resolve("tinymce.util.Promise"),Sr=function(be,Ne){be.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(je,Nt){return new Ze(function(lr,Xt){lr(fa(Ne,je))})},onAction:function(je,Nt,lr){be.selection.setRng(Nt),be.insertContent(lr),je.hide()}})},et=function(be){be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return be.execCommand("mceShowCharmap")}}),be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return be.execCommand("mceShowCharmap")}})};function qe(){I.add("charmap",function(be){var Ne=pn(be);return $t(be,Ne),et(be),Sr(be,Ne[0]),O(be)})}qe()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function S(){I.add("colorpicker",function(){})}S()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function S(){I.add("contextmenu",function(){})}S()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(it){return function(st){return it===st}},B=S(null),N=function(){},ee=function(it){return function(){return it}},me=function(it){return it},Be=ee(!1),we=ee(!0),ge=function(){return It},It=function(){var it=function(Rr){return Rr()},st=me,rr={fold:function(Rr,sn){return Rr()},isSome:Be,isNone:we,getOr:st,getOrThunk:it,getOrDie:function(Rr){throw new Error(Rr||"error: getOrDie called on none.")},getOrNull:ee(null),getOrUndefined:ee(void 0),or:st,orThunk:it,map:ge,each:N,bind:ge,exists:Be,forall:we,filter:function(){return ge()},toArray:function(){return[]},toString:ee("none()")};return rr}(),rt=function(it){var st=ee(it),rr=function(){return sn},Rr=function(wn){return wn(it)},sn={fold:function(wn,Gn){return Gn(it)},isSome:we,isNone:Be,getOr:st,getOrThunk:st,getOrDie:st,getOrNull:st,getOrUndefined:st,or:rr,orThunk:rr,map:function(wn){return rt(wn(it))},each:function(wn){wn(it)},bind:Rr,exists:Rr,forall:Rr,filter:function(wn){return wn(it)?sn:It},toArray:function(){return[it]},toString:function(){return"some("+it+")"}};return sn},He=function(it){return it==null?It:rt(it)},at={some:rt,none:ge,from:He},hr=function(it,st){for(var rr=0,Rr=it.length;rr<Rr;rr++){var sn=it[rr];if(st(sn,rr))return!0}return!1},Qe=function(it,st){for(var rr=it.length,Rr=new Array(rr),sn=0;sn<rr;sn++){var wn=it[sn];Rr[sn]=st(wn,sn)}return Rr},ut=function(it,st){for(var rr=0,Rr=it.length;rr<Rr;rr++){var sn=it[rr];st(sn,rr)}},ke=function(it){var st=it,rr=function(){return st},Rr=function(sn){st=sn};return{get:rr,set:Rr}},J=function(it,st){var rr=null,Rr=function(){B(rr)||(clearTimeout(rr),rr=null)},sn=function(){for(var wn=[],Gn=0;Gn<arguments.length;Gn++)wn[Gn]=arguments[Gn];Rr(),rr=setTimeout(function(){rr=null,it.apply(null,wn)},st)};return{cancel:Rr,throttle:sn}},Fe=function(it,st){it.insertContent(st)},se=function(){return se=Object.assign||function(st){for(var rr,Rr=1,sn=arguments.length;Rr<sn;Rr++){rr=arguments[Rr];for(var wn in rr)Object.prototype.hasOwnProperty.call(rr,wn)&&(st[wn]=rr[wn])}return st},se.apply(this,arguments)},Ye=Object.keys,ze=Object.hasOwnProperty,$e=function(it,st){for(var rr=Ye(it),Rr=0,sn=rr.length;Rr<sn;Rr++){var wn=rr[Rr],Gn=it[wn];st(Gn,wn)}},Ge=function(it,st){return ce(it,function(rr,Rr){return{k:Rr,v:st(rr,Rr)}})},ce=function(it,st){var rr={};return $e(it,function(Rr,sn){var wn=st(Rr,sn);rr[wn.k]=wn.v}),rr},Ue=function(it,st){return ze.call(it,st)},U=function(it,st){return st},xe=function(it){return function(){for(var st=[],rr=0;rr<arguments.length;rr++)st[rr]=arguments[rr];if(st.length===0)throw new Error("Can't merge zero objects");for(var Rr={},sn=0;sn<st.length;sn++){var wn=st[sn];for(var Gn in wn)Ue(wn,Gn)&&(Rr[Gn]=it(Rr[Gn],wn[Gn]))}return Rr}},Z=xe(U),X=function(it){var st=ke(at.none()),rr=function(){return st.get().each(it)},Rr=function(){rr(),st.set(at.none())},sn=function(){return st.get().isSome()},wn=function(){return st.get()},Gn=function(Yn){rr(),st.set(at.some(Yn))};return{clear:Rr,isSet:sn,get:wn,set:Gn}},Lt=function(){var it=X(N),st=function(rr){return it.get().each(rr)};return se(se({},it),{on:st})},fn=function(it,st,rr){return st===""||it.length>=st.length&&it.substr(rr,rr+st.length)===st},St=function(it,st){return it.indexOf(st)!==-1},Xn=function(it,st){return fn(it,st,0)},pn=tinymce.util.Tools.resolve("tinymce.Resource"),O=tinymce.util.Tools.resolve("tinymce.util.Delay"),On=tinymce.util.Tools.resolve("tinymce.util.Promise"),Wt="tinymce.plugins.emoticons",ur=function(it){return it.getParam("emoticons_database","emojis","string")},ya=function(it,st){var rr=ur(it);return it.getParam("emoticons_database_url",st+"/js/"+rr+it.suffix+".js","string")},vo=function(it){return it.getParam("emoticons_database_id",Wt,"string")},dn=function(it){return it.getParam("emoticons_append",{},"object")},fa=function(it){return it.getParam("emoticons_images_url","https://twemoji.maxcdn.com/v/13.0.1/72x72/","string")},oe="All",Xa={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},$t=function(it,st){return Ue(it,st)?it[st]:st},Ze=function(it){var st=dn(it);return Ge(st,function(rr){return se({keywords:[],category:"user"},rr)})},Sr=function(it,st,rr){var Rr=Lt(),sn=Lt(),wn=fa(it),Gn=function(Rn){return Xn(Rn.char,"<img")?Rn.char.replace(/src="([^"]+)"/,function(kn,Ka){return'src="'+wn+Ka+'"'}):Rn.char},Yn=function(Rn){var kn={},Ka=[];$e(Rn,function(ao,Ca){var xn={title:Ca,keywords:ao.keywords,char:Gn(ao),category:$t(Xa,ao.category)},Co=kn[xn.category]!==void 0?kn[xn.category]:[];kn[xn.category]=Co.concat([xn]),Ka.push(xn)}),Rr.set(kn),sn.set(Ka)};it.on("init",function(){pn.load(rr,st).then(function(Rn){var kn=Ze(it);Yn(Z(Rn,kn))},function(Rn){console.log("Failed to load emoticons: "+Rn),Rr.set({}),sn.set([])})});var Ta=function(Rn){return Rn===oe?ba():Rr.get().bind(function(kn){return at.from(kn[Rn])}).getOr([])},ba=function(){return sn.get().getOr([])},Zn=function(){return[oe].concat(Ye(Rr.get().getOr({})))},In=function(){return ga()?On.resolve(!0):new On(function(Rn,kn){var Ka=15,ao=O.setInterval(function(){ga()?(O.clearInterval(ao),Rn(!0)):(Ka--,Ka<0&&(console.log("Could not load emojis from url: "+st),O.clearInterval(ao),kn(!1)))},100)})},ga=function(){return Rr.isSet()&&sn.isSet()};return{listCategories:Zn,hasLoaded:ga,waitForLoad:In,listAll:ba,listCategory:Ta}},et=function(it,st){return St(it.title.toLowerCase(),st)||hr(it.keywords,function(rr){return St(rr.toLowerCase(),st)})},qe=function(it,st,rr){for(var Rr=[],sn=st.toLowerCase(),wn=rr.fold(function(){return Be},function(Yn){return function(Ta){return Ta>=Yn}}),Gn=0;Gn<it.length&&!((st.length===0||et(it[Gn],sn))&&(Rr.push({value:it[Gn].char,text:it[Gn].title,icon:it[Gn].char}),wn(Rr.length)));Gn++);return Rr},be="pattern",Ne=function(it,st){var rr={pattern:"",results:qe(st.listAll(),"",at.some(300))},Rr=ke(oe),sn=function(Zn){var In=Zn.getData(),ga=Rr.get(),Rn=st.listCategory(ga),kn=qe(Rn,In[be],ga===oe?at.some(300):at.none());Zn.setData({results:kn})},wn=J(function(Zn){sn(Zn)},200),Gn={label:"Search",type:"input",name:be},Yn={type:"collection",name:"results"},Ta=function(){var Zn={type:"tabpanel",tabs:Qe(st.listCategories(),function(In){return{title:In,name:In,items:[Gn,Yn]}})};return{title:"Emoticons",size:"normal",body:Zn,initialData:rr,onTabChange:function(In,ga){Rr.set(ga.newTabName),wn.throttle(In)},onChange:wn.throttle,onAction:function(In,ga){ga.name==="results"&&(Fe(it,ga.value),In.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},ba=it.windowManager.open(Ta());ba.focus(be),st.hasLoaded()||(ba.block("Loading emoticons..."),st.waitForLoad().then(function(){ba.redial(Ta()),wn.throttle(ba),ba.focus(be),ba.unblock()}).catch(function(Zn){ba.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ba.focus(be),ba.unblock()}))},je=function(it,st){it.addCommand("mceEmoticons",function(){return Ne(it,st)})},Nt=function(it){it.on("PreInit",function(){it.parser.addAttributeFilter("data-emoticon",function(st){ut(st,function(rr){rr.attr("data-mce-resize","false"),rr.attr("data-mce-placeholder","1")})})})},lr=function(it,st){it.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(rr,Rr){return st.waitForLoad().then(function(){var sn=st.listAll();return qe(sn,rr,at.some(Rr))})},onAction:function(rr,Rr,sn){it.selection.setRng(Rr),it.insertContent(sn),rr.hide()}})},Xt=function(it){var st=function(){return it.execCommand("mceEmoticons")};it.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:st}),it.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:st})};function Pr(){I.add("emoticons",function(it,st){var rr=ya(it,st),Rr=vo(it),sn=Sr(it,rr,Rr);je(it,sn),Xt(it),lr(it,sn),Nt(it)})}Pr()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var I=function(x){var _=x,A=function(){return _},W=function(le){_=le};return{get:A,set:W}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(x){return{isFullscreen:function(){return x.get()!==null}}},N=function(x){var _=typeof x;return x===null?"null":_==="object"&&(Array.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="Array")?"array":_==="object"&&(String.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="String")?"string":_},ee=function(x){return function(_){return N(_)===x}},me=function(x){return function(_){return typeof _===x}},Be=ee("string"),we=ee("array"),ge=me("boolean"),It=function(x){return x==null},rt=function(x){return!It(x)},He=me("function"),at=me("number"),hr=function(){},Qe=function(x,_){return function(){for(var A=[],W=0;W<arguments.length;W++)A[W]=arguments[W];return x(_.apply(null,A))}},ut=function(x,_){return function(A){return x(_(A))}},ke=function(x){return function(){return x}},J=function(x){return x};function Fe(x){for(var _=[],A=1;A<arguments.length;A++)_[A-1]=arguments[A];return function(){for(var W=[],le=0;le<arguments.length;le++)W[le]=arguments[le];var Le=_.concat(W);return x.apply(null,Le)}}var se=ke(!1),Ye=ke(!0),ze=function(){return $e},$e=function(){var x=function(W){return W()},_=J,A={fold:function(W,le){return W()},isSome:se,isNone:Ye,getOr:_,getOrThunk:x,getOrDie:function(W){throw new Error(W||"error: getOrDie called on none.")},getOrNull:ke(null),getOrUndefined:ke(void 0),or:_,orThunk:x,map:ze,each:hr,bind:ze,exists:se,forall:Ye,filter:function(){return ze()},toArray:function(){return[]},toString:ke("none()")};return A}(),Ge=function(x){var _=ke(x),A=function(){return le},W=function(Le){return Le(x)},le={fold:function(Le,Et){return Et(x)},isSome:Ye,isNone:se,getOr:_,getOrThunk:_,getOrDie:_,getOrNull:_,getOrUndefined:_,or:A,orThunk:A,map:function(Le){return Ge(Le(x))},each:function(Le){Le(x)},bind:W,exists:W,forall:W,filter:function(Le){return Le(x)?le:$e},toArray:function(){return[x]},toString:function(){return"some("+x+")"}};return le},ce=function(x){return x==null?$e:Ge(x)},Ue={some:Ge,none:ze,from:ce},U=function(){return U=Object.assign||function(_){for(var A,W=1,le=arguments.length;W<le;W++){A=arguments[W];for(var Le in A)Object.prototype.hasOwnProperty.call(A,Le)&&(_[Le]=A[Le])}return _},U.apply(this,arguments)},xe=function(x){var _=I(Ue.none()),A=function(){return _.get().each(x)},W=function(){A(),_.set(Ue.none())},le=function(){return _.get().isSome()},Le=function(){return _.get()},Et=function(Mr){A(),_.set(Ue.some(Mr))};return{clear:W,isSet:le,get:Le,set:Et}},Z=function(){return xe(function(x){return x.unbind()})},X=function(){var x=xe(hr),_=function(A){return x.get().each(A)};return U(U({},x),{on:_})},Lt=Array.prototype.push,fn=function(x,_){for(var A=x.length,W=new Array(A),le=0;le<A;le++){var Le=x[le];W[le]=_(Le,le)}return W},St=function(x,_){for(var A=0,W=x.length;A<W;A++){var le=x[A];_(le,A)}},Xn=function(x,_){for(var A=[],W=0,le=x.length;W<le;W++){var Le=x[W];_(Le,W)&&A.push(Le)}return A},pn=function(x,_,A){for(var W=0,le=x.length;W<le;W++){var Le=x[W];if(_(Le,W))return Ue.some(Le);if(A(Le,W))break}return Ue.none()},O=function(x,_){return pn(x,_,se)},On=function(x){for(var _=[],A=0,W=x.length;A<W;++A){if(!we(x[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+x);Lt.apply(_,x[A])}return _},Wt=function(x,_){return On(fn(x,_))},ur=function(x,_){return _>=0&&_<x.length?Ue.some(x[_]):Ue.none()},ya=function(x){return ur(x,0)},vo=function(x,_){for(var A=0;A<x.length;A++){var W=_(x[A],A);if(W.isSome())return W}return Ue.none()},dn=Object.keys,fa=function(x,_){for(var A=dn(x),W=0,le=A.length;W<le;W++){var Le=A[W],Et=x[Le];_(Et,Le)}},oe=function(x,_){return x.indexOf(_)!==-1},Xa=function(x){return x.style!==void 0&&He(x.style.getPropertyValue)},$t=function(x,_){var A=_||document,W=A.createElement("div");if(W.innerHTML=x,!W.hasChildNodes()||W.childNodes.length>1)throw console.error("HTML does not have a single root node",x),new Error("HTML must have a single root node");return et(W.childNodes[0])},Ze=function(x,_){var A=_||document,W=A.createElement(x);return et(W)},Sr=function(x,_){var A=_||document,W=A.createTextNode(x);return et(W)},et=function(x){if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},qe=function(x,_,A){return Ue.from(x.dom.elementFromPoint(_,A)).map(et)},be={fromHtml:$t,fromTag:Ze,fromText:Sr,fromDom:et,fromPoint:qe};typeof window<"u"||Function("return this;")();var Ne=9,je=11,Nt=1,lr=3,Xt=function(x){return x.dom.nodeType},Pr=function(x){return function(_){return Xt(_)===x}},it=Pr(Nt),st=Pr(lr),rr=Pr(Ne),Rr=Pr(je),sn=function(x){var _=!1,A;return function(){for(var W=[],le=0;le<arguments.length;le++)W[le]=arguments[le];return _||(_=!0,A=x.apply(null,W)),A}},wn=function(x,_,A,W){var le=x.isiOS()&&/ipad/i.test(A)===!0,Le=x.isiOS()&&!le,Et=x.isiOS()||x.isAndroid(),Mr=Et||W("(pointer:coarse)"),Zr=le||!Le&&Et&&W("(min-device-width:768px)"),or=Le||Et&&!Zr,Dr=_.isSafari()&&x.isiOS()&&/safari/i.test(A)===!1,En=!or&&!Zr&&!Dr;return{isiPad:ke(le),isiPhone:ke(Le),isTablet:ke(Zr),isPhone:ke(or),isTouch:ke(Mr),isAndroid:x.isAndroid,isiOS:x.isiOS,isWebView:ke(Dr),isDesktop:ke(En)}},Gn=function(x,_){for(var A=0;A<x.length;A++){var W=x[A];if(W.test(_))return W}},Yn=function(x,_){var A=Gn(x,_);if(!A)return{major:0,minor:0};var W=function(le){return Number(_.replace(A,"$"+le))};return Zn(W(1),W(2))},Ta=function(x,_){var A=String(_).toLowerCase();return x.length===0?ba():Yn(x,A)},ba=function(){return Zn(0,0)},Zn=function(x,_){return{major:x,minor:_}},In={nu:Zn,detect:Ta,unknown:ba},ga=function(x,_){return vo(_.brands,function(A){var W=A.brand.toLowerCase();return O(x,function(le){var Le;return W===((Le=le.brand)===null||Le===void 0?void 0:Le.toLowerCase())}).map(function(le){return{current:le.name,version:In.nu(parseInt(A.version,10),0)}})})},Rn=function(x,_){var A=String(_).toLowerCase();return O(x,function(W){return W.search(A)})},kn=function(x,_){return Rn(x,_).map(function(A){var W=In.detect(A.versionRegexes,_);return{current:A.name,version:W}})},Ka=function(x,_){return Rn(x,_).map(function(A){var W=In.detect(A.versionRegexes,_);return{current:A.name,version:W}})},ao=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ca=function(x){return function(_){return oe(_,x)}},xn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(x){return oe(x,"edge/")&&oe(x,"chrome")&&oe(x,"safari")&&oe(x,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ao],search:function(x){return oe(x,"chrome")&&!oe(x,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(x){return oe(x,"msie")||oe(x,"trident")}},{name:"Opera",versionRegexes:[ao,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ca("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ca("firefox")},{name:"Safari",versionRegexes:[ao,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(x){return(oe(x,"safari")||oe(x,"mobile/"))&&oe(x,"applewebkit")}}],Co=[{name:"Windows",search:Ca("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(x){return oe(x,"iphone")||oe(x,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ca("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ca("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ca("linux"),versionRegexes:[]},{name:"Solaris",search:Ca("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ca("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ca("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ke={browsers:ke(xn),oses:ke(Co)},Mt="Edge",gt="Chrome",fr="IE",un="Opera",ua="Firefox",fi="Safari",Kn=function(){return Sn({current:void 0,version:In.unknown()})},Sn=function(x){var _=x.current,A=x.version,W=function(le){return function(){return _===le}};return{current:_,version:A,isEdge:W(Mt),isChrome:W(gt),isIE:W(fr),isOpera:W(un),isFirefox:W(ua),isSafari:W(fi)}},xo={unknown:Kn,nu:Sn,edge:ke(Mt),chrome:ke(gt),ie:ke(fr),opera:ke(un),firefox:ke(ua),safari:ke(fi)},di="Windows",Ni="iOS",po="Android",Jo="Linux",qi="OSX",Qo="Solaris",$o="FreeBSD",Gi="ChromeOS",ra=function(){return oi({current:void 0,version:In.unknown()})},oi=function(x){var _=x.current,A=x.version,W=function(le){return function(){return _===le}};return{current:_,version:A,isWindows:W(di),isiOS:W(Ni),isAndroid:W(po),isOSX:W(qi),isLinux:W(Jo),isSolaris:W(Qo),isFreeBSD:W($o),isChromeOS:W(Gi)}},Lr={unknown:ra,nu:oi,windows:ke(di),ios:ke(Ni),android:ke(po),linux:ke(Jo),osx:ke(qi),solaris:ke(Qo),freebsd:ke($o),chromeos:ke(Gi)},Pu=function(x,_,A){var W=Ke.browsers(),le=Ke.oses(),Le=_.bind(function(Zr){return ga(W,Zr)}).orThunk(function(){return kn(W,x)}).fold(xo.unknown,xo.nu),Et=Ka(le,x).fold(Lr.unknown,Lr.nu),Mr=wn(Et,Le,x,A);return{browser:Le,os:Et,deviceType:Mr}},ei={detect:Pu},vi=function(x){return window.matchMedia(x).matches},Ro=sn(function(){return ei.detect(navigator.userAgent,Ue.from(navigator.userAgentData),vi)}),Pi=function(){return Ro()},Fu=function(x,_){var A=x.dom;if(A.nodeType!==Nt)return!1;var W=A;if(W.matches!==void 0)return W.matches(_);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(_);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(_);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")},pi=function(x){return x.nodeType!==Nt&&x.nodeType!==Ne&&x.nodeType!==je||x.childElementCount===0},Ku=function(x,_){var A=document;return pi(A)?[]:fn(A.querySelectorAll(x),be.fromDom)},Do=function(x,_){return x.dom===_.dom},So=function(x){return be.fromDom(x.dom.ownerDocument)},tr=function(x){return rr(x)?x:So(x)},iu=function(x){return Ue.from(x.dom.parentNode).map(be.fromDom)},Cu=function(x,_){for(var A=He(_)?_:se,W=x.dom,le=[];W.parentNode!==null&&W.parentNode!==void 0;){var Le=W.parentNode,Et=be.fromDom(Le);if(le.push(Et),A(Et)===!0)break;W=Le}return le},Fi=function(x){var _=function(A){return Xn(A,function(W){return!Do(x,W)})};return iu(x).map(ye).map(_).getOr([])},ye=function(x){return fn(x.dom.childNodes,be.fromDom)},Te=function(x){return Rr(x)&&rt(x.dom.host)},wt=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),Ft=ke(wt),Gt=wt?function(x){return be.fromDom(x.dom.getRootNode())}:tr,vr=function(x){var _=Gt(x);return Te(_)?Ue.some(_):Ue.none()},kr=function(x){return be.fromDom(x.dom.host)},ln=function(x){if(Ft()&&rt(x.target)){var _=be.fromDom(x.target);if(it(_)&&mn(_)&&x.composed&&x.composedPath){var A=x.composedPath();if(A)return ya(A)}}return Ue.from(x.target)},mn=function(x){return rt(x.dom.shadowRoot)},Dn=function(x){var _=st(x)?x.dom.parentNode:x.dom;if(_==null||_.ownerDocument===null)return!1;var A=_.ownerDocument;return vr(be.fromDom(_)).fold(function(){return A.body.contains(_)},ut(Dn,kr))},ka=function(x){var _=x.dom.body;if(_==null)throw new Error("Body is not available yet");return be.fromDom(_)},Va=function(x,_,A){if(Be(A)||ge(A)||at(A))x.setAttribute(_,A+"");else throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",A,":: Element ",x),new Error("Attribute value was not simple")},To=function(x,_,A){Va(x.dom,_,A)},Ht=function(x,_){var A=x.dom.getAttribute(_);return A===null?void 0:A},cn=function(x,_){x.dom.removeAttribute(_)},da=function(x,_,A){if(!Be(A))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",A,":: Element ",x),new Error("CSS value must be a string: "+A);Xa(x)&&x.style.setProperty(_,A)},Eo=function(x,_){var A=x.dom;fa(_,function(W,le){da(A,le,W)})},Ii=function(x,_){var A=x.dom,W=window.getComputedStyle(A),le=W.getPropertyValue(_);return le===""&&!Dn(x)?Wn(A,_):le},Wn=function(x,_){return Xa(x)?x.style.getPropertyValue(_):""},gs=function(x,_,A,W,le,Le,Et){return{target:x,x:_,y:A,stop:W,prevent:le,kill:Le,raw:Et}},Ki=function(x){var _=be.fromDom(ln(x).getOr(x.target)),A=function(){return x.stopPropagation()},W=function(){return x.preventDefault()},le=Qe(W,A);return gs(_,x.clientX,x.clientY,A,W,le,x)},oo=function(x,_){return function(A){x(A)&&_(Ki(A))}},Xu=function(x,_,A,W,le){var Le=oo(A,W);return x.dom.addEventListener(_,Le,le),{unbind:Fe(mi,x,_,Le,le)}},ii=function(x,_,A,W){return Xu(x,_,A,W,!1)},mi=function(x,_,A,W){x.dom.removeEventListener(_,A,W)},Ba=Ye,Yu=function(x,_,A){return ii(x,_,Ba,A)},te=function(x,_){var A=function(W,le){return te(x+W,_+le)};return{left:x,top:_,translate:A}},Se=te,Je=function(x){var _=x!==void 0?x.dom:document,A=_.body.scrollLeft||_.documentElement.scrollLeft,W=_.body.scrollTop||_.documentElement.scrollTop;return Se(A,W)},bt=function(x){var _=x===void 0?window:x;return Pi().browser.isFirefox()?Ue.none():Ue.from(_.visualViewport)},dr=function(x,_,A,W){return{x,y:_,width:A,height:W,right:x+A,bottom:_+W}},Tr=function(x){var _=x===void 0?window:x,A=_.document,W=Je(be.fromDom(A));return bt(_).fold(function(){var le=_.document.documentElement,Le=le.clientWidth,Et=le.clientHeight;return dr(W.left,W.top,Le,Et)},function(le){return dr(Math.max(le.pageLeft,W.left),Math.max(le.pageTop,W.top),le.width,le.height)})},Br=function(x,_,A){return bt(A).map(function(W){var le=function(Le){return _(Ki(Le))};return W.addEventListener(x,le),{unbind:function(){return W.removeEventListener(x,le)}}}).getOrThunk(function(){return{unbind:hr}})},Mn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=tinymce.util.Tools.resolve("tinymce.Env"),Ce=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ie=function(x,_){x.fire("FullscreenStateChanged",{state:_}),x.fire("ResizeEditor")},ct=function(x){return x.getParam("fullscreen_native",!1,"boolean")},kt=function(x){var _=be.fromDom(x.getElement());return vr(_).map(kr).getOrThunk(function(){return ka(So(_))})},br=function(x){return x.fullscreenElement!==void 0?x.fullscreenElement:x.msFullscreenElement!==void 0?x.msFullscreenElement:x.webkitFullscreenElement!==void 0?x.webkitFullscreenElement:null},Ir=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},na=function(x){var _=x.dom;_.requestFullscreen?_.requestFullscreen():_.msRequestFullscreen?_.msRequestFullscreen():_.webkitRequestFullScreen&&_.webkitRequestFullScreen()},Tn=function(x){var _=x.dom;_.exitFullscreen?_.exitFullscreen():_.msExitFullscreen?_.msExitFullscreen():_.webkitCancelFullScreen&&_.webkitCancelFullScreen()},xa=function(x){return x.dom===br(So(x).dom)},qa=function(x,_,A){return Xn(Cu(x,A),_)},xu=function(x,_){return Xn(Fi(x),_)},Mo=function(x){return Ku(x)},Hr=function(x,_,A){return qa(x,function(W){return Fu(W,_)},A)},Zt=function(x,_){return xu(x,function(A){return Fu(A,_)})},Ea="data-ephox-mobile-fullscreen-style",Bo="display:none!important;",qn="position:absolute!important;",Ns="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Zu="background-color:rgb(255,255,255)!important;",kc=G.os.isAndroid(),va=function(x){var _=Ii(x,"background-color");return _!==void 0&&_!==""?"background-color:"+_+"!important":Zu},Ci=function(x,_,A){var W=function(or){return Zt(or,"*:not(.tox-silver-sink)")},le=function(or){return function(Dr){var En=Ht(Dr,"style"),Cn=En===void 0?"no-styles":En.trim();Cn!==or&&(To(Dr,Ea,Cn),Eo(Dr,x.parseStyle(or)))}},Le=Hr(_,"*"),Et=Wt(Le,W),Mr=va(A);St(Et,le(Bo)),St(Le,le(qn+Ns+Mr));var Zr=kc===!0?"":qn;le(Zr+Ns+Mr)(_)},Cc=function(x){var _=Mo("["+Ea+"]");St(_,function(A){var W=Ht(A,Ea);W!=="no-styles"?Eo(A,x.parseStyle(W)):cn(A,"style"),cn(A,Ea)})},Su=Mn.DOM,go=function(){return Tr(window)},Ps=function(x){return window.scrollTo(x.x,x.y)},mt=bt().fold(function(){return{bind:hr,unbind:hr}},function(x){var _=X(),A=Z(),W=Z(),le=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Le=function(){window.requestAnimationFrame(function(){_.on(function(or){return Eo(or,{top:x.offsetTop+"px",left:x.offsetLeft+"px",height:x.height+"px",width:x.width+"px"})})})},Et=Ce.throttle(function(){le(),Le()},50),Mr=function(or){_.set(or),Et(),A.set(Br("resize",Et)),W.set(Br("scroll",Et))},Zr=function(){_.on(function(){A.clear(),W.clear()}),_.clear()};return{bind:Mr,unbind:Zr}}),tc=function(x,_){var A=document.body,W=document.documentElement,le=x.getContainer(),Le=be.fromDom(le),Et=kt(x),Mr=_.get(),Zr=be.fromDom(x.getBody()),or=G.deviceType.isTouch(),Dr=le.style,En=x.iframeElement,Cn=En.style,an=function(za){za(A,"tox-fullscreen"),za(W,"tox-fullscreen"),za(le,"tox-fullscreen"),vr(Le).map(function(xi){return kr(xi).dom}).each(function(xi){za(xi,"tox-fullscreen"),za(xi,"tox-shadowhost")})},Ja=function(){or&&Cc(x.dom),an(Su.removeClass),mt.unbind(),Ue.from(_.get()).each(function(za){return za.fullscreenChangeHandler.unbind()})};if(Mr)Mr.fullscreenChangeHandler.unbind(),ct(x)&&xa(Et)&&Tn(So(Et)),Cn.width=Mr.iframeWidth,Cn.height=Mr.iframeHeight,Dr.width=Mr.containerWidth,Dr.height=Mr.containerHeight,Dr.top=Mr.containerTop,Dr.left=Mr.containerLeft,Ja(),Ps(Mr.scrollPos),_.set(null),Ie(x,!1),x.off("remove",Ja);else{var tn=Yu(So(Et),Ir(),function(za){ct(x)&&!xa(Et)&&_.get()!==null&&tc(x,_)}),Ia={scrollPos:go(),containerWidth:Dr.width,containerHeight:Dr.height,containerTop:Dr.top,containerLeft:Dr.left,iframeWidth:Cn.width,iframeHeight:Cn.height,fullscreenChangeHandler:tn};or&&Ci(x.dom,Le,Zr),Cn.width=Cn.height="100%",Dr.width=Dr.height="",an(Su.addClass),mt.bind(Le),x.on("remove",Ja),_.set(Ia),ct(x)&&na(Et),Ie(x,!0)}},yo=function(x,_){x.addCommand("mceFullScreen",function(){tc(x,_)})},pl=function(x,_){return function(A){A.setActive(_.get()!==null);var W=function(le){return A.setActive(le.state)};return x.on("FullscreenStateChanged",W),function(){return x.off("FullscreenStateChanged",W)}}},ys=function(x,_){var A=function(){return x.execCommand("mceFullScreen")};x.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:A,onSetup:pl(x,_)}),x.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:A,onSetup:pl(x,_)})};function P(){S.add("fullscreen",function(x){var _=I(null);return x.inline||(yo(x,_),ys(x,_),x.addShortcut("Meta+Shift+F","","mceFullScreen")),B(_)})}P()})();(function(){var I=function(Ze){var Sr=Ze,et=function(){return Sr},qe=function(be){Sr=be};return{get:et,set:qe}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(Ze){var Sr=function(et){var qe=Ze.get();qe[et.name]=et,Ze.set(qe)};return{addTab:Sr}},N=function(Ze,Sr){Ze.addCommand("mceHelp",Sr)},ee=function(Ze,Sr){Ze.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Sr}),Ze.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Sr})},me=function(){return me=Object.assign||function(Sr){for(var et,qe=1,be=arguments.length;qe<be;qe++){et=arguments[qe];for(var Ne in et)Object.prototype.hasOwnProperty.call(et,Ne)&&(Sr[Ne]=et[Ne])}return Sr},me.apply(this,arguments)},Be=function(){},we=function(Ze){return function(){return Ze}},ge=function(Ze){return Ze},It=we(!1),rt=we(!0),He=function(){return at},at=function(){var Ze=function(qe){return qe()},Sr=ge,et={fold:function(qe,be){return qe()},isSome:It,isNone:rt,getOr:Sr,getOrThunk:Ze,getOrDie:function(qe){throw new Error(qe||"error: getOrDie called on none.")},getOrNull:we(null),getOrUndefined:we(void 0),or:Sr,orThunk:Ze,map:He,each:Be,bind:He,exists:It,forall:rt,filter:function(){return He()},toArray:function(){return[]},toString:we("none()")};return et}(),hr=function(Ze){var Sr=we(Ze),et=function(){return be},qe=function(Ne){return Ne(Ze)},be={fold:function(Ne,je){return je(Ze)},isSome:rt,isNone:It,getOr:Sr,getOrThunk:Sr,getOrDie:Sr,getOrNull:Sr,getOrUndefined:Sr,or:et,orThunk:et,map:function(Ne){return hr(Ne(Ze))},each:function(Ne){Ne(Ze)},bind:qe,exists:qe,forall:qe,filter:function(Ne){return Ne(Ze)?be:at},toArray:function(){return[Ze]},toString:function(){return"some("+Ze+")"}};return be},Qe=function(Ze){return Ze==null?at:hr(Ze)},ut={some:hr,none:He,from:Qe},ke=Array.prototype.indexOf,J=function(Ze,Sr){return ke.call(Ze,Sr)},Fe=function(Ze,Sr){return J(Ze,Sr)>-1},se=function(Ze,Sr){for(var et=Ze.length,qe=new Array(et),be=0;be<et;be++){var Ne=Ze[be];qe[be]=Sr(Ne,be)}return qe},Ye=function(Ze,Sr){for(var et=[],qe=0,be=Ze.length;qe<be;qe++){var Ne=Ze[qe];Sr(Ne,qe)&&et.push(Ne)}return et},ze=function(Ze,Sr,et){for(var qe=0,be=Ze.length;qe<be;qe++){var Ne=Ze[qe];if(Sr(Ne,qe))return ut.some(Ne);if(et(Ne,qe))break}return ut.none()},$e=function(Ze,Sr){return ze(Ze,Sr,It)},Ge=Object.keys,ce=Object.hasOwnProperty,Ue=function(Ze,Sr){return U(Ze,Sr)?ut.from(Ze[Sr]):ut.none()},U=function(Ze,Sr){return ce.call(Ze,Sr)},xe=function(Ze){for(var Sr=[],et=function(be){Sr.push(be)},qe=0;qe<Ze.length;qe++)Ze[qe].each(et);return Sr},Z=function(Ze){return ut.from(Ze.getParam("help_tabs"))},X=function(Ze){return Ze.getParam("forced_plugins")},Lt=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab’s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,fn=function(){var Ze={type:"htmlpanel",presets:"document",html:Lt};return{name:"keyboardnav",title:"Keyboard Navigation",items:[Ze]}},St=tinymce.util.Tools.resolve("tinymce.Env"),Xn=function(Ze){var Sr={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},et={meta:"Ctrl ",access:"Shift + Alt "},qe=St.mac?Sr:et,be=Ze.split("+"),Ne=se(be,function(je){var Nt=je.toLowerCase().trim();return U(qe,Nt)?qe[Nt]:je});return St.mac?Ne.join("").replace(/\s/,""):Ne.join("+")},pn=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],O=function(){var Ze=se(pn,function(et){var qe=se(et.shortcuts,Xn).join(" or ");return[et.action,qe]}),Sr={type:"table",header:["Action","Shortcut"],cells:Ze};return{name:"shortcuts",title:"Handy Shortcuts",items:[Sr]}},On=tinymce.util.Tools.resolve("tinymce.util.I18n"),Wt=se([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"autocorrect",name:"Autocorrect",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"export",name:"Export",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium"},{key:"rtc",name:"Real-Time Collaboration",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium"}],function(Ze){return me(me({},Ze),{type:Ze.type||"opensource",slug:Ze.slug||Ze.key})}),ur=function(Ze){var Sr=function(){var lr=Ye(Wt,function(Pr){var it=Pr.key,st=Pr.type;return it!=="autocorrect"&&st==="premium"}),Xt=se(lr,function(Pr){return"<li>"+On.translate(Pr.name)+"</li>"}).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+On.translate("Premium plugins:")+"</b></p><ul>"+Xt+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+On.translate("Learn more...")+"</a></li></ul></div>"},et=function(lr){return'<a href="'+lr.url+'" target="_blank" rel="noopener">'+lr.name+"</a>"},qe=function(lr,Xt){return $e(Wt,function(Pr){return Pr.key===Xt}).fold(function(){var Pr=lr.plugins[Xt].getMetadata;return typeof Pr=="function"?et(Pr()):Xt},function(Pr){var it=Pr.type==="premium"?Pr.name+"*":Pr.name;return et({name:it,url:"https://www.tiny.cloud/docs/plugins/"+Pr.type+"/"+Pr.slug})})},be=function(lr){var Xt=Ge(lr.plugins),Pr=X(lr);return Pr===void 0?Xt:Ye(Xt,function(it){return!Fe(Pr,it)})},Ne=function(lr){var Xt=be(lr),Pr=se(Xt,function(Rr){return"<li>"+qe(lr,Rr)+"</li>"}),it=Pr.length,st=Pr.join(""),rr="<p><b>"+On.translate(["Plugins installed ({0}):",it])+"</b></p><ul>"+st+"</ul>";return rr},je=function(lr){return lr==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+Ne(lr)+"</div>"},Nt={type:"htmlpanel",presets:"document",html:[je(Ze),Sr()].join("")};return{name:"plugins",title:"Plugins",items:[Nt]}},ya=tinymce.util.Tools.resolve("tinymce.EditorManager"),vo=function(){var Ze=function(be,Ne){return be.indexOf("@")===0?"X.X.X":be+"."+Ne},Sr=Ze(ya.majorVersion,ya.minorVersion),et='<a href="https://www.tiny.cloud/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+Sr+"</a>",qe={type:"htmlpanel",html:"<p>"+On.translate(["You are using {0}",et])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[qe]}},dn=function(Ze,Sr){var et={},qe=se(Ze,function(be){return typeof be=="string"?(U(Sr,be)&&(et[be]=Sr[be]),be):(et[be.name]=be,be.name)});return{tabs:et,names:qe}},fa=function(Ze){var Sr=Ge(Ze),et=Sr.indexOf("versions");return et!==-1&&(Sr.splice(et,1),Sr.push("versions")),{tabs:Ze,names:Sr}},oe=function(Ze,Sr){var et,qe=O(),be=fn(),Ne=ur(Ze),je=vo(),Nt=me((et={},et[qe.name]=qe,et[be.name]=be,et[Ne.name]=Ne,et[je.name]=je,et),Sr.get());return Z(Ze).fold(function(){return fa(Nt)},function(lr){return dn(lr,Nt)})},Xa=function(Ze,Sr){return function(){var et=oe(Ze,Sr),qe=et.tabs,be=et.names,Ne=se(be,function(lr){return Ue(qe,lr)}),je=xe(Ne),Nt={type:"tabpanel",tabs:je};Ze.windowManager.open({title:"Help",size:"medium",body:Nt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};function $t(){S.add("help",function(Ze){var Sr=I({}),et=B(Sr),qe=Xa(Ze,Sr);return ee(Ze,qe),N(Ze,qe),Ze.shortcuts.add("Alt+0","Open help dialog","mceHelp"),et})}$t()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(ee){ee.addCommand("InsertHorizontalRule",function(){ee.execCommand("mceInsertContent",!1,"<hr />")})},B=function(ee){var me=function(){return ee.execCommand("InsertHorizontalRule")};ee.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:me}),ee.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:me})};function N(){I.add("hr",function(ee){S(ee),B(ee)})}N()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(){return S=Object.assign||function(x){for(var _,A=1,W=arguments.length;A<W;A++){_=arguments[A];for(var le in _)Object.prototype.hasOwnProperty.call(_,le)&&(x[le]=_[le])}return x},S.apply(this,arguments)},B=function(P){var x=typeof P;return P===null?"null":x==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":x==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":x},N=function(P){return function(x){return B(x)===P}},ee=function(P){return function(x){return typeof x===P}},me=function(P){return function(x){return P===x}},Be=N("string"),we=N("object"),ge=N("array"),It=me(null),rt=ee("boolean"),He=function(P){return P==null},at=function(P){return!He(P)},hr=ee("function"),Qe=ee("number"),ut=function(){},ke=function(P){return function(){return P}},J=function(P){return P},Fe=ke(!1),se=ke(!0),Ye=function(){return ze},ze=function(){var P=function(A){return A()},x=J,_={fold:function(A,W){return A()},isSome:Fe,isNone:se,getOr:x,getOrThunk:P,getOrDie:function(A){throw new Error(A||"error: getOrDie called on none.")},getOrNull:ke(null),getOrUndefined:ke(void 0),or:x,orThunk:P,map:Ye,each:ut,bind:Ye,exists:Fe,forall:se,filter:function(){return Ye()},toArray:function(){return[]},toString:ke("none()")};return _}(),$e=function(P){var x=ke(P),_=function(){return W},A=function(le){return le(P)},W={fold:function(le,Le){return Le(P)},isSome:se,isNone:Fe,getOr:x,getOrThunk:x,getOrDie:x,getOrNull:x,getOrUndefined:x,or:_,orThunk:_,map:function(le){return $e(le(P))},each:function(le){le(P)},bind:A,exists:A,forall:A,filter:function(le){return le(P)?W:ze},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return W},Ge=function(P){return P==null?ze:$e(P)},ce={some:$e,none:Ye,from:Ge},Ue=Object.keys,U=Object.hasOwnProperty,xe=function(P,x){for(var _=Ue(P),A=0,W=_.length;A<W;A++){var le=_[A],Le=P[le];x(Le,le)}},Z=function(P){return function(x,_){P[_]=x}},X=function(P,x,_,A){var W={};return xe(P,function(le,Le){(x(le,Le)?_:A)(le,Le)}),W},Lt=function(P,x){var _={};return X(P,x,Z(_),ut),_},fn=function(P,x){return U.call(P,x)},St=function(P,x){return fn(P,x)&&P[x]!==void 0&&P[x]!==null},Xn=Array.prototype.push,pn=function(P){for(var x=[],_=0,A=P.length;_<A;++_){if(!ge(P[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+P);Xn.apply(x,P[_])}return x},O=function(P,x){return x>=0&&x<P.length?ce.some(P[x]):ce.none()},On=function(P){return O(P,0)},Wt=function(P,x){for(var _=0;_<P.length;_++){var A=x(P[_],_);if(A.isSome())return A}return ce.none()};typeof window<"u"||Function("return this;")();var ur=function(P,x,_){if(Be(_)||rt(_)||Qe(_))P.setAttribute(x,_+"");else throw console.error("Invalid call to Attribute.set. Key ",x,":: Value ",_,":: Element ",P),new Error("Attribute value was not simple")},ya=function(P,x,_){ur(P.dom,x,_)},vo=function(P,x){P.dom.removeAttribute(x)},dn=function(P,x){var _=x||document,A=_.createElement("div");if(A.innerHTML=P,!A.hasChildNodes()||A.childNodes.length>1)throw console.error("HTML does not have a single root node",P),new Error("HTML must have a single root node");return Xa(A.childNodes[0])},fa=function(P,x){var _=x||document,A=_.createElement(P);return Xa(A)},oe=function(P,x){var _=x||document,A=_.createTextNode(P);return Xa(A)},Xa=function(P){if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},$t=function(P,x,_){return ce.from(P.dom.elementFromPoint(x,_)).map(Xa)},Ze={fromHtml:dn,fromTag:fa,fromText:oe,fromDom:Xa,fromPoint:$t},Sr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),et=tinymce.util.Tools.resolve("tinymce.util.Promise"),qe=tinymce.util.Tools.resolve("tinymce.util.URI"),be=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ne=function(P){return P.getParam("image_dimensions",!0,"boolean")},je=function(P){return P.getParam("image_advtab",!1,"boolean")},Nt=function(P){return P.getParam("image_uploadtab",!0,"boolean")},lr=function(P){return P.getParam("image_prepend_url","","string")},Xt=function(P){return P.getParam("image_class_list")},Pr=function(P){return P.getParam("image_description",!0,"boolean")},it=function(P){return P.getParam("image_title",!1,"boolean")},st=function(P){return P.getParam("image_caption",!1,"boolean")},rr=function(P){return P.getParam("image_list",!1)},Rr=function(P){return at(P.getParam("images_upload_url"))},sn=function(P){return at(P.getParam("images_upload_handler"))},wn=function(P){return P.getParam("a11y_advanced_options",!1,"boolean")},Gn=function(P){return P.getParam("automatic_uploads",!0,"boolean")},Yn=function(P,x){return Math.max(parseInt(P,10),parseInt(x,10))},Ta=function(P){return new et(function(x){var _=document.createElement("img"),A=function(le){_.onload=_.onerror=null,_.parentNode&&_.parentNode.removeChild(_),x(le)};_.onload=function(){var le=Yn(_.width,_.clientWidth),Le=Yn(_.height,_.clientHeight),Et={width:le,height:Le};A(et.resolve(Et))},_.onerror=function(){A(et.reject("Failed to get image dimensions for: "+P))};var W=_.style;W.visibility="hidden",W.position="fixed",W.bottom=W.left="0px",W.width=W.height="auto",document.body.appendChild(_),_.src=P})},ba=function(P){return P&&(P=P.replace(/px$/,"")),P},Zn=function(P){return P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P},In=function(P){if(P.margin){var x=String(P.margin).split(" ");switch(x.length){case 1:P["margin-top"]=P["margin-top"]||x[0],P["margin-right"]=P["margin-right"]||x[0],P["margin-bottom"]=P["margin-bottom"]||x[0],P["margin-left"]=P["margin-left"]||x[0];break;case 2:P["margin-top"]=P["margin-top"]||x[0],P["margin-right"]=P["margin-right"]||x[1],P["margin-bottom"]=P["margin-bottom"]||x[0],P["margin-left"]=P["margin-left"]||x[1];break;case 3:P["margin-top"]=P["margin-top"]||x[0],P["margin-right"]=P["margin-right"]||x[1],P["margin-bottom"]=P["margin-bottom"]||x[2],P["margin-left"]=P["margin-left"]||x[1];break;case 4:P["margin-top"]=P["margin-top"]||x[0],P["margin-right"]=P["margin-right"]||x[1],P["margin-bottom"]=P["margin-bottom"]||x[2],P["margin-left"]=P["margin-left"]||x[3]}delete P.margin}return P},ga=function(P,x){var _=rr(P);Be(_)?be.send({url:_,success:function(A){x(JSON.parse(A))}}):hr(_)?_(x):x(_)},Rn=function(P,x,_){var A=function(){_.onload=_.onerror=null,P.selection&&(P.selection.select(_),P.nodeChanged())};_.onload=function(){!x.width&&!x.height&&Ne(P)&&P.dom.setAttribs(_,{width:String(_.clientWidth),height:String(_.clientHeight)}),A()},_.onerror=A},kn=function(P){return new et(function(x,_){var A=new FileReader;A.onload=function(){x(A.result)},A.onerror=function(){_(A.error.message)},A.readAsDataURL(P)})},Ka=function(P){return P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder"))},ao=function(P,x){return qe.isDomSafe(x,"img",P.settings)},Ca=Sr.DOM,xn=function(P){return P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?ba(P.style.marginLeft):""},Co=function(P){return P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?ba(P.style.marginTop):""},Ke=function(P){return P.style.borderWidth?ba(P.style.borderWidth):""},Mt=function(P,x){return P.hasAttribute(x)?P.getAttribute(x):""},gt=function(P,x){return P.style[x]?P.style[x]:""},fr=function(P){return P.parentNode!==null&&P.parentNode.nodeName==="FIGURE"},un=function(P,x,_){_===""?P.removeAttribute(x):P.setAttribute(x,_)},ua=function(P){var x=Ca.create("figure",{class:"image"});Ca.insertAfter(x,P),x.appendChild(P),x.appendChild(Ca.create("figcaption",{contentEditable:"true"},"Caption")),x.contentEditable="false"},fi=function(P){var x=P.parentNode;Ca.insertAfter(P,x),Ca.remove(x)},Kn=function(P){fr(P)?fi(P):ua(P)},Sn=function(P,x){var _=P.getAttribute("style"),A=x(_!==null?_:"");A.length>0?(P.setAttribute("style",A),P.setAttribute("data-mce-style",A)):P.removeAttribute("style")},xo=function(P,x){return function(_,A,W){_.style[A]?(_.style[A]=Zn(W),Sn(_,x)):un(_,A,W)}},di=function(P,x){return P.style[x]?ba(P.style[x]):Mt(P,x)},Ni=function(P,x){var _=Zn(x);P.style.marginLeft=_,P.style.marginRight=_},po=function(P,x){var _=Zn(x);P.style.marginTop=_,P.style.marginBottom=_},Jo=function(P,x){var _=Zn(x);P.style.borderWidth=_},qi=function(P,x){P.style.borderStyle=x},Qo=function(P){return gt(P,"borderStyle")},$o=function(P){return P.nodeName==="FIGURE"},Gi=function(P){return P.nodeName==="IMG"},ra=function(P){return Ca.getAttrib(P,"alt").length===0&&Ca.getAttrib(P,"role")==="presentation"},oi=function(P){return ra(P)?"":Mt(P,"alt")},Lr=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Pu=function(P,x){var _=document.createElement("img");return un(_,"style",x.style),(xn(_)||x.hspace!=="")&&Ni(_,x.hspace),(Co(_)||x.vspace!=="")&&po(_,x.vspace),(Ke(_)||x.border!=="")&&Jo(_,x.border),(Qo(_)||x.borderStyle!=="")&&qi(_,x.borderStyle),P(_.getAttribute("style"))},ei=function(P,x){var _=document.createElement("img");if(Ku(P,S(S({},x),{caption:!1}),_),Pi(_,x.alt,x.isDecorative),x.caption){var A=Ca.create("figure",{class:"image"});return A.appendChild(_),A.appendChild(Ca.create("figcaption",{contentEditable:"true"},"Caption")),A.contentEditable="false",A}else return _},vi=function(P,x){return{src:Mt(x,"src"),alt:oi(x),title:Mt(x,"title"),width:di(x,"width"),height:di(x,"height"),class:Mt(x,"class"),style:P(Mt(x,"style")),caption:fr(x),hspace:xn(x),vspace:Co(x),border:Ke(x),borderStyle:gt(x,"borderStyle"),isDecorative:ra(x)}},Ro=function(P,x,_,A,W){_[A]!==x[A]&&W(P,A,_[A])},Pi=function(P,x,_){if(_){Ca.setAttrib(P,"role","presentation");var A=Ze.fromDom(P);ya(A,"alt","")}else{if(It(x)){var A=Ze.fromDom(P);vo(A,"alt")}else{var A=Ze.fromDom(P);ya(A,"alt",x)}Ca.getAttrib(P,"role")==="presentation"&&Ca.setAttrib(P,"role","")}},Fu=function(P,x,_){(_.alt!==x.alt||_.isDecorative!==x.isDecorative)&&Pi(P,_.alt,_.isDecorative)},pi=function(P,x){return function(_,A,W){P(_,W),Sn(_,x)}},Ku=function(P,x,_){var A=vi(P,_);Ro(_,A,x,"caption",function(W,le,Le){return Kn(W)}),Ro(_,A,x,"src",un),Ro(_,A,x,"title",un),Ro(_,A,x,"width",xo("width",P)),Ro(_,A,x,"height",xo("height",P)),Ro(_,A,x,"class",un),Ro(_,A,x,"style",pi(function(W,le){return un(W,"style",le)},P)),Ro(_,A,x,"hspace",pi(Ni,P)),Ro(_,A,x,"vspace",pi(po,P)),Ro(_,A,x,"border",pi(Jo,P)),Ro(_,A,x,"borderStyle",pi(qi,P)),Fu(_,A,x)},Do=function(P,x){var _=P.dom.styles.parse(x),A=In(_),W=P.dom.styles.parse(P.dom.styles.serialize(A));return P.dom.styles.serialize(W)},So=function(P){var x=P.selection.getNode(),_=P.dom.getParent(x,"figure.image");return _?P.dom.select("img",_)[0]:x&&(x.nodeName!=="IMG"||Ka(x))?null:x},tr=function(P,x){var _=P.dom,A=Lt(P.schema.getTextBlockElements(),function(le,Le){return!P.schema.isValidChild(Le,"figure")}),W=_.getParent(x.parentNode,function(le){return St(A,le.nodeName)},P.getBody());return W?_.split(W,x):x},iu=function(P){var x=So(P);return x?vi(function(_){return Do(P,_)},x):Lr()},Cu=function(P,x){var _=ei(function(le){return Do(P,le)},x);P.dom.setAttrib(_,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(_.outerHTML);var A=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(A,"data-mce-id",null),$o(A)){var W=tr(P,A);P.selection.select(W)}else P.selection.select(A)},Fi=function(P,x){P.dom.setAttrib(x,"src",x.getAttribute("src"))},ye=function(P,x){if(x){var _=P.dom.is(x.parentNode,"figure.image")?x.parentNode:x;P.dom.remove(_),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},Te=function(P,x){var _=So(P);if(Ku(function(W){return Do(P,W)},x,_),Fi(P,_),$o(_.parentNode)){var A=_.parentNode;tr(P,A),P.selection.select(_.parentNode)}else P.selection.select(_),Rn(P,x,_)},wt=function(P,x){var _=x.src;return S(S({},x),{src:ao(P,_)?_:""})},Ft=function(P,x){var _=So(P);if(_){var A=vi(function(Le){return Do(P,Le)},_),W=S(S({},A),x),le=wt(P,W);W.src?Te(P,le):ye(P,_)}else x.src&&Cu(P,S(S({},Lr()),x))},Gt=function(P,x){var _=we(P)&&we(x);return _?kr(P,x):x},vr=function(P){return function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];if(x.length===0)throw new Error("Can't merge zero objects");for(var A={},W=0;W<x.length;W++){var le=x[W];for(var Le in le)fn(le,Le)&&(A[Le]=P(A[Le],le[Le]))}return A}},kr=vr(Gt),ln=function(P){return P.length>0},mn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Dn=tinymce.util.Tools.resolve("tinymce.util.Tools"),ka=function(P){return Be(P.value)?P.value:""},Va=function(P){return Be(P.text)?P.text:Be(P.title)?P.title:""},To=function(P,x){var _=[];return Dn.each(P,function(A){var W=Va(A);if(A.menu!==void 0){var le=To(A.menu,x);_.push({text:W,items:le})}else{var Le=x(A);_.push({text:W,value:Le})}}),_},Ht=function(P){return P===void 0&&(P=ka),function(x){return x?ce.from(x).map(function(_){return To(_,P)}):ce.none()}},cn=function(P){return Ht(ka)(P)},da=function(P){return fn(P,"items")},Eo=function(P,x){return Wt(P,function(_){return da(_)?Eo(_.items,x):_.value===x?ce.some(_):ce.none()})},Ii=function(P,x){return P.bind(function(_){return Eo(_,x)})},Wn={sanitizer:Ht,sanitize:cn,findEntry:Ii},gs=function(P){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ki={makeTab:gs},oo=function(P){var x=Wn.sanitizer(function(tn){return P.convertURL(tn.value||tn.url,"src")}),_=new et(function(tn){ga(P,function(Ia){tn(x(Ia).map(function(za){return pn([[{text:"None",value:""}],za])}))})}),A=Wn.sanitize(Xt(P)),W=je(P),le=Nt(P),Le=Rr(P),Et=sn(P),Mr=iu(P),Zr=Pr(P),or=it(P),Dr=Ne(P),En=st(P),Cn=wn(P),an=Gn(P),Ja=ce.some(lr(P)).filter(function(tn){return Be(tn)&&tn.length>0});return _.then(function(tn){return{image:Mr,imageList:tn,classList:A,hasAdvTab:W,hasUploadTab:le,hasUploadUrl:Le,hasUploadHandler:Et,hasDescription:Zr,hasImageTitle:or,hasDimensions:Dr,hasImageCaption:En,prependURL:Ja,hasAccessibilityOptions:Cn,automaticUploads:an}})},Xu=function(P){var x={name:"src",type:"urlinput",filetype:"image",label:"Source"},_=P.imageList.map(function(or){return{name:"images",type:"listbox",label:"Image list",items:or}}),A={name:"alt",type:"input",label:"Alternative description",disabled:P.hasAccessibilityOptions&&P.image.isDecorative},W={name:"title",type:"input",label:"Image title"},le={name:"dimensions",type:"sizeinput"},Le={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Et=P.classList.map(function(or){return{name:"classes",type:"listbox",label:"Class",items:or}}),Mr={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Zr=function(or){return or?{type:"grid",columns:2}:{type:"panel"}};return pn([[x],_.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[Le]:[],P.hasDescription?[A]:[],P.hasImageTitle?[W]:[],P.hasDimensions?[le]:[],[S(S({},Zr(P.classList.isSome()&&P.hasImageCaption)),{items:pn([Et.toArray(),P.hasImageCaption?[Mr]:[]])})]])},ii=function(P){return{title:"General",name:"general",items:Xu(P)}},mi={makeTab:ii,makeItems:Xu},Ba=function(P){var x=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:x}},Yu={makeTab:Ba},te=function(P){return{prevImage:Wn.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}},Se=function(P){return{src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}},Je=function(P,x){return{src:P.src.value,alt:P.alt.length===0&&x?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}},bt=function(P,x){return/^(?:[a-zA-Z]+:)?\/\//.test(x)?ce.none():P.prependURL.bind(function(_){return x.substring(0,_.length)!==_?ce.some(_+x):ce.none()})},dr=function(P,x){var _=x.getData();bt(P,_.src.value).each(function(A){x.setData({src:{value:A,meta:_.src.meta}})})},Tr=function(P,x,_){P.hasDescription&&Be(_.alt)&&(x.alt=_.alt),P.hasAccessibilityOptions&&(x.isDecorative=_.isDecorative||x.isDecorative||!1),P.hasImageTitle&&Be(_.title)&&(x.title=_.title),P.hasDimensions&&(Be(_.width)&&(x.dimensions.width=_.width),Be(_.height)&&(x.dimensions.height=_.height)),Be(_.class)&&Wn.findEntry(P.classList,_.class).each(function(A){x.classes=A.value}),P.hasImageCaption&&rt(_.caption)&&(x.caption=_.caption),P.hasAdvTab&&(Be(_.style)&&(x.style=_.style),Be(_.vspace)&&(x.vspace=_.vspace),Be(_.border)&&(x.border=_.border),Be(_.hspace)&&(x.hspace=_.hspace),Be(_.borderstyle)&&(x.borderstyle=_.borderstyle))},Br=function(P,x){var _=x.getData(),A=_.src.meta;if(A!==void 0){var W=kr({},_);Tr(P,W,A),x.setData(W)}},Mn=function(P,x,_,A){var W=A.getData(),le=W.src.value,Le=W.src.meta||{};!Le.width&&!Le.height&&x.hasDimensions&&(ln(le)?P.imageSize(le).then(function(Et){_.open&&A.setData({dimensions:Et})}).catch(function(Et){return console.error(Et)}):A.setData({dimensions:{width:"",height:""}}))},G=function(P,x,_){var A=_.getData(),W=Wn.findEntry(P.imageList,A.src.value);x.prevImage=W,_.setData({images:W.map(function(le){return le.value}).getOr("")})},Ce=function(P,x,_,A){dr(x,A),Br(x,A),Mn(P,x,_,A),G(x,_,A)},Ie=function(P,x,_,A){var W=A.getData(),le=Wn.findEntry(x.imageList,W.images);le.each(function(Le){var Et=W.alt===""||_.prevImage.map(function(Mr){return Mr.text===W.alt}).getOr(!1);Et?Le.value===""?A.setData({src:Le,alt:_.prevAlt}):A.setData({src:Le,alt:Le.text}):A.setData({src:Le})}),_.prevImage=le,Ce(P,x,_,A)},ct=function(P){var x=P["margin-top"]&&P["margin-bottom"]&&P["margin-top"]===P["margin-bottom"];return x?ba(String(P["margin-top"])):""},kt=function(P){var x=P["margin-right"]&&P["margin-left"]&&P["margin-right"]===P["margin-left"];return x?ba(String(P["margin-right"])):""},br=function(P){return P["border-width"]?ba(String(P["border-width"])):""},Ir=function(P){return P["border-style"]?String(P["border-style"]):""},na=function(P,x,_){return x(P(x(_)))},Tn=function(P,x,_){var A=In(P(_.style)),W=kr({},_);return W.vspace=ct(A),W.hspace=kt(A),W.border=br(A),W.borderstyle=Ir(A),W.style=na(P,x,A),W},xa=function(P,x){var _=x.getData(),A=Tn(P.parseStyle,P.serializeStyle,_);x.setData(A)},qa=function(P,x,_){var A=kr(Se(x.image),_.getData()),W=Pu(P.normalizeCss,Je(A,!1));_.setData({style:W})},xu=function(P,x,_,A){var W=A.getData();A.block("Uploading image"),On(W.fileinput).fold(function(){A.unblock()},function(le){var Le=URL.createObjectURL(le),Et=function(){A.unblock(),URL.revokeObjectURL(Le)},Mr=function(Zr){A.setData({src:{value:Zr,meta:{}}}),A.showTab("general"),Ce(P,x,_,A)};kn(le).then(function(Zr){var or=P.createBlobCache(le,Le,Zr);x.automaticUploads?P.uploadImage(or).then(function(Dr){Mr(Dr.url),Et()}).catch(function(Dr){Et(),P.alertErr(Dr)}):(P.addToBlobCache(or),Mr(or.blobUri()),A.unblock())})})},Mo=function(P,x,_){return function(A,W){W.name==="src"?Ce(P,x,_,A):W.name==="images"?Ie(P,x,_,A):W.name==="alt"?_.prevAlt=A.getData().alt:W.name==="style"?xa(P,A):W.name==="vspace"||W.name==="hspace"||W.name==="border"||W.name==="borderstyle"?qa(P,x,A):W.name==="fileinput"?xu(P,x,_,A):W.name==="isDecorative"&&(A.getData().isDecorative?A.disable("alt"):A.enable("alt"))}},Hr=function(P){return function(){P.open=!1}},Zt=function(P){if(P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler){var x={type:"tabpanel",tabs:pn([[mi.makeTab(P)],P.hasAdvTab?[Ki.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Yu.makeTab(P)]:[]])};return x}else{var _={type:"panel",items:mi.makeItems(P)};return _}},Ea=function(P){return function(x){var _=te(x);return{title:"Insert/Edit Image",size:"normal",body:Zt(x),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Se(x.image),onSubmit:P.onSubmit(x),onChange:Mo(P,x,_),onClose:Hr(_)}}},Bo=function(P){return function(x){return function(_){var A=kr(Se(x.image),_.getData());P.execCommand("mceUpdateImage",!1,Je(A,x.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),_.close()}}},qn=function(P){return function(x){return ao(P,x)?Ta(P.documentBaseURI.toAbsolute(x)).then(function(_){return{width:String(_.width),height:String(_.height)}}):et.resolve({width:"",height:""})}},Ns=function(P){return function(x,_,A){return P.editorUpload.blobCache.create({blob:x,blobUri:_,name:x.name?x.name.replace(/\.[^\.]+$/,""):null,filename:x.name,base64:A.split(",")[1]})}},Zu=function(P){return function(x){P.editorUpload.blobCache.add(x)}},kc=function(P){return function(x){P.windowManager.alert(x)}},va=function(P){return function(x){return Do(P,x)}},Ci=function(P){return function(x){return P.dom.parseStyle(x)}},Cc=function(P){return function(x,_){return P.dom.serializeStyle(x,_)}},Su=function(P){return function(x){return mn(P).upload([x],!1).then(function(_){return _.length===0?et.reject("Failed to upload image"):_[0].status===!1?et.reject(_[0].error.message):_[0]})}},go=function(P){var x={onSubmit:Bo(P),imageSize:qn(P),addToBlobCache:Zu(P),createBlobCache:Ns(P),alertErr:kc(P),normalizeCss:va(P),parseStyle:Ci(P),serializeStyle:Cc(P),uploadImage:Su(P)},_=function(){oo(P).then(Ea(x)).then(P.windowManager.open)};return{open:_}},Ps=function(P){P.addCommand("mceImage",go(P).open),P.addCommand("mceUpdateImage",function(x,_){P.undoManager.transact(function(){return Ft(P,_)})})},mt=function(P){var x=P.attr("class");return x&&/\bimage\b/.test(x)},tc=function(P){return function(x){for(var _=x.length,A=function(le){le.attr("contenteditable",P?"true":null)};_--;){var W=x[_];mt(W)&&(W.attr("contenteditable",P?"false":null),Dn.each(W.getAll("figcaption"),A))}}},yo=function(P){P.on("PreInit",function(){P.parser.addNodeFilter("figure",tc(!0)),P.serializer.addNodeFilter("figure",tc(!1))})},pl=function(P){P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:go(P).open,onSetup:function(x){return x.setActive(at(So(P))),P.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",x.setActive).unbind}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:go(P).open}),P.ui.registry.addContextMenu("image",{update:function(x){return $o(x)||Gi(x)&&!Ka(x)?["image"]:[]}})};function ys(){I.add("image",function(P){yo(P),pl(P),Ps(P)})}ys()})();(function(){var I=function(te){var Se=te,Je=function(){return Se},bt=function(dr){Se=dr};return{get:Je,set:bt}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=function(te){var Se=typeof te;return te===null?"null":Se==="object"&&(Array.prototype.isPrototypeOf(te)||te.constructor&&te.constructor.name==="Array")?"array":Se==="object"&&(String.prototype.isPrototypeOf(te)||te.constructor&&te.constructor.name==="String")?"string":Se},ee=function(te){return function(Se){return N(Se)===te}},me=function(te){return function(Se){return typeof Se===te}},Be=ee("array"),we=function(te){return te==null},ge=function(te){return!we(te)},It=me("function"),rt=function(){},He=function(te){return function(){return te}},at=function(te){return te},hr=He(!1),Qe=He(!0),ut=function(){return ke},ke=function(){var te=function(bt){return bt()},Se=at,Je={fold:function(bt,dr){return bt()},isSome:hr,isNone:Qe,getOr:Se,getOrThunk:te,getOrDie:function(bt){throw new Error(bt||"error: getOrDie called on none.")},getOrNull:He(null),getOrUndefined:He(void 0),or:Se,orThunk:te,map:ut,each:rt,bind:ut,exists:hr,forall:Qe,filter:function(){return ut()},toArray:function(){return[]},toString:He("none()")};return Je}(),J=function(te){var Se=He(te),Je=function(){return dr},bt=function(Tr){return Tr(te)},dr={fold:function(Tr,Br){return Br(te)},isSome:Qe,isNone:hr,getOr:Se,getOrThunk:Se,getOrDie:Se,getOrNull:Se,getOrUndefined:Se,or:Je,orThunk:Je,map:function(Tr){return J(Tr(te))},each:function(Tr){Tr(te)},bind:bt,exists:bt,forall:bt,filter:function(Tr){return Tr(te)?dr:ke},toArray:function(){return[te]},toString:function(){return"some("+te+")"}};return dr},Fe=function(te){return te==null?ke:J(te)},se={some:J,none:ut,from:Fe},Ye={},ze={exports:Ye};(function(te,Se,Je,bt){(function(dr,Tr){typeof Se=="object"&&typeof Je<"u"?Je.exports=Tr():(dr=typeof globalThis<"u"?globalThis:dr||self,dr.EphoxContactWrapper=Tr())})(this,function(){var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof mx<"u"?mx:typeof self<"u"?self:{},Tr={exports:{}};(function(Ce){(function(Ie){var ct=setTimeout;function kt(){}function br(Hr,Zt){return function(){Hr.apply(Zt,arguments)}}function Ir(Hr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Hr!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mo(Hr,this)}function na(Hr,Zt){for(;Hr._state===3;)Hr=Hr._value;if(Hr._state===0){Hr._deferreds.push(Zt);return}Hr._handled=!0,Ir._immediateFn(function(){var Ea=Hr._state===1?Zt.onFulfilled:Zt.onRejected;if(Ea===null){(Hr._state===1?Tn:xa)(Zt.promise,Hr._value);return}var Bo;try{Bo=Ea(Hr._value)}catch(qn){xa(Zt.promise,qn);return}Tn(Zt.promise,Bo)})}function Tn(Hr,Zt){try{if(Zt===Hr)throw new TypeError("A promise cannot be resolved with itself.");if(Zt&&(typeof Zt=="object"||typeof Zt=="function")){var Ea=Zt.then;if(Zt instanceof Ir){Hr._state=3,Hr._value=Zt,qa(Hr);return}else if(typeof Ea=="function"){Mo(br(Ea,Zt),Hr);return}}Hr._state=1,Hr._value=Zt,qa(Hr)}catch(Bo){xa(Hr,Bo)}}function xa(Hr,Zt){Hr._state=2,Hr._value=Zt,qa(Hr)}function qa(Hr){Hr._state===2&&Hr._deferreds.length===0&&Ir._immediateFn(function(){Hr._handled||Ir._unhandledRejectionFn(Hr._value)});for(var Zt=0,Ea=Hr._deferreds.length;Zt<Ea;Zt++)na(Hr,Hr._deferreds[Zt]);Hr._deferreds=null}function xu(Hr,Zt,Ea){this.onFulfilled=typeof Hr=="function"?Hr:null,this.onRejected=typeof Zt=="function"?Zt:null,this.promise=Ea}function Mo(Hr,Zt){var Ea=!1;try{Hr(function(Bo){Ea||(Ea=!0,Tn(Zt,Bo))},function(Bo){Ea||(Ea=!0,xa(Zt,Bo))})}catch(Bo){if(Ea)return;Ea=!0,xa(Zt,Bo)}}Ir.prototype.catch=function(Hr){return this.then(null,Hr)},Ir.prototype.then=function(Hr,Zt){var Ea=new this.constructor(kt);return na(this,new xu(Hr,Zt,Ea)),Ea},Ir.all=function(Hr){var Zt=Array.prototype.slice.call(Hr);return new Ir(function(Ea,Bo){if(Zt.length===0)return Ea([]);var qn=Zt.length;function Ns(kc,va){try{if(va&&(typeof va=="object"||typeof va=="function")){var Ci=va.then;if(typeof Ci=="function"){Ci.call(va,function(Cc){Ns(kc,Cc)},Bo);return}}Zt[kc]=va,--qn===0&&Ea(Zt)}catch(Cc){Bo(Cc)}}for(var Zu=0;Zu<Zt.length;Zu++)Ns(Zu,Zt[Zu])})},Ir.resolve=function(Hr){return Hr&&typeof Hr=="object"&&Hr.constructor===Ir?Hr:new Ir(function(Zt){Zt(Hr)})},Ir.reject=function(Hr){return new Ir(function(Zt,Ea){Ea(Hr)})},Ir.race=function(Hr){return new Ir(function(Zt,Ea){for(var Bo=0,qn=Hr.length;Bo<qn;Bo++)Hr[Bo].then(Zt,Ea)})},Ir._immediateFn=typeof setImmediate=="function"?function(Hr){setImmediate(Hr)}:function(Hr){ct(Hr,0)},Ir._unhandledRejectionFn=function(Zt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Zt)},Ir._setImmediateFn=function(Zt){Ir._immediateFn=Zt},Ir._setUnhandledRejectionFn=function(Zt){Ir._unhandledRejectionFn=Zt},Ce.exports?Ce.exports=Ir:Ie.Promise||(Ie.Promise=Ir)})(dr)})(Tr);var Br=Tr.exports,Mn=function(){return typeof window<"u"?window:Function("return this;")()}(),G={boltExport:Mn.Promise||Br};return G})})(void 0,Ye,ze);var $e=ze.exports.boltExport,Ge=function(te,Se){return U(document.createElement("canvas"),te,Se)},ce=function(te){var Se=Ge(te.width,te.height),Je=Ue(Se);return Je.drawImage(te,0,0),Se},Ue=function(te){return te.getContext("2d")},U=function(te,Se,Je){return te.width=Se,te.height=Je,te},xe=function(te){return te.naturalWidth||te.width},Z=function(te){return te.naturalHeight||te.height},X=function(te){var Se=te.src;return Se.indexOf("data:")===0?Xn(Se):fn(Se)},Lt=function(te){return new $e(function(Se,Je){var bt=URL.createObjectURL(te),dr=new Image,Tr=function(){dr.removeEventListener("load",Br),dr.removeEventListener("error",Mn)},Br=function(){Tr(),Se(dr)},Mn=function(){Tr(),Je("Unable to load data of type "+te.type+": "+bt)};dr.addEventListener("load",Br),dr.addEventListener("error",Mn),dr.src=bt,dr.complete&&setTimeout(Br,0)})},fn=function(te){return new $e(function(Se,Je){var bt=new XMLHttpRequest;bt.open("GET",te,!0),bt.responseType="blob",bt.onload=function(){this.status===200&&Se(this.response)},bt.onerror=function(){var dr=this,Tr=function(){var Mn=new Error("No access to download image");return Mn.code=18,Mn.name="SecurityError",Mn},Br=function(){return new Error("Error "+dr.status+" downloading image")};Je(this.status===0?Tr():Br())},bt.send()})},St=function(te){var Se=te.split(","),Je=/data:([^;]+)/.exec(Se[0]);if(!Je)return se.none();for(var bt=Je[1],dr=Se[1],Tr=1024,Br=atob(dr),Mn=Br.length,G=Math.ceil(Mn/Tr),Ce=new Array(G),Ie=0;Ie<G;++Ie){for(var ct=Ie*Tr,kt=Math.min(ct+Tr,Mn),br=new Array(kt-ct),Ir=ct,na=0;Ir<kt;++na,++Ir)br[na]=Br[Ir].charCodeAt(0);Ce[Ie]=new Uint8Array(br)}return se.some(new Blob(Ce,{type:bt}))},Xn=function(te){return new $e(function(Se,Je){St(te).fold(function(){Je("uri is not base64: "+te)},Se)})},pn=function(te,Se,Je){return Se=Se||"image/png",It(HTMLCanvasElement.prototype.toBlob)?new $e(function(bt,dr){te.toBlob(function(Tr){Tr?bt(Tr):dr()},Se,Je)}):Xn(te.toDataURL(Se,Je))},O=function(te,Se,Je){return Se=Se||"image/png",te.toDataURL(Se,Je)},On=function(te){return Lt(te).then(function(Se){ur(Se);var Je=Ge(xe(Se),Z(Se)),bt=Ue(Je);return bt.drawImage(Se,0,0),Je})},Wt=function(te){return new $e(function(Se){var Je=new FileReader;Je.onloadend=function(){Se(Je.result)},Je.readAsDataURL(te)})},ur=function(te){URL.revokeObjectURL(te.src)},ya=function(te){return Lt(te)},vo=function(te){return X(te)},dn=Array.prototype.indexOf,fa=function(te,Se){return dn.call(te,Se)},oe=function(te,Se){return fa(te,Se)>-1},Xa=function(te,Se){for(var Je=0,bt=te.length;Je<bt;Je++){var dr=te[Je];Se(dr,Je)}},$t=function(te,Se){for(var Je=[],bt=0,dr=te.length;bt<dr;bt++){var Tr=te[bt];Se(Tr,bt)&&Je.push(Tr)}return Je},Ze=function(te,Se,Je){return Xa(te,function(bt,dr){Je=Se(Je,bt,dr)}),Je},Sr=function(te,Se,Je){for(var bt=0,dr=te.length;bt<dr;bt++){var Tr=te[bt];if(Se(Tr,bt))return se.some(Tr);if(Je(Tr,bt))break}return se.none()},et=function(te,Se){return Sr(te,Se,hr)},qe=function(te,Se){for(var Je=0,bt=te.length;Je<bt;++Je){var dr=te[Je];if(Se(dr,Je)!==!0)return!1}return!0},be=Object.keys,Ne=function(te,Se){for(var Je=be(te),bt=0,dr=Je.length;bt<dr;bt++){var Tr=Je[bt],Br=te[Tr];Se(Br,Tr)}},je=function(te){if(!Be(te))throw new Error("cases must be an array");if(te.length===0)throw new Error("there must be at least one case");var Se=[],Je={};return Xa(te,function(bt,dr){var Tr=be(bt);if(Tr.length!==1)throw new Error("one and only one name per case");var Br=Tr[0],Mn=bt[Br];if(Je[Br]!==void 0)throw new Error("duplicate key detected:"+Br);if(Br==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(Mn))throw new Error("case arguments must be an array");Se.push(Br),Je[Br]=function(){for(var G=[],Ce=0;Ce<arguments.length;Ce++)G[Ce]=arguments[Ce];var Ie=G.length;if(Ie!==Mn.length)throw new Error("Wrong number of arguments to case "+Br+". Expected "+Mn.length+" ("+Mn+"), got "+Ie);var ct=function(kt){var br=be(kt);if(Se.length!==br.length)throw new Error("Wrong number of arguments to match. Expected: "+Se.join(",")+`
Actual: `+br.join(","));var Ir=qe(Se,function(na){return oe(br,na)});if(!Ir)throw new Error("Not all branches were specified when using match. Specified: "+br.join(", ")+`
Required: `+Se.join(", "));return kt[Br].apply(null,G)};return{fold:function(){for(var kt=[],br=0;br<arguments.length;br++)kt[br]=arguments[br];if(kt.length!==te.length)throw new Error("Wrong number of arguments to fold. Expected "+te.length+", got "+kt.length);var Ir=kt[dr];return Ir.apply(null,G)},match:ct,log:function(kt){console.log(kt,{constructors:Se,constructor:Br,params:G})}}}}),Je},Nt={generate:je};Nt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var lr=function(te,Se,Je){var bt=Se.type,dr=He(bt),Tr=function(){return $e.resolve(Se)},Br=He(Je),Mn=function(){return Je.split(",")[1]},G=function(kt,br){return te.then(function(Ir){return pn(Ir,kt,br)})},Ce=function(kt,br){return te.then(function(Ir){return O(Ir,kt,br)})},Ie=function(kt,br){return Ce(kt,br).then(function(Ir){return Ir.split(",")[1]})},ct=function(){return te.then(ce)};return{getType:dr,toBlob:Tr,toDataURL:Br,toBase64:Mn,toAdjustedBlob:G,toAdjustedDataURL:Ce,toAdjustedBase64:Ie,toCanvas:ct}},Xt=function(te){return Wt(te).then(function(Se){return lr(On(te),te,Se)})},Pr=function(te,Se){return pn(te,Se).then(function(Je){return lr($e.resolve(te),Je,te.toDataURL())})},it=function(te,Se){Se===void 0&&(Se=2);var Je=Math.pow(10,Se),bt=Math.round(te*Je);return Math.ceil(bt/Je)},st=function(te,Se){return te.toCanvas().then(function(Je){return rr(Je,te.getType(),Se)})},rr=function(te,Se,Je){var bt=Je<0?360+Je:Je,dr=bt*Math.PI/180,Tr=te.width,Br=te.height,Mn=Math.sin(dr),G=Math.cos(dr),Ce=it(Math.abs(Tr*G)+Math.abs(Br*Mn)),Ie=it(Math.abs(Tr*Mn)+Math.abs(Br*G)),ct=Ge(Ce,Ie),kt=Ue(ct);return kt.translate(Ce/2,Ie/2),kt.rotate(dr),kt.drawImage(te,-Tr/2,-Br/2),Pr(ct,Se)},Rr=function(te,Se){return te.toCanvas().then(function(Je){return sn(Je,te.getType(),Se)})},sn=function(te,Se,Je){var bt=Ge(te.width,te.height),dr=Ue(bt);return Je==="v"?(dr.scale(1,-1),dr.drawImage(te,0,-bt.height)):(dr.scale(-1,1),dr.drawImage(te,-bt.width,0)),Pr(bt,Se)},wn=function(te,Se){return Rr(te,Se)},Gn=function(te,Se){return st(te,Se)},Yn=function(te,Se,Je){return Je===void 0&&(Je=!1),new $e(function(bt){var dr=new XMLHttpRequest;dr.onreadystatechange=function(){dr.readyState===4&&bt({status:dr.status,blob:dr.response})},dr.open("GET",te,!0),dr.withCredentials=Je,Ne(Se,function(Tr,Br){dr.setRequestHeader(Br,Tr)}),dr.responseType="blob",dr.send()})},Ta=function(te){return new $e(function(Se,Je){var bt=new FileReader;bt.onload=function(){Se(bt.result)},bt.onerror=function(dr){Je(dr)},bt.readAsText(te)})},ba=function(te){try{return se.some(JSON.parse(te))}catch{return se.none()}},Zn=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],In=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],ga=function(te,Se){var Je=Ze(Se,function(bt,dr){return ge(bt)?bt[dr]:void 0},te);return se.from(Je)},Rn=function(te,Se){return(Se==null?void 0:Se.type)==="application/json"&&(te===400||te===403||te===404||te===500)},kn=function(te){var Se=et(Zn,function(Je){return te===Je.code}).fold(He("Unknown ImageProxy error"),function(Je){return Je.message});return"ImageProxy HTTP error: "+Se},Ka=function(te){var Se=kn(te);return $e.reject(Se)},ao=function(te){return et(In,function(Se){return Se.type===te}).fold(He("Unknown service error"),function(Se){return Se.message})},Ca=function(te){var Se=ba(te),Je=Se.bind(function(bt){return ga(bt,["error","type"]).map(ao)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+Je},xn=function(te){return Ta(te).then(function(Se){var Je=Ca(Se);return $e.reject(Je)})},Co=function(te,Se){return Rn(te,Se)?xn(Se):Ka(te)},Ke=function(te,Se){var Je=te.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(te)?te:te+Je+"apiKey="+encodeURIComponent(Se)},Mt=function(te){return te<200||te>=300},gt=function(te,Se){var Je={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":Se};return Yn(Ke(te,Se),Je).then(function(bt){return Mt(bt.status)?Co(bt.status,bt.blob):$e.resolve(bt.blob)})},fr=function(te,Se){return Yn(te,{},Se).then(function(Je){return Mt(Je.status)?Ka(Je.status):$e.resolve(Je.blob)})},un=function(te,Se,Je){return Je===void 0&&(Je=!1),Se?gt(te,Se):fr(te,Je)},ua=function(te){return Xt(te)},fi=1,Kn=function(te,Se){var Je=Se||document,bt=Je.createElement("div");if(bt.innerHTML=te,!bt.hasChildNodes()||bt.childNodes.length>1)throw console.error("HTML does not have a single root node",te),new Error("HTML must have a single root node");return di(bt.childNodes[0])},Sn=function(te,Se){var Je=Se||document,bt=Je.createElement(te);return di(bt)},xo=function(te,Se){var Je=Se||document,bt=Je.createTextNode(te);return di(bt)},di=function(te){if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},Ni=function(te,Se,Je){return se.from(te.dom.elementFromPoint(Se,Je)).map(di)},po={fromHtml:Kn,fromTag:Sn,fromText:xo,fromDom:di,fromPoint:Ni},Jo=function(te,Se){var Je=te.dom;if(Je.nodeType!==fi)return!1;var bt=Je;if(bt.matches!==void 0)return bt.matches(Se);if(bt.msMatchesSelector!==void 0)return bt.msMatchesSelector(Se);if(bt.webkitMatchesSelector!==void 0)return bt.webkitMatchesSelector(Se);if(bt.mozMatchesSelector!==void 0)return bt.mozMatchesSelector(Se);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var qi=function(te,Se){var Je=function(dr){return Se(po.fromDom(dr))},bt=et(te.dom.childNodes,Je);return bt.map(po.fromDom)},Qo=function(te,Se){return qi(te,function(Je){return Jo(Je,Se)})},$o=tinymce.util.Tools.resolve("tinymce.util.Delay"),Gi=tinymce.util.Tools.resolve("tinymce.util.Promise"),ra=tinymce.util.Tools.resolve("tinymce.util.URI"),oi=function(te){return te.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},Lr=function(te){return te.getParam("imagetools_proxy")},Pu=function(te){return te.getParam("imagetools_cors_hosts",[],"string[]")},ei=function(te){return te.getParam("imagetools_credentials_hosts",[],"string[]")},vi=function(te){return se.from(te.getParam("imagetools_fetch_image",null,"function"))},Ro=function(te){return te.getParam("api_key",te.getParam("imagetools_api_key","","string"),"string")},Pi=function(te){return te.getParam("images_upload_timeout",3e4,"number")},Fu=function(te){return te.getParam("images_reuse_filename",!1,"boolean")},pi=function(te){var Se,Je,bt=function(dr){return/^[0-9\.]+px$/.test(dr)};return Se=te.style.width,Je=te.style.height,Se||Je?bt(Se)&&bt(Je)?{w:parseInt(Se,10),h:parseInt(Je,10)}:null:(Se=te.width,Je=te.height,Se&&Je?{w:parseInt(Se,10),h:parseInt(Je,10)}:null)},Ku=function(te,Se){var Je,bt;Je=te.style.width,bt=te.style.height,(Je||bt)&&(te.style.width=Se.w+"px",te.style.height=Se.h+"px",te.removeAttribute("data-mce-style")),Je=te.width,bt=te.height,(Je||bt)&&(te.setAttribute("width",String(Se.w)),te.setAttribute("height",String(Se.h)))},Do=function(te){return{w:te.naturalWidth,h:te.naturalHeight}},So=0,tr=function(te){return Qo(po.fromDom(te),"img")},iu=function(te,Se){return te.dom.is(Se,"figure")},Cu=function(te,Se){return te.dom.is(Se,"img:not([data-mce-object],[data-mce-placeholder])")},Fi=function(te,Se){var Je=function(bt){return Cu(te,bt)&&(Gt(te,bt)||vr(te,bt)||ge(Lr(te)))};return iu(te,Se)?tr(Se).bind(function(bt){return Je(bt.dom)?se.some(bt.dom):se.none()}):Je(Se)?se.some(Se):se.none()},ye=function(te,Se){te.notificationManager.open({text:Se,type:"error"})},Te=function(te){var Se=te.selection.getNode(),Je=te.dom.getParent(Se,"figure.image");return Je!==null&&iu(te,Je)?tr(Je):Cu(te,Se)?se.some(po.fromDom(Se)):se.none()},wt=function(te,Se,Je){var bt=Se.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return ge(bt)?te.dom.encode(bt[Je]):null},Ft=function(){return"imagetools"+So++},Gt=function(te,Se){var Je=Se.src;return Je.indexOf("data:")===0||Je.indexOf("blob:")===0||new ra(Je).host===te.documentBaseURI.host},vr=function(te,Se){return B.inArray(Pu(te),new ra(Se.src).host)!==-1},kr=function(te,Se){return B.inArray(ei(te),new ra(Se.src).host)!==-1},ln=function(te,Se){if(vr(te,Se))return un(Se.src,null,kr(te,Se));if(!Gt(te,Se)){var Je=Lr(te),bt=Je+(Je.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(Se.src),dr=Ro(te);return un(bt,dr,!1)}return vo(Se)},mn=function(te,Se){return vi(te).fold(function(){return ln(te,Se)},function(Je){return Je(Se)})},Dn=function(te,Se){var Je=te.editorUpload.blobCache.getByUri(Se.src);return Je?Gi.resolve(Je.blob()):mn(te,Se)},ka=function(te,Se){var Je=$o.setEditorTimeout(te,function(){te.editorUpload.uploadImagesAuto()},Pi(te));Se.set(Je)},Va=function(te){$o.clearTimeout(te.get())},To=function(te,Se,Je,bt,dr,Tr,Br){return Je.toBlob().then(function(Mn){var G,Ce,Ie,ct,kt=te.editorUpload.blobCache;G=Tr.src;var br=Se.type===Mn.type;return Fu(te)&&(ct=kt.getByUri(G),ge(ct)?(G=ct.uri(),Ce=ct.name(),Ie=ct.filename()):(Ce=wt(te,G,2),Ie=wt(te,G,1))),ct=kt.create({id:Ft(),blob:Mn,base64:Je.toBase64(),uri:G,name:Ce,filename:br?Ie:void 0}),kt.add(ct),te.undoManager.transact(function(){var Ir=function(){te.$(Tr).off("load",Ir),te.nodeChanged(),bt?te.editorUpload.uploadImagesAuto():(Va(dr),ka(te,dr))};te.$(Tr).on("load",Ir),Br&&te.$(Tr).attr({width:Br.w,height:Br.h}),te.$(Tr).attr({src:ct.blobUri()}).removeAttr("data-mce-src")}),ct})},Ht=function(te,Se,Je,bt){return function(){var dr=Te(te);return dr.fold(function(){ye(te,"Could not find selected image")},function(Tr){return te._scanForImages().then(function(){return Dn(te,Tr.dom)}).then(function(Br){return ua(Br).then(Je).then(function(Mn){return To(te,Br,Mn,!1,Se,Tr.dom,bt)})}).catch(function(Br){ye(te,Br)})})}},cn=function(te,Se,Je){return function(){var bt=Te(te),dr=bt.map(function(Tr){var Br=pi(Tr.dom);return Br?{w:Br.h,h:Br.w}:null}).getOrNull();return Ht(te,Se,function(Tr){return Gn(Tr,Je)},dr)()}},da=function(te,Se,Je){return function(){return Ht(te,Se,function(bt){return wn(bt,Je)})()}},Eo=function(te,Se,Je,bt,dr){return ya(dr).then(function(Tr){var Br=Do(Tr);return(bt.w!==Br.w||bt.h!==Br.h)&&pi(Je)&&Ku(Je,Br),URL.revokeObjectURL(Tr.src),dr}).then(ua).then(function(Tr){return To(te,dr,Tr,!0,Se,Je)})},Ii="save-state",Wn="disable",gs="enable",Ki=function(te){return{blob:te,url:URL.createObjectURL(te)}},oo=function(te,Se){return function(){var Je=function(Tr){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:Tr}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(Br){var Mn=Br.getData().imagetools.blob;bt.each(function(G){dr.each(function(Ce){Eo(te,Se,G.dom,Ce,Mn)})}),Br.close()},onCancel:rt,onAction:function(Br,Mn){switch(Mn.name){case Ii:Mn.value?Br.enable("save"):Br.disable("save");break;case Wn:Br.disable("save"),Br.disable("cancel");break;case gs:Br.enable("cancel");break}}}},bt=Te(te),dr=bt.map(function(Tr){return Do(Tr.dom)});bt.each(function(Tr){Fi(te,Tr.dom).each(function(Br){Dn(te,Tr.dom).then(function(Mn){var G=Ki(Mn);te.windowManager.open(Je(G))})})})}},Xu=function(te,Se){B.each({mceImageRotateLeft:cn(te,Se,-90),mceImageRotateRight:cn(te,Se,90),mceImageFlipVertical:da(te,Se,"v"),mceImageFlipHorizontal:da(te,Se,"h"),mceEditImage:oo(te,Se)},function(Je,bt){te.addCommand(bt,Je)})},ii=function(te,Se,Je){te.on("NodeChange",function(bt){var dr=Je.get(),Tr=Fi(te,bt.element);dr&&!Tr.exists(function(Br){return dr.src===Br.src})&&(Va(Se),te.editorUpload.uploadImagesAuto(),Je.set(null)),Tr.each(Je.set)})},mi=function(te){var Se=[],Je=function(Tr){return function(){return te.execCommand(Tr)}},bt=function(){return Te(te).exists(function(Tr){return Fi(te,Tr.dom).isSome()})},dr=function(Tr){var Br=function(Mn){return Tr.setDisabled(!Mn)};return Br(bt()),Se=Se.concat([Br]),function(){Se=$t(Se,function(Mn){return Mn!==Br})}};te.on("NodeChange",function(){var Tr=bt();Xa(Se,function(Br){return Br(Tr)})}),te.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:Je("mceImageRotateLeft"),onSetup:dr}),te.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:Je("mceImageRotateRight"),onSetup:dr}),te.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:Je("mceImageFlipVertical"),onSetup:dr}),te.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:Je("mceImageFlipHorizontal"),onSetup:dr}),te.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:Je("mceEditImage"),onSetup:dr}),te.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:Je("mceImage")}),te.ui.registry.addContextMenu("imagetools",{update:function(Tr){return Fi(te,Tr).map(function(Br){return{text:"Edit image",icon:"edit-image",onAction:Je("mceEditImage")}}).toArray()}})},Ba=function(te){te.ui.registry.addContextToolbar("imagetools",{items:oi(te),predicate:function(Se){return Fi(te,Se).isSome()},position:"node",scope:"node"})};function Yu(){S.add("imagetools",function(te){var Se=I(0),Je=I(null);Xu(te,Se),mi(te),Ba(te),ii(te,Se,Je)})}Yu()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=tinymce.util.Tools.resolve("tinymce.util.VK"),B=function(G){var Ce=typeof G;return G===null?"null":Ce==="object"&&(Array.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="Array")?"array":Ce==="object"&&(String.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="String")?"string":Ce},N=function(G){return function(Ce){return B(Ce)===G}},ee=function(G){return function(Ce){return typeof Ce===G}},me=function(G){return function(Ce){return G===Ce}},Be=N("string"),we=N("array"),ge=me(null),It=ee("boolean"),rt=ee("function"),He=function(){},at=function(G){return function(){return G}},hr=function(G){return G},Qe=function(G,Ce){return G===Ce},ut=at(!1),ke=at(!0),J=function(){return Fe},Fe=function(){var G=function(ct){return ct()},Ce=hr,Ie={fold:function(ct,kt){return ct()},isSome:ut,isNone:ke,getOr:Ce,getOrThunk:G,getOrDie:function(ct){throw new Error(ct||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:Ce,orThunk:G,map:J,each:He,bind:J,exists:ut,forall:ke,filter:function(){return J()},toArray:function(){return[]},toString:at("none()")};return Ie}(),se=function(G){var Ce=at(G),Ie=function(){return kt},ct=function(br){return br(G)},kt={fold:function(br,Ir){return Ir(G)},isSome:ke,isNone:ut,getOr:Ce,getOrThunk:Ce,getOrDie:Ce,getOrNull:Ce,getOrUndefined:Ce,or:Ie,orThunk:Ie,map:function(br){return se(br(G))},each:function(br){br(G)},bind:ct,exists:ct,forall:ct,filter:function(br){return br(G)?kt:Fe},toArray:function(){return[G]},toString:function(){return"some("+G+")"}};return kt},Ye=function(G){return G==null?Fe:se(G)},ze={some:se,none:J,from:Ye},$e=Array.prototype.indexOf,Ge=Array.prototype.push,ce=function(G,Ce){return $e.call(G,Ce)},Ue=function(G,Ce){return ce(G,Ce)>-1},U=function(G,Ce){for(var Ie=G.length,ct=new Array(Ie),kt=0;kt<Ie;kt++){var br=G[kt];ct[kt]=Ce(br,kt)}return ct},xe=function(G,Ce){for(var Ie=0,ct=G.length;Ie<ct;Ie++){var kt=G[Ie];Ce(kt,Ie)}},Z=function(G,Ce,Ie){return xe(G,function(ct,kt){Ie=Ce(Ie,ct,kt)}),Ie},X=function(G){for(var Ce=[],Ie=0,ct=G.length;Ie<ct;++Ie){if(!we(G[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+G);Ge.apply(Ce,G[Ie])}return Ce},Lt=function(G,Ce){return X(U(G,Ce))},fn=function(G,Ce){for(var Ie=0;Ie<G.length;Ie++){var ct=Ce(G[Ie],Ie);if(ct.isSome())return ct}return ze.none()},St=function(G,Ce,Ie){return Ie===void 0&&(Ie=Qe),G.exists(function(ct){return Ie(ct,Ce)})},Xn=function(G){for(var Ce=[],Ie=function(kt){Ce.push(kt)},ct=0;ct<G.length;ct++)G[ct].each(Ie);return Ce},pn=function(G,Ce){return G?ze.some(Ce):ze.none()},O=function(G){var Ce=G.getParam("link_assume_external_targets",!1);return It(Ce)&&Ce?1:Be(Ce)&&(Ce==="http"||Ce==="https")?Ce:0},On=function(G){return G.getParam("link_context_toolbar",!1,"boolean")},Wt=function(G){return G.getParam("link_list")},ur=function(G){return G.getParam("default_link_target")},ya=function(G){return G.getParam("target_list",!0)},vo=function(G){return G.getParam("rel_list",[],"array")},dn=function(G){return G.getParam("link_class_list",[],"array")},fa=function(G){return G.getParam("link_title",!0,"boolean")},oe=function(G){return G.getParam("allow_unsafe_link_target",!1,"boolean")},Xa=function(G){return G.getParam("link_quicklink",!1,"boolean")},$t=function(G){return G.getParam("link_default_protocol","http","string")},Ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sr=function(G){return Be(G.value)?G.value:""},et=function(G){return Be(G.text)?G.text:Be(G.title)?G.title:""},qe=function(G,Ce){var Ie=[];return Ze.each(G,function(ct){var kt=et(ct);if(ct.menu!==void 0){var br=qe(ct.menu,Ce);Ie.push({text:kt,items:br})}else{var Ir=Ce(ct);Ie.push({text:kt,value:Ir})}}),Ie},be=function(G){return G===void 0&&(G=Sr),function(Ce){return ze.from(Ce).map(function(Ie){return qe(Ie,G)})}},Ne=function(G){return be(Sr)(G)},je=function(G,Ce){return function(Ie){return{name:G,type:"listbox",label:Ce,items:Ie}}},Nt={sanitize:Ne,sanitizeWith:be,createUi:je,getValue:Sr},lr=function(){return lr=Object.assign||function(Ce){for(var Ie,ct=1,kt=arguments.length;ct<kt;ct++){Ie=arguments[ct];for(var br in Ie)Object.prototype.hasOwnProperty.call(Ie,br)&&(Ce[br]=Ie[br])}return Ce},lr.apply(this,arguments)},Xt=Object.keys,Pr=Object.hasOwnProperty,it=function(G,Ce){for(var Ie=Xt(G),ct=0,kt=Ie.length;ct<kt;ct++){var br=Ie[ct],Ir=G[br];Ce(Ir,br)}},st=function(G){return function(Ce,Ie){G[Ie]=Ce}},rr=function(G,Ce,Ie,ct){var kt={};return it(G,function(br,Ir){(Ce(br,Ir)?Ie:ct)(br,Ir)}),kt},Rr=function(G,Ce){var Ie={};return rr(G,Ce,st(Ie),He),Ie},sn=function(G,Ce){return Pr.call(G,Ce)},wn=function(G,Ce){return sn(G,Ce)&&G[Ce]!==void 0&&G[Ce]!==null},Gn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Yn=tinymce.util.Tools.resolve("tinymce.util.URI"),Ta=function(G){return G&&G.nodeName.toLowerCase()==="a"},ba=function(G){return Ta(G)&&!!ga(G)},Zn=function(G,Ce){if(G.collapsed)return[];var Ie=G.cloneContents(),ct=new Gn(Ie.firstChild,Ie),kt=[],br=Ie.firstChild;do Ce(br)&&kt.push(br);while(br=ct.next());return kt},In=function(G){return/^\w+:/i.test(G)},ga=function(G){var Ce=G.getAttribute("data-mce-href");return Ce||G.getAttribute("href")},Rn=function(G,Ce){var Ie=["noopener"],ct=G?G.split(/\s+/):[],kt=function(Tn){return Ze.trim(Tn.sort().join(" "))},br=function(Tn){return Tn=Ir(Tn),Tn.length>0?Tn.concat(Ie):Ie},Ir=function(Tn){return Tn.filter(function(xa){return Ze.inArray(Ie,xa)===-1})},na=Ce?br(ct):Ir(ct);return na.length>0?kt(na):""},kn=function(G){return G.replace(/\uFEFF/g,"")},Ka=function(G,Ce){return Ce=Ce||G.selection.getNode(),Ke(Ce)?G.dom.select("a[href]",Ce)[0]:G.dom.getParent(Ce,"a[href]")},ao=function(G,Ce){var Ie=Ce?Ce.innerText||Ce.textContent:G.getContent({format:"text"});return kn(Ie)},Ca=function(G){return Ze.grep(G,ba).length>0},xn=function(G){return Zn(G,ba).length>0},Co=function(G){var Ce=G.schema.getTextInlineElements(),Ie=function(kt){return kt.nodeType===1&&!Ta(kt)&&!sn(Ce,kt.nodeName.toLowerCase())},ct=Zn(G.selection.getRng(),Ie);return ct.length===0},Ke=function(G){return G&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className)},Mt=function(G){var Ce=["title","rel","class","target"];return Z(Ce,function(Ie,ct){return G[ct].each(function(kt){Ie[ct]=kt.length>0?kt:null}),Ie},{href:G.href})},gt=function(G,Ce){return(Ce==="http"||Ce==="https")&&!In(G)?Ce+"://"+G:G},fr=function(G,Ce){var Ie=lr({},Ce);if(!(vo(G).length>0)&&oe(G)===!1){var ct=Rn(Ie.rel,Ie.target==="_blank");Ie.rel=ct||null}return ze.from(Ie.target).isNone()&&ya(G)===!1&&(Ie.target=ur(G)),Ie.href=gt(Ie.href,O(G)),Ie},un=function(G,Ce,Ie,ct){Ie.each(function(kt){sn(Ce,"innerText")?Ce.innerText=kt:Ce.textContent=kt}),G.dom.setAttribs(Ce,ct),G.selection.select(Ce)},ua=function(G,Ce,Ie,ct){Ke(Ce)?qi(G,Ce,ct):Ie.fold(function(){G.execCommand("mceInsertLink",!1,ct)},function(kt){G.insertContent(G.dom.createHTML("a",ct,G.dom.encode(kt)))})},fi=function(G,Ce,Ie){var ct=G.selection.getNode(),kt=Ka(G,ct),br=fr(G,Mt(Ie));G.undoManager.transact(function(){Ie.href===Ce.href&&Ce.attach(),kt?(G.focus(),un(G,kt,Ie.text,br)):ua(G,ct,Ie.text,br)})},Kn=function(G){var Ce=G.dom,Ie=G.selection,ct=Ie.getBookmark(),kt=Ie.getRng().cloneRange(),br=Ce.getParent(kt.startContainer,"a[href]",G.getBody()),Ir=Ce.getParent(kt.endContainer,"a[href]",G.getBody());br&&kt.setStartBefore(br),Ir&&kt.setEndAfter(Ir),Ie.setRng(kt),G.execCommand("unlink"),Ie.moveToBookmark(ct)},Sn=function(G){G.undoManager.transact(function(){var Ce=G.selection.getNode();Ke(Ce)?Jo(G,Ce):Kn(G),G.focus()})},xo=function(G){var Ce=G.class,Ie=G.href,ct=G.rel,kt=G.target,br=G.text,Ir=G.title;return Rr({class:Ce.getOrNull(),href:Ie,rel:ct.getOrNull(),target:kt.getOrNull(),text:br.getOrNull(),title:Ir.getOrNull()},function(na,Tn){return ge(na)===!1})},di=function(G,Ce){var Ie=Ce.href;return lr(lr({},Ce),{href:Yn.isDomSafe(Ie,"a",G.settings)?Ie:""})},Ni=function(G,Ce,Ie){var ct=di(G,Ie);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,xo(ct)):fi(G,Ce,ct)},po=function(G){G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Sn(G)},Jo=function(G,Ce){var Ie=G.dom.select("img",Ce)[0];if(Ie){var ct=G.dom.getParents(Ie,"a[href]",Ce)[0];ct&&(ct.parentNode.insertBefore(Ie,ct),G.dom.remove(ct))}},qi=function(G,Ce,Ie){var ct=G.dom.select("img",Ce)[0];if(ct){var kt=G.dom.create("a",Ie);ct.parentNode.insertBefore(kt,ct),kt.appendChild(ct)}},Qo=function(G){return wn(G,"items")},$o=function(G,Ce){return fn(Ce,function(Ie){return Qo(Ie)?$o(G,Ie.items):pn(Ie.value===G,Ie)})},Gi=function(G,Ce,Ie,ct){var kt=ct[Ce],br=G.length>0;return kt!==void 0?$o(kt,Ie).map(function(Ir){return{url:{value:Ir.value,meta:{text:br?G:Ir.text,attach:He}},text:br?G:Ir.text}}):ze.none()},ra=function(G,Ce){return Ce==="link"?G.link:Ce==="anchor"?G.anchor:ze.none()},oi=function(G,Ce){var Ie={text:G.text,title:G.title},ct=function(Tn){return pn(Ie.title.length<=0,ze.from(Tn.meta.title).getOr(""))},kt=function(Tn){return pn(Ie.text.length<=0,ze.from(Tn.meta.text).getOr(Tn.value))},br=function(Tn){var xa=kt(Tn.url),qa=ct(Tn.url);return xa.isSome()||qa.isSome()?ze.some(lr(lr({},xa.map(function(xu){return{text:xu}}).getOr({})),qa.map(function(xu){return{title:xu}}).getOr({}))):ze.none()},Ir=function(Tn,xa){var qa=ra(Ce,xa.name).getOr([]);return Gi(Ie.text,xa.name,qa,Tn)},na=function(Tn,xa){var qa=xa.name;return qa==="url"?br(Tn()):Ue(["anchor","link"],qa)?Ir(Tn(),xa):((qa==="text"||qa==="title")&&(Ie[qa]=Tn()[qa]),ze.none())};return{onChange:na}},Lr={init:oi,getDelta:Gi},Pu=tinymce.util.Tools.resolve("tinymce.util.Delay"),ei=tinymce.util.Tools.resolve("tinymce.util.Promise"),vi=function(G,Ce,Ie){var ct=G.selection.getRng();Pu.setEditorTimeout(G,function(){G.windowManager.confirm(Ce,function(kt){G.selection.setRng(ct),Ie(kt)})})},Ro=function(G){var Ce=G.href,Ie=Ce.indexOf("@")>0&&Ce.indexOf("/")===-1&&Ce.indexOf("mailto:")===-1;return Ie?ze.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ct){return lr(lr({},ct),{href:"mailto:"+Ce})}}):ze.none()},Pi=function(G,Ce){return function(Ie){var ct=Ie.href,kt=G===1&&!In(ct)||G===0&&/^\s*www(\.|\d\.)/i.test(ct);return kt?ze.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ce+":// prefix?",preprocess:function(br){return lr(lr({},br),{href:Ce+"://"+ct})}}):ze.none()}},Fu=function(G,Ce){return fn([Ro,Pi(O(G),$t(G))],function(Ie){return Ie(Ce)}).fold(function(){return ei.resolve(Ce)},function(Ie){return new ei(function(ct){vi(G,Ie.message,function(kt){ct(kt?Ie.preprocess(Ce):Ce)})})})},pi={preprocess:Fu},Ku=function(G){var Ce=G.dom.select("a:not([href])"),Ie=Lt(Ce,function(ct){var kt=ct.name||ct.id;return kt?[{text:kt,value:"#"+kt}]:[]});return Ie.length>0?ze.some([{text:"None",value:""}].concat(Ie)):ze.none()},Do={getAnchors:Ku},So=function(G){var Ce=dn(G);return Ce.length>0?Nt.sanitize(Ce):ze.none()},tr={getClasses:So},iu=tinymce.util.Tools.resolve("tinymce.util.XHR"),Cu=function(G){try{return ze.some(JSON.parse(G))}catch{return ze.none()}},Fi=function(G){var Ce=function(ct){return G.convertURL(ct.value||ct.url,"href")},Ie=Wt(G);return new ei(function(ct){Be(Ie)?iu.send({url:Ie,success:function(kt){return ct(Cu(kt))},error:function(kt){return ct(ze.none())}}):rt(Ie)?Ie(function(kt){return ct(ze.some(kt))}):ct(ze.from(Ie))}).then(function(ct){return ct.bind(Nt.sanitizeWith(Ce)).map(function(kt){if(kt.length>0){var br=[{text:"None",value:""}];return br.concat(kt)}else return kt})})},ye={getLinks:Fi},Te=function(G,Ce){var Ie=vo(G);if(Ie.length>0){var ct=St(Ce,"_blank"),kt=oe(G)===!1,br=function(na){return Rn(Nt.getValue(na),ct)},Ir=kt?Nt.sanitizeWith(br):Nt.sanitize;return Ir(Ie)}return ze.none()},wt={getRels:Te},Ft=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Gt=function(G){var Ce=ya(G);return we(Ce)?Nt.sanitize(Ce).orThunk(function(){return ze.some(Ft)}):Ce===!1?ze.none():ze.some(Ft)},vr={getTargets:Gt},kr=function(G,Ce,Ie){var ct=G.getAttrib(Ce,Ie);return ct!==null&&ct.length>0?ze.some(ct):ze.none()},ln=function(G,Ce){var Ie=G.dom,ct=Co(G),kt=ct?ze.some(ao(G.selection,Ce)):ze.none(),br=Ce?ze.some(Ie.getAttrib(Ce,"href")):ze.none(),Ir=Ce?ze.from(Ie.getAttrib(Ce,"target")):ze.none(),na=kr(Ie,Ce,"rel"),Tn=kr(Ie,Ce,"class"),xa=kr(Ie,Ce,"title");return{url:br,text:kt,title:xa,target:Ir,rel:na,linkClass:Tn}},mn=function(G,Ce){return ye.getLinks(G).then(function(Ie){var ct=ln(G,Ce);return{anchor:ct,catalogs:{targets:vr.getTargets(G),rels:wt.getRels(G,ct.target),classes:tr.getClasses(G),anchor:Do.getAnchors(G),link:Ie},optNode:ze.from(Ce),flags:{titleEnabled:fa(G)}}})},Dn={collect:mn},ka=function(G,Ce){return function(Ie){var ct=Ie.getData();if(!ct.url.value){po(G),Ie.close();return}var kt=function(na){return ze.from(ct[na]).filter(function(Tn){return!St(Ce.anchor[na],Tn)})},br={href:ct.url.value,text:kt("text"),target:kt("target"),rel:kt("rel"),class:kt("linkClass"),title:kt("title")},Ir={href:ct.url.value,attach:ct.url.meta!==void 0&&ct.url.meta.attach?ct.url.meta.attach:He};pi.preprocess(G,br).then(function(na){Ni(G,Ir,na)}),Ie.close()}},Va=function(G){var Ce=Ka(G);return Dn.collect(G,Ce)},To=function(G,Ce){var Ie=G.anchor,ct=Ie.url.getOr("");return{url:{value:ct,meta:{original:{value:ct}}},text:Ie.text.getOr(""),title:Ie.title.getOr(""),anchor:ct,link:ct,rel:Ie.rel.getOr(""),target:Ie.target.or(Ce).getOr(""),linkClass:Ie.linkClass.getOr("")}},Ht=function(G,Ce,Ie){var ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],kt=G.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),br=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Ir=ze.from(ur(Ie)),na=To(G,Ir),Tn=G.catalogs,xa=Lr.init(na,Tn),qa={type:"panel",items:X([ct,kt,br,Xn([Tn.anchor.map(Nt.createUi("anchor","Anchors")),Tn.rels.map(Nt.createUi("rel","Rel")),Tn.targets.map(Nt.createUi("target","Open link in...")),Tn.link.map(Nt.createUi("link","Link list")),Tn.classes.map(Nt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:qa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:na,onChange:function(xu,Mo){var Hr=Mo.name;xa.onChange(xu.getData,{name:Hr}).each(function(Zt){xu.setData(Zt)})},onSubmit:Ce}},cn=function(G){var Ce=Va(G);Ce.then(function(Ie){var ct=ka(G,Ie);return Ht(Ie,ct,G)}).then(function(Ie){G.windowManager.open(Ie)})},da=function(G,Ce){document.body.appendChild(G),G.dispatchEvent(Ce),document.body.removeChild(G)},Eo=function(G){var Ce=document.createElement("a");Ce.target="_blank",Ce.href=G,Ce.rel="noreferrer noopener";var Ie=document.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),da(Ce,Ie)},Ii=function(G,Ce){return G.dom.getParent(Ce,"a[href]")},Wn=function(G){return Ii(G,G.selection.getStart())},gs=function(G){return G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1},Ki=function(G,Ce){if(Ce){var Ie=ga(Ce);if(/^#/.test(Ie)){var ct=G.$(Ie);ct.length&&G.selection.scrollIntoView(ct[0],!0)}else Eo(Ce.href)}},oo=function(G){return function(){cn(G)}},Xu=function(G){return function(){Ki(G,Wn(G))}},ii=function(G){G.on("click",function(Ce){var Ie=Ii(G,Ce.target);Ie&&S.metaKeyPressed(Ce)&&(Ce.preventDefault(),Ki(G,Ie))}),G.on("keydown",function(Ce){var Ie=Wn(G);Ie&&Ce.keyCode===13&&gs(Ce)&&(Ce.preventDefault(),Ki(G,Ie))})},mi=function(G,Ce){return G.on("NodeChange",Ce),function(){return G.off("NodeChange",Ce)}},Ba=function(G){return function(Ce){var Ie=function(){return Ce.setActive(!G.mode.isReadOnly()&&Ka(G,G.selection.getNode())!==null)};return Ie(),mi(G,Ie)}},Yu=function(G){return function(Ce){var Ie=function(){return Ce.setDisabled(Ka(G,G.selection.getNode())===null)};return Ie(),mi(G,Ie)}},te=function(G){return function(Ce){var Ie=function(kt){return Ca(kt)||xn(G.selection.getRng())},ct=G.dom.getParents(G.selection.getStart());return Ce.setDisabled(!Ie(ct)),mi(G,function(kt){return Ce.setDisabled(!Ie(kt.parents))})}},Se=function(G){G.addCommand("mceLink",function(){Xa(G)?G.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):oo(G)()})},Je=function(G){G.addShortcut("Meta+K","",function(){G.execCommand("mceLink")})},bt=function(G){G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:oo(G),onSetup:Ba(G)}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Xu(G),onSetup:Yu(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return po(G)},onSetup:te(G)})},dr=function(G){G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Xu(G),onSetup:Yu(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:oo(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return po(G)},onSetup:te(G)})},Tr=function(G){var Ce="link unlink openlink",Ie="link";G.ui.registry.addContextMenu("link",{update:function(ct){return Ca(G.dom.getParents(ct,"a"))?Ce:Ie}})},Br=function(G){var Ce=function(kt){kt.selection.collapse(!1)},Ie=function(kt){var br=G.selection.getNode();return kt.setDisabled(!Ka(G,br)),He},ct=function(kt){var br=Ka(G),Ir=Co(G);if(!br&&Ir){var na=ao(G.selection,br);return ze.some(na.length>0?na:kt)}else return ze.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ba(G)},label:"Link",predicate:function(kt){return!!Ka(G,kt)&&On(G)},initValue:function(){var kt=Ka(G);return kt?ga(kt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(kt){var br=G.selection.getNode();return kt.setActive(!!Ka(G,br)),Ba(G)(kt)},onAction:function(kt){var br=kt.getValue(),Ir=ct(br),na={href:br,attach:He};Ni(G,na,{href:br,text:Ir,title:ze.none(),rel:ze.none(),target:ze.none(),class:ze.none()}),Ce(G),kt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ie,onAction:function(kt){po(G),kt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ie,onAction:function(kt){Xu(G)(),kt.hide()}}]})};function Mn(){I.add("link",function(G){bt(G),dr(G),Tr(G),Br(G),ii(G),Se(G),Je(G)})}Mn()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(z){var H=typeof z;return z===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="String")?"string":H},B=function(z){return function(H){return S(H)===z}},N=function(z){return function(H){return typeof H===z}},ee=B("string"),me=B("object"),Be=B("array"),we=N("boolean"),ge=N("function"),It=N("number"),rt=function(){},He=function(z){return function(){return z}},at=function(z){return z},hr=function(z,H){return z===H},Qe=function(z){return function(H){return!z(H)}},ut=He(!1),ke=He(!0),J=function(){return Fe},Fe=function(){var z=function(ve){return ve()},H=at,K={fold:function(ve,We){return ve()},isSome:ut,isNone:ke,getOr:H,getOrThunk:z,getOrDie:function(ve){throw new Error(ve||"error: getOrDie called on none.")},getOrNull:He(null),getOrUndefined:He(void 0),or:H,orThunk:z,map:J,each:rt,bind:J,exists:ut,forall:ke,filter:function(){return J()},toArray:function(){return[]},toString:He("none()")};return K}(),se=function(z){var H=He(z),K=function(){return We},ve=function(_t){return _t(z)},We={fold:function(_t,Vr){return Vr(z)},isSome:ke,isNone:ut,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:K,orThunk:K,map:function(_t){return se(_t(z))},each:function(_t){_t(z)},bind:ve,exists:ve,forall:ve,filter:function(_t){return _t(z)?We:Fe},toArray:function(){return[z]},toString:function(){return"some("+z+")"}};return We},Ye=function(z){return z==null?Fe:se(z)},ze={some:se,none:J,from:Ye},$e=Array.prototype.slice,Ge=Array.prototype.push,ce=function(z,H){for(var K=z.length,ve=new Array(K),We=0;We<K;We++){var _t=z[We];ve[We]=H(_t,We)}return ve},Ue=function(z,H){for(var K=0,ve=z.length;K<ve;K++){var We=z[K];H(We,K)}},U=function(z,H){for(var K=[],ve=0,We=z.length;ve<We;ve++){var _t=z[ve];H(_t,ve)&&K.push(_t)}return K},xe=function(z,H){if(z.length===0)return[];for(var K=H(z[0]),ve=[],We=[],_t=0,Vr=z.length;_t<Vr;_t++){var zn=z[_t],sa=H(zn);sa!==K&&(ve.push(We),We=[]),K=sa,We.push(zn)}return We.length!==0&&ve.push(We),ve},Z=function(z,H,K){return Ue(z,function(ve,We){K=H(K,ve,We)}),K},X=function(z,H,K){for(var ve=0,We=z.length;ve<We;ve++){var _t=z[ve];if(H(_t,ve))return ze.some(_t);if(K(_t,ve))break}return ze.none()},Lt=function(z,H){return X(z,H,ut)},fn=function(z){for(var H=[],K=0,ve=z.length;K<ve;++K){if(!Be(z[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+z);Ge.apply(H,z[K])}return H},St=function(z,H){return fn(ce(z,H))},Xn=function(z){var H=$e.call(z,0);return H.reverse(),H},pn=function(z,H){return H>=0&&H<z.length?ze.some(z[H]):ze.none()},O=function(z){return pn(z,0)},On=function(z){return pn(z,z.length-1)},Wt=function(z,H){for(var K=0;K<z.length;K++){var ve=H(z[K],K);if(ve.isSome())return ve}return ze.none()},ur=function(){return ur=Object.assign||function(H){for(var K,ve=1,We=arguments.length;ve<We;ve++){K=arguments[ve];for(var _t in K)Object.prototype.hasOwnProperty.call(K,_t)&&(H[_t]=K[_t])}return H},ur.apply(this,arguments)};function ya(z,H,K){for(var ve=0,We=H.length,_t;ve<We;ve++)(_t||!(ve in H))&&(_t||(_t=Array.prototype.slice.call(H,0,ve)),_t[ve]=H[ve]);return z.concat(_t||Array.prototype.slice.call(H))}var vo=function(z){var H=!1,K;return function(){for(var ve=[],We=0;We<arguments.length;We++)ve[We]=arguments[We];return H||(H=!0,K=z.apply(null,ve)),K}},dn=function(z,H,K,ve){var We=z.isiOS()&&/ipad/i.test(K)===!0,_t=z.isiOS()&&!We,Vr=z.isiOS()||z.isAndroid(),zn=Vr||ve("(pointer:coarse)"),sa=We||!_t&&Vr&&ve("(min-device-width:768px)"),Un=_t||Vr&&!sa,io=H.isSafari()&&z.isiOS()&&/safari/i.test(K)===!1,cu=!Un&&!sa&&!io;return{isiPad:He(We),isiPhone:He(_t),isTablet:He(sa),isPhone:He(Un),isTouch:He(zn),isAndroid:z.isAndroid,isiOS:z.isiOS,isWebView:He(io),isDesktop:He(cu)}},fa=function(z,H){for(var K=0;K<z.length;K++){var ve=z[K];if(ve.test(H))return ve}},oe=function(z,H){var K=fa(z,H);if(!K)return{major:0,minor:0};var ve=function(We){return Number(H.replace(K,"$"+We))};return Ze(ve(1),ve(2))},Xa=function(z,H){var K=String(H).toLowerCase();return z.length===0?$t():oe(z,K)},$t=function(){return Ze(0,0)},Ze=function(z,H){return{major:z,minor:H}},Sr={nu:Ze,detect:Xa,unknown:$t},et=function(z,H){return Wt(H.brands,function(K){var ve=K.brand.toLowerCase();return Lt(z,function(We){var _t;return ve===((_t=We.brand)===null||_t===void 0?void 0:_t.toLowerCase())}).map(function(We){return{current:We.name,version:Sr.nu(parseInt(K.version,10),0)}})})},qe=function(z,H){var K=String(H).toLowerCase();return Lt(z,function(ve){return ve.search(K)})},be=function(z,H){return qe(z,H).map(function(K){var ve=Sr.detect(K.versionRegexes,H);return{current:K.name,version:ve}})},Ne=function(z,H){return qe(z,H).map(function(K){var ve=Sr.detect(K.versionRegexes,H);return{current:K.name,version:ve}})},je=function(z,H){return z.indexOf(H)!==-1},Nt=function(z){return function(H){return H.replace(z,"")}},lr=Nt(/^\s+|\s+$/g),Xt=function(z){return z.length>0},Pr=function(z){return!Xt(z)},it=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,st=function(z){return function(H){return je(H,z)}},rr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(z){return je(z,"edge/")&&je(z,"chrome")&&je(z,"safari")&&je(z,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,it],search:function(z){return je(z,"chrome")&&!je(z,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(z){return je(z,"msie")||je(z,"trident")}},{name:"Opera",versionRegexes:[it,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:st("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:st("firefox")},{name:"Safari",versionRegexes:[it,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(z){return(je(z,"safari")||je(z,"mobile/"))&&je(z,"applewebkit")}}],Rr=[{name:"Windows",search:st("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(z){return je(z,"iphone")||je(z,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:st("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:st("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:st("linux"),versionRegexes:[]},{name:"Solaris",search:st("sunos"),versionRegexes:[]},{name:"FreeBSD",search:st("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:st("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],sn={browsers:He(rr),oses:He(Rr)},wn="Edge",Gn="Chrome",Yn="IE",Ta="Opera",ba="Firefox",Zn="Safari",In=function(){return ga({current:void 0,version:Sr.unknown()})},ga=function(z){var H=z.current,K=z.version,ve=function(We){return function(){return H===We}};return{current:H,version:K,isEdge:ve(wn),isChrome:ve(Gn),isIE:ve(Yn),isOpera:ve(Ta),isFirefox:ve(ba),isSafari:ve(Zn)}},Rn={unknown:In,nu:ga,edge:He(wn),chrome:He(Gn),ie:He(Yn),opera:He(Ta),firefox:He(ba),safari:He(Zn)},kn="Windows",Ka="iOS",ao="Android",Ca="Linux",xn="OSX",Co="Solaris",Ke="FreeBSD",Mt="ChromeOS",gt=function(){return fr({current:void 0,version:Sr.unknown()})},fr=function(z){var H=z.current,K=z.version,ve=function(We){return function(){return H===We}};return{current:H,version:K,isWindows:ve(kn),isiOS:ve(Ka),isAndroid:ve(ao),isOSX:ve(xn),isLinux:ve(Ca),isSolaris:ve(Co),isFreeBSD:ve(Ke),isChromeOS:ve(Mt)}},un={unknown:gt,nu:fr,windows:He(kn),ios:He(Ka),android:He(ao),linux:He(Ca),osx:He(xn),solaris:He(Co),freebsd:He(Ke),chromeos:He(Mt)},ua=function(z,H,K){var ve=sn.browsers(),We=sn.oses(),_t=H.bind(function(sa){return et(ve,sa)}).orThunk(function(){return be(ve,z)}).fold(Rn.unknown,Rn.nu),Vr=Ne(We,z).fold(un.unknown,un.nu),zn=dn(Vr,_t,z,K);return{browser:_t,os:Vr,deviceType:zn}},fi={detect:ua},Kn=function(z){return window.matchMedia(z).matches},Sn=vo(function(){return fi.detect(navigator.userAgent,ze.from(navigator.userAgentData),Kn)}),xo=function(){return Sn()},di=function(z,H,K){return(z.compareDocumentPosition(H)&K)!==0},Ni=function(z,H){return di(z,H,Node.DOCUMENT_POSITION_CONTAINED_BY)},po=1,Jo=function(z,H){var K=H||document,ve=K.createElement("div");if(ve.innerHTML=z,!ve.hasChildNodes()||ve.childNodes.length>1)throw console.error("HTML does not have a single root node",z),new Error("HTML must have a single root node");return $o(ve.childNodes[0])},qi=function(z,H){var K=H||document,ve=K.createElement(z);return $o(ve)},Qo=function(z,H){var K=H||document,ve=K.createTextNode(z);return $o(ve)},$o=function(z){if(z==null)throw new Error("Node cannot be null or undefined");return{dom:z}},Gi=function(z,H,K){return ze.from(z.dom.elementFromPoint(H,K)).map($o)},ra={fromHtml:Jo,fromTag:qi,fromText:Qo,fromDom:$o,fromPoint:Gi},oi=function(z,H){var K=z.dom;if(K.nodeType!==po)return!1;var ve=K;if(ve.matches!==void 0)return ve.matches(H);if(ve.msMatchesSelector!==void 0)return ve.msMatchesSelector(H);if(ve.webkitMatchesSelector!==void 0)return ve.webkitMatchesSelector(H);if(ve.mozMatchesSelector!==void 0)return ve.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")},Lr=function(z,H){return z.dom===H.dom},Pu=function(z,H){var K=z.dom,ve=H.dom;return K===ve?!1:K.contains(ve)},ei=function(z,H){return Ni(z.dom,H.dom)},vi=function(z,H){return xo().browser.isIE()?ei(z,H):Pu(z,H)},Ro=oi,Pi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Fu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),pi=tinymce.util.Tools.resolve("tinymce.util.VK"),Ku=Object.keys,Do=function(z,H){for(var K=Ku(z),ve=0,We=K.length;ve<We;ve++){var _t=K[ve],Vr=z[_t];H(Vr,_t)}},So=function(z){return function(H,K){z[K]=H}},tr=function(z,H,K,ve){var We={};return Do(z,function(_t,Vr){(H(_t,Vr)?K:ve)(_t,Vr)}),We},iu=function(z,H){var K={};return tr(z,H,So(K),rt),K};typeof window<"u"||Function("return this;")();var Cu=function(z){var H=z.dom.nodeName;return H.toLowerCase()},Fi=function(z){return z.dom.nodeType},ye=function(z){return function(H){return Fi(H)===z}},Te=ye(po),wt=function(z){return function(H){return Te(H)&&Cu(H)===z}},Ft=function(z,H,K){if(ee(K)||we(K)||It(K))z.setAttribute(H,K+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",K,":: Element ",z),new Error("Attribute value was not simple")},Gt=function(z,H){var K=z.dom;Do(H,function(ve,We){Ft(K,We,ve)})},vr=function(z){return Z(z.dom.attributes,function(H,K){return H[K.name]=K.value,H},{})},kr=function(z){return ze.from(z.dom.parentNode).map(ra.fromDom)},ln=function(z){return ce(z.dom.childNodes,ra.fromDom)},mn=function(z,H){var K=z.dom.childNodes;return ze.from(K[H]).map(ra.fromDom)},Dn=function(z){return mn(z,0)},ka=function(z){return mn(z,z.dom.childNodes.length-1)},Va=function(z,H){var K=kr(z);K.each(function(ve){ve.dom.insertBefore(H.dom,z.dom)})},To=function(z,H){z.dom.appendChild(H.dom)},Ht=function(z,H){Ue(H,function(K){Va(z,K)})},cn=function(z,H){Ue(H,function(K){To(z,K)})},da=function(z){var H=z.dom;H.parentNode!==null&&H.parentNode.removeChild(H)},Eo=function(z,H){return ra.fromDom(z.dom.cloneNode(H))},Ii=function(z){return Eo(z,!0)},Wn=function(z,H){var K=ra.fromTag(H),ve=vr(z);return Gt(K,ve),K},gs=function(z,H){var K=Wn(z,H);Va(z,K);var ve=ln(z);return cn(K,ve),da(z),K},Ki=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xu=function(z){return function(H){return H&&H.nodeName.toLowerCase()===z}},ii=function(z){return function(H){return H&&z.test(H.nodeName)}},mi=function(z){return z&&z.nodeType===3},Ba=ii(/^(OL|UL|DL)$/),Yu=ii(/^(OL|UL)$/),te=Xu("ol"),Se=ii(/^(LI|DT|DD)$/),Je=ii(/^(DT|DD)$/),bt=ii(/^(TH|TD)$/),dr=Xu("br"),Tr=function(z){return z.parentNode.firstChild===z},Br=function(z,H){return H&&!!z.schema.getTextBlockElements()[H.nodeName]},Mn=function(z,H){return z&&z.nodeName in H},G=function(z,H){return dr(H)?z.isBlock(H.nextSibling)&&!dr(H.previousSibling):!1},Ce=function(z,H,K){var ve=z.isEmpty(H);return K&&z.select("span[data-mce-type=bookmark]",H).length>0?!1:ve},Ie=function(z,H){return z.isChildOf(H,z.getRoot())},ct=function(z){return z.getParam("lists_indent_on_tab",!0)},kt=function(z){var H=z.getParam("forced_root_block","p");return H===!1?"":H===!0?"p":H},br=function(z){return z.getParam("forced_root_block_attrs",{})},Ir=function(z,H){var K=z.dom,ve=z.schema.getBlockElements(),We=K.createFragment(),_t=kt(z),Vr,zn,sa;if(_t&&(zn=K.create(_t),zn.tagName===_t.toUpperCase()&&K.setAttribs(zn,br(z)),Mn(H.firstChild,ve)||We.appendChild(zn)),H)for(;Vr=H.firstChild;){var Un=Vr.nodeName;!sa&&(Un!=="SPAN"||Vr.getAttribute("data-mce-type")!=="bookmark")&&(sa=!0),Mn(Vr,ve)?(We.appendChild(Vr),zn=null):_t?(zn||(zn=K.create(_t),We.appendChild(zn)),zn.appendChild(Vr)):We.appendChild(Vr)}return _t?sa||zn.appendChild(K.create("br",{"data-mce-bogus":"1"})):We.appendChild(K.create("br")),We},na=Ki.DOM,Tn=function(z,H,K){var ve=function(Un){oo.each(We,function(io){Un.parentNode.insertBefore(io,K.parentNode)}),na.remove(Un)},We=na.select('span[data-mce-type="bookmark"]',H),_t=Ir(z,K),Vr=na.createRng();Vr.setStartAfter(K),Vr.setEndAfter(H);for(var zn=Vr.extractContents(),sa=zn.firstChild;sa;sa=sa.firstChild)if(sa.nodeName==="LI"&&z.dom.isEmpty(sa)){na.remove(sa);break}z.dom.isEmpty(zn)||na.insertAfter(zn,H),na.insertAfter(_t,H),Ce(z.dom,K.parentNode)&&ve(K.parentNode),na.remove(K),Ce(z.dom,H)&&na.remove(H)},xa=wt("dd"),qa=wt("dt"),xu=function(z,H){xa(H)?gs(H,"dt"):qa(H)&&kr(H).each(function(K){return Tn(z,K.dom,H.dom)})},Mo=function(z){qa(z)&&gs(z,"dd")},Hr=function(z,H,K){H==="Indent"?Ue(K,Mo):Ue(K,function(ve){return xu(z,ve)})},Zt=function(z,H){if(mi(z))return{container:z,offset:H};var K=Pi.getNode(z,H);return mi(K)?{container:K,offset:H>=z.childNodes.length?K.data.length:0}:K.previousSibling&&mi(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&mi(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:z,offset:H}},Ea=function(z){var H=z.cloneRange(),K=Zt(z.startContainer,z.startOffset);H.setStart(K.container,K.offset);var ve=Zt(z.endContainer,z.endOffset);return H.setEnd(ve.container,ve.offset),H},Bo=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),qn=function(z,H){var K=H||z.selection.getStart(!0);return z.dom.getParent(K,"OL,UL,DL",Su(z,K))},Ns=function(z,H){return z&&H.length===1&&H[0]===z},Zu=function(z){return U(z.querySelectorAll("ol,ul,dl"),Ba)},kc=function(z){var H=qn(z),K=z.selection.getSelectedBlocks();return Ns(H,K)?Zu(H):U(K,function(ve){return Ba(ve)&&H!==ve})},va=function(z,H){var K=oo.map(H,function(ve){var We=z.dom.getParent(ve,"li,dd,dt",Su(z,ve));return We||ve});return Bo.unique(K)},Ci=function(z){var H=z.selection.getSelectedBlocks();return U(va(z,H),Se)},Cc=function(z){return U(Ci(z),Je)},Su=function(z,H){var K=z.dom.getParents(H,"TD,TH");return K.length>0?K[0]:z.getBody()},go=function(z,H){var K=z.dom.getParents(H,"ol,ul",Su(z,H));return On(K)},Ps=function(z){var H=go(z,z.selection.getStart()),K=U(z.selection.getSelectedBlocks(),Yu);return H.toArray().concat(K)},mt=function(z){var H=Ps(z);return tc(z,H)},tc=function(z,H){var K=ce(H,function(ve){return go(z,ve).getOr(ve)});return Bo.unique(K)},yo=function(z,H,K){return K===void 0&&(K=hr),z.exists(function(ve){return K(ve,H)})},pl=function(z,H,K){return z.isSome()&&H.isSome()?ze.some(K(z.getOrDie(),H.getOrDie())):ze.none()},ys=function(z,H){var K=document,ve=K.createDocumentFragment();return Ue(z,function(We){ve.appendChild(We.dom)}),ra.fromDom(ve)},P=function(z,H,K){return z.fire("ListMutation",{action:H,element:K})},x=function(z){return z.style!==void 0&&ge(z.style.getPropertyValue)},_=function(z,H,K){if(!ee(K))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",K,":: Element ",z),new Error("CSS value must be a string: "+K);x(z)&&z.style.setProperty(H,K)},A=function(z,H,K){var ve=z.dom;_(ve,H,K)},W=function(z,H){To(z.item,H.list)},le=function(z){for(var H=1;H<z.length;H++)W(z[H-1],z[H])},Le=function(z,H){pl(On(z),O(H),W)},Et=function(z,H){var K={list:ra.fromTag(H,z),item:ra.fromTag("li",z)};return To(K.list,K.item),K},Mr=function(z,H,K){for(var ve=[],We=0;We<K;We++)ve.push(Et(z,H.listType));return ve},Zr=function(z,H){for(var K=0;K<z.length-1;K++)A(z[K].item,"list-style-type","none");On(z).each(function(ve){Gt(ve.list,H.listAttributes),Gt(ve.item,H.itemAttributes),cn(ve.item,H.content)})},or=function(z,H){Cu(z.list)!==H.listType&&(z.list=gs(z.list,H.listType)),Gt(z.list,H.listAttributes)},Dr=function(z,H,K){var ve=ra.fromTag("li",z);return Gt(ve,H),cn(ve,K),ve},En=function(z,H){To(z.list,H),z.item=H},Cn=function(z,H,K){var ve=H.slice(0,K.depth);return On(ve).each(function(We){var _t=Dr(z,K.itemAttributes,K.content);En(We,_t),or(We,K)}),ve},an=function(z,H,K){var ve=Mr(z,K,K.depth-H.length);return le(ve),Zr(ve,K),Le(H,ve),H.concat(ve)},Ja=function(z,H){var K=Z(H,function(ve,We){return We.depth>ve.length?an(z,ve,We):Cn(z,ve,We)},[]);return O(K).map(function(ve){return ve.list})},tn=function(z){return Ro(z,"OL,UL")},Ia=function(z){return Dn(z).exists(tn)},za=function(z){return ka(z).exists(tn)},xi=function(z){return z.depth>0},Fn=function(z){return z.isSelected},Fs=function(z){var H=ln(z),K=za(z)?H.slice(0,-1):H;return ce(K,Ii)},bo=function(z,H,K){return kr(z).filter(Te).map(function(ve){return{depth:H,dirty:!1,isSelected:K,content:Fs(z),itemAttributes:vr(z),listAttributes:vr(ve),listType:Cu(ve)}})},No=function(z,H){switch(z){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},Wg=function(z,H){z.listType=H.listType,z.listAttributes=ur({},H.listAttributes)},Xi=function(z){z.listAttributes=iu(z.listAttributes,function(H,K){return K!=="start"})},ah=function(z,H){var K=z[H].depth,ve=function(_t){return _t.depth===K&&!_t.dirty},We=function(_t){return _t.depth<K};return X(Xn(z.slice(0,H)),ve,We).orThunk(function(){return X(z.slice(H+1),ve,We)})},Wc=function(z){return Ue(z,function(H,K){ah(z,K).fold(function(){H.dirty&&Xi(H)},function(ve){return Wg(H,ve)})}),z},vn=function(z){var H=z,K=function(){return H},ve=function(We){H=We};return{get:K,set:ve}},Is=function(z,H,K,ve){return Dn(ve).filter(tn).fold(function(){H.each(function(Vr){Lr(Vr.start,ve)&&K.set(!0)});var We=bo(ve,z,K.get());H.each(function(Vr){Lr(Vr.end,ve)&&K.set(!1)});var _t=ka(ve).filter(tn).map(function(Vr){return Ho(z,H,K,Vr)}).getOr([]);return We.toArray().concat(_t)},function(We){return Ho(z,H,K,We)})},Ho=function(z,H,K,ve){return St(ln(ve),function(We){var _t=tn(We)?Ho:Is,Vr=z+1;return _t(Vr,H,K,We)})},Vo=function(z,H){var K=vn(!1),ve=0;return ce(z,function(We){return{sourceList:We,entries:Ho(ve,H,K,We)}})},Si=function(z,H){var K=Wc(H);return ce(K,function(ve){var We=ys(ve.content);return ra.fromDom(Ir(z,We.dom))})},ui=function(z,H){var K=Wc(H);return Ja(z.contentDocument,K).toArray()},Tf=function(z,H){return St(xe(H,xi),function(K){var ve=O(K).exists(xi);return ve?ui(z,K):Si(z,K)})},rc=function(z,H){Ue(U(z,Fn),function(K){return No(H,K)})},Aa=function(z){var H=ce(Ci(z),ra.fromDom);return pl(Lt(H,Qe(Ia)),Lt(Xn(H),Qe(Ia)),function(K,ve){return{start:K,end:ve}})},fo=function(z,H,K){var ve=Vo(H,Aa(z));Ue(ve,function(We){rc(We.entries,K);var _t=Tf(z,We.entries);Ue(_t,function(Vr){P(z,K==="Indent"?"IndentList":"OutdentList",Vr.dom)}),Ht(We.sourceList,_t),da(We.sourceList)})},Iu=function(z,H){var K=ce(mt(z),ra.fromDom),ve=ce(Cc(z),ra.fromDom),We=!1;if(K.length||ve.length){var _t=z.selection.getBookmark();fo(z,K,H),Hr(z,H,ve),z.selection.moveToBookmark(_t),z.selection.setRng(Ea(z.selection.getRng())),z.nodeChanged(),We=!0}return We},ml=function(z){return Iu(z,"Indent")},hi=function(z){return Iu(z,"Outdent")},Ls=function(z){return Iu(z,"Flatten")},qg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ef=Ki.DOM,Qa=function(z){var H={},K=function(ve){var We=z[ve?"startContainer":"endContainer"],_t=z[ve?"startOffset":"endOffset"];if(We.nodeType===1){var Vr=Ef.create("span",{"data-mce-type":"bookmark"});We.hasChildNodes()?(_t=Math.min(_t,We.childNodes.length-1),ve?We.insertBefore(Vr,We.childNodes[_t]):Ef.insertAfter(Vr,We.childNodes[_t])):We.appendChild(Vr),We=Vr,_t=0}H[ve?"startContainer":"endContainer"]=We,H[ve?"startOffset":"endOffset"]=_t};return K(!0),z.collapsed||K(),H},xc=function(z){var H=function(ve){var We,_t=function(sa){for(var Un=sa.parentNode.firstChild,io=0;Un;){if(Un===sa)return io;(Un.nodeType!==1||Un.getAttribute("data-mce-type")!=="bookmark")&&io++,Un=Un.nextSibling}return-1},Vr=We=z[ve?"startContainer":"endContainer"],zn=z[ve?"startOffset":"endOffset"];Vr&&(Vr.nodeType===1&&(zn=_t(Vr),Vr=Vr.parentNode,Ef.remove(We),!Vr.hasChildNodes()&&Ef.isBlock(Vr)&&Vr.appendChild(Ef.create("br"))),z[ve?"startContainer":"endContainer"]=Vr,z[ve?"startOffset":"endOffset"]=zn)};H(!0),H();var K=Ef.createRng();return K.setStart(z.startContainer,z.startOffset),z.endContainer&&K.setEnd(z.endContainer,z.endOffset),Ea(K)},Hl=function(z){switch(z){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ju=function(z){return/\btox\-/.test(z.className)},Xo=function(z,H,K){var ve=function(_t){var Vr=X(_t.parents,Ba,bt).filter(function(zn){return zn.nodeName===H&&!Ju(zn)}).isSome();K(Vr)},We=z.dom.getParents(z.selection.getNode());return ve({parents:We}),z.on("NodeChange",ve),function(){return z.off("NodeChange",ve)}},Vl=function(z,H,K){var ve=K["list-style-type"]?K["list-style-type"]:null;z.setStyle(H,"list-style-type",ve)},hl=function(z,H){oo.each(H,function(K,ve){z.setAttribute(ve,K)})},Tu=function(z,H,K){hl(H,K["list-attributes"]),oo.each(z.select("li",H),function(ve){hl(ve,K["list-item-attributes"])})},Qu=function(z,H,K){Vl(z,H,K),Tu(z,H,K)},uu=function(z,H,K){oo.each(K,function(ve){var We;return z.setStyle(H,(We={},We[ve]="",We))})},hd=function(z,H,K,ve){var We=H[K?"startContainer":"endContainer"],_t=H[K?"startOffset":"endOffset"];for(We.nodeType===1&&(We=We.childNodes[Math.min(_t,We.childNodes.length-1)]||We),!K&&dr(We.nextSibling)&&(We=We.nextSibling);We.parentNode!==ve;){if(Br(z,We)||/^(TD|TH)$/.test(We.parentNode.nodeName))return We;We=We.parentNode}return We},Sc=function(z,H,K){for(var ve=[],We=z.dom,_t=hd(z,H,!0,K),Vr=hd(z,H,!1,K),zn,sa=[],Un=_t;Un&&(sa.push(Un),Un!==Vr);Un=Un.nextSibling);return oo.each(sa,function(io){if(Br(z,io)){ve.push(io),zn=null;return}if(We.isBlock(io)||dr(io)){dr(io)&&We.remove(io),zn=null;return}var cu=io.nextSibling;if(qg.isBookmarkNode(io)&&(Ba(cu)||Br(z,cu)||!cu&&io.parentNode===K)){zn=null;return}zn||(zn=We.create("p"),io.parentNode.insertBefore(zn,io),ve.push(zn)),zn.appendChild(io)}),ve},Ti=function(z,H,K){var ve=z.getStyle(H,"list-style-type"),We=K?K["list-style-type"]:"";return We=We===null?"":We,ve===We},cv=function(z,H,K){var ve=z.selection.getRng(),We="LI",_t=Su(z,z.selection.getStart(!0)),Vr=z.dom;if(Vr.getContentEditable(z.selection.getNode())!=="false"){H=H.toUpperCase(),H==="DL"&&(We="DT");var zn=Qa(ve),sa=Sc(z,ve,_t);oo.each(sa,function(Un){var io,cu=Un.previousSibling,jo=Un.parentNode;Se(jo)||(cu&&Ba(cu)&&cu.nodeName===H&&Ti(Vr,cu,K)?(io=cu,Un=Vr.rename(Un,We),cu.appendChild(Un)):(io=Vr.create(H),Un.parentNode.insertBefore(io,Un),io.appendChild(Un),Un=Vr.rename(Un,We)),uu(Vr,Un,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qu(Vr,io,K),Of(z.dom,io))}),z.selection.setRng(xc(zn))}},Gg=function(z,H){return z&&H&&Ba(z)&&z.nodeName===H.nodeName},zf=function(z,H,K){var ve=z.getStyle(H,"list-style-type",!0),We=z.getStyle(K,"list-style-type",!0);return ve===We},Af=function(z,H){return z.className===H.className},Uo=function(z,H,K){return Gg(H,K)&&zf(z,H,K)&&Af(H,K)},Of=function(z,H){var K,ve;if(K=H.nextSibling,Uo(z,H,K)){for(;ve=K.firstChild;)H.appendChild(ve);z.remove(K)}if(K=H.previousSibling,Uo(z,H,K)){for(;ve=K.lastChild;)H.insertBefore(ve,H.firstChild);z.remove(K)}},Rf=function(z,H,K,ve){if(H.nodeName!==K){var We=z.dom.rename(H,K);Qu(z.dom,We,ve),P(z,Hl(K),We)}else Qu(z.dom,H,ve),P(z,Hl(K),H)},Eu=function(z,H,K,ve,We){var _t=Ba(H);if(_t&&H.nodeName===ve&&!gl(We))Ls(z);else{cv(z,ve,We);var Vr=Qa(z.selection.getRng()),zn=_t?ya([H],K):K;oo.each(zn,function(sa){Rf(z,sa,ve,We)}),z.selection.setRng(xc(Vr))}},gl=function(z){return"list-style-type"in z},Df=function(z,H,K,ve){if(H!==z.getBody())if(H)if(H.nodeName===K&&!gl(ve)&&!Ju(H))Ls(z);else{var We=Qa(z.selection.getRng());Qu(z.dom,H,ve);var _t=z.dom.rename(H,K);Of(z.dom,_t),z.selection.setRng(xc(We)),cv(z,K,ve),P(z,Hl(K),_t)}else cv(z,K,ve),P(z,Hl(K),H)},yl=function(z,H,K){var ve=qn(z),We=kc(z),_t=me(K)?K:{};We.length>0?Eu(z,ve,We,H,_t):Df(z,ve,H,_t)},zo=Ki.DOM,bs=function(z,H){var K=H.parentNode;if(K.nodeName==="LI"&&K.firstChild===H){var ve=K.previousSibling;ve&&ve.nodeName==="LI"?(ve.appendChild(H),Ce(z,K)&&zo.remove(K)):zo.setStyle(K,"listStyleType","none")}if(Ba(K)){var ve=K.previousSibling;ve&&ve.nodeName==="LI"&&ve.appendChild(H)}},hp=function(z,H){var K=oo.grep(z.select("ol,ul",H));oo.each(K,function(ve){bs(z,ve)})},$s=function(z,H,K,ve){var We=H.startContainer,_t=H.startOffset;if(mi(We)&&(K?_t<We.data.length:_t>0))return We;var Vr=z.schema.getNonEmptyElements();We.nodeType===1&&(We=Pi.getNode(We,_t));var zn=new Fu(We,ve);for(K&&G(z.dom,We)&&zn.next();We=zn[K?"next":"prev2"]();)if(We.nodeName==="LI"&&!We.hasChildNodes()||Vr[We.nodeName]||mi(We)&&We.data.length>0)return We},gp=function(z,H){var K=H.childNodes;return K.length===1&&!Ba(K[0])&&z.isBlock(K[0])},Kg=function(z,H){gp(z,H)&&z.remove(H.firstChild,!0)},oh=function(z,H,K){var ve,We=gp(z,K)?K.firstChild:K;if(Kg(z,H),!Ce(z,H,!0))for(;ve=H.firstChild;)We.appendChild(ve)},Mf=function(z,H,K){var ve,We=H.parentNode;if(!(!Ie(z,H)||!Ie(z,K))){Ba(K.lastChild)&&(ve=K.lastChild),We===K.lastChild&&dr(We.previousSibling)&&z.remove(We.previousSibling);var _t=K.lastChild;_t&&dr(_t)&&H.hasChildNodes()&&z.remove(_t),Ce(z,K,!0)&&z.$(K).empty(),oh(z,H,K),ve&&K.appendChild(ve);var Vr=vi(ra.fromDom(K),ra.fromDom(H)),zn=Vr?z.getParents(H,Ba,K):[];z.remove(H),Ue(zn,function(sa){Ce(z,sa)&&sa!==z.getRoot()&&z.remove(sa)})}},Bf=function(z,H,K){z.dom.$(K).empty(),Mf(z.dom,H,K),z.selection.setCursorLocation(K,0)},Ul=function(z,H,K,ve){var We=z.dom;if(We.isEmpty(ve))Bf(z,K,ve);else{var _t=Qa(H);Mf(We,K,ve),z.selection.setRng(xc(_t))}},hn=function(z,H,K,ve){var We=Qa(H);Mf(z.dom,K,ve);var _t=xc(We);z.selection.setRng(_t)},nc=function(z,H){var K=z.dom,ve=z.selection,We=ve.getStart(),_t=Su(z,We),Vr=K.getParent(ve.getStart(),"LI",_t);if(Vr){var zn=Vr.parentNode;if(zn===z.getBody()&&Ce(K,zn))return!0;var sa=Ea(ve.getRng()),Un=K.getParent($s(z,sa,H,_t),"LI",_t);if(Un&&Un!==Vr)return z.undoManager.transact(function(){H?Ul(z,sa,Un,Vr):Tr(Vr)?hi(z):hn(z,sa,Vr,Un)}),!0;if(!Un&&!H&&sa.startOffset===0&&sa.endOffset===0)return z.undoManager.transact(function(){Ls(z)}),!0}return!1},es=function(z,H,K){var ve=z.getParent(H.parentNode,z.isBlock,K);z.remove(H),ve&&z.isEmpty(ve)&&z.remove(ve)},zu=function(z,H){var K=z.dom,ve=z.selection.getStart(),We=Su(z,ve),_t=K.getParent(ve,K.isBlock,We);if(_t&&K.isEmpty(_t)){var Vr=Ea(z.selection.getRng()),zn=K.getParent($s(z,Vr,H,We),"LI",We);if(zn)return z.undoManager.transact(function(){es(K,_t,We),Of(K,zn.parentNode),z.selection.select(zn,!0),z.selection.collapse(H)}),!0}return!1},ac=function(z,H){return nc(z,H)||zu(z,H)},ti=function(z){var H=z.selection.getStart(),K=Su(z,H),ve=z.dom.getParent(H,"LI,DT,DD",K);return ve||Ci(z).length>0?(z.undoManager.transact(function(){z.execCommand("Delete"),hp(z.dom,z.getBody())}),!0):!1},Ei=function(z,H){return z.selection.isCollapsed()?ac(z,H):ti(z)},si=function(z){z.on("keydown",function(H){H.keyCode===pi.BACKSPACE?Ei(z,!1)&&H.preventDefault():H.keyCode===pi.DELETE&&Ei(z,!0)&&H.preventDefault()})},jl=function(z){return{backspaceDelete:function(H){Ei(z,H)}}},su=function(z,H){var K=qn(z);z.undoManager.transact(function(){me(H.styles)&&z.dom.setStyles(K,H.styles),me(H.attrs)&&Do(H.attrs,function(ve,We){return z.dom.setAttrib(K,We,ve)})})},zr=function(z){var H=Xn(lr(z).split("")),K=ce(H,function(ve,We){var _t=ve.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,We)*_t});return Z(K,function(ve,We){return ve+We},0)},Nf=function(z){if(z--,z<0)return"";var H=z%26,K=Math.floor(z/26),ve=Nf(K),We=String.fromCharCode(65+H);return ve+We},ih=function(z){return/^[A-Z]+$/.test(z)},Ln=function(z){return/^[a-z]+$/.test(z)},eo=function(z){return/^[0-9]+$/.test(z)},yp=function(z){return eo(z)?2:ih(z)?0:Ln(z)?1:Pr(z)?3:4},qc=function(z){switch(yp(z)){case 2:return ze.some({listStyleType:ze.none(),start:z});case 0:return ze.some({listStyleType:ze.some("upper-alpha"),start:zr(z).toString()});case 1:return ze.some({listStyleType:ze.some("lower-alpha"),start:zr(z).toString()});case 3:return ze.some({listStyleType:ze.none(),start:""});case 4:return ze.none()}},_o=function(z){var H=parseInt(z.start,10);return yo(z.listStyleType,"upper-alpha")?Nf(H):yo(z.listStyleType,"lower-alpha")?Nf(H).toLowerCase():z.start},bp=function(z){var H=qn(z);te(H)&&z.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:_o({start:z.dom.getAttrib(H,"start","1"),listStyleType:ze.some(z.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(K){var ve=K.getData();qc(ve.start).each(function(We){z.execCommand("mceListUpdate",!1,{attrs:{start:We.start==="1"?"":We.start},styles:{"list-style-type":We.listStyleType.getOr("")}})}),K.close()}})},_s=function(z,H){return function(){var K=qn(z);return K&&K.nodeName===H}},lv=function(z){z.addCommand("mceListProps",function(){bp(z)})},Vn=function(z){z.on("BeforeExecCommand",function(H){var K=H.command.toLowerCase();K==="indent"?ml(z):K==="outdent"&&hi(z)}),z.addCommand("InsertUnorderedList",function(H,K){yl(z,"UL",K)}),z.addCommand("InsertOrderedList",function(H,K){yl(z,"OL",K)}),z.addCommand("InsertDefinitionList",function(H,K){yl(z,"DL",K)}),z.addCommand("RemoveList",function(){Ls(z)}),lv(z),z.addCommand("mceListUpdate",function(H,K){me(K)&&su(z,K)}),z.addQueryStateHandler("InsertUnorderedList",_s(z,"UL")),z.addQueryStateHandler("InsertOrderedList",_s(z,"OL")),z.addQueryStateHandler("InsertDefinitionList",_s(z,"DL"))},Lu=function(z){z.on("keydown",function(H){H.keyCode!==pi.TAB||pi.metaKeyPressed(H)||z.undoManager.transact(function(){(H.shiftKey?hi(z):ml(z))&&H.preventDefault()})})},P1=function(z){ct(z)&&Lu(z),si(z)},F1=function(z){var H=function(K){return function(){return z.execCommand(K)}};z.hasPlugin("advlist")||(z.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:function(K){return Xo(z,"OL",K.setActive)}}),z.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:function(K){return Xo(z,"UL",K.setActive)}}))},Ao=function(z){var H={text:"List properties...",icon:"ordered-list",onAction:function(){return z.execCommand("mceListProps")},onSetup:function(K){return Xo(z,"OL",function(ve){return K.setDisabled(!ve)})}};z.ui.registry.addMenuItem("listprops",H),z.ui.registry.addContextMenu("lists",{update:function(K){var ve=qn(z,K);return te(ve)?["listprops"]:[]}})};function _p(){I.add("lists",function(z){return z.hasPlugin("rtc",!0)===!1?(P1(z),Vn(z)):lv(z),F1(z),Ao(z),jl(z)})}_p()})();(function(){var I=function(_){var A=_,W=function(){return A},le=function(Le){A=Le};return{get:W,set:le}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(_){return _.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},N=function(_){return{clipboard:_}},ee=function(_){var A=typeof _;return _===null?"null":A==="object"&&(Array.prototype.isPrototypeOf(_)||_.constructor&&_.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(_)||_.constructor&&_.constructor.name==="String")?"string":A},me=function(_){return function(A){return ee(A)===_}},Be=function(_){return function(A){return typeof A===_}},we=me("array"),ge=function(_){return _==null},It=function(_){return!ge(_)},rt=Be("function"),He=function(){},at=function(_){return function(){return _}},hr=function(_){return _},Qe=at(!1),ut=at(!0),ke=function(){return J},J=function(){var _=function(le){return le()},A=hr,W={fold:function(le,Le){return le()},isSome:Qe,isNone:ut,getOr:A,getOrThunk:_,getOrDie:function(le){throw new Error(le||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:A,orThunk:_,map:ke,each:He,bind:ke,exists:Qe,forall:ut,filter:function(){return ke()},toArray:function(){return[]},toString:at("none()")};return W}(),Fe=function(_){var A=at(_),W=function(){return Le},le=function(Et){return Et(_)},Le={fold:function(Et,Mr){return Mr(_)},isSome:ut,isNone:Qe,getOr:A,getOrThunk:A,getOrDie:A,getOrNull:A,getOrUndefined:A,or:W,orThunk:W,map:function(Et){return Fe(Et(_))},each:function(Et){Et(_)},bind:le,exists:le,forall:le,filter:function(Et){return Et(_)?Le:J},toArray:function(){return[_]},toString:function(){return"some("+_+")"}};return Le},se=function(_){return _==null?J:Fe(_)},Ye={some:Fe,none:ke,from:se},ze=Array.prototype.slice,$e=Array.prototype.push,Ge=function(_,A){for(var W=0,le=_.length;W<le;W++){var Le=_[W];if(A(Le,W))return!0}return!1},ce=function(_,A){for(var W=_.length,le=new Array(W),Le=0;Le<W;Le++){var Et=_[Le];le[Le]=A(Et,Le)}return le},Ue=function(_,A){for(var W=0,le=_.length;W<le;W++){var Le=_[W];A(Le,W)}},U=function(_,A){for(var W=[],le=0,Le=_.length;le<Le;le++){var Et=_[le];A(Et,le)&&W.push(Et)}return W},xe=function(_,A,W){return Ue(_,function(le,Le){W=A(W,le,Le)}),W},Z=function(_){for(var A=[],W=0,le=_.length;W<le;++W){if(!we(_[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+_);$e.apply(A,_[W])}return A},X=function(_,A){return Z(ce(_,A))},Lt=rt(Array.from)?Array.from:function(_){return ze.call(_)},fn=function(){return fn=Object.assign||function(A){for(var W,le=1,Le=arguments.length;le<Le;le++){W=arguments[le];for(var Et in W)Object.prototype.hasOwnProperty.call(W,Et)&&(A[Et]=W[Et])}return A},fn.apply(this,arguments)},St=function(_){var A=I(Ye.none()),W=function(){return A.get().each(_)},le=function(){W(),A.set(Ye.none())},Le=function(){return A.get().isSome()},Et=function(){return A.get()},Mr=function(Zr){W(),A.set(Ye.some(Zr))};return{clear:le,isSet:Le,get:Et,set:Mr}},Xn=function(){var _=St(He),A=function(W){return _.get().each(W)};return fn(fn({},_),{on:A})},pn=function(_,A,W){return A===""||_.length>=A.length&&_.substr(W,W+A.length)===A},O=function(_,A){return pn(_,A,0)},On=function(_,A){return pn(_,A,_.length-A.length)},Wt=function(_,A){return A<=0?"":new Array(A+1).join(_)},ur=tinymce.util.Tools.resolve("tinymce.Env"),ya=tinymce.util.Tools.resolve("tinymce.util.Delay"),vo=tinymce.util.Tools.resolve("tinymce.util.Promise"),dn=tinymce.util.Tools.resolve("tinymce.util.VK"),fa=function(_,A,W,le){return _.fire("PastePreProcess",{content:A,internal:W,wordContent:le})},oe=function(_,A,W,le){return _.fire("PastePostProcess",{node:A,internal:W,wordContent:le})},Xa=function(_,A){return _.fire("PastePlainTextToggle",{state:A})},$t=function(_,A){return _.fire("paste",{ieFake:A})},Ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sr=function(_){return _.getParam("paste_block_drop",!1)},et=function(_){return _.getParam("paste_data_images",!1)},qe=function(_){return _.getParam("paste_filter_drop",!0)},be=function(_){return _.getParam("paste_preprocess")},Ne=function(_){return _.getParam("paste_postprocess")},je=function(_){return _.getParam("paste_webkit_styles")},Nt=function(_){return _.getParam("paste_remove_styles_if_webkit",!0)},lr=function(_){return _.getParam("paste_merge_formats",!0)},Xt=function(_){return _.getParam("smart_paste",!0)},Pr=function(_){return _.getParam("paste_as_text",!1)},it=function(_){return _.getParam("paste_retain_style_properties")},st=function(_){var A="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return _.getParam("paste_word_valid_elements",A)},rr=function(_){return _.getParam("paste_convert_word_fake_lists",!0)},Rr=function(_){return _.getParam("paste_enable_default_filters",!0)},sn=function(_){return _.getParam("validate")},wn=function(_){return _.getParam("allow_html_data_urls",!1,"boolean")},Gn=function(_){return _.getParam("paste_data_images",!1,"boolean")},Yn=function(_){return _.getParam("images_dataimg_filter")},Ta=function(_){return _.getParam("images_reuse_filename")},ba=function(_){return _.getParam("forced_root_block")},Zn=function(_){return _.getParam("forced_root_block_attrs")},In=function(_){return _.getParam("paste_tab_spaces",4,"number")},ga=function(_){var A="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Ze.explode(_.getParam("images_file_types",A,"string"))},Rn="x-tinymce/html",kn="<!-- "+Rn+" -->",Ka=function(_){return kn+_},ao=function(_){return _.replace(kn,"")},Ca=function(_){return _.indexOf(kn)!==-1},xn=at(Rn),Co=Object.hasOwnProperty,Ke=function(_,A){return Co.call(_,A)},Mt=tinymce.util.Tools.resolve("tinymce.html.Entities"),gt=function(_){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(_)},fr=function(_){return _.replace(/\r?\n/g,"<br>")},un=function(_,A){var W=[],le="<"+_;if(typeof A=="object"){for(var Le in A)Ke(A,Le)&&W.push(Le+'="'+Mt.encodeAllRaw(A[Le])+'"');W.length&&(le+=" "+W.join(" "))}return le+">"},ua=function(_,A,W){var le=_.split(/\n\n/),Le=un(A,W),Et="</"+A+">",Mr=Ze.map(le,function(or){return or.split(/\n/).join("<br />")}),Zr=function(or){return Le+or+Et};return Mr.length===1?Mr[0]:Ze.map(Mr,Zr).join("")},fi=function(_,A,W){return A?ua(_,A===!0?"p":A,W):fr(_)},Kn=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer"),xo=" ",di=tinymce.util.Tools.resolve("tinymce.html.Node"),Ni=tinymce.util.Tools.resolve("tinymce.html.Schema"),po=function(_){return _.constructor===RegExp},Jo=function(_,A){return Ze.each(A,function(W){po(W)?_=_.replace(W,""):_=_.replace(W[0],W[1])}),_},qi=function(_){var A=Ni(),W=Kn({},A),le="",Le=A.getShortEndedElements(),Et=Ze.makeMap("script noscript style textarea video audio iframe object"," "),Mr=A.getBlockElements(),Zr=function(or){var Dr=or.name,En=or;if(Dr==="br"){le+=`
`;return}if(Dr!=="wbr"){if(Le[Dr]&&(le+=" "),Et[Dr]){le+=" ";return}if(or.type===3&&(le+=or.value),!or.shortEnded&&(or=or.firstChild))do Zr(or);while(or=or.next);Mr[Dr]&&En.next&&(le+=`
`,Dr==="p"&&(le+=`
`))}};return _=Jo(_,[/<!\[[^\]]+\]>/g]),Zr(W.parse(_)),le},Qo=function(_){var A=function(W,le,Le){return!le&&!Le?" ":xo};return _=Jo(_,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,A],/<br class="Apple-interchange-newline">/g,/<br>$/i]),_},$o=function(_){var A=0;return function(){return _+A++}},Gi=function(_){var A=_.toLowerCase(),W={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ze.hasOwn(W,A)?"image/"+W[A]:"image/"+A},ra=function(_){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(_)||/class="OutlineElement/.test(_)||/id="?docs\-internal\-guid\-/.test(_)},oi=function(_){var A=!1,W=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return _=_.replace(/^[\u00a0 ]+/,""),Ze.each(W,function(le){if(le.test(_))return A=!0,!1}),A},Lr=function(_){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(_)},Pu=function(_){for(var A,W,le=1,Le=function(tn){var Ia="";if(tn.type===3)return tn.value;if(tn=tn.firstChild)do Ia+=Le(tn);while(tn=tn.next);return Ia},Et=function(tn,Ia){if(tn.type===3&&Ia.test(tn.value))return tn.value=tn.value.replace(Ia,""),!1;if(tn=tn.firstChild)do if(!Et(tn,Ia))return!1;while(tn=tn.next);return!0},Mr=function(tn){if(tn._listIgnore){tn.remove();return}if(tn=tn.firstChild)do Mr(tn);while(tn=tn.next)},Zr=function(tn,Ia,za){var xi=tn._listLevel||le;xi!==le&&(xi<le?A&&(A=A.parent.parent):(W=A,A=null)),!A||A.name!==Ia?(W=W||A,A=new di(Ia,1),za>1&&A.attr("start",""+za),tn.wrap(A)):A.append(tn),tn.name="li",xi>le&&W&&W.lastChild.append(A),le=xi,Mr(tn),Et(tn,/^\u00a0+/),Et(tn,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Et(tn,/^\u00a0+/)},or=[],Dr=_.firstChild;typeof Dr<"u"&&Dr!==null;)if(or.push(Dr),Dr=Dr.walk(),Dr!==null)for(;typeof Dr<"u"&&Dr.parent!==_;)Dr=Dr.walk();for(var En=0;En<or.length;En++)if(_=or[En],_.name==="p"&&_.firstChild){var Cn=Le(_);if(Lr(Cn)){Zr(_,"ul");continue}if(oi(Cn)){var an=/([0-9]+)\./.exec(Cn),Ja=1;an&&(Ja=parseInt(an[1],10)),Zr(_,"ol",Ja);continue}if(_._listLevel){Zr(_,"ul",1);continue}A=null}else W=A,A=null},ei=function(_,A,W,le){var Le={},Et=_.dom.parseStyle(le);Ze.each(Et,function(Zr,or){switch(or){case"mso-list":var Dr=/\w+ \w+([0-9]+)/i.exec(le);Dr&&(W._listLevel=parseInt(Dr[1],10)),/Ignore/i.test(Zr)&&W.firstChild&&(W._listIgnore=!0,W.firstChild._listIgnore=!0);break;case"horiz-align":or="text-align";break;case"vert-align":or="vertical-align";break;case"font-color":case"mso-foreground":or="color";break;case"mso-background":case"mso-highlight":or="background";break;case"font-weight":case"font-style":Zr!=="normal"&&(Le[or]=Zr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Zr)){W.remove();return}break}if(or.indexOf("mso-comment")===0){W.remove();return}or.indexOf("mso-")!==0&&(it(_)==="all"||A&&A[or])&&(Le[or]=Zr)}),/(bold)/i.test(Le["font-weight"])&&(delete Le["font-weight"],W.wrap(new di("b",1))),/(italic)/i.test(Le["font-style"])&&(delete Le["font-style"],W.wrap(new di("i",1)));var Mr=_.dom.serializeStyle(Le,W.name);return Mr||null},vi=function(_,A){var W,le=it(_);le&&(W=Ze.makeMap(le.split(/[, ]/))),A=Jo(A,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,xo],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(or,Dr){return Dr.length>0?Dr.replace(/./," ").slice(Math.floor(Dr.length/2)).split("").join(xo):""}]]);var Le=st(_),Et=Ni({valid_elements:Le,valid_children:"-li[p]"});Ze.each(Et.elements,function(or){or.attributes.class||(or.attributes.class={},or.attributesOrder.push("class")),or.attributes.style||(or.attributes.style={},or.attributesOrder.push("style"))});var Mr=Kn({},Et);Mr.addAttributeFilter("style",function(or){for(var Dr=or.length,En;Dr--;)En=or[Dr],En.attr("style",ei(_,W,En,En.attr("style"))),En.name==="span"&&En.parent&&!En.attributes.length&&En.unwrap()}),Mr.addAttributeFilter("class",function(or){for(var Dr=or.length,En,Cn;Dr--;)En=or[Dr],Cn=En.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Cn)&&En.remove(),En.attr("class",null)}),Mr.addNodeFilter("del",function(or){for(var Dr=or.length;Dr--;)or[Dr].remove()}),Mr.addNodeFilter("a",function(or){for(var Dr=or.length,En,Cn,an;Dr--;){if(En=or[Dr],Cn=En.attr("href"),an=En.attr("name"),Cn&&Cn.indexOf("#_msocom_")!==-1){En.remove();continue}if(Cn&&Cn.indexOf("file://")===0&&(Cn=Cn.split("#")[1],Cn&&(Cn="#"+Cn)),!Cn&&!an)En.unwrap();else{if(an&&!/^_?(?:toc|edn|ftn)/i.test(an)){En.unwrap();continue}En.attr({href:Cn,name:an})}}});var Zr=Mr.parse(A);return rr(_)&&Pu(Zr),A=Sn({validate:sn(_)},Et).serialize(Zr),A},Ro=function(_,A){return Rr(_)?vi(_,A):A},Pi=function(_,A){var W=Kn({},_.schema);W.addNodeFilter("meta",function(Le){Ze.each(Le,function(Et){Et.remove()})});var le=W.parse(A,{forced_root_block:!1,isRootContent:!0});return Sn({validate:sn(_)},_.schema).serialize(le)},Fu=function(_,A){return{content:_,cancelled:A}},pi=function(_,A,W,le){var Le=_.dom.create("div",{style:"display:none"},A),Et=oe(_,Le,W,le);return Fu(Et.node.innerHTML,Et.isDefaultPrevented())},Ku=function(_,A,W,le){var Le=fa(_,A,W,le),Et=Pi(_,Le.content);return _.hasEventListeners("PastePostProcess")&&!Le.isDefaultPrevented()?pi(_,Et,W,le):Fu(Et,Le.isDefaultPrevented())},Do=function(_,A,W){var le=ra(A),Le=le?Ro(_,A):A;return Ku(_,Le,W,le)},So=function(_,A){return _.insertContent(A,{merge:lr(_),paste:!0}),!0},tr=function(_){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(_)},iu=function(_,A){return tr(A)&&Ge(ga(_),function(W){return On(A.toLowerCase(),"."+W.toLowerCase())})},Cu=function(_,A,W){return _.undoManager.extra(function(){W(_,A)},function(){_.insertContent('<img src="'+A+'">')}),!0},Fi=function(_,A,W){return _.undoManager.extra(function(){W(_,A)},function(){_.execCommand("mceInsertLink",!1,A)}),!0},ye=function(_,A,W){return _.selection.isCollapsed()===!1&&tr(A)?Fi(_,A,W):!1},Te=function(_,A,W){return iu(_,A)?Cu(_,A,W):!1},wt=function(_,A){Ze.each([ye,Te,So],function(W){return W(_,A,So)!==!0})},Ft=function(_,A,W){W||Xt(_)===!1?So(_,A):wt(_,A)},Gt=function(_){return" \f	\v".indexOf(_)!==-1},vr=function(_){return _===`
`||_==="\r"},kr=function(_,A){return A<_.length&&A>=0?vr(_[A]):!1},ln=function(_,A){var W=Wt(" ",In(_)),le=A.replace(/\t/g,W),Le=xe(le,function(Et,Mr){return Gt(Mr)||Mr===xo?Et.pcIsSpace||Et.str===""||Et.str.length===le.length-1||kr(le,Et.str.length+1)?{pcIsSpace:!1,str:Et.str+xo}:{pcIsSpace:!0,str:Et.str+" "}:{pcIsSpace:vr(Mr),str:Et.str+Mr}},{pcIsSpace:!1,str:""});return Le.str},mn=function(_,A,W,le){var Le=Do(_,A,W);Le.cancelled===!1&&Ft(_,Le.content,le)},Dn=function(_,A,W){var le=W||Ca(A);mn(_,ao(A),le,!1)},ka=function(_,A){var W=_.dom.encode(A).replace(/\r\n/g,`
`),le=ln(_,W),Le=fi(le,ba(_),Zn(_));mn(_,Le,!1,!0)},Va=function(_){var A={},W="data:text/mce-internal,";if(_){if(_.getData){var le=_.getData("Text");le&&le.length>0&&le.indexOf(W)===-1&&(A["text/plain"]=le)}if(_.types)for(var Le=0;Le<_.types.length;Le++){var Et=_.types[Le];try{A[Et]=_.getData(Et)}catch{A[Et]=""}}}return A},To=function(_,A){return Va(A.clipboardData||_.getDoc().dataTransfer)},Ht=function(_,A){return A in _&&_[A].length>0},cn=function(_){return Ht(_,"text/html")||Ht(_,"text/plain")},da=function(_){var A=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(_);return A?{type:A[1],data:decodeURIComponent(A[2])}:{type:null,data:null}},Eo=function(_,A){var W=Yn(_);return W?W(A):!0},Ii=function(_,A){var W=A.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return It(W)?_.dom.encode(W[1]):null},Wn=$o("mceclip"),gs=function(_,A){var W=da(A.uri),le=W.data,Le=W.type,Et=Wn(),Mr=A.blob,Zr=new Image;if(Zr.src=A.uri,Eo(_,Zr)){var or=_.editorUpload.blobCache,Dr=void 0,En=or.getByData(le,Le);if(En)Dr=En;else{var Cn=Ta(_)&&It(Mr.name),an=Cn?Ii(_,Mr.name):Et,Ja=Cn?Mr.name:void 0;Dr=or.create(Et,Mr,le,an,Ja),or.add(Dr)}Dn(_,'<img src="'+Dr.blobUri()+'">',!1)}else Dn(_,'<img src="'+A.uri+'">',!1)},Ki=function(_){return _.type==="paste"},oo=function(_){return It(_.getAsFile)},Xu=function(_){return vo.all(ce(_,function(A){return new vo(function(W){var le=oo(A)?A.getAsFile():A,Le=new window.FileReader;Le.onload=function(){W({blob:le,uri:Le.result})},Le.readAsDataURL(le)})}))},ii=function(_){var A=ga(_);return function(W){return O(W.type,"image/")&&Ge(A,function(le){return Gi(le)===W.type})}},mi=function(_,A){var W=A.items?X(Lt(A.items),function(Le){return Le.kind==="file"?[Le.getAsFile()]:[]}):[],le=A.files?Lt(A.files):[];return U(W.length>0?W:le,ii(_))},Ba=function(_,A,W){var le=Ki(A)?A.clipboardData:A.dataTransfer;if(Gn(_)&&le){var Le=mi(_,le);if(Le.length>0)return A.preventDefault(),Xu(Le).then(function(Et){W&&_.selection.setRng(W),Ue(Et,function(Mr){gs(_,Mr)})}),!0}return!1},Yu=function(_){var A=_.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&A&&A.items&&A.items.length===0},te=function(_){return dn.metaKeyPressed(_)&&_.keyCode===86||_.shiftKey&&_.keyCode===45},Se=function(_,A,W){var le=Xn(),Le=Xn(),Et;_.on("keyup",Le.clear),_.on("keydown",function(or){var Dr=function(En){te(En)&&!En.isDefaultPrevented()&&A.remove()};if(te(or)&&!or.isDefaultPrevented()){if(Et=or.shiftKey&&or.keyCode===86,Et&&ur.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(or.stopImmediatePropagation(),le.set(or),Le.set(!0),ur.ie&&Et){or.preventDefault(),$t(_,!0);return}A.remove(),A.create(),_.once("keyup",Dr),_.once("paste",function(){_.off("keyup",Dr)})}});var Mr=function(or,Dr,En,Cn,an){var Ja;Ht(Dr,"text/html")?Ja=Dr["text/html"]:(Ja=A.getHtml(),an=an||Ca(Ja),A.isDefaultContent(Ja)&&(Cn=!0)),Ja=Qo(Ja),A.remove();var tn=an===!1&&gt(Ja),Ia=tr(Ja);if((!Ja.length||tn&&!Ia)&&(Cn=!0),(Cn||Ia)&&(Ht(Dr,"text/plain")&&tn?Ja=Dr["text/plain"]:Ja=qi(Ja)),A.isDefaultContent(Ja)){En||or.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Cn?ka(or,Ja):Dn(or,Ja,an)},Zr=function(){return A.getLastRng()||_.selection.getRng()};_.on("paste",function(or){var Dr=le.isSet()||Le.isSet();Dr&&le.clear();var En=To(_,or),Cn=W.get()==="text"||Et,an=Ht(En,xn());if(Et=!1,or.isDefaultPrevented()||Yu(or)){A.remove();return}if(!cn(En)&&Ba(_,or,Zr())){A.remove();return}Dr||or.preventDefault(),ur.ie&&(!Dr||or.ieFake)&&!Ht(En,"text/html")&&(A.create(),_.dom.bind(A.getEl(),"paste",function(Ja){Ja.stopPropagation()}),_.getDoc().execCommand("Paste",!1,null),En["text/html"]=A.getHtml()),Ht(En,"text/html")?(or.preventDefault(),an||(an=Ca(En["text/html"])),Mr(_,En,Dr,Cn,an)):ya.setEditorTimeout(_,function(){Mr(_,En,Dr,Cn,an)},0)})},Je=function(_,A,W){Se(_,A,W);var le;_.parser.addNodeFilter("img",function(Le,Et,Mr){var Zr=function(an){return an.data&&an.data.paste===!0},or=function(an){!an.attr("data-mce-object")&&le!==ur.transparentSrc&&an.remove()},Dr=function(an){return an.indexOf("webkit-fake-url")===0},En=function(an){return an.indexOf("data:")===0};if(!Gn(_)&&Zr(Mr))for(var Cn=Le.length;Cn--;)le=Le[Cn].attr("src"),le&&(Dr(le)||!wn(_)&&En(le))&&or(Le[Cn])})},bt=function(_){return ur.ie&&_.inline?document.body:_.getBody()},dr=function(_){return bt(_)!==_.getBody()},Tr=function(_,A,W){dr(_)&&_.dom.bind(A,"paste keyup",function(le){kt(_,W)||_.fire("paste")})},Br=function(_,A,W){var le=_.dom,Le=_.getBody();A.set(_.selection.getRng());var Et=_.dom.add(bt(_),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},W);(ur.ie||ur.gecko)&&le.setStyle(Et,"left",le.getStyle(Le,"direction",!0)==="rtl"?65535:-65535),le.bind(Et,"beforedeactivate focusin focusout",function(Mr){Mr.stopPropagation()}),Tr(_,Et,W),Et.focus(),_.selection.select(Et,!0)},Mn=function(_,A){if(G(_)){for(var W=void 0,le=A.get();W=_.dom.get("mcepastebin");)_.dom.remove(W),_.dom.unbind(W);le&&_.selection.setRng(le)}A.set(null)},G=function(_){return _.dom.get("mcepastebin")},Ce=function(_){var A=function(Zr,or){Zr.appendChild(or),_.dom.remove(or,!0)},W=Ze.grep(bt(_).childNodes,function(Zr){return Zr.id==="mcepastebin"}),le=W.shift();Ze.each(W,function(Zr){A(le,Zr)});for(var Le=_.dom.select("div[id=mcepastebin]",le),Et=Le.length-1;Et>=0;Et--){var Mr=_.dom.create("div");le.insertBefore(Mr,Le[Et]),A(Mr,Le[Et])}return le?le.innerHTML:""},Ie=function(_,A){return A===_},ct=function(_){return _&&_.id==="mcepastebin"},kt=function(_,A){var W=G(_);return ct(W)&&Ie(A,W.innerHTML)},br=function(_){var A=I(null),W="%MCEPASTEBIN%";return{create:function(){return Br(_,A,W)},remove:function(){return Mn(_,A)},getEl:function(){return G(_)},getHtml:function(){return Ce(_)},getLastRng:A.get,isDefault:function(){return kt(_,W)},isDefaultContent:function(le){return Ie(W,le)}}},Ir=function(_,A){var W=br(_);return _.on("PreInit",function(){return Je(_,W,A)}),{pasteFormat:A,pasteHtml:function(le,Le){return Dn(_,le,Le)},pasteText:function(le){return ka(_,le)},pasteImageData:function(le,Le){return Ba(_,le,Le)},getDataTransferItems:Va,hasHtmlOrText:cn,hasContentType:Ht}},na=function(_,A){A.pasteFormat.get()==="text"?(A.pasteFormat.set("html"),Xa(_,!1)):(A.pasteFormat.set("text"),Xa(_,!0)),_.focus()},Tn=function(_,A){_.addCommand("mceTogglePlainTextPaste",function(){na(_,A)}),_.addCommand("mceInsertClipboardContent",function(W,le){le.content&&A.pasteHtml(le.content,le.internal),le.text&&A.pasteText(le.text)})},xa=function(_){return ur.iOS===!1&&typeof(_==null?void 0:_.setData)=="function"},qa=function(_,A,W){if(xa(_))try{return _.clearData(),_.setData("text/html",A),_.setData("text/plain",W),_.setData(xn(),A),!0}catch{return!1}else return!1},xu=function(_,A,W,le){qa(_.clipboardData,A.html,A.text)?(_.preventDefault(),le()):W(A.html,le)},Mo=function(_){return function(A,W){var le=Ka(A),Le=_.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Et=_.dom.create("div",{contenteditable:"true"},le);_.dom.setStyles(Le,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),Le.appendChild(Et),_.dom.add(_.getBody(),Le);var Mr=_.selection.getRng();Et.focus();var Zr=_.dom.createRng();Zr.selectNodeContents(Et),_.selection.setRng(Zr),ya.setTimeout(function(){_.selection.setRng(Mr),Le.parentNode.removeChild(Le),W()},0)}},Hr=function(_){return{html:_.selection.getContent({contextual:!0}),text:_.selection.getContent({format:"text"})}},Zt=function(_){return!!_.dom.getParent(_.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",_.getBody())},Ea=function(_){return!_.selection.isCollapsed()||Zt(_)},Bo=function(_){return function(A){Ea(_)&&xu(A,Hr(_),Mo(_),function(){if(ur.browser.isChrome()||ur.browser.isFirefox()){var W=_.selection.getRng();ya.setEditorTimeout(_,function(){_.selection.setRng(W),_.execCommand("Delete")},0)}else _.execCommand("Delete")})}},qn=function(_){return function(A){Ea(_)&&xu(A,Hr(_),Mo(_),He)}},Ns=function(_){_.on("cut",Bo(_)),_.on("copy",qn(_))},Zu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),kc=function(_,A){return Zu.getCaretRangeFromPoint(A.clientX,A.clientY,_.getDoc())},va=function(_){var A=_["text/plain"];return A?A.indexOf("file://")===0:!1},Ci=function(_,A){_.focus(),_.selection.setRng(A)},Cc=function(_,A,W){Sr(_)&&_.on("dragend dragover draggesture dragdrop drop drag",function(le){le.preventDefault(),le.stopPropagation()}),et(_)||_.on("drop",function(le){var Le=le.dataTransfer;Le&&Le.files&&Le.files.length>0&&le.preventDefault()}),_.on("drop",function(le){var Le=kc(_,le);if(!(le.isDefaultPrevented()||W.get())){var Et=A.getDataTransferItems(le.dataTransfer),Mr=A.hasContentType(Et,xn());if(!((!A.hasHtmlOrText(Et)||va(Et))&&A.pasteImageData(le,Le))&&Le&&qe(_)){var Zr=Et["mce-internal"]||Et["text/html"]||Et["text/plain"];Zr&&(le.preventDefault(),ya.setEditorTimeout(_,function(){_.undoManager.transact(function(){Et["mce-internal"]&&_.execCommand("Delete"),Ci(_,Le),Zr=Qo(Zr),Et["text/html"]?A.pasteHtml(Zr,Mr):A.pasteText(Zr)})}))}}}),_.on("dragstart",function(le){W.set(!0)}),_.on("dragover dragend",function(le){et(_)&&W.get()===!1&&(le.preventDefault(),Ci(_,kc(_,le))),le.type==="dragend"&&W.set(!1)})},Su=function(_){var A=_.plugins.paste,W=be(_);W&&_.on("PastePreProcess",function(Le){W.call(A,A,Le)});var le=Ne(_);le&&_.on("PastePostProcess",function(Le){le.call(A,A,Le)})},go=function(_,A){_.on("PastePreProcess",function(W){W.content=A(_,W.content,W.internal,W.wordContent)})},Ps=function(_,A){_.on("PastePostProcess",function(W){A(_,W.node)})},mt=function(_,A){if(!ra(A))return A;var W=[];Ze.each(_.schema.getBlockElements(),function(Le,Et){W.push(Et)});var le=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+W.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return A=Jo(A,[[le,"$1"]]),A=Jo(A,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),A},tc=function(_,A,W,le){if(le||W)return A;var Le=je(_),Et;if(Nt(_)===!1||Le==="all")return A;if(Le&&(Et=Le.split(/[, ]/)),Et){var Mr=_.dom,Zr=_.selection.getNode();A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(or,Dr,En,Cn){var an=Mr.parseStyle(Mr.decode(En)),Ja={};if(Et==="none")return Dr+Cn;for(var tn=0;tn<Et.length;tn++){var Ia=an[Et[tn]],za=Mr.getStyle(Zr,Et[tn],!0);/color/.test(Et[tn])&&(Ia=Mr.toHex(Ia),za=Mr.toHex(za)),za!==Ia&&(Ja[Et[tn]]=Ia)}var xi=Mr.serializeStyle(Ja,"span");return xi?Dr+' style="'+xi+'"'+Cn:Dr+Cn})}else A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return A=A.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(or,Dr,En,Cn){return Dr+' style="'+En+'"'+Cn}),A},yo=function(_,A){_.$("a",A).find("font,u").each(function(W,le){_.dom.remove(le,!0)})},pl=function(_){ur.webkit&&go(_,tc),ur.ie&&(go(_,mt),Ps(_,yo))},ys=function(_,A){return function(W){W.setActive(A.pasteFormat.get()==="text");var le=function(Le){return W.setActive(Le.state)};return _.on("PastePlainTextToggle",le),function(){return _.off("PastePlainTextToggle",le)}}},P=function(_,A){var W=function(){return _.execCommand("mceTogglePlainTextPaste")};_.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:W,onSetup:ys(_,A)}),_.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:W,onSetup:ys(_,A)})};function x(){S.add("paste",function(_){if(B(_)===!1){var A=I(!1),W=I(Pr(_)?"text":"html"),le=Ir(_,W);return pl(_),P(_,le),Tn(_,le),Su(_),Ns(_),Cc(_,le,A),N(le)}})}x()})();(function(){var I=function(ye){var Te=ye,wt=function(){return Te},Ft=function(Gt){Te=Gt};return{get:wt,set:Ft}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(){return B=Object.assign||function(Te){for(var wt,Ft=1,Gt=arguments.length;Ft<Gt;Ft++){wt=arguments[Ft];for(var vr in wt)Object.prototype.hasOwnProperty.call(wt,vr)&&(Te[vr]=wt[vr])}return Te},B.apply(this,arguments)},N=function(ye){var Te=typeof ye;return ye===null?"null":Te==="object"&&(Array.prototype.isPrototypeOf(ye)||ye.constructor&&ye.constructor.name==="Array")?"array":Te==="object"&&(String.prototype.isPrototypeOf(ye)||ye.constructor&&ye.constructor.name==="String")?"string":Te},ee=function(ye){return function(Te){return N(Te)===ye}},me=function(ye){return function(Te){return typeof Te===ye}},Be=ee("string"),we=ee("array"),ge=me("boolean"),It=me("number"),rt=function(){},He=function(ye){return function(){return ye}},at=function(ye){return ye},hr=He(!1),Qe=He(!0),ut="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",ke=He(ut),J=function(){return Fe},Fe=function(){var ye=function(Ft){return Ft()},Te=at,wt={fold:function(Ft,Gt){return Ft()},isSome:hr,isNone:Qe,getOr:Te,getOrThunk:ye,getOrDie:function(Ft){throw new Error(Ft||"error: getOrDie called on none.")},getOrNull:He(null),getOrUndefined:He(void 0),or:Te,orThunk:ye,map:J,each:rt,bind:J,exists:hr,forall:Qe,filter:function(){return J()},toArray:function(){return[]},toString:He("none()")};return wt}(),se=function(ye){var Te=He(ye),wt=function(){return Gt},Ft=function(vr){return vr(ye)},Gt={fold:function(vr,kr){return kr(ye)},isSome:Qe,isNone:hr,getOr:Te,getOrThunk:Te,getOrDie:Te,getOrNull:Te,getOrUndefined:Te,or:wt,orThunk:wt,map:function(vr){return se(vr(ye))},each:function(vr){vr(ye)},bind:Ft,exists:Ft,forall:Ft,filter:function(vr){return vr(ye)?Gt:Fe},toArray:function(){return[ye]},toString:function(){return"some("+ye+")"}};return Gt},Ye=function(ye){return ye==null?Fe:se(ye)},ze={some:se,none:J,from:Ye},$e=ke,Ge=tinymce.util.Tools.resolve("tinymce.Env"),ce=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ue=Array.prototype.slice,U=Array.prototype.push,xe=function(ye,Te){for(var wt=ye.length,Ft=new Array(wt),Gt=0;Gt<wt;Gt++){var vr=ye[Gt];Ft[Gt]=Te(vr,Gt)}return Ft},Z=function(ye,Te){for(var wt=0,Ft=ye.length;wt<Ft;wt++){var Gt=ye[wt];Te(Gt,wt)}},X=function(ye,Te){for(var wt=ye.length-1;wt>=0;wt--){var Ft=ye[wt];Te(Ft,wt)}},Lt=function(ye,Te){if(ye.length===0)return[];for(var wt=Te(ye[0]),Ft=[],Gt=[],vr=0,kr=ye.length;vr<kr;vr++){var ln=ye[vr],mn=Te(ln);mn!==wt&&(Ft.push(Gt),Gt=[]),wt=mn,Gt.push(ln)}return Gt.length!==0&&Ft.push(Gt),Ft},fn=function(ye,Te,wt){return Z(ye,function(Ft,Gt){wt=Te(wt,Ft,Gt)}),wt},St=function(ye){for(var Te=[],wt=0,Ft=ye.length;wt<Ft;++wt){if(!we(ye[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+ye);U.apply(Te,ye[wt])}return Te},Xn=function(ye,Te){return St(xe(ye,Te))},pn=function(ye,Te){var wt=Ue.call(ye,0);return wt.sort(Te),wt},O=Object.hasOwnProperty,On=function(ye,Te){return O.call(ye,Te)};typeof window<"u"||Function("return this;")();var Wt=9,ur=11,ya=1,vo=3,dn=function(ye){return ye.dom.nodeType},fa=function(ye){return function(Te){return dn(Te)===ye}},oe=fa(vo),Xa=function(ye,Te,wt){if(Be(wt)||ge(wt)||It(wt))ye.setAttribute(Te,wt+"");else throw console.error("Invalid call to Attribute.set. Key ",Te,":: Value ",wt,":: Element ",ye),new Error("Attribute value was not simple")},$t=function(ye,Te,wt){Xa(ye.dom,Te,wt)},Ze=function(ye,Te,wt){return(ye.compareDocumentPosition(Te)&wt)!==0},Sr=function(ye,Te){return Ze(ye,Te,Node.DOCUMENT_POSITION_PRECEDING)},et=function(ye,Te){var wt=Te||document,Ft=wt.createElement("div");if(Ft.innerHTML=ye,!Ft.hasChildNodes()||Ft.childNodes.length>1)throw console.error("HTML does not have a single root node",ye),new Error("HTML must have a single root node");return Ne(Ft.childNodes[0])},qe=function(ye,Te){var wt=Te||document,Ft=wt.createElement(ye);return Ne(Ft)},be=function(ye,Te){var wt=Te||document,Ft=wt.createTextNode(ye);return Ne(Ft)},Ne=function(ye){if(ye==null)throw new Error("Node cannot be null or undefined");return{dom:ye}},je=function(ye,Te,wt){return ze.from(ye.dom.elementFromPoint(Te,wt)).map(Ne)},Nt={fromHtml:et,fromTag:qe,fromText:be,fromDom:Ne,fromPoint:je},lr=function(ye){return ye.nodeType!==ya&&ye.nodeType!==Wt&&ye.nodeType!==ur||ye.childElementCount===0},Xt=function(ye,Te){var wt=Te===void 0?document:Te.dom;return lr(wt)?[]:xe(wt.querySelectorAll(ye),Nt.fromDom)},Pr=function(ye){return ze.from(ye.dom.parentNode).map(Nt.fromDom)},it=function(ye){return xe(ye.dom.childNodes,Nt.fromDom)},st=function(ye,Te){return{element:ye,offset:Te}},rr=function(ye,Te){var wt=it(ye);return wt.length>0&&Te<wt.length?st(wt[Te],0):st(ye,Te)},Rr=function(ye,Te){var wt=Pr(ye);wt.each(function(Ft){Ft.dom.insertBefore(Te.dom,ye.dom)})},sn=function(ye,Te){ye.dom.appendChild(Te.dom)},wn=function(ye,Te){Rr(ye,Te),sn(Te,ye)},Gn=function(ye,Te){var wt=function(vr){if(!ye(vr))throw new Error("Can only get "+Te+" value of a "+Te+" node");return Ft(vr).getOr("")},Ft=function(vr){return ye(vr)?ze.from(vr.dom.nodeValue):ze.none()},Gt=function(vr,kr){if(!ye(vr))throw new Error("Can only set raw "+Te+" value of a "+Te+" node");vr.dom.nodeValue=kr};return{get:wt,getOption:Ft,set:Gt}},Yn=Gn(oe,"text"),Ta=function(ye){return Yn.get(ye)},ba=function(ye,Te){return Xt(Te,ye)},Zn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),In=function(ye,Te){return ye.isBlock(Te)||On(ye.schema.getShortEndedElements(),Te.nodeName)},ga=function(ye,Te){return ye.getContentEditable(Te)==="false"},Rn=function(ye,Te){return ye.getContentEditable(Te)==="true"&&ye.getContentEditableParent(Te.parentNode)==="false"},kn=function(ye,Te){return!ye.isBlock(Te)&&On(ye.schema.getWhiteSpaceElements(),Te.nodeName)},Ka=function(ye,Te){return In(ye,Te)||ga(ye,Te)||kn(ye,Te)||Rn(ye,Te)},ao=function(ye){return ye.nodeType===3},Ca=function(){return{sOffset:0,fOffset:0,elements:[]}},xn=function(ye,Te){return rr(Nt.fromDom(ye),Te)},Co=function(ye,Te,wt,Ft,Gt,vr){vr===void 0&&(vr=!0);for(var kr=vr?Te(!1):wt;kr;){var ln=ga(ye,kr);if(ln||kn(ye,kr)){var mn=ln?Ft.cef(kr):Ft.boundary(kr);if(mn)break;kr=Te(!0);continue}else if(In(ye,kr)){if(Ft.boundary(kr))break}else ao(kr)&&Ft.text(kr);if(kr===Gt)break;kr=Te(!1)}},Ke=function(ye,Te,wt,Ft,Gt){if(!Ka(ye,wt)){var vr=ye.getParent(Ft,ye.isBlock),kr=new Zn(wt,vr),ln=Gt?kr.next.bind(kr):kr.prev.bind(kr);Co(ye,ln,wt,{boundary:Qe,cef:Qe,text:function(mn){Gt?Te.fOffset+=mn.length:Te.sOffset+=mn.length,Te.elements.push(Nt.fromDom(mn))}})}},Mt=function(ye,Te,wt,Ft,Gt,vr){vr===void 0&&(vr=!0);var kr=new Zn(wt,Te),ln=[],mn=Ca();Ke(ye,mn,wt,Te,!1);var Dn=function(){return mn.elements.length>0&&(ln.push(mn),mn=Ca()),!1};return Co(ye,kr.next.bind(kr),wt,{boundary:Dn,cef:function(ka){return Dn(),Gt&&ln.push.apply(ln,Gt.cef(ka)),!1},text:function(ka){mn.elements.push(Nt.fromDom(ka)),Gt&&Gt.text(ka,mn)}},Ft,vr),Ft&&Ke(ye,mn,Ft,Te,!0),Dn(),ln},gt=function(ye,Te){var wt=xn(Te.startContainer,Te.startOffset),Ft=wt.element.dom,Gt=xn(Te.endContainer,Te.endOffset),vr=Gt.element.dom;return Mt(ye,Te.commonAncestorContainer,Ft,vr,{text:function(kr,ln){kr===vr?ln.fOffset+=kr.length-Gt.offset:kr===Ft&&(ln.sOffset+=wt.offset)},cef:function(kr){var ln=Xn(ba(Nt.fromDom(kr),"*[contenteditable=true]"),function(mn){var Dn=mn.dom;return Mt(ye,Dn,Dn)});return pn(ln,function(mn,Dn){return Sr(mn.elements[0].dom,Dn.elements[0].dom)?1:-1})}},!1)},fr=function(ye,Te){return Te.collapsed?[]:gt(ye,Te)},un=function(ye,Te){var wt=ye.createRng();return wt.selectNode(Te),fr(ye,wt)},ua=function(ye,Te){return Xn(Te,function(wt){return un(ye,wt)})},fi=function(ye,Te,wt,Ft){wt===void 0&&(wt=0),Ft===void 0&&(Ft=ye.length);var Gt=Te.regex;Gt.lastIndex=wt;for(var vr=[],kr;kr=Gt.exec(ye);){var ln=kr[Te.matchIndex],mn=kr.index+kr[0].indexOf(ln),Dn=mn+ln.length;if(Dn>Ft)break;vr.push({start:mn,finish:Dn}),Gt.lastIndex=Dn}return vr},Kn=function(ye,Te){var wt=fn(ye,function(Ft,Gt){var vr=Ta(Gt),kr=Ft.last,ln=kr+vr.length,mn=Xn(Te,function(Dn,ka){return Dn.start<ln&&Dn.finish>kr?[{element:Gt,start:Math.max(kr,Dn.start)-kr,finish:Math.min(ln,Dn.finish)-kr,matchId:ka}]:[]});return{results:Ft.results.concat(mn),last:ln}},{results:[],last:0}).results;return Lt(wt,function(Ft){return Ft.matchId})},Sn=function(ye,Te){return Xn(Te,function(wt){var Ft=wt.elements,Gt=xe(Ft,Ta).join(""),vr=fi(Gt,ye,wt.sOffset,Gt.length-wt.fOffset);return Kn(Ft,vr)})},xo=function(ye,Te){X(ye,function(wt,Ft){X(wt,function(Gt){var vr=Nt.fromDom(Te.cloneNode(!1));$t(vr,"data-mce-index",Ft);var kr=Gt.element.dom;if(kr.length===Gt.finish&&Gt.start===0)wn(Gt.element,vr);else{kr.length!==Gt.finish&&kr.splitText(Gt.finish);var ln=kr.splitText(Gt.start);wn(Nt.fromDom(ln),vr)}})})},di=function(ye,Te,wt,Ft){var Gt=un(ye,wt),vr=Sn(Te,Gt);return xo(vr,Ft),vr.length},Ni=function(ye,Te,wt,Ft){var Gt=wt.getBookmark(),vr=ye.select("td[data-mce-selected],th[data-mce-selected]"),kr=vr.length>0?ua(ye,vr):fr(ye,wt.getRng()),ln=Sn(Te,kr);return xo(ln,Ft),wt.moveToBookmark(Gt),ln.length},po=function(ye){var Te=ye.getAttribute("data-mce-index");return typeof Te=="number"?""+Te:Te},Jo=function(ye,Te,wt,Ft){var Gt=ye.dom.create("span",{"data-mce-bogus":1});Gt.className="mce-match-marker";var vr=ye.getBody();return Ro(ye,Te,!1),Ft?Ni(ye.dom,wt,ye.selection,Gt):di(ye.dom,wt,vr,Gt)},qi=function(ye){var Te=ye.parentNode;ye.firstChild&&Te.insertBefore(ye.firstChild,ye),ye.parentNode.removeChild(ye)},Qo=function(ye,Te){var wt=[],Ft=ce.toArray(ye.getBody().getElementsByTagName("span"));if(Ft.length)for(var Gt=0;Gt<Ft.length;Gt++){var vr=po(Ft[Gt]);vr===null||!vr.length||vr===Te.toString()&&wt.push(Ft[Gt])}return wt},$o=function(ye,Te,wt){var Ft=Te.get(),Gt=Ft.index,vr=ye.dom;wt=wt!==!1,wt?Gt+1===Ft.count?Gt=0:Gt++:Gt-1===-1?Gt=Ft.count-1:Gt--,vr.removeClass(Qo(ye,Ft.index),"mce-match-marker-selected");var kr=Qo(ye,Gt);return kr.length?(vr.addClass(Qo(ye,Gt),"mce-match-marker-selected"),ye.selection.scrollIntoView(kr[0]),Gt):-1},Gi=function(ye,Te){var wt=Te.parentNode;ye.remove(Te),ye.isEmpty(wt)&&ye.remove(wt)},ra=function(ye,Te){var wt=ye.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Ft="("+wt+")";return Te?"(?:^|\\s|"+$e()+")"+Ft+("(?=$|\\s|"+$e()+")"):Ft},oi=function(ye,Te,wt,Ft,Gt,vr){var kr=ye.selection,ln=ra(wt,Gt),mn=kr.isForward(),Dn={regex:new RegExp(ln,Ft?"g":"gi"),matchIndex:1},ka=Jo(ye,Te,Dn,vr);if(Ge.browser.isSafari()&&kr.setRng(kr.getRng(),mn),ka){var Va=$o(ye,Te,!0);Te.set({index:Va,count:ka,text:wt,matchCase:Ft,wholeWord:Gt,inSelection:vr})}return ka},Lr=function(ye,Te){var wt=$o(ye,Te,!0);Te.set(B(B({},Te.get()),{index:wt}))},Pu=function(ye,Te){var wt=$o(ye,Te,!1);Te.set(B(B({},Te.get()),{index:wt}))},ei=function(ye){var Te=po(ye);return Te!==null&&Te.length>0},vi=function(ye,Te,wt,Ft,Gt){var vr=Te.get(),kr=vr.index,ln,mn=kr;Ft=Ft!==!1;for(var Dn=ye.getBody(),ka=ce.grep(ce.toArray(Dn.getElementsByTagName("span")),ei),Va=0;Va<ka.length;Va++){var To=po(ka[Va]),Ht=ln=parseInt(To,10);if(Gt||Ht===vr.index){for(wt.length?(ka[Va].firstChild.nodeValue=wt,qi(ka[Va])):Gi(ye.dom,ka[Va]);ka[++Va];)if(Ht=parseInt(po(ka[Va]),10),Ht===ln)Gi(ye.dom,ka[Va]);else{Va--;break}Ft&&mn--}else ln>kr&&ka[Va].setAttribute("data-mce-index",String(ln-1))}return Te.set(B(B({},vr),{count:Gt?0:vr.count-1,index:mn})),Ft?Lr(ye,Te):Pu(ye,Te),!Gt&&Te.get().count>0},Ro=function(ye,Te,wt){for(var Ft,Gt,vr=Te.get(),kr=ce.toArray(ye.getBody().getElementsByTagName("span")),ln=0;ln<kr.length;ln++){var mn=po(kr[ln]);mn!==null&&mn.length&&(mn===vr.index.toString()&&(Ft||(Ft=kr[ln].firstChild),Gt=kr[ln].firstChild),qi(kr[ln]))}if(Te.set(B(B({},vr),{index:-1,count:0,text:""})),Ft&&Gt){var Dn=ye.dom.createRng();return Dn.setStart(Ft,0),Dn.setEnd(Gt,Gt.data.length),wt!==!1&&ye.selection.setRng(Dn),Dn}},Pi=function(ye,Te){return Te.get().count>1},Fu=function(ye,Te){return Te.get().count>1},pi=function(ye,Te){var wt=function(ln){return Ro(ye,Te,ln)},Ft=function(ln,mn,Dn,ka){return ka===void 0&&(ka=!1),oi(ye,Te,ln,mn,Dn,ka)},Gt=function(){return Lr(ye,Te)},vr=function(){return Pu(ye,Te)},kr=function(ln,mn,Dn){return vi(ye,Te,ln,mn,Dn)};return{done:wt,find:Ft,next:Gt,prev:vr,replace:kr}},Ku=function(ye){var Te=I(ze.none()),wt=function(){return Te.get().each(ye)},Ft=function(){wt(),Te.set(ze.none())},Gt=function(){return Te.get().isSome()},vr=function(){return Te.get()},kr=function(ln){wt(),Te.set(ze.some(ln))};return{clear:Ft,isSet:Gt,get:vr,set:kr}},Do=function(){var ye=Ku(rt),Te=function(wt){return ye.get().each(wt)};return B(B({},ye),{on:Te})},So=function(ye,Te){var wt=Do();ye.undoManager.add();var Ft=ce.trim(ye.selection.getContent({format:"text"})),Gt=function(cn){var da=Pi(ye,Te)?cn.enable:cn.disable;da("next");var Eo=Fu(ye,Te)?cn.enable:cn.disable;Eo("prev")},vr=function(cn){var da=cn.getData(),Eo=Te.get();Te.set(B(B({},Eo),{matchCase:da.matchcase,wholeWord:da.wholewords,inSelection:da.inselection}))},kr=function(cn,da){var Eo=["replace","replaceall","prev","next"],Ii=da?cn.disable:cn.enable;Z(Eo,Ii)},ln=function(cn){ye.windowManager.alert("Could not find the specified string.",function(){cn.focus("findtext")})},mn=function(cn,da){Ge.browser.isSafari()&&Ge.deviceType.isTouch()&&(da==="find"||da==="replace"||da==="replaceall")&&cn.focus(da)},Dn=function(cn){Ro(ye,Te,!1),kr(cn,!0),Gt(cn)},ka=function(cn){var da=cn.getData(),Eo=Te.get();if(!da.findtext.length){Dn(cn);return}if(Eo.text===da.findtext&&Eo.matchCase===da.matchcase&&Eo.wholeWord===da.wholewords)Lr(ye,Te);else{var Ii=oi(ye,Te,da.findtext,da.matchcase,da.wholewords,da.inselection);Ii<=0&&ln(cn),kr(cn,Ii===0)}Gt(cn)},Va=Te.get(),To={findtext:Ft,replacetext:"",wholewords:Va.wholeWord,matchcase:Va.matchCase,inselection:Va.inSelection},Ht={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:To,onChange:function(cn,da){da.name==="findtext"&&Te.get().count>0&&Dn(cn)},onAction:function(cn,da){var Eo=cn.getData();switch(da.name){case"find":ka(cn);break;case"replace":vi(ye,Te,Eo.replacetext)?Gt(cn):Dn(cn);break;case"replaceall":vi(ye,Te,Eo.replacetext,!0,!0),Dn(cn);break;case"prev":Pu(ye,Te),Gt(cn);break;case"next":Lr(ye,Te),Gt(cn);break;case"matchcase":case"wholewords":case"inselection":vr(cn),Dn(cn);break}mn(cn,da.name)},onSubmit:function(cn){ka(cn),mn(cn,"find")},onClose:function(){ye.focus(),Ro(ye,Te),ye.undoManager.add()}};wt.set(ye.windowManager.open(Ht,{inline:"toolbar"}))},tr=function(ye,Te){ye.addCommand("SearchReplace",function(){So(ye,Te)})},iu=function(ye,Te){return function(){So(ye,Te)}},Cu=function(ye,Te){ye.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:iu(ye,Te),icon:"search"}),ye.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:iu(ye,Te),icon:"search"}),ye.shortcuts.add("Meta+F","",iu(ye,Te))};function Fi(){S.add("searchreplace",function(ye){var Te=I({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return tr(ye,Te),Cu(ye,Te),pi(ye,Te)})}Fi()})();(function(){var I=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},S=function(u){return function(l){return I(l)===u}},B=function(u){return function(l){return typeof l===u}},N=function(u){return function(l){return u===l}},ee=S("string"),me=S("object"),Be=S("array"),we=N(null),ge=B("boolean"),It=N(void 0),rt=function(u){return u==null},He=function(u){return!rt(u)},at=B("function"),hr=B("number"),Qe=function(){},ut=function(u,l){return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];return u(l.apply(null,v))}},ke=function(u,l){return function(v){return u(l(v))}},J=function(u){return function(){return u}},Fe=function(u){return u},se=function(u,l){return u===l};function Ye(u){for(var l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];return function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];var T=l.concat(h);return u.apply(null,T)}}var ze=function(u){return function(l){return!u(l)}},$e=function(u){return function(){throw new Error(u)}},Ge=J(!1),ce=J(!0),Ue=function(){return U},U=function(){var u=function(h){return h()},l=Fe,v={fold:function(h,b){return h()},isSome:Ge,isNone:ce,getOr:l,getOrThunk:u,getOrDie:function(h){throw new Error(h||"error: getOrDie called on none.")},getOrNull:J(null),getOrUndefined:J(void 0),or:l,orThunk:u,map:Ue,each:Qe,bind:Ue,exists:Ge,forall:ce,filter:function(){return Ue()},toArray:function(){return[]},toString:J("none()")};return v}(),xe=function(u){var l=J(u),v=function(){return b},h=function(T){return T(u)},b={fold:function(T,D){return D(u)},isSome:ce,isNone:Ge,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:v,orThunk:v,map:function(T){return xe(T(u))},each:function(T){T(u)},bind:h,exists:h,forall:h,filter:function(T){return T(u)?b:U},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return b},Z=function(u){return u==null?U:xe(u)},X={some:xe,none:Ue,from:Z},Lt=Array.prototype.slice,fn=Array.prototype.indexOf,St=Array.prototype.push,Xn=function(u,l){return fn.call(u,l)},pn=function(u,l){return Xn(u,l)>-1},O=function(u,l){for(var v=0,h=u.length;v<h;v++){var b=u[v];if(l(b,v))return!0}return!1},On=function(u,l){for(var v=[],h=0;h<u;h++)v.push(l(h));return v},Wt=function(u,l){for(var v=u.length,h=new Array(v),b=0;b<v;b++){var T=u[b];h[b]=l(T,b)}return h},ur=function(u,l){for(var v=0,h=u.length;v<h;v++){var b=u[v];l(b,v)}},ya=function(u,l){for(var v=u.length-1;v>=0;v--){var h=u[v];l(h,v)}},vo=function(u,l){for(var v=[],h=[],b=0,T=u.length;b<T;b++){var D=u[b],L=l(D,b)?v:h;L.push(D)}return{pass:v,fail:h}},dn=function(u,l){for(var v=[],h=0,b=u.length;h<b;h++){var T=u[h];l(T,h)&&v.push(T)}return v},fa=function(u,l,v){return ya(u,function(h,b){v=l(v,h,b)}),v},oe=function(u,l,v){return ur(u,function(h,b){v=l(v,h,b)}),v},Xa=function(u,l,v){for(var h=0,b=u.length;h<b;h++){var T=u[h];if(l(T,h))return X.some(T);if(v(T,h))break}return X.none()},$t=function(u,l){return Xa(u,l,Ge)},Ze=function(u,l){for(var v=0,h=u.length;v<h;v++){var b=u[v];if(l(b,v))return X.some(v)}return X.none()},Sr=function(u){for(var l=[],v=0,h=u.length;v<h;++v){if(!Be(u[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+u);St.apply(l,u[v])}return l},et=function(u,l){return Sr(Wt(u,l))},qe=function(u,l){for(var v=0,h=u.length;v<h;++v){var b=u[v];if(l(b,v)!==!0)return!1}return!0},be=function(u){var l=Lt.call(u,0);return l.reverse(),l},Ne=function(u,l){for(var v={},h=0,b=u.length;h<b;h++){var T=u[h];v[String(T)]=l(T,h)}return v},je=function(u){return[u]},Nt=function(u,l){var v=Lt.call(u,0);return v.sort(l),v},lr=function(u,l){return l>=0&&l<u.length?X.some(u[l]):X.none()},Xt=function(u){return lr(u,0)},Pr=function(u){return lr(u,u.length-1)},it=function(u,l){for(var v=0;v<u.length;v++){var h=l(u[v],v);if(h.isSome())return h}return X.none()},st=function(){return st=Object.assign||function(l){for(var v,h=1,b=arguments.length;h<b;h++){v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(l[T]=v[T])}return l},st.apply(this,arguments)};function rr(u,l,v){for(var h=0,b=l.length,T;h<b;h++)(T||!(h in l))&&(T||(T=Array.prototype.slice.call(l,0,h)),T[h]=l[h]);return u.concat(T||Array.prototype.slice.call(l))}var Rr=function(u){var l=!1,v;return function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];return l||(l=!0,v=u.apply(null,h)),v}},sn=function(u,l,v,h){var b=u.isiOS()&&/ipad/i.test(v)===!0,T=u.isiOS()&&!b,D=u.isiOS()||u.isAndroid(),L=D||h("(pointer:coarse)"),Q=b||!T&&D&&h("(min-device-width:768px)"),fe=T||D&&!Q,Ae=l.isSafari()&&u.isiOS()&&/safari/i.test(v)===!1,yt=!fe&&!Q&&!Ae;return{isiPad:J(b),isiPhone:J(T),isTablet:J(Q),isPhone:J(fe),isTouch:J(L),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:J(Ae),isDesktop:J(yt)}},wn=function(u,l){for(var v=0;v<u.length;v++){var h=u[v];if(h.test(l))return h}},Gn=function(u,l){var v=wn(u,l);if(!v)return{major:0,minor:0};var h=function(b){return Number(l.replace(v,"$"+b))};return ba(h(1),h(2))},Yn=function(u,l){var v=String(l).toLowerCase();return u.length===0?Ta():Gn(u,v)},Ta=function(){return ba(0,0)},ba=function(u,l){return{major:u,minor:l}},Zn={nu:ba,detect:Yn,unknown:Ta},In=function(u,l){return it(l.brands,function(v){var h=v.brand.toLowerCase();return $t(u,function(b){var T;return h===((T=b.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(b){return{current:b.name,version:Zn.nu(parseInt(v.version,10),0)}})})},ga=function(u,l){var v=String(l).toLowerCase();return $t(u,function(h){return h.search(v)})},Rn=function(u,l){return ga(u,l).map(function(v){var h=Zn.detect(v.versionRegexes,l);return{current:v.name,version:h}})},kn=function(u,l){return ga(u,l).map(function(v){var h=Zn.detect(v.versionRegexes,l);return{current:v.name,version:h}})},Ka=function(u,l){return u.substring(l)},ao=function(u,l,v){return l===""||u.length>=l.length&&u.substr(v,v+l.length)===l},Ca=function(u,l){return Co(u,l)?Ka(u,l.length):u},xn=function(u,l){return u.indexOf(l)!==-1},Co=function(u,l){return ao(u,l,0)},Ke=function(u,l){return ao(u,l,u.length-l.length)},Mt=function(u){return function(l){return l.replace(u,"")}},gt=Mt(/^\s+|\s+$/g),fr=function(u){return u.length>0},un=function(u){return!fr(u)},ua=function(u){var l=parseFloat(u);return isNaN(l)?X.none():X.some(l)},fi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kn=function(u){return function(l){return xn(l,u)}},Sn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return xn(u,"edge/")&&xn(u,"chrome")&&xn(u,"safari")&&xn(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fi],search:function(u){return xn(u,"chrome")&&!xn(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return xn(u,"msie")||xn(u,"trident")}},{name:"Opera",versionRegexes:[fi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kn("firefox")},{name:"Safari",versionRegexes:[fi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(xn(u,"safari")||xn(u,"mobile/"))&&xn(u,"applewebkit")}}],xo=[{name:"Windows",search:Kn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return xn(u,"iphone")||xn(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Kn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kn("linux"),versionRegexes:[]},{name:"Solaris",search:Kn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],di={browsers:J(Sn),oses:J(xo)},Ni="Edge",po="Chrome",Jo="IE",qi="Opera",Qo="Firefox",$o="Safari",Gi=function(){return ra({current:void 0,version:Zn.unknown()})},ra=function(u){var l=u.current,v=u.version,h=function(b){return function(){return l===b}};return{current:l,version:v,isEdge:h(Ni),isChrome:h(po),isIE:h(Jo),isOpera:h(qi),isFirefox:h(Qo),isSafari:h($o)}},oi={unknown:Gi,nu:ra,edge:J(Ni),chrome:J(po),ie:J(Jo),opera:J(qi),firefox:J(Qo),safari:J($o)},Lr="Windows",Pu="iOS",ei="Android",vi="Linux",Ro="OSX",Pi="Solaris",Fu="FreeBSD",pi="ChromeOS",Ku=function(){return Do({current:void 0,version:Zn.unknown()})},Do=function(u){var l=u.current,v=u.version,h=function(b){return function(){return l===b}};return{current:l,version:v,isWindows:h(Lr),isiOS:h(Pu),isAndroid:h(ei),isOSX:h(Ro),isLinux:h(vi),isSolaris:h(Pi),isFreeBSD:h(Fu),isChromeOS:h(pi)}},So={unknown:Ku,nu:Do,windows:J(Lr),ios:J(Pu),android:J(ei),linux:J(vi),osx:J(Ro),solaris:J(Pi),freebsd:J(Fu),chromeos:J(pi)},tr=function(u,l,v){var h=di.browsers(),b=di.oses(),T=l.bind(function(Q){return In(h,Q)}).orThunk(function(){return Rn(h,u)}).fold(oi.unknown,oi.nu),D=kn(b,u).fold(So.unknown,So.nu),L=sn(D,T,u,v);return{browser:T,os:D,deviceType:L}},iu={detect:tr},Cu=function(u){return window.matchMedia(u).matches},Fi=Rr(function(){return iu.detect(navigator.userAgent,X.from(navigator.userAgentData),Cu)}),ye=function(){return Fi()},Te=function(u,l,v){return(u.compareDocumentPosition(l)&v)!==0},wt=function(u,l){return Te(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ft=8,Gt=9,vr=11,kr=1,ln=3,mn=function(u,l){var v=l||document,h=v.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Va(h.childNodes[0])},Dn=function(u,l){var v=l||document,h=v.createElement(u);return Va(h)},ka=function(u,l){var v=l||document,h=v.createTextNode(u);return Va(h)},Va=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},To=function(u,l,v){return X.from(u.dom.elementFromPoint(l,v)).map(Va)},Ht={fromHtml:mn,fromTag:Dn,fromText:ka,fromDom:Va,fromPoint:To},cn=function(u,l){var v=u.dom;if(v.nodeType!==kr)return!1;var h=v;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},da=function(u){return u.nodeType!==kr&&u.nodeType!==Gt&&u.nodeType!==vr||u.childElementCount===0},Eo=function(u,l){var v=l===void 0?document:l.dom;return da(v)?[]:Wt(v.querySelectorAll(u),Ht.fromDom)},Ii=function(u,l){var v=l===void 0?document:l.dom;return da(v)?X.none():X.from(v.querySelector(u)).map(Ht.fromDom)},Wn=function(u,l){return u.dom===l.dom},gs=function(u,l){var v=u.dom,h=l.dom;return v===h?!1:v.contains(h)},Ki=function(u,l){return wt(u.dom,l.dom)},oo=function(u,l){return ye().browser.isIE()?Ki(u,l):gs(u,l)},Xu=cn,ii=Object.keys,mi=Object.hasOwnProperty,Ba=function(u,l){for(var v=ii(u),h=0,b=v.length;h<b;h++){var T=v[h],D=u[T];l(D,T)}},Yu=function(u,l){return te(u,function(v,h){return{k:h,v:l(v,h)}})},te=function(u,l){var v={};return Ba(u,function(h,b){var T=l(h,b);v[T.k]=T.v}),v},Se=function(u){return function(l,v){u[v]=l}},Je=function(u,l,v,h){var b={};return Ba(u,function(T,D){(l(T,D)?v:h)(T,D)}),b},bt=function(u,l){var v={};return Je(u,l,Se(v),Qe),v},dr=function(u,l){var v=[];return Ba(u,function(h,b){v.push(l(h,b))}),v},Tr=function(u){return dr(u,Fe)},Br=function(u){return ii(u).length},Mn=function(u,l){return G(u,l)?X.from(u[l]):X.none()},G=function(u,l){return mi.call(u,l)},Ce=function(u,l){return G(u,l)&&u[l]!==void 0&&u[l]!==null},Ie=function(u){for(var l in u)if(mi.call(u,l))return!1;return!0},ct=["tfoot","thead","tbody","colgroup"],kt=function(u){return pn(ct,u)},br=function(u,l){return{rows:u,columns:l}},Ir=function(u,l){return{row:u,column:l}},na=function(u,l,v){return{element:u,rowspan:l,colspan:v}},Tn=function(u,l,v,h){return{element:u,rowspan:l,colspan:v,isNew:h}},xa=function(u,l,v,h,b,T){return{element:u,rowspan:l,colspan:v,row:h,column:b,isLocked:T}},qa=function(u,l,v){return{element:u,cells:l,section:v}},xu=function(u,l,v,h){return{element:u,cells:l,section:v,isNew:h}},Mo=function(u,l,v){return{element:u,isNew:l,isLocked:v}},Hr=function(u,l,v,h){return{element:u,cells:l,section:v,isNew:h}},Zt=function(u,l,v,h){return{startRow:u,startCol:l,finishRow:v,finishCol:h}},Ea=function(u,l,v){return{element:u,colspan:l,column:v}},Bo=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var qn=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Ns=function(u){return u.dom.nodeType},Zu=function(u){return function(l){return Ns(l)===u}},kc=function(u){return Ns(u)===Ft||qn(u)==="#comment"},va=Zu(kr),Ci=Zu(ln),Cc=Zu(Gt),Su=Zu(vr),go=function(u){return function(l){return va(l)&&qn(l)===u}},Ps=function(u){return Ht.fromDom(u.dom.ownerDocument)},mt=function(u){return Cc(u)?u:Ps(u)},tc=function(u){return Ht.fromDom(mt(u).dom.defaultView)},yo=function(u){return X.from(u.dom.parentNode).map(Ht.fromDom)},pl=function(u){return X.from(u.dom.parentElement).map(Ht.fromDom)},ys=function(u,l){for(var v=at(l)?l:Ge,h=u.dom,b=[];h.parentNode!==null&&h.parentNode!==void 0;){var T=h.parentNode,D=Ht.fromDom(T);if(b.push(D),v(D)===!0)break;h=T}return b},P=function(u){return X.from(u.dom.previousSibling).map(Ht.fromDom)},x=function(u){return X.from(u.dom.nextSibling).map(Ht.fromDom)},_=function(u){return Wt(u.dom.childNodes,Ht.fromDom)},A=function(u,l){var v=u.dom.childNodes;return X.from(v[l]).map(Ht.fromDom)},W=function(u){return A(u,0)},le=function(u){return Su(u)&&He(u.dom.host)},Le=at(Element.prototype.attachShadow)&&at(Node.prototype.getRootNode),Et=J(Le),Mr=Le?function(u){return Ht.fromDom(u.dom.getRootNode())}:mt,Zr=function(u){var l=Mr(u);return le(l)?X.some(l):X.none()},or=function(u){return Ht.fromDom(u.dom.host)},Dr=function(u){if(Et()&&He(u.target)){var l=Ht.fromDom(u.target);if(va(l)&&En(l)&&u.composed&&u.composedPath){var v=u.composedPath();if(v)return Xt(v)}}return X.from(u.target)},En=function(u){return He(u.dom.shadowRoot)},Cn=function(u){var l=Ci(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var v=l.ownerDocument;return Zr(Ht.fromDom(l)).fold(function(){return v.body.contains(l)},ke(Cn,or))},an=function(){return Ja(Ht.fromDom(document))},Ja=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return Ht.fromDom(l)},tn=function(u,l,v){return dn(ys(u,v),l)},Ia=function(u,l){return dn(_(u),l)},za=function(u,l){var v=[];return ur(_(u),function(h){l(h)&&(v=v.concat([h])),v=v.concat(za(h,l))}),v},xi=function(u,l,v){return tn(u,function(h){return cn(h,l)},v)},Fn=function(u,l){return Ia(u,function(v){return cn(v,l)})},Fs=function(u,l){return Eo(l,u)};function bo(u,l,v,h,b){return u(v,h)?X.some(v):at(b)&&b(v)?X.none():l(v,h,b)}var No=function(u,l,v){for(var h=u.dom,b=at(v)?v:Ge;h.parentNode;){h=h.parentNode;var T=Ht.fromDom(h);if(l(T))return X.some(T);if(b(T))break}return X.none()},Wg=function(u,l,v){var h=function(b,T){return T(b)};return bo(h,No,u,l,v)},Xi=function(u,l){var v=function(b){return l(Ht.fromDom(b))},h=$t(u.dom.childNodes,v);return h.map(Ht.fromDom)},ah=function(u,l){var v=function(h){for(var b=0;b<h.childNodes.length;b++){var T=Ht.fromDom(h.childNodes[b]);if(l(T))return X.some(T);var D=v(h.childNodes[b]);if(D.isSome())return D}return X.none()};return v(u.dom)},Wc=function(u,l,v){return No(u,function(h){return cn(h,l)},v)},vn=function(u,l){return Xi(u,function(v){return cn(v,l)})},Is=function(u,l){return Ii(l,u)},Ho=function(u,l,v){var h=function(b,T){return cn(b,T)};return bo(h,Wc,u,l,v)},Vo=function(u,l,v){if(ee(v)||ge(v)||hr(v))u.setAttribute(l,v+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",v,":: Element ",u),new Error("Attribute value was not simple")},Si=function(u,l,v){Vo(u.dom,l,v)},ui=function(u,l){var v=u.dom;Ba(l,function(h,b){Vo(v,b,h)})},Tf=function(u,l){Ba(l,function(v,h){v.fold(function(){fo(u,h)},function(b){Vo(u.dom,h,b)})})},rc=function(u,l){var v=u.dom.getAttribute(l);return v===null?void 0:v},Aa=function(u,l){return X.from(rc(u,l))},fo=function(u,l){u.dom.removeAttribute(l)},Iu=function(u){return oe(u.dom.attributes,function(l,v){return l[v.name]=v.value,l},{})},ml=function(u,l,v){return v===void 0&&(v=se),u.exists(function(h){return v(h,l)})},hi=function(u){for(var l=[],v=function(b){l.push(b)},h=0;h<u.length;h++)u[h].each(v);return l},Ls=function(u,l,v){return u.isSome()&&l.isSome()?X.some(v(u.getOrDie(),l.getOrDie())):X.none()},qg=function(u,l){return u!=null?l(u):X.none()},Ef=function(u){return u.bind(Fe)},Qa=function(u,l){return u?X.some(l):X.none()},xc=function(u){return u.style!==void 0&&at(u.style.getPropertyValue)},Hl=function(u,l,v){if(!ee(v))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",v,":: Element ",u),new Error("CSS value must be a string: "+v);xc(u)&&u.style.setProperty(l,v)},Ju=function(u,l){xc(u)&&u.style.removeProperty(l)},Xo=function(u,l,v){var h=u.dom;Hl(h,l,v)},Vl=function(u,l){var v=u.dom;Ba(l,function(h,b){Hl(v,b,h)})},hl=function(u,l){var v=u.dom,h=window.getComputedStyle(v),b=h.getPropertyValue(l);return b===""&&!Cn(u)?Tu(v,l):b},Tu=function(u,l){return xc(u)?u.style.getPropertyValue(l):""},Qu=function(u,l){var v=u.dom,h=Tu(v,l);return X.from(h).filter(function(b){return b.length>0})},uu=function(u,l){var v=u.dom;Ju(v,l),ml(Aa(u,"style").map(gt),"")&&fo(u,"style")},hd=function(u,l){var v=u.dom,h=l.dom;xc(v)&&xc(h)&&(h.style.cssText=v.style.cssText)},Sc=function(u,l,v){return v===void 0&&(v=0),Aa(u,l).map(function(h){return parseInt(h,10)}).getOr(v)},Ti=function(u,l){return Sc(u,l,1)},cv=function(u){return go("col")(u)?Sc(u,"span",1)>1:Ti(u,"colspan")>1},Gg=function(u){return Ti(u,"rowspan")>1},zf=function(u,l){return parseInt(hl(u,l),10)},Af=J(10),Uo=J(10),Of=function(u,l){return Rf(u,l,ce)},Rf=function(u,l,v){return et(_(u),function(h){return cn(h,l)?v(h)?[h]:[]:Rf(h,l,v)})},Eu=function(u,l,v){if(v===void 0&&(v=Ge),v(l))return X.none();if(pn(u,qn(l)))return X.some(l);var h=function(b){return cn(b,"table")||v(b)};return Wc(l,u.join(","),h)},gl=function(u,l){return Eu(["td","th"],u,l)},Df=function(u){return Of(u,"th,td")},yl=function(u){return cn(u,"colgroup")?Fn(u,"col"):et(hp(u),function(l){return Fn(l,"col")})},zo=function(u,l){return Ho(u,"table",l)},bs=function(u){return Of(u,"tr")},hp=function(u){return zo(u).fold(J([]),function(l){return Fn(l,"colgroup")})},$s=function(u,l){return Wt(u,function(v){if(qn(v)==="colgroup"){var h=Wt(yl(v),function(b){var T=Sc(b,"span",1);return na(b,1,T)});return qa(v,h,"colgroup")}else{var h=Wt(Df(v),function(T){var D=Sc(T,"rowspan",1),L=Sc(T,"colspan",1);return na(T,D,L)});return qa(v,h,l(v))}})},gp=function(u){return yo(u).map(function(l){var v=qn(l);return kt(v)?v:"tbody"}).getOr("tbody")},Kg=function(u){var l=bs(u),v=hp(u),h=rr(rr([],v,!0),l);return $s(h,gp)},oh=function(u,l){return $s(u,function(){return l})},Mf=function(u,l,v){var h=u.cells,b=h.slice(0,l),T=h.slice(l),D=b.concat(v).concat(T);return hn(u,D)},Bf=function(u,l,v){return Mf(u,l,[v])},Ul=function(u,l,v){var h=u.cells;h[l]=v},hn=function(u,l){return Hr(u.element,l,u.section,u.isNew)},nc=function(u,l){var v=u.cells,h=Wt(v,l);return Hr(u.element,h,u.section,u.isNew)},es=function(u,l){return u.cells[l]},zu=function(u,l){return es(u,l).element},ac=function(u){return u.cells.length},ti=function(u){var l=vo(u,function(v){return v.section==="colgroup"});return{rows:l.fail,cols:l.pass}},Ei=function(u,l,v){var h=Wt(u.cells,v);return Hr(l(u.element),h,u.section,!0)},si="data-snooker-locked-cols",jl=function(u){return Aa(u,si).bind(function(l){return X.from(l.match(/\d+/g))}).map(function(l){return Ne(l,ce)})},su=function(u){var l=oe(ti(u).rows,function(h,b){return ur(b.cells,function(T,D){T.isLocked&&(h[D]=!0)}),h},{}),v=dr(l,function(h,b){return parseInt(b,10)});return Nt(v)},zr=function(u,l){return u+","+l},Nf=function(u,l,v){return X.from(u.access[zr(l,v)])},ih=function(u,l,v){var h=Ln(u,function(b){return v(l,b.element)});return h.length>0?X.some(h[0]):X.none()},Ln=function(u,l){var v=et(u.all,function(h){return h.cells});return dn(v,l)},eo=function(u){var l={},v=0;return ur(u.cells,function(h){var b=h.colspan;On(b,function(T){var D=v+T;l[D]=Ea(h.element,b,D)}),v+=b}),l},yp=function(u){var l={},v=[],h=Xt(u).map(function(ar){return ar.element}).bind(zo),b=h.bind(jl).getOr({}),T=0,D=0,L=0,Q=vo(u,function(ar){return ar.section==="colgroup"}),fe=Q.pass,Ae=Q.fail;ur(Ae,function(ar){var cr=[];ur(ar.cells,function(Wr){for(var ha=0;l[zr(L,ha)]!==void 0;)ha++;for(var Xr=Ce(b,ha.toString()),_n=xa(Wr.element,Wr.rowspan,Wr.colspan,L,ha,Xr),oa=0;oa<Wr.colspan;oa++)for(var Qn=0;Qn<Wr.rowspan;Qn++){var _i=L+Qn,eu=ha+oa,fs=zr(_i,eu);l[fs]=_n,D=Math.max(D,eu+1)}cr.push(_n)}),T++,v.push(qa(ar.element,cr,ar.section)),L++});var yt=Pr(fe).map(function(ar){var cr=eo(ar),Wr=Bo(ar.element,Tr(cr));return{colgroups:[Wr],columns:cr}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Vt=yt.columns,Rt=yt.colgroups,ht=br(T,D);return{grid:ht,access:l,all:v,columns:Vt,colgroups:Rt}},qc=function(u){var l=Kg(u);return yp(l)},_o=function(u){return et(u.all,function(l){return l.cells})},bp=function(u){return Tr(u.columns)},_s=function(u){return ii(u.columns).length>0},lv=function(u,l){return X.from(u.columns[l])},Vn={fromTable:qc,generate:yp,getAt:Nf,findItem:ih,filterItems:Ln,justCells:_o,justColumns:bp,hasColumns:_s,getColumnAt:lv},Lu=function(u,l){var v=l.column,h=l.column+l.colspan-1,b=l.row,T=l.row+l.rowspan-1;return v<=u.finishCol&&h>=u.startCol&&b<=u.finishRow&&T>=u.startRow},P1=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},F1=function(u,l){for(var v=!0,h=Ye(P1,l),b=l.startRow;b<=l.finishRow;b++)for(var T=l.startCol;T<=l.finishCol;T++)v=v&&Vn.getAt(u,b,T).exists(h);return v?X.some(l):X.none()},Ao=function(u,l){return Zt(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},_p=function(u,l,v){var h=Vn.findItem(u,l,Wn),b=Vn.findItem(u,v,Wn);return h.bind(function(T){return b.map(function(D){return Ao(T,D)})})},z=function(u,l,v){return _p(u,l,v).bind(function(h){return F1(u,h)})},H=function(u,l,v,h){return Vn.findItem(u,l,Wn).bind(function(b){var T=v>0?b.row+b.rowspan-1:b.row,D=h>0?b.column+b.colspan-1:b.column,L=Vn.getAt(u,T+v,D+h);return L.map(function(Q){return Q.element})})},K=function(u,l,v){return _p(u,l,v).map(function(h){var b=Vn.filterItems(u,Ye(Lu,h));return Wt(b,function(T){return T.element})})},ve=function(u,l){var v=function(h,b){return oo(b,h)};return Vn.findItem(u,l,v).map(function(h){return h.element})},We=function(u,l,v){return zo(u).bind(function(h){var b=sa(h);return H(b,u,l,v)})},_t=function(u,l,v){var h=sa(u);return K(h,l,v)},Vr=function(u,l,v,h,b){var T=sa(u),D=Wn(u,v)?X.some(l):ve(T,l),L=Wn(u,b)?X.some(h):ve(T,h);return D.bind(function(Q){return L.bind(function(fe){return K(T,Q,fe)})})},zn=function(u,l,v){var h=sa(u);return z(h,l,v)},sa=Vn.fromTable,Un=function(u,l){var v=yo(u);v.each(function(h){h.dom.insertBefore(l.dom,u.dom)})},io=function(u,l){var v=x(u);v.fold(function(){var h=yo(u);h.each(function(b){jo(b,l)})},function(h){Un(h,l)})},cu=function(u,l){var v=W(u);v.fold(function(){jo(u,l)},function(h){u.dom.insertBefore(l.dom,h.dom)})},jo=function(u,l){u.dom.appendChild(l.dom)},hx=function(u,l,v){A(u,v).fold(function(){jo(u,l)},function(h){Un(h,l)})},qw=function(u,l){Un(u,l),jo(l,u)},Gw=function(u,l){ur(l,function(v){Un(u,v)})},gx=function(u,l){ur(l,function(v,h){var b=h===0?u:l[h-1];io(b,v)})},bl=function(u,l){ur(l,function(v){jo(u,v)})},uh=function(u){u.dom.textContent="",ur(_(u),function(l){ws(l)})},ws=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},wp=function(u){var l=_(u);l.length>0&&Gw(u,l),ws(u)},I1=function(u,l){var v=function(T){if(!u(T))throw new Error("Can only get "+l+" value of a "+l+" node");return h(T).getOr("")},h=function(T){return u(T)?X.from(T.dom.nodeValue):X.none()},b=function(T,D){if(!u(T))throw new Error("Can only set raw "+l+" value of a "+l+" node");T.dom.nodeValue=D};return{get:v,getOption:h,set:b}},sh=I1(Ci,"text"),Xg=function(u){return sh.get(u)},Kw=function(u){return sh.getOption(u)},yx=function(u,l){return sh.set(u,l)},_l=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function ch(){var u=function(fe){return Ht.fromDom(fe.dom.cloneNode(!1))},l=function(fe){return mt(fe).dom},v=function(fe){return va(fe)?qn(fe)==="body"?!0:pn(_l,qn(fe)):!1},h=function(fe){return va(fe)?pn(["br","img","hr","input"],qn(fe)):!1},b=function(fe){return va(fe)&&rc(fe,"contenteditable")==="false"},T=function(fe,Ae){return fe.dom.compareDocumentPosition(Ae.dom)},D=function(fe,Ae){var yt=Iu(fe);ui(Ae,yt)},L=function(fe){var Ae=qn(fe);return pn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ae)},Q=function(fe){return va(fe)?Aa(fe,"lang"):X.none()};return{up:J({selector:Wc,closest:Ho,predicate:No,all:ys}),down:J({selector:Fs,predicate:za}),styles:J({get:hl,getRaw:Qu,set:Xo,remove:uu}),attrs:J({get:rc,set:Si,remove:fo,copyTo:D}),insert:J({before:Un,after:io,afterAll:gx,append:jo,appendAll:bl,prepend:cu,wrap:qw}),remove:J({unwrap:wp,remove:ws}),create:J({nu:Ht.fromTag,clone:u,text:Ht.fromText}),query:J({comparePosition:T,prevSibling:P,nextSibling:x}),property:J({children:_,name:qn,parent:yo,document:l,isText:Ci,isComment:kc,isElement:va,isSpecial:L,getLanguage:Q,getText:Xg,setText:yx,isBoundary:v,isEmptyTag:h,isNonEditable:b}),eq:Wn,is:Xu}}var bx=function(u,l,v,h){var b=v[0],T=v.slice(1);return h(u,l,b,T)},L1=function(u,l,v){return v.length>0?bx(u,l,v,_x):X.none()},_x=function(u,l,v,h){var b=l(u,v);return fa(h,function(T,D){var L=l(u,D);return wx(u,T,L)},b)},wx=function(u,l,v){return l.bind(function(h){return v.filter(Ye(u.eq,h))})},kp=function(u,l){return Ye(u.eq,l)},lh=function(u,l,v,h){h===void 0&&(h=Ge);var b=[l].concat(u.up().all(l)),T=[v].concat(u.up().all(v)),D=function(Ae){var yt=Ze(Ae,h);return yt.fold(function(){return Ae},function(Vt){return Ae.slice(0,Vt+1)})},L=D(b),Q=D(T),fe=$t(L,function(Ae){return O(Q,kp(u,Ae))});return{firstpath:L,secondpath:Q,shared:fe}},Xw=L1,Yw=lh,Hs=ch(),Kr=function(u,l){return Xw(Hs,function(v,h){return u(h)},l)},Pf=function(u,l,v){return Yw(Hs,u,l,v)},fh=function(u){return Wc(u,"table")},gd=function(u,l,v){var h=function(b){return function(T){return v!==void 0&&v(T)||Wn(T,b)}};return Wn(u,l)?X.some({boxes:X.some([u]),start:u,finish:l}):fh(u).bind(function(b){return fh(l).bind(function(T){if(Wn(b,T))return X.some({boxes:_t(b,u,l),start:u,finish:l});if(oo(b,T)){var D=xi(l,"td,th",h(b)),L=D.length>0?D[D.length-1]:l;return X.some({boxes:Vr(b,u,b,l,T),start:u,finish:L})}else if(oo(T,b)){var D=xi(u,"td,th",h(T)),Q=D.length>0?D[D.length-1]:u;return X.some({boxes:Vr(T,u,b,l,T),start:u,finish:Q})}else return Pf(u,l).shared.bind(function(fe){return Ho(fe,"table",v).bind(function(Ae){var yt=xi(l,"td,th",h(Ae)),Vt=yt.length>0?yt[yt.length-1]:l,Rt=xi(u,"td,th",h(Ae)),ht=Rt.length>0?Rt[Rt.length-1]:u;return X.some({boxes:Vr(Ae,u,b,l,T),start:ht,finish:Vt})})})})})},Cp=function(u,l){var v=Fs(u,l);return v.length>0?X.some(v):X.none()},$1=function(u,l){return $t(u,function(v){return cn(v,l)})},Gc=function(u,l,v){return Is(u,l).bind(function(h){return Is(u,v).bind(function(b){return Kr(fh,[h,b]).map(function(T){return{first:h,last:b,table:T}})})})},fv=function(u,l){return Wc(u,"table").bind(function(v){return Is(v,l).bind(function(h){return gd(h,u).bind(function(b){return b.boxes.map(function(T){return{boxes:T,start:b.start,finish:b.finish}})})})})},xp=function(u,l,v,h,b){return $1(u,b).bind(function(T){return We(T,l,v).bind(function(D){return fv(D,h)})})},ri=function(u,l){return Cp(u,l)},Yi=function(u,l,v){return Gc(u,l,v).bind(function(h){var b=function(Q){return Wn(u,Q)},T="thead,tfoot,tbody,table",D=Wc(h.first,T,b),L=Wc(h.last,T,b);return D.bind(function(Q){return L.bind(function(fe){return Wn(Q,fe)?zn(h.table,h.first,h.last):X.none()})})})},dh=function(u){if(!Be(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],v={};return ur(u,function(h,b){var T=ii(h);if(T.length!==1)throw new Error("one and only one name per case");var D=T[0],L=h[D];if(v[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(L))throw new Error("case arguments must be an array");l.push(D),v[D]=function(){for(var Q=[],fe=0;fe<arguments.length;fe++)Q[fe]=arguments[fe];var Ae=Q.length;if(Ae!==L.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+L.length+" ("+L+"), got "+Ae);var yt=function(Vt){var Rt=ii(Vt);if(l.length!==Rt.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Rt.join(","));var ht=qe(l,function(ar){return pn(Rt,ar)});if(!ht)throw new Error("Not all branches were specified when using match. Specified: "+Rt.join(", ")+`
Required: `+l.join(", "));return Vt[D].apply(null,Q)};return{fold:function(){for(var Vt=[],Rt=0;Rt<arguments.length;Rt++)Vt[Rt]=arguments[Rt];if(Vt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Vt.length);var ht=Vt[b];return ht.apply(null,Q)},match:yt,log:function(Vt){console.log(Vt,{constructors:l,constructor:D,params:Q})}}}}),v},Wl={generate:dh},vh=Wl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Yg=function(u,l,v,h){return u.fold(l,v,h)},Zg=vh.none,kx=vh.multiple,Sp=vh.single,Au=function(u,l,v){var h=function(){return ri(u(),v).fold(function(){return l().fold(Zg,Sp)},function(b){return kx(b)})};return{get:h}},Zw=tinymce.util.Tools.resolve("tinymce.PluginManager"),Po=function(u,l){return Ht.fromDom(u.dom.cloneNode(l))},Kc=function(u){return Po(u,!1)},Ua=function(u){return Po(u,!0)},yd=function(u,l){var v=Ht.fromTag(l),h=Iu(u);return ui(v,h),v},Tc=function(u,l){var v=yd(u,l),h=_(Ua(u));return bl(v,h),v},Cx=function(u,l){var v=yd(u,l);Un(u,v);var h=_(u);return bl(v,h),ws(u),v},zi=function(u,l){var v=function(L,Q){if(!hr(Q)&&!Q.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+Q);var fe=L.dom;xc(fe)&&(fe.style[u]=Q+"px")},h=function(L){var Q=l(L);if(Q<=0||Q===null){var fe=hl(L,u);return parseFloat(fe)||0}return Q},b=h,T=function(L,Q){return oe(Q,function(fe,Ae){var yt=hl(L,Ae),Vt=yt===void 0?0:parseInt(yt,10);return isNaN(Vt)?fe:fe+Vt},0)},D=function(L,Q,fe){var Ae=T(L,fe),yt=Q>Ae?Q-Ae:0;return yt};return{set:v,get:h,getOuter:b,aggregate:T,max:D}},ts=function(){var u=ye().browser;return u.isIE()||u.isEdge()},Jw=function(u,l){return ua(u).getOr(l)},zt=function(u,l,v){return Jw(hl(u,l),v)},ks=function(u){return hl(u,"box-sizing")},Ff=function(u,l,v,h){var b=zt(u,"padding-"+v,0),T=zt(u,"padding-"+h,0),D=zt(u,"border-"+v+"-width",0),L=zt(u,"border-"+h+"-width",0);return l-b-T-D-L},gn=function(u,l){var v=u.dom,h=v.getBoundingClientRect().height||v.offsetHeight;return l==="border-box"?h:Ff(u,h,"top","bottom")},oc=function(u,l){var v=u.dom,h=v.getBoundingClientRect().width||v.offsetWidth;return l==="border-box"?h:Ff(u,h,"left","right")},xx=function(u){return ts()?gn(u,ks(u)):zt(u,"height",u.dom.offsetHeight)},$u=function(u){return ts()?oc(u,ks(u)):zt(u,"width",u.dom.offsetWidth)},Tp=function(u){return oc(u,"content-box")},ql=zi("width",function(u){return u.dom.offsetWidth}),Xc=function(u){return ql.get(u)},Ou=function(u){return ql.getOuter(u)},Oa=Tp,wl=$u,dv=function(u,l){l===void 0&&(l=ce);var v=u.grid,h=On(v.columns,Fe),b=On(v.rows,Fe);return Wt(h,function(T){var D=function(){return et(b,function(fe){return Vn.getAt(u,fe,T).filter(function(Ae){return Ae.column===T}).toArray()})},L=function(fe){return fe.colspan===1&&l(fe.element)},Q=function(){return Vn.getAt(u,0,T)};return co(D,L,Q)})},co=function(u,l,v){var h=u(),b=$t(h,l),T=b.orThunk(function(){return X.from(h[0]).orThunk(v)});return T.map(function(D){return D.element})},bd=function(u){var l=u.grid,v=On(l.rows,Fe),h=On(l.columns,Fe);return Wt(v,function(b){var T=function(){return et(h,function(Q){return Vn.getAt(u,b,Q).filter(function(fe){return fe.row===b}).fold(J([]),function(fe){return[fe]})})},D=function(Q){return Q.rowspan===1},L=function(){return Vn.getAt(u,b,0)};return co(T,D,L)})},Vs=function(u,l){if(l<0||l>=u.length-1)return X.none();var v=u[l].fold(function(){var b=be(u.slice(0,l));return it(b,function(T,D){return T.map(function(L){return{value:L,delta:D+1}})})},function(b){return X.some({value:b,delta:0})}),h=u[l+1].fold(function(){var b=u.slice(l+1);return it(b,function(T,D){return T.map(function(L){return{value:L,delta:D+1}})})},function(b){return X.some({value:b,delta:1})});return v.bind(function(b){return h.map(function(T){var D=T.delta+b.delta;return Math.abs(T.value-b.value)/D})})},Us=function(u,l){return function(v){return Sx(v)==="rtl"?l:u}},Sx=function(u){return hl(u,"direction")==="rtl"?"rtl":"ltr"},Pe=zi("height",function(u){var l=u.dom;return Cn(u)?l.getBoundingClientRect().height:l.offsetHeight}),rs=function(u){return Pe.get(u)},Cs=function(u){return Pe.getOuter(u)},Ep=xx,ic=function(u,l){var v=function(h,b){return ic(u+h,l+b)};return{left:u,top:l,translate:v}},to=ic,lo=function(u){var l=u.getBoundingClientRect();return to(l.left,l.top)},xs=function(u,l){return u!==void 0?u:l!==void 0?l:0},If=function(u){var l=u.dom.ownerDocument,v=l.body,h=l.defaultView,b=l.documentElement;if(v===u.dom)return to(v.offsetLeft,v.offsetTop);var T=xs(h==null?void 0:h.pageYOffset,b.scrollTop),D=xs(h==null?void 0:h.pageXOffset,b.scrollLeft),L=xs(b.clientTop,v.clientTop),Q=xs(b.clientLeft,v.clientLeft);return H1(u).translate(D-Q,T-L)},H1=function(u){var l=u.dom,v=l.ownerDocument,h=v.body;return h===l?to(h.offsetLeft,h.offsetTop):Cn(u)?lo(l):to(0,0)},Qr=function(u,l){return{row:u,y:l}},Jg=function(u,l){return{col:u,x:l}},uc=function(u){var l=If(u);return l.left+Ou(u)},Qw=function(u){return If(u).left},ph=function(u,l){return Jg(u,Qw(l))},mh=function(u,l){return Jg(u,uc(l))},V1=function(u){return If(u).top},U1=function(u,l){return Qr(u,V1(l))},Gl=function(u,l){return Qr(u,V1(l)+Cs(l))},Lf=function(u,l,v){if(v.length===0)return[];var h=Wt(v.slice(1),function(T,D){return T.map(function(L){return u(D,L)})}),b=v[v.length-1].map(function(T){return l(v.length-1,T)});return h.concat([b])},Tx=function(u){return-u},j1={delta:Fe,positions:function(u){return Lf(U1,Gl,u)},edge:V1},Ex={delta:Fe,edge:Qw,positions:function(u){return Lf(ph,mh,u)}},ek={delta:Tx,edge:uc,positions:function(u){return Lf(mh,ph,u)}},hh=Us(Ex,ek),zp={delta:function(u,l){return hh(l).delta(u,l)},positions:function(u,l){return hh(l).positions(u,l)},edge:function(u){return hh(u).edge(u)}},tk={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kl=function(){var u="[0-9]+",l="[+-]?"+u,v="[eE]"+l,h="\\.",b=function(L){return"(?:"+L+")?"},T=["Infinity",u+h+b(u)+b(v),h+u+b(v),u+b(v)].join("|"),D="[+-]?(?:"+T+")";return new RegExp("^("+D+")(.*)$")}(),Ap=function(u,l){return O(l,function(v){return O(tk[v],function(h){return u===h})})},W1=function(u,l){var v=X.from(Kl.exec(u));return v.bind(function(h){var b=Number(h[1]),T=h[2];return Ap(T,l)?X.some({value:b,unit:T}):X.none()})},rk=/(\d+(\.\d+)?)%/,zx=/(\d+(\.\d+)?)px|em/,Ax=go("col"),gi=function(u,l,v){var h=pl(u).getOrThunk(function(){return Ja(Ps(u))});return l(u)/v(h)*100},Xl=function(u,l){Xo(u,"width",l+"px")},Yc=function(u,l){Xo(u,"width",l+"%")},_d=function(u,l){Xo(u,"height",l+"px")},nk=function(u){return Ep(u)+"px"},Zc=function(u,l,v,h){var b=zo(u).map(function(T){var D=v(T);return Math.floor(l/100*D)}).getOr(l);return h(u,b),b},vv=function(u,l,v,h){var b=parseFloat(u);return Ke(u,"%")&&qn(l)!=="table"?Zc(l,b,v,h):b},q1=function(u){var l=nk(u);return l?vv(l,u,rs,_d):rs(u)},G1=function(u,l,v){var h=v(u),b=Ti(u,l);return h/b},$f=function(u,l){return Qu(u,l).orThunk(function(){return Aa(u,l).map(function(v){return v+"px"})})},Ec=function(u){return $f(u,"width")},lu=function(u){return $f(u,"height")},Qg=function(u){return gi(u,Xc,Oa)},K1=function(u){return Ax(u)?Xc(u):wl(u)},pv=function(u){return G1(u,"rowspan",q1)},Op=function(u){var l=Ec(u);return l.bind(function(v){return W1(v,["fixed","relative","empty"])})},Rp=function(u,l,v){Xo(u,"width",l+v)},Ox=function(u){return Xc(u)+"px"},Dp=function(u){return gi(u,Xc,Oa)+"%"},X1=function(u){return Ec(u).exists(function(l){return rk.test(l)})},Rx=function(u){return Ec(u).exists(function(l){return zx.test(l)})},Wo=function(u){return Ec(u).isNone()},ey=J(rk),wd=go("col"),Y1=function(u){return Ec(u).getOrThunk(function(){return K1(u)+"px"})},Z1=function(u){return lu(u).getOrThunk(function(){return pv(u)+"px"})},zc=function(u){return Wt(Vn.justColumns(u),function(l){return X.from(l.element)})},sc=function(u){var l=ye().browser,v=l.isChrome()||l.isFirefox();return wd(u)?v:!0},mv=function(u,l,v,h,b,T){return u.filter(h).fold(function(){return T(Vs(v,l))},function(D){return b(D)})},kd=function(u,l,v,h){var b=dv(u),T=Vn.hasColumns(u)?zc(u):b,D=[X.some(zp.edge(l))].concat(Wt(zp.positions(b,l),function(Q){return Q.map(function(fe){return fe.x})})),L=ze(cv);return Wt(T,function(Q,fe){return mv(Q,fe,D,L,function(Ae){if(sc(Ae))return v(Ae);var yt=qg(b[fe],Fe);return mv(yt,fe,D,L,function(Vt){return h(X.some(Xc(Vt)))},h)},h)})},ty=function(u){return u.map(function(l){return l+"px"}).getOr("")},gh=function(u,l){return kd(u,l,Y1,ty)},J1=function(u,l,v){return kd(u,l,Qg,function(h){return h.fold(function(){return v.minCellWidth()},function(b){return b/v.pixelWidth()*100})})},hv=function(u,l,v){return kd(u,l,K1,function(h){return h.getOrThunk(v.minCellWidth)})},ry=function(u,l,v,h,b){var T=bd(u),D=[X.some(v.edge(l))].concat(Wt(v.positions(T,l),function(L){return L.map(function(Q){return Q.y})}));return Wt(T,function(L,Q){return mv(L,Q,D,ze(Gg),h,b)})},Dx=function(u,l,v){return ry(u,l,v,pv,function(h){return h.getOrThunk(Uo)})},Q1=function(u,l,v){return ry(u,l,v,Z1,ty)},cc=function(u,l){return function(){return Cn(u)?l(u):parseFloat(Qu(u,"width").getOr("0"))}},js=function(u){var l=cc(u,Xc),v=J(0),h=function(b,T){return hv(b,u,T)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:v,singleColumnWidth:J([0]),minCellWidth:v,setElementWidth:Qe,adjustTableWidth:Qe,isRelative:!0,label:"none"}},Mp=function(u){var l=cc(u,function(Q){return parseFloat(Dp(Q))}),v=cc(u,Xc),h=function(Q){return Q/v()*100},b=function(Q,fe){return[100-Q]},T=function(){return Af()/v()*100},D=function(Q){var fe=l(),Ae=Q/100*fe,yt=fe+Ae;Yc(u,yt)},L=function(Q,fe){return J1(Q,u,fe)};return{width:l,pixelWidth:v,getWidths:L,getCellDelta:h,singleColumnWidth:b,minCellWidth:T,setElementWidth:Yc,adjustTableWidth:D,isRelative:!0,label:"percent"}},Jc=function(u){var l=cc(u,Xc),v=Fe,h=function(D,L){var Q=Math.max(Af(),D+L);return[Q-D]},b=function(D){var L=l()+D;Xl(u,L)},T=function(D,L){return hv(D,u,L)};return{width:l,pixelWidth:l,getWidths:T,getCellDelta:v,singleColumnWidth:h,minCellWidth:Af,setElementWidth:Xl,adjustTableWidth:b,isRelative:!1,label:"pixel"}},Ru=function(u,l){var v=ey().exec(l);return v!==null?Mp(u):Jc(u)},ny=function(u){var l=Ec(u);return l.fold(function(){return js(u)},function(v){return Ru(u,v)})},Hf={getTableSize:ny,pixelSize:Jc,percentageSize:Mp,noneSize:js},ak=function(u,l,v,h,b,T){return{minRow:u,minCol:l,maxRow:v,maxCol:h,allCells:b,selectedCells:T}},fu=function(u,l){var v=u.grid.columns,h=u.grid.rows,b=h,T=v,D=0,L=0,Q=[],fe=[];return Ba(u.access,function(Ae){if(Q.push(Ae),l(Ae)){fe.push(Ae);var yt=Ae.row,Vt=yt+Ae.rowspan-1,Rt=Ae.column,ht=Rt+Ae.colspan-1;yt<b?b=yt:Vt>D&&(D=Vt),Rt<T?T=Rt:ht>L&&(L=ht)}}),ak(b,T,D,L,Q,fe)},e_=function(u,l,v){var h=u[v].element,b=Ht.fromTag("td");jo(b,Ht.fromTag("br"));var T=l?jo:cu;T(h,b)},ay=function(u,l,v,h){for(var b=l.grid.columns,T=l.grid.rows,D=0;D<T;D++)for(var L=!1,Q=0;Q<b;Q++)if(!(D<v.minRow||D>v.maxRow||Q<v.minCol||Q>v.maxCol)){var fe=Vn.getAt(l,D,Q).filter(h).isNone();fe?e_(u,L,D):L=!0}},Sa=function(u,l,v,h){Ba(v.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&ws(D.element)});var b=dn(Of(u,"tr"),function(D){return D.dom.childElementCount===0});ur(b,ws),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&ur(Of(u,"th,td"),function(D){fo(D,"rowspan"),fo(D,"colspan")}),fo(u,si),fo(u,"data-snooker-col-series");var T=Hf.getTableSize(u);T.adjustTableWidth(h)},en=function(u,l,v,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var b=hv(l,u,v),T=oe(b,function(fe,Ae){return fe+Ae},0),D=oe(b.slice(h.minCol,h.maxCol+1),function(fe,Ae){return fe+Ae},0),L=D/T*v.pixelWidth(),Q=L-v.pixelWidth();return v.getCellDelta(Q)},lc=function(u,l){var v=function(Vt){return cn(Vt.element,l)},h=Ua(u),b=Kg(h),T=Hf.getTableSize(u),D=Vn.generate(b),L=fu(D,v),Q="th:not("+l+"),td:not("+l+")",fe=Rf(h,"th,td",function(Vt){return cn(Vt,Q)});ur(fe,ws),ay(b,D,L,v);var Ae=Vn.fromTable(u),yt=en(u,Ae,T,L);return Sa(h,L,D,yt),h},oy=" ",Qc=function(u){return qn(u)==="img"?1:Kw(u).fold(function(){return _(u).length},function(l){return l.length})},ok=function(u){return Kw(u).filter(function(l){return l.trim().length!==0||l.indexOf(oy)>-1}).isSome()},ro=["img","br"],t_=function(u){var l=ok(u);return l||pn(ro,qn(u))},iy=function(u){return ah(u,t_)},uy=function(u){return Bt(u,t_)},Bt=function(u,l){var v=function(h){for(var b=_(h),T=b.length-1;T>=0;T--){var D=b[T];if(l(D))return X.some(D);var L=v(D);if(L.isSome())return L}return X.none()};return v(u)},r_={scope:["row","col"]},n_=function(u){return function(){var l=Ht.fromTag("td",u.dom);return jo(l,Ht.fromTag("br",u.dom)),l}},Cd=function(u){return function(){return Ht.fromTag("col",u.dom)}},yh=function(u){return function(){return Ht.fromTag("colgroup",u.dom)}},gv=function(u){return function(){return Ht.fromTag("tr",u.dom)}},xd=function(u,l,v){var h=Tc(u,l);return Ba(v,function(b,T){b===null?fo(h,T):Si(h,T,b)}),h},yv=function(u){return u},Bp=function(u,l,v){var h=iy(u);return h.map(function(b){var T=v.join(","),D=xi(b,T,function(L){return Wn(L,u)});return fa(D,function(L,Q){var fe=Kc(Q);return fo(fe,"contenteditable"),jo(L,fe),fe},l)}).getOr(l)},ci=function(u,l){Ba(r_,function(v,h){return Aa(u,h).filter(function(b){return pn(v,b)}).each(function(b){return Si(l,h,b)})})},Bn=function(u,l,v){var h=function(D,L){hd(D.element,L),uu(L,"height"),D.colspan!==1&&uu(L,"width")},b=function(D){var L=Ht.fromTag(qn(D.element),l.dom),Q=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),fe=Q.length>0?Bp(D.element,L,Q):L;return jo(fe,Ht.fromTag("br")),h(D,L),ci(D.element,L),u(D.element,L),L},T=function(D){var L=Ht.fromTag(qn(D.element),l.dom);return h(D,L),u(D.element,L),L};return{col:T,colgroup:yh(l),row:gv(l),cell:b,replace:xd,colGap:Cd(l),gap:n_(l)}},fc=function(u){return{col:Cd(u),colgroup:yh(u),row:gv(u),cell:n_(u),replace:yv,colGap:Cd(u),gap:n_(u)}},ik=function(u,l){var v=document,h=v.createElement("div");return h.innerHTML=u,_(Ht.fromDom(h))},Ws=function(u){return Wt(u,Ht.fromDom)},a_=function(u){return u.nodeName.toLowerCase()},Yl=function(u){return Ht.fromDom(u.getBody())},Vf=function(u){return u.getBoundingClientRect().width},Uf=function(u){return u.getBoundingClientRect().height},dc=function(u){return function(l){return Wn(l,Yl(u))}},Sd=function(u){return u?u.replace(/px$/,""):""},Li=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},ns=function(u){fo(u,"data-mce-style");var l=function(v){return fo(v,"data-mce-style")};ur(Df(u),l),ur(yl(u),l),ur(bs(u),l)},Zl=function(u,l){var v=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return X.from(v).filter(fr)},Td=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Np=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},bv=function(u){return Ht.fromDom(u.selection.getStart())},Nr=function(u){return Ht.fromDom(u.selection.getEnd())},Zi=function(u){return Yg(u.get(),J([]),Fe,je)},kl=function(u){var l=function(b,T){return Aa(b,T).exists(function(D){return parseInt(D,10)>1})},v=function(b){return l(b,"rowspan")||l(b,"colspan")},h=Zi(u);return h.length>0&&qe(h,v)?X.some(h):X.none()},Jl=function(u,l,v){return Yg(l.get(),X.none,function(h){return h.length<=1?X.none():Yi(u,v.firstSelectedSelector,v.lastSelectedSelector).map(function(b){return{bounds:b,cells:h}})},X.none)},bh="data-mce-selected",uk="td["+bh+"],th["+bh+"]",sy="["+bh+"]",Ed="data-mce-first-selected",zd="td["+Ed+"],th["+Ed+"]",Pp="data-mce-last-selected",_h="td["+Pp+"],th["+Pp+"]",Mx=sy,vc={selected:bh,selectedSelector:uk,firstSelected:Ed,firstSelectedSelector:zd,lastSelected:Pp,lastSelectedSelector:_h},o_=function(u){return{element:u,mergable:X.none(),unmergable:X.none(),selection:[u]}},_v=function(u,l,v){return{element:v,mergable:Jl(l,u,vc),unmergable:kl(u),selection:Zi(u)}},Ad=function(u,l,v){return{element:u,clipboard:l,generators:v}},i_=function(u,l,v,h){return{selection:Zi(u),clipboard:v,generators:h}},Od=function(u){return zo(u).bind(function(l){return ri(l,vc.firstSelectedSelector)}).fold(J(u),function(l){return l[0]})},sk=function(u){return function(l,v){var h=qn(l),b=h==="col"||h==="colgroup"?Od(l):l;return Ho(b,u,v)}},Fo=sk("th,td,caption"),du=sk("th,td"),Du=function(u){return Zi(u)},ck=function(u,l){var v=du(u),h=v.bind(function(b){return zo(b)}).map(function(b){return bs(b)});return Ls(v,h,function(b,T){return dn(T,function(D){return O(Ws(D.dom.cells),function(L){return rc(L,l)==="1"||Wn(L,b)})})}).getOr([])},cy=function(u){return zo(u[0]).map(function(l){var v=lc(l,Mx);return ns(v),[v]})},Bx=function(u,l){return Wt(l,function(v){return u.selection.serializer.serialize(v.dom,{})}).join("")},lk=function(u){return Wt(u,function(l){return l.dom.innerText}).join("")},el=function(u,l,v){u.on("BeforeGetContent",function(h){var b=function(T){h.preventDefault(),cy(T).each(function(D){h.content=h.format==="text"?lk(D):Bx(u,D)})};h.selection===!0&&Yg(l.get(),Qe,b,Qe)}),u.on("BeforeSetContent",function(h){if(h.selection===!0&&h.paste===!0){var b=Du(l);Xt(b).each(function(T){zo(T).each(function(D){var L=dn(ik(h.content),function(Vt){return qn(Vt)!=="meta"}),Q=go("table");if(L.length===1&&Q(L[0])){h.preventDefault();var fe=Ht.fromDom(u.getDoc()),Ae=fc(fe),yt=Ad(T,L[0],Ae);v.pasteCells(D,yt).each(function(){u.focus()})}})})}})},Nx=Wl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Fp=st({},Nx),ly=function(u,l){return u.length===0?Fp.none():u.length===1?Fp.only(0):l===0?Fp.left(0,1):l===u.length-1?Fp.right(l-1,l):l>0&&l<u.length-1?Fp.middle(l-1,l,l+1):Fp.none()},Px=function(u,l,v,h,b){var T=u.slice(0),D=ly(u,l),L=J(Wt(T,J(0))),Q=function(Vt){return h.singleColumnWidth(T[Vt],v)},fe=function(Vt,Rt){return b.calcLeftEdgeDeltas(T,Vt,Rt,v,h.minCellWidth(),h.isRelative)},Ae=function(Vt,Rt,ht){return b.calcMiddleDeltas(T,Vt,Rt,ht,v,h.minCellWidth(),h.isRelative)},yt=function(Vt,Rt){return b.calcRightEdgeDeltas(T,Vt,Rt,v,h.minCellWidth(),h.isRelative)};return D.fold(L,Q,fe,Ae,yt)},fk=function(u,l,v){for(var h=0,b=u;b<l;b++)h+=v[b]!==void 0?v[b]:0;return h},u_=function(u,l){var v=Vn.justCells(u);return Wt(v,function(h){var b=fk(h.column,h.column+h.colspan,l);return{element:h.element,width:b,colspan:h.colspan}})},s_=function(u,l){var v=Vn.justColumns(u);return Wt(v,function(h,b){return{element:h.element,width:l[b],colspan:h.colspan}})},c_=function(u,l){var v=Vn.justCells(u);return Wt(v,function(h){var b=fk(h.row,h.row+h.rowspan,l);return{element:h.element,height:b,rowspan:h.rowspan}})},Fx=function(u,l){return Wt(u.all,function(v,h){return{element:v.element,height:l[h]}})},Rd=function(u){return fa(u,function(l,v){return l+v},0)},Dd=function(u,l){return Vn.hasColumns(u)?s_(u,l):u_(u,l)},Ya=function(u,l,v){var h=Dd(u,l);ur(h,function(b){v.setElementWidth(b.element,b.width)})},fy=function(u,l,v,h,b){var T=Vn.fromTable(u),D=b.getCellDelta(l),L=b.getWidths(T,b),Q=v===T.grid.columns-1,fe=h.clampTableDelta(L,v,D,b.minCellWidth(),Q),Ae=Px(L,v,fe,b,h),yt=Wt(Ae,function(Vt,Rt){return Vt+L[Rt]});Ya(T,yt,b),h.resizeTable(b.adjustTableWidth,fe,Q)},Cl=function(u,l,v,h){var b=Vn.fromTable(u),T=Dx(b,u,h),D=Wt(T,function(Ae,yt){return v===yt?Math.max(l+Ae,Uo()):Ae}),L=c_(b,D),Q=Fx(b,D);ur(Q,function(Ae){_d(Ae.element,Ae.height)}),ur(L,function(Ae){_d(Ae.element,Ae.height)});var fe=Rd(D);_d(u,fe)},dk=function(u,l,v,h,b){var T=Vn.generate(l),D=h.getWidths(T,h),L=h.pixelWidth(),Q=b.calcRedestributedWidths(D,L,v.pixelDelta,h.isRelative),fe=Q.newSizes,Ae=Q.delta;Ya(T,fe,h),h.adjustTableWidth(Ae)},xl=function(u,l,v,h){var b=Vn.generate(l),T=h.getWidths(b,h);Ya(b,T,h)},Ql=function(u){return Wt(u,J(0))},Md=function(u,l,v,h,b){return b(u.slice(0,l)).concat(h).concat(b(u.slice(v)))},dy=function(u){return function(l,v,h,b){if(u(h)){var T=Math.max(b,l[v]-Math.abs(h)),D=Math.abs(T-l[v]);return h>=0?D:-D}else return h}},wh=dy(function(u){return u<0}),vy=dy(ce),py=function(){var u=function(L,Q,fe,Ae,yt){var Vt=wh(L,Q,Ae,yt);return Md(L,Q,fe+1,[Vt,0],Ql)},l=function(L,Q,fe,Ae){var yt=(100+fe)/100,Vt=Math.max(Ae,(L[Q]+fe)/yt);return Wt(L,function(Rt,ht){var ar=ht===Q?Vt:Rt/yt;return ar-Rt})},v=function(L,Q,fe,Ae,yt,Vt){return Vt?l(L,Q,Ae,yt):u(L,Q,fe,Ae,yt)},h=function(L,Q,fe,Ae,yt,Vt,Rt){return v(L,fe,Ae,yt,Vt,Rt)},b=function(L,Q){return L(Q)},T=function(L,Q,fe,Ae,yt,Vt){if(Vt)return l(L,fe,Ae,yt);var Rt=wh(L,fe,Ae,yt);return Ql(L.slice(0,fe)).concat([Rt])},D=function(L,Q,fe,Ae){if(Ae){var yt=Q+fe,Vt=yt/Q,Rt=Wt(L,function(ht){return ht/Vt});return{delta:Vt*100-100,newSizes:Rt}}else return{delta:fe,newSizes:L}};return{resizeTable:b,clampTableDelta:wh,calcLeftEdgeDeltas:v,calcMiddleDeltas:h,calcRightEdgeDeltas:T,calcRedestributedWidths:D}},wv=function(){var u=function(D,L,Q,fe,Ae){var yt=fe>=0?Q:L,Vt=vy(D,yt,fe,Ae);return Md(D,L,Q+1,[Vt,-Vt],Ql)},l=function(D,L,Q,fe,Ae,yt){return u(D,Q,fe,Ae,yt)},v=function(D,L,Q){Q&&D(L)},h=function(D,L,Q,fe,Ae,yt){if(yt)return Ql(D);var Vt=fe/D.length;return Wt(D,J(Vt))},b=function(D,L,Q,fe,Ae){if(Ae){if(Q>=0)return Q;var yt=oe(D,function(Vt,Rt){return Vt+Rt-fe},0);return Math.max(-yt,Q)}else return wh(D,L,Q,fe)},T=function(D,L,Q,fe){return{delta:0,newSizes:D}};return{resizeTable:v,clampTableDelta:b,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:T}},Ix=function(u,l){var v=X.from(u.dom.documentElement).map(Ht.fromDom).getOr(u);return{parent:J(v),view:J(u),origin:J(to(0,0)),isResizable:l}},my=function(u,l,v){var h=function(){return If(l)};return{parent:J(l),view:J(u),origin:h,isResizable:v}},Ip=function(u,l,v){return{parent:J(l),view:J(u),origin:J(to(0,0)),isResizable:v}},kh={only:Ix,detached:my,body:Ip},Ch=Wl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),l_=function(u,l,v){var h=v.substring(0,v.length-u.length),b=parseFloat(h);return h===b.toString()?l(b):Ch.invalid(v)},Ai=function(u){return Ke(u,"%")?l_("%",Ch.percent,u):Ke(u,"px")?l_("px",Ch.pixels,u):Ch.invalid(u)},kv=st(st({},Ch),{from:Ai}),yi=function(u,l){return Wt(u,function(v){var h=kv.from(v);return h.fold(function(){return v},function(b){var T=b/l*100;return T+"%"},function(b){return b+"%"})})},as=function(u,l,v){var h=v/l;return Wt(u,function(b){var T=kv.from(b);return T.fold(function(){return b},function(D){return D*h+"px"},function(D){return D/100*v+"px"})})},Cv=function(u,l){var v=u.fold(function(){return J("")},function(h){var b=h/l;return J(b+"px")},function(){var h=100/l;return J(h+"%")});return On(l,v)},pc=function(u,l,v){return u.fold(function(){return l},function(h){return as(l,v,h)},function(h){return yi(l,v)})},hy=function(u,l,v){var h=kv.from(v),b=qe(u,function(T){return T==="0px"})?Cv(h,u.length):pc(h,u,l);return vk(b)},ef=function(u,l){return u.length===0?l:fa(u,function(v,h){return kv.from(h).fold(J(0),Fe,Fe)+v},0)},Lp=function(u,l){var v=Math.floor(u);return{value:v+l,remainder:u-v}},$p=function(u,l){return kv.from(u).fold(J(u),function(v){return v+l+"px"},function(v){return v+l+"%"})},vk=function(u){if(u.length===0)return u;var l=fa(u,function(h,b){var T=kv.from(b).fold(function(){return{value:b,remainder:0}},function(D){return Lp(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[T.value].concat(h.output),remainder:h.remainder+T.remainder}},{output:[],remainder:0}),v=l.output;return v.slice(0,v.length-1).concat([$p(v[v.length-1],Math.round(l.remainder))])},pk=kv.from,Lx=function(u,l,v){ur(l,function(h){var b=u.slice(h.column,h.colspan+h.column),T=ef(b,Af());Xo(h.element,"width",T+v)})},$x=function(u,l,v){ur(l,function(h,b){var T=ef([u[b]],Af());Xo(h.element,"width",T+v)})},Hx=function(u,l,v,h){ur(v,function(b){var T=u.slice(b.row,b.rowspan+b.row),D=ef(T,Uo());Xo(b.element,"height",D+h)}),ur(l,function(b,T){Xo(b.element,"height",u[T])})},mk=function(u){return pk(u).fold(J("px"),J("px"),J("%"))},gy=function(u,l,v){var h=Vn.fromTable(u),b=h.all,T=Vn.justCells(h),D=Vn.justColumns(h);l.each(function(L){var Q=mk(L),fe=Xc(u),Ae=gh(h,u),yt=hy(Ae,fe,L);Vn.hasColumns(h)?$x(yt,D,Q):Lx(yt,T,Q),Xo(u,"width",L)}),v.each(function(L){var Q=mk(L),fe=rs(u),Ae=Q1(h,u,j1),yt=hy(Ae,fe,L);Hx(yt,b,T,Q),Xo(u,"height",L)})},yy=X1,vu=Rx,by=Wo,f_=function(u){var l=Vn.fromTable(u);return l.grid},Ac=function(u){var l=[],v=function(T){if(T===void 0)throw new Error("Event bind error: undefined handler");l.push(T)},h=function(T){l=dn(l,function(D){return D!==T})},b=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];var L={};ur(u,function(Q,fe){L[Q]=T[fe]}),ur(l,function(Q){Q(L)})};return{bind:v,unbind:h,trigger:b}},wo=function(u){var l=Yu(u,function(h){return{bind:h.bind,unbind:h.unbind}}),v=Yu(u,function(h){return h.trigger});return{registry:l,trigger:v}},mc=function(u,l){var v=null,h=function(){we(v)||(clearTimeout(v),v=null)},b=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];h(),v=setTimeout(function(){v=null,u.apply(null,T)},l)};return{cancel:h,throttle:b}},Bd=function(u){return u.slice(0).sort()},d_=function(u,l){throw new Error("All required keys ("+Bd(u).join(", ")+") were not specified. Specified keys were: "+Bd(l).join(", ")+".")},_y=function(u){throw new Error("Unsupported keys for object: "+Bd(u).join(", "))},hk=function(u,l){if(!Be(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");ur(l,function(v){if(!ee(v))throw new Error("The value "+v+" in the "+u+" fields was not a string.")})},$n=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+Bd(u).join(", ")+") were not.")},Hp=function(u){var l=Bd(u),v=$t(l,function(h,b){return b<l.length-1&&h===l[b+1]});v.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},wy=function(u,l){return v_(u,l,{validate:at,label:"function"})},v_=function(u,l,v){if(l.length===0)throw new Error("You must specify at least one required field.");return hk("required",l),Hp(l),function(h){var b=ii(h),T=qe(l,function(L){return pn(b,L)});T||d_(l,b),u(l,b);var D=dn(l,function(L){return!v.validate(h[L],L)});return D.length>0&&$n(D,v.label),h}},Oi=function(u,l){var v=dn(l,function(h){return!pn(u,h)});v.length>0&&_y(v)},Oc=function(u){return wy(Oi,u)},gk=Oc(["compare","extract","mutate","sink"]),xv=Oc(["element","start","stop","destroy"]),mo=Oc(["forceDrop","drop","move","delayDrop"]),Sv=function(){var u=X.none(),l=function(){u=X.none()},v=function(T,D){var L=u.map(function(Q){return T.compare(Q,D)});return u=X.some(D),L},h=function(T,D){var L=D.extract(T);L.each(function(Q){var fe=v(D,Q);fe.each(function(Ae){b.trigger.move(Ae)})})},b=wo({move:Ac(["info"])});return{onEvent:h,reset:l,events:b.registry}},ky=function(){var u=wo({move:Ac(["info"])});return{onEvent:Qe,reset:Qe,events:u.registry}},Vp=function(){var u=ky(),l=Sv(),v=u,h=function(){v.reset(),v=l},b=function(){v.reset(),v=u},T=function(L,Q){v.onEvent(L,Q)},D=function(){return v===l};return{on:h,off:b,isOn:D,onEvent:T,events:l.events}},p_=function(u,l,v){var h=!1,b=wo({start:Ac([]),stop:Ac([])}),T=Vp(),D=function(){Rt.stop(),T.isOn()&&(T.off(),b.trigger.stop())},L=mc(D,200),Q=function(ar){Rt.start(ar),T.on(),b.trigger.start()},fe=function(ar){L.cancel(),T.onEvent(ar,l)};T.events.move.bind(function(ar){l.mutate(u,ar.info)});var Ae=function(){h=!0},yt=function(){h=!1},Vt=function(ar){return function(){for(var cr=[],Wr=0;Wr<arguments.length;Wr++)cr[Wr]=arguments[Wr];h&&ar.apply(null,cr)}},Rt=l.sink(mo({forceDrop:D,drop:Vt(D),move:Vt(fe),delayDrop:Vt(L.throttle)}),v),ht=function(){Rt.destroy()};return{element:Rt.element,go:Q,on:Ae,off:yt,destroy:ht,events:b.registry}},yk=function(u,l,v,h,b,T,D){return{target:u,x:l,y:v,stop:h,prevent:b,kill:T,raw:D}},xh=function(u){var l=Ht.fromDom(Dr(u).getOr(u.target)),v=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},b=ut(h,v);return yk(l,u.clientX,u.clientY,v,h,b,u)},bk=function(u,l){return function(v){u(v)&&l(xh(v))}},jf=function(u,l,v,h,b){var T=bk(v,h);return u.dom.addEventListener(l,T,b),{unbind:Ye(m_,u,l,T,b)}},os=function(u,l,v,h){return jf(u,l,v,h,!1)},m_=function(u,l,v,h){u.dom.removeEventListener(l,v,h)},Vx=ce,Sl=function(u,l,v){return os(u,l,Vx,v)},Wf=xh,Cy=function(u,l){var v=rc(u,l);return v===void 0||v===""?[]:v.split(" ")},Ux=function(u,l,v){var h=Cy(u,l),b=h.concat([v]);return Si(u,l,b.join(" ")),!0},jx=function(u,l,v){var h=dn(Cy(u,l),function(b){return b!==v});return h.length>0?Si(u,l,h.join(" ")):fo(u,l),!1},Tv=function(u){return u.dom.classList!==void 0},Ev=function(u){return Cy(u,"class")},xy=function(u,l){return Ux(u,"class",l)},Ra=function(u,l){return jx(u,"class",l)},Ri=function(u,l){Tv(u)?u.dom.classList.add(l):xy(u,l)},is=function(u){var l=Tv(u)?u.dom.classList:Ev(u);l.length===0&&fo(u,"class")},Ss=function(u,l){if(Tv(u)){var v=u.dom.classList;v.remove(l)}else Ra(u,l);is(u)},uo=function(u,l){return Tv(u)&&u.dom.classList.contains(l)},Nd=function(u){var l=u.replace(/\./g,"-"),v=function(h){return l+"-"+h};return{resolve:v}},Sy=Nd("ephox-dragster"),$i=Sy.resolve,tf=function(u){var l=st({layerClass:$i("blocker")},u),v=Ht.fromTag("div");Si(v,"role","presentation"),Vl(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ri(v,$i("blocker")),Ri(v,l.layerClass);var h=J(v),b=function(){ws(v)};return{element:h,destroy:b}},Wx=function(u,l){return to(l.left-u.left,l.top-u.top)},qx=function(u){return X.some(to(u.x,u.y))},Ty=function(u,l){u.mutate(l.left,l.top)},Ey=function(u,l){var v=tf(l),h=Sl(v.element(),"mousedown",u.forceDrop),b=Sl(v.element(),"mouseup",u.drop),T=Sl(v.element(),"mousemove",u.move),D=Sl(v.element(),"mouseout",u.delayDrop),L=function(){v.destroy(),b.unbind(),T.unbind(),D.unbind(),h.unbind()},Q=function(Ae){jo(Ae,v.element())},fe=function(){ws(v.element())};return xv({element:v.element,start:Q,stop:fe,destroy:L})},h_=gk({compare:Wx,extract:qx,sink:Ey,mutate:Ty}),g_=function(u,l){l===void 0&&(l={});var v=l.mode!==void 0?l.mode:h_;return p_(u,v,l)},zv=function(u){return Ho(u,"[contenteditable]")},Sh=function(u,l){return l===void 0&&(l=!1),!ye().browser.isIE()&&Cn(u)?u.dom.isContentEditable:zv(u).fold(J(l),function(v){return y_(v)==="true"})},y_=function(u){return u.dom.contentEditable},b_=Nd("ephox-snooker"),Up=b_.resolve,pu=function(){var u=wo({drag:Ac(["xDelta","yDelta"])}),l=function(v,h){u.trigger.drag(v,h)};return{mutate:l,events:u.registry}},qs=function(){var u=wo({drag:Ac(["xDelta","yDelta","target"])}),l=X.none(),v=pu();v.events.drag.bind(function(T){l.each(function(D){u.trigger.drag(T.xDelta,T.yDelta,D)})});var h=function(T){l=X.some(T)},b=function(){return l};return{assign:h,get:b,mutate:v.mutate,events:u.registry}},Th=function(u,l,v,h,b){var T=Ht.fromTag("div");return Vl(T,{position:"absolute",left:l-h/2+"px",top:v+"px",height:b+"px",width:h+"px"}),ui(T,{"data-column":u,role:"presentation"}),T},Di=function(u,l,v,h,b){var T=Ht.fromTag("div");return Vl(T,{position:"absolute",left:l+"px",top:v-b/2+"px",height:b+"px",width:h+"px"}),ui(T,{"data-row":u,role:"presentation"}),T},zy=Up("resizer-bar"),qf=Up("resizer-rows"),__=Up("resizer-cols"),w_=7,_k=function(u,l){return et(u.all,function(v,h){return l(v.element)?[h]:[]})},k_=function(u,l){var v=[];return On(u.grid.columns,function(h){var b=Vn.getColumnAt(u,h).map(function(T){return T.element});b.forall(l)&&v.push(h)}),dn(v,function(h){var b=Vn.filterItems(u,function(T){return T.column===h});return qe(b,function(T){return l(T.element)})})},Eh=function(u){var l=Fs(u.parent(),"."+zy);ur(l,ws)},Ay=function(u,l,v){var h=u.origin();ur(l,function(b){b.each(function(T){var D=v(h,T);Ri(D,zy),jo(u.parent(),D)})})},wk=function(u,l,v,h){Ay(u,l,function(b,T){var D=Th(T.col,T.x-b.left,v.top-b.top,w_,h);return Ri(D,__),D})},Gx=function(u,l,v,h){Ay(u,l,function(b,T){var D=Di(T.row,v.left-b.left,T.y-b.top,h,w_);return Ri(D,qf),D})},Mu=function(u,l,v,h,b){var T=If(v),D=l.isResizable,L=h.length>0?j1.positions(h,v):[],Q=L.length>0?_k(u,D):[],fe=dn(L,function(Rt,ht){return O(Q,function(ar){return ht===ar})});Gx(l,fe,T,Ou(v));var Ae=b.length>0?zp.positions(b,v):[],yt=Ae.length>0?k_(u,D):[],Vt=dn(Ae,function(Rt,ht){return O(yt,function(ar){return ht===ar})});wk(l,Vt,T,Cs(v))},Hi=function(u,l){if(Eh(u),u.isResizable(l)){var v=Vn.fromTable(l),h=bd(v),b=dv(v);Mu(v,u,l,h,b)}},us=function(u,l){var v=Fs(u.parent(),"."+zy);ur(v,l)},ss=function(u){us(u,function(l){Xo(l,"display","none")})},Ts=function(u){us(u,function(l){Xo(l,"display","block")})},bi=function(u){return uo(u,qf)},Oy=function(u){return uo(u,__)},Ry=Up("resizer-bar-dragging"),C_=function(u){var l=qs(),v=g_(l,{}),h=X.none(),b=function(ht,ar){return X.from(rc(ht,ar))};l.events.drag.bind(function(ht){b(ht.target,"data-row").each(function(ar){var cr=zf(ht.target,"top");Xo(ht.target,"top",cr+ht.yDelta+"px")}),b(ht.target,"data-column").each(function(ar){var cr=zf(ht.target,"left");Xo(ht.target,"left",cr+ht.xDelta+"px")})});var T=function(ht,ar){var cr=zf(ht,ar),Wr=Sc(ht,"data-initial-"+ar,0);return cr-Wr};v.events.stop.bind(function(){l.get().each(function(ht){h.each(function(ar){b(ht,"data-row").each(function(cr){var Wr=T(ht,"top");fo(ht,"data-initial-top"),Rt.trigger.adjustHeight(ar,Wr,parseInt(cr,10))}),b(ht,"data-column").each(function(cr){var Wr=T(ht,"left");fo(ht,"data-initial-left"),Rt.trigger.adjustWidth(ar,Wr,parseInt(cr,10))}),Hi(u,ar)})})});var D=function(ht,ar){Rt.trigger.startAdjust(),l.assign(ht),Si(ht,"data-initial-"+ar,zf(ht,ar)),Ri(ht,Ry),Xo(ht,"opacity","0.2"),v.go(u.parent())},L=Sl(u.parent(),"mousedown",function(ht){bi(ht.target)&&D(ht.target,"top"),Oy(ht.target)&&D(ht.target,"left")}),Q=function(ht){return Wn(ht,u.view())},fe=function(ht){return Ho(ht,"table",Q).filter(Sh)},Ae=Sl(u.view(),"mouseover",function(ht){fe(ht.target).fold(function(){Cn(ht.target)&&Eh(u)},function(ar){h=X.some(ar),Hi(u,ar)})}),yt=function(){L.unbind(),Ae.unbind(),v.destroy(),Eh(u)},Vt=function(ht){Hi(u,ht)},Rt=wo({adjustHeight:Ac(["table","delta","row"]),adjustWidth:Ac(["table","delta","column"]),startAdjust:Ac([])});return{destroy:yt,refresh:Vt,on:v.on,off:v.off,hideBars:Ye(ss,u),showBars:Ye(Ts,u),events:Rt.registry}},Av=function(u,l,v){var h=j1,b=zp,T=C_(u),D=wo({beforeResize:Ac(["table","type"]),afterResize:Ac(["table","type"]),startDrag:Ac([])});return T.events.adjustHeight.bind(function(L){var Q=L.table;D.trigger.beforeResize(Q,"row");var fe=h.delta(L.delta,Q);Cl(Q,fe,L.row,h),D.trigger.afterResize(Q,"row")}),T.events.startAdjust.bind(function(L){D.trigger.startDrag()}),T.events.adjustWidth.bind(function(L){var Q=L.table;D.trigger.beforeResize(Q,"col");var fe=b.delta(L.delta,Q),Ae=v(Q);fy(Q,fe,L.column,l,Ae),D.trigger.afterResize(Q,"col")}),{on:T.on,off:T.off,hideBars:T.hideBars,showBars:T.showBars,destroy:T.destroy,events:D.registry}},Pd={create:Av},Dy=function(u,l){return u.fire("newrow",{node:l})},My=function(u,l){return u.fire("newcell",{node:l})},By=function(u,l,v,h,b){u.fire("ObjectResizeStart",{target:l,width:v,height:h,origin:b})},jp=function(u,l,v,h,b){u.fire("ObjectResized",{target:l,width:v,height:h,origin:b})},Wp=function(u,l,v,h,b){u.fire("TableSelectionChange",{cells:l,start:v,finish:h,otherCells:b})},kk=function(u){u.fire("TableSelectionClear")},rf=function(u,l,v){u.fire("TableModified",st(st({},v),{table:l}))},Ov={structure:!1,style:!0},Oo={structure:!0,style:!1},Kx={structure:!0,style:!0},Xx="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Ny={"border-collapse":"collapse",width:"100%"},Yx=On(5,function(u){var l=u+1+"px";return{title:l,value:l}}),Ck=Wt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),sr=function(u){var l;if(Gf(u)){var v=u.dom,h=(l=v.getParent(u.selection.getStart(),v.isBlock))!==null&&l!==void 0?l:u.getBody(),b=Oa(Ht.fromDom(h));return st(st({},Ny),{width:b+"px"})}else return qp(u)?bt(Ny,function(T,D){return D!=="width"}):Ny},Zx={border:"1"},Mi="preservetable",x_=function(u){return u.getParam("table_sizing_mode","auto")},Rv=function(u){return u.getParam("table_responsive_width")},xk=function(u){return u.getParam("table_border_widths",Yx,"array")},Hu=function(u){return u.getParam("table_border_styles",Ck,"array")},zh=function(u){return u.getParam("table_default_attributes",Zx,"object")},Py=function(u){return u.getParam("table_default_styles",sr(u),"object")},Ah=function(u){return u.getParam("table_resize_bars",!0,"boolean")},Tl=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Oh=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Rh=function(u){return u.getParam("table_row_advtab",!0,"boolean")},cs=function(u){return u.getParam("table_advtab",!0,"boolean")},El=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Sk=function(u){return u.getParam("table_grid",!0,"boolean")},Vu=function(u){return u.getParam("table_style_by_css",!1,"boolean")},nf=function(u){return u.getParam("table_cell_class_list",[],"array")},Fd=function(u){return u.getParam("table_row_class_list",[],"array")},Dh=function(u){return u.getParam("table_class_list",[],"array")},vt=function(u){return x_(u)==="relative"||Rv(u)===!0},Gf=function(u){return x_(u)==="fixed"||Rv(u)===!1},qp=function(u){return x_(u)==="responsive"},Jx=function(u){return u.getParam("table_toolbar",Xx)},Fy=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},tl=function(u){var l="section",v=u.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return pn(h,v)?v:l},Iy=function(u){var l=["preservetable","resizetable"],v=u.getParam("table_column_resizing",Mi,"string");return $t(l,function(h){return h===v}).getOr(Mi)},S_=function(u){return Iy(u)==="preservetable"},T_=function(u){return Iy(u)==="resizetable"},Ly=function(u){var l=u.getParam("table_clone_elements");return ee(l)?X.some(l.split(/[ ,]/)):Array.isArray(l)?X.some(l):X.none()},E_=function(u){var l=u.getParam("object_resizing",!0);return ee(l)?l==="table":l},z_=function(u){return u.getParam("table_background_color_map",[],"array")},A_=function(u){return u.getParam("table_border_color_map",[],"array")},O_=function(u,l){return vt(u)?Hf.percentageSize(l):Gf(u)?Hf.pixelSize(l):Hf.getTableSize(l)},Dv=function(u){fo(u,"width")},Tk=function(u){var l=Dp(u);gy(u,X.some(l),X.none()),Dv(u)},Qx=function(u){var l=Ox(u);gy(u,X.some(l),X.none()),Dv(u)},eS=function(u){uu(u,"width");var l=yl(u),v=l.length>0?l:Df(u);ur(v,function(h){uu(h,"width"),Dv(h)}),Dv(u)},Gp=Tk,Kp=Qx,$y=eS,R_=function(u){var l=Vn.fromTable(u);Vn.hasColumns(l)||ur(Df(u),function(v){var h=hl(v,"width");Xo(v,"width",h),fo(v,"width")})},Xp=function(){var u=Ht.fromTag("div");return Vl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),jo(an(),u),u},D_=function(u,l){return u.inline?kh.body(Yl(u),Xp(),l):kh.only(Ht.fromDom(u.getDoc()),l)},Yo=function(u,l){u.inline&&ws(l.parent())},Mh="bar-",ni=function(u){return rc(u,"data-mce-resize")!=="false"},Hy=function(u){var l=X.none(),v=X.none(),h=X.none(),b,T,D=function(ht){return ht.nodeName==="TABLE"},L=function(){return v},Q=function(){return h.getOr(kh.only(Ht.fromDom(u.getBody()),ni))},fe=function(ht){return O_(u,ht)},Ae=function(){return S_(u)?wv():py()},yt=function(ht){return f_(ht).columns},Vt=function(ht,ar,cr){var Wr=Ke(ar,"e");if(T===""&&Gp(ht),cr!==b&&T!==""){Xo(ht,"width",T);var ha=Ae(),Xr=fe(ht),_n=S_(u)||Wr?yt(ht)-1:0;fy(ht,cr-b,_n,ha,Xr)}else if(Td(T)){var oa=parseFloat(T.replace("%","")),Qn=cr*oa/b;Xo(ht,"width",Qn+"%")}Np(T)&&R_(ht)},Rt=function(){v.each(function(ht){ht.destroy()}),h.each(function(ht){Yo(u,ht)})};return u.on("init",function(){var ht=D_(u,ni);if(h=X.some(ht),E_(u)&&Ah(u)){var ar=Ae(),cr=Pd.create(ht,ar,fe);cr.on(),cr.events.startDrag.bind(function(Wr){l=X.some(u.selection.getRng())}),cr.events.beforeResize.bind(function(Wr){var ha=Wr.table.dom;By(u,ha,Vf(ha),Uf(ha),Mh+Wr.type)}),cr.events.afterResize.bind(function(Wr){var ha=Wr.table,Xr=ha.dom;ns(ha),l.each(function(_n){u.selection.setRng(_n),u.focus()}),jp(u,Xr,Vf(Xr),Uf(Xr),Mh+Wr.type),u.undoManager.add()}),v=X.some(cr)}}),u.on("ObjectResizeStart",function(ht){var ar=ht.target;if(D(ar)){var cr=Ht.fromDom(ar);ur(u.dom.select(".mce-clonedresizable"),function(Wr){u.dom.addClass(Wr,"mce-"+Iy(u)+"-columns")}),!vu(cr)&&Gf(u)?Kp(cr):!yy(cr)&&vt(u)&&Gp(cr),by(cr)&&Co(ht.origin,Mh)&&Gp(cr),b=ht.width,T=qp(u)?"":Zl(u,ar).getOr("")}}),u.on("ObjectResized",function(ht){var ar=ht.target;if(D(ar)){var cr=Ht.fromDom(ar),Wr=ht.origin;Co(Wr,"corner-")&&Vt(cr,Wr,ht.width),ns(cr),rf(u,cr.dom,Ov)}}),u.on("SwitchMode",function(){L().each(function(ht){u.mode.isReadOnly()?ht.hideBars():ht.showBars()})}),{lazyResize:L,lazyWire:Q,destroy:Rt}},Mv=function(u,l){return{element:u,offset:l}},M_=function(u,l,v){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?v(l).bind(function(h){return M_(u,h,v).orThunk(function(){return X.some(h)})}):X.none()},Bh=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var v=u.property().children(l);return v.length},B_=function(u,l){var v=M_(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(v))return Mv(v,Bh(u,v));var h=u.property().children(v);return h.length>0?B_(u,h[h.length-1]):Mv(v,Bh(u,v))},Ek=B_,tS=ch(),zk=function(u){return Ek(tS,u)},rS=function(u,l){var v=Ti(u,"colspan");if(v===1){var h=Op(u);h.each(function(b){var T=b.value/2;Rp(u,T,b.unit),Rp(l,T,b.unit)})}},Vy=go("th"),Nh=function(u){return qe(u,function(l){return Vy(l.element)})},nS=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},Ak=function(u){var l=u.section==="thead",v=ml(N_(u.cells),"th");return l||v?{type:"header",subType:nS(l,v)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},N_=function(u){var l=dn(u,function(v){return Vy(v.element)});return l.length===0?X.some("td"):l.length===u.length?X.some("th"):X.none()},aS=function(u){var l=Wt(u,function(T){return Ak(T).type}),v=pn(l,"header"),h=pn(l,"footer");if(!v&&!h)return X.some("body");var b=pn(l,"body");return v&&!b&&!h?X.some("header"):!v&&!b&&h?X.some("footer"):X.none()},oS=function(u){return it(u.all,function(l){var v=Ak(l);return v.type==="header"?X.from(v.subType):X.none()})},Uy=function(u,l,v){return Mo(v(u.element,l),!0,u.isLocked)},P_=function(u,l){return u.section!==l?Hr(u.element,u.cells,l,u.isNew):u},mu=function(){return{transformRow:P_,transformCell:function(u,l,v){var h=v(u.element,l),b=qn(h)!=="td"?Cx(h,"td"):h;return Mo(b,u.isNew,u.isLocked)}}},Yp=function(){return{transformRow:P_,transformCell:Uy}},Zp=function(){return{transformRow:function(u,l){var v=l==="thead"?"tbody":l;return P_(u,v)},transformCell:Uy}},Ok=function(){return{transformRow:Fe,transformCell:Uy}},iS=function(u,l){var v=Vn.fromTable(u),h=oS(v).getOr(l);switch(h){case"section":return mu();case"sectionCells":return Yp();case"cells":return Zp()}},Ph={getTableSectionType:iS,section:mu,sectionCells:Yp,cells:Zp,fallback:Ok},Fh=function(u,l,v,h){v===h?fo(u,l):Si(u,l,v)},Bv=function(u,l,v){Pr(Fn(u,l)).fold(function(){return cu(u,v)},function(h){return io(h,v)})},jy=function(u,l){var v=vn(u,l).getOrThunk(function(){var h=Ht.fromTag(l,Ps(u).dom);return l==="thead"?Bv(u,"caption,colgroup",h):l==="colgroup"?Bv(u,"caption",h):jo(u,h),h});return uh(v),v},Ih=function(u,l){var v=[],h=[],b=function(Rt){return Wt(Rt,function(ht){ht.isNew&&v.push(ht.element);var ar=ht.element;return uh(ar),ur(ht.cells,function(cr){cr.isNew&&h.push(cr.element),Fh(cr.element,"colspan",cr.colspan,1),Fh(cr.element,"rowspan",cr.rowspan,1),jo(ar,cr.element)}),ar})},T=function(Rt){return et(Rt,function(ht){return Wt(ht.cells,function(ar){return Fh(ar.element,"span",ar.colspan,1),ar.element})})},D=function(Rt,ht){var ar=jy(u,ht),cr=ht==="colgroup"?T:b,Wr=cr(Rt);bl(ar,Wr)},L=function(Rt){vn(u,Rt).each(ws)},Q=function(Rt,ht){Rt.length>0?D(Rt,ht):L(ht)},fe=[],Ae=[],yt=[],Vt=[];return ur(l,function(Rt){switch(Rt.section){case"thead":fe.push(Rt);break;case"tbody":Ae.push(Rt);break;case"tfoot":yt.push(Rt);break;case"colgroup":Vt.push(Rt);break}}),Q(Vt,"colgroup"),Q(fe,"thead"),Q(Ae,"tbody"),Q(yt,"tfoot"),{newRows:v,newCells:h}},F_=function(u){return Wt(u,function(l){var v=Kc(l.element);return ur(l.cells,function(h){var b=Ua(h.element);Fh(b,"colspan",h.colspan,1),Fh(b,"rowspan",h.rowspan,1),jo(v,b)}),v})},uS=function(u,l){return Wt(u,function(v){return es(v,l)})},af=function(u,l){return u[l]},Wy=function(u,l){if(u.length===0)return 0;var v=u[0],h=Ze(u,function(b){return!l(v.element,b.element)});return h.getOr(u.length)},sS=function(u,l,v,h){var b=af(u,l),T=b.section==="colgroup",D=Wy(b.cells.slice(v),h),L=T?1:Wy(uS(u.slice(l),v),h);return{colspan:D,rowspan:L}},Id=function(u,l){var v=Wt(u,function(b){return Wt(b.cells,Ge)}),h=function(b,T,D,L){for(var Q=b;Q<b+D;Q++)for(var fe=T;fe<T+L;fe++)v[Q][fe]=!0};return Wt(u,function(b,T){var D=et(b.cells,function(L,Q){if(v[T][Q]===!1){var fe=sS(u,T,Q,l);return h(T,Q,fe.rowspan,fe.colspan),[Tn(L.element,fe.rowspan,fe.colspan,L.isNew)]}else return[]});return xu(b.element,D,b.section,b.isNew)})},Ld=function(u,l,v){var h=[];ur(u.colgroups,function(Ae){for(var yt=[],Vt=0;Vt<u.grid.columns;Vt++){var Rt=Vn.getColumnAt(u,Vt).map(function(ht){return Mo(ht.element,v,!1)}).getOrThunk(function(){return Mo(l.colGap(),!0,!1)});yt.push(Rt)}h.push(Hr(Ae.element,yt,"colgroup",v))});for(var b=0;b<u.grid.rows;b++){for(var T=[],D=0;D<u.grid.columns;D++){var L=Vn.getAt(u,b,D).map(function(Ae){return Mo(Ae.element,v,Ae.isLocked)}).getOrThunk(function(){return Mo(l.gap(),!0,!1)});T.push(L)}var Q=u.all[b],fe=Hr(Q.element,T,Q.section,v);h.push(fe)}return h},cS=function(u,l){return Ld(u,l,!1)},qy=function(u){return Id(u,Wn)},Gy=function(u,l){return it(u.all,function(v){return $t(v.cells,function(h){return Wn(l,h.element)})})},Ky=function(u,l,v){var h=Wt(l.selection,function(T){return gl(T).bind(function(D){return Gy(u,D)}).filter(v)}),b=hi(h);return Qa(b.length>0,b)},Ji=function(u,l,v,h,b){return function(T,D,L,Q,fe){var Ae=Vn.fromTable(D),yt=X.from(fe==null?void 0:fe.section).getOrThunk(Ph.fallback),Vt=l(Ae,L).map(function(Rt){var ht=cS(Ae,Q),ar=u(ht,Rt,Wn,b(Q),yt),cr=su(ar.grid),Wr=qy(ar.grid);return{info:Rt,grid:Wr,cursor:ar.cursor,lockedColumns:cr}});return Vt.bind(function(Rt){var ht=Ih(D,Rt.grid),ar=X.from(fe==null?void 0:fe.sizing).getOrThunk(function(){return Hf.getTableSize(D)}),cr=X.from(fe==null?void 0:fe.resize).getOrThunk(wv);return v(D,Rt.grid,Rt.info,{sizing:ar,resize:cr,section:yt}),h(D),Hi(T,D),fo(D,si),Rt.lockedColumns.length>0&&Si(D,si,Rt.lockedColumns.join(",")),X.some({cursor:Rt.cursor,newRows:ht.newRows,newCells:ht.newCells})})}},Rk=function(u,l){return gl(l.element).bind(function(v){return Gy(u,v).map(function(h){var b=st(st({},h),{generators:l.generators,clipboard:l.clipboard});return b})})},I_=function(u,l){return Ky(u,l,ce).map(function(v){return{cells:v,generators:l.generators,clipboard:l.clipboard}})},Dk=function(u,l){return l.mergable},Mk=function(u,l){return l.unmergable},zl=function(u,l){return Ky(u,l,ce)},Kf=function(u,l){return Ky(u,l,function(v){return!v.isLocked})},Bk=function(u,l){return Gy(u,l).exists(function(v){return!v.isLocked})},Nk=function(u,l){return qe(l,function(v){return Bk(u,v)})},L_=function(u,l){return Dk(u,l).filter(function(v){return Nk(u,v.cells)})},Xy=function(u,l){return Mk(u,l).filter(function(v){return Nk(u,v)})},Pk=function(u,l,v,h){var b=ti(u).rows;if(b.length===0)return u;for(var T=l.startRow;T<=l.finishRow;T++)for(var D=l.startCol;D<=l.finishCol;D++){var L=b[T],Q=es(L,D).isLocked;Ul(L,D,Mo(h(),!1,Q))}return u},Jp=function(u,l,v,h){for(var b=ti(u).rows,T=!0,D=0;D<b.length;D++)for(var L=0;L<ac(b[0]);L++){var Q=b[D],fe=es(Q,L),Ae=fe.element,yt=v(Ae,l);yt===!0&&T===!1?Ul(Q,L,Mo(h(),!0,fe.isLocked)):yt===!0&&(T=!1)}return u},lS=function(u,l){return oe(u,function(v,h){return O(v,function(b){return l(b.element,h.element)})?v:v.concat([h])},[])},Lh=function(u,l,v,h){return l>0&&l<u[0].cells.length&&ur(u,function(b){var T=b.cells[l-1],D=b.cells[l],L=v(D.element,T.element);L&&Ul(b,l,Mo(h(),!0,D.isLocked))}),u},fS=function(u,l,v,h){var b=ti(u).rows;if(l>0&&l<b.length){var T=b[l-1].cells,D=lS(T,v);ur(D,function(L){for(var Q=X.none(),fe=l;fe<b.length;fe++)for(var Ae=function(Vt){var Rt=b[fe],ht=es(Rt,Vt),ar=v(ht.element,L.element);ar&&(Q.isNone()&&(Q=X.some(h())),Q.each(function(cr){Ul(Rt,Vt,Mo(cr,!0,ht.isLocked))}))},yt=0;yt<ac(b[0]);yt++)Ae(yt)})}return u},Qp=function(u){var l=function(yt){return Qp(u)},v=function(yt){return Qp(u)},h=function(yt){return Qp(yt(u))},b=function(yt){return Qp(u)},T=function(yt){yt(u)},D=function(yt){return yt(u)},L=function(yt,Vt){return Vt(u)},Q=function(yt){return yt(u)},fe=function(yt){return yt(u)},Ae=function(){return X.some(u)};return{isValue:ce,isError:Ge,getOr:J(u),getOrThunk:J(u),getOrDie:J(u),or:l,orThunk:v,fold:L,map:h,mapError:b,each:T,bind:D,exists:Q,forall:fe,toOptional:Ae}},Nv=function(u){var l=function(fe){return fe()},v=function(){return $e(String(u))()},h=Fe,b=function(fe){return fe()},T=function(fe){return Nv(u)},D=function(fe){return Nv(fe(u))},L=function(fe){return Nv(u)},Q=function(fe,Ae){return fe(u)};return{isValue:Ge,isError:ce,getOr:Fe,getOrThunk:l,getOrDie:v,or:h,orThunk:b,fold:Q,map:T,mapError:D,each:Qe,bind:L,exists:Ge,forall:ce,toOptional:X.none}},$_=function(u,l){return u.fold(function(){return Nv(l)},Qp)},Fk={value:Qp,error:Nv,fromOption:$_},dS=function(u,l,v){if(u.row>=l.length||u.column>ac(l[0]))return Fk.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=l.slice(u.row),b=h[0].cells.slice(u.column),T=ac(v[0]),D=v.length;return Fk.value({rowDelta:h.length-D,colDelta:b.length-T})},Ik=function(u,l){var v=ac(u[0]),h=ac(l[0]);return{rowDelta:0,colDelta:v-h}},Lk=function(u,l){var v=u.length,h=l.length;return{rowDelta:v-h,colDelta:0}},H_=function(u,l,v,h){var b=l.section==="colgroup"?v.col:v.cell;return On(u,function(T){return Mo(b(),!0,h(T))})},vS=function(u,l,v,h){var b=u[u.length-1];return u.concat(On(l,function(){var T=b.section==="colgroup"?v.colgroup:v.row,D=Ei(b,T,Fe),L=H_(D.cells.length,D,v,function(Q){return G(h,Q.toString())});return hn(D,L)}))},Yy=function(u,l,v,h){return Wt(u,function(b){var T=H_(l,b,v,Ge);return Mf(b,h,T)})},pS=function(u,l,v){return Wt(u,function(h){return oe(v,function(b,T){var D=H_(1,h,l,ce)[0];return Bf(b,T,D)},h)})},$h=function(u,l,v){var h=l.colDelta<0?Yy:Fe,b=l.rowDelta<0?vS:Fe,T=su(u),D=ac(u[0]),L=O(T,function(Ae){return Ae===D-1}),Q=h(u,Math.abs(l.colDelta),v,L?D-1:D),fe=su(Q);return b(Q,Math.abs(l.rowDelta),v,Ne(fe,ce))},mS=function(u,l,v,h){var b=es(u[l],v),T=Ye(h,b.element),D=u[l];return u.length>1&&ac(D)>1&&(v>0&&T(zu(D,v-1))||v<D.cells.length-1&&T(zu(D,v+1))||l>0&&T(zu(u[l-1],v))||l<u.length-1&&T(zu(u[l+1],v)))},hS=function(u,l,v,h,b,T){for(var D=u.row,L=u.column,Q=v.length,fe=ac(v[0]),Ae=D+Q,yt=L+fe+T.length,Vt=Ne(T,ce),Rt=D;Rt<Ae;Rt++)for(var ht=0,ar=L;ar<yt;ar++){if(Vt[ar]){ht++;continue}mS(l,Rt,ar,b)&&Jp(l,zu(l[Rt],ar),b,h.cell);var cr=ar-L-ht,Wr=es(v[Rt-D],cr),ha=Wr.element,Xr=h.replace(ha);Ul(l[Rt],ar,Mo(Xr,!0,Wr.isLocked))}return l},gS=function(u,l,v){var h=ac(l[0]),b=ti(l).cols.length+u.row,T=On(h-u.column,function(L){return L+u.column}),D=$t(T,function(L){return qe(v,function(Q){return Q!==L})}).getOr(h-1);return{row:b,column:D}},Zy=function(u,l,v){return dn(v,function(h){return h>=u.column&&h<=ac(l[0])+u.column})},yS=function(u,l,v,h,b){var T=su(l),D=gS(u,l,T),L=ti(v).rows,Q=Zy(D,L,T),fe=dS(D,l,L);return fe.map(function(Ae){var yt=st(st({},Ae),{colDelta:Ae.colDelta-Q.length}),Vt=$h(l,yt,h),Rt=su(Vt),ht=Zy(D,L,Rt);return hS(D,Vt,L,h,b,ht)})},em=function(u,l,v,h,b){Lh(l,u,b,h.cell);var T=Lk(v,l),D=$h(v,T,h),L=Lk(l,D),Q=$h(l,L,h);return Wt(Q,function(fe,Ae){return Mf(fe,u,D[Ae].cells)})},$k=function(u,l,v,h,b){fS(l,u,b,h.cell);var T=su(l),D=Ik(l,v),L=st(st({},D),{colDelta:D.colDelta-T.length}),Q=$h(l,L,h),fe=ti(Q),Ae=fe.cols,yt=fe.rows,Vt=su(Q),Rt=Ik(v,l),ht=st(st({},Rt),{colDelta:Rt.colDelta+Vt.length}),ar=pS(v,h,Vt),cr=$h(ar,ht,h);return Ae.concat(yt.slice(0,u)).concat(cr).concat(yt.slice(u,yt.length))},bS=function(u,l,v,h){return Ei(u,function(b){return h(b,v)},l)},V_=function(u,l,v,h,b){var T=ti(u),D=T.rows,L=T.cols,Q=D.slice(0,l),fe=D.slice(l),Ae=bS(D[v],function(yt,Vt){var Rt=l>0&&l<D.length&&h(zu(D[l-1],Vt),zu(D[l],Vt)),ht=Rt?es(D[l],Vt):Mo(b(yt.element,h),!0,yt.isLocked);return ht},h,b);return L.concat(Q).concat([Ae]).concat(fe)},Hk=function(u,l,v,h,b,T,D){if(v==="colgroup"||!h){var L=es(u,b);return Mo(D(L.element,T),!0,!1)}else return es(u,l)},U_=function(u,l,v,h,b){return Wt(u,function(T){var D=l>0&&l<ac(T)&&h(zu(T,l-1),zu(T,l)),L=Hk(T,l,T.section,D,v,h,b);return Bf(T,l,L)})},Vk=function(u,l){return et(u,function(v){var h=v.cells,b=fa(l,function(T,D){return D>=0&&D<T.length?T.slice(0,D).concat(T.slice(D+1)):T},h);return b.length>0?[Hr(v.element,b,v.section,v.isNew)]:[]})},Uk=function(u,l,v){var h=ti(u),b=h.rows,T=h.cols;return T.concat(b.slice(0,l)).concat(b.slice(v+1))},tm=function(u,l,v,h){return zu(u[l],v)!==void 0&&l>0&&h(zu(u[l-1],v),zu(u[l],v))},j_=function(u,l,v){return l>0&&v(zu(u,l-1),zu(u,l))},W_=function(u,l,v,h){return tm(u,l,v,h)||j_(u[l],v,h)},_S=function(u,l){var v=qe(l,Fe)&&Nh(u.cells);return v?ce:function(h,b,T){var D=qn(h.element);return!(D==="th"&&l[T])}},wS=function(u,l){var v=qe(l,Fe)&&Nh(u);return v?ce:function(h,b,T){var D=qn(h.element);return!(D==="th"&&l[b])}},q_=function(u,l,v,h){var b=function(L){return L==="row"?Gg(l):cv(l)},T=function(L){return b(L)?L+"group":L};if(u)return Vy(l)?T(v):null;if(h&&Vy(l)){var D=v==="row"?"col":"row";return T(D)}else return null},kS=function(u,l){return function(v,h,b){return X.some(q_(u,v.element,"col",l[b]))}},jk=function(u,l){return function(v,h){return X.some(q_(u,v.element,"row",l[h]))}},$d=function(u,l,v){return Mo(v(u.element,l),!0,u.isLocked)},rm=function(u,l,v,h,b,T,D){var L=function(Q){return O(l,function(fe){return v(Q.element,fe.element)})};return Wt(u,function(Q,fe){return nc(Q,function(Ae,yt){if(L(Ae)){var Vt=D(Ae,fe,yt)?b(Ae,v,h):Ae;return T(Vt,fe,yt).each(function(Rt){Tf(Vt.element,{scope:X.from(Rt)})}),Vt}else return Ae})})},Wk=function(u,l,v){return et(u,function(h,b){return W_(u,b,l,v)?[]:[es(h,l)]})},CS=function(u,l,v){var h=u[l];return et(h.cells,function(b,T){return W_(u,l,T,v)?[]:[b]})},qk=function(u,l,v,h,b){var T=ti(u).rows,D=et(l,function(Ae){return Wk(T,Ae,h)}),L=Wt(u,function(Ae){return Nh(Ae.cells)}),Q=wS(D,L),fe=jk(v,L);return rm(u,D,h,b,$d,fe,Q)},xS=function(u,l,v,h,b,T,D){var L=ti(u),Q=L.cols,fe=L.rows,Ae=fe[l[0]],yt=et(l,function(Wr){return CS(fe,Wr,b)}),Vt=Wt(Ae.cells,function(Wr,ha){return Nh(Wk(fe,ha,b))}),Rt=rr([],fe);ur(l,function(Wr){Rt[Wr]=D.transformRow(fe[Wr],v)});var ht=Q.concat(Rt),ar=_S(Ae,Vt),cr=kS(h,Vt);return rm(ht,yt,b,T,D.transformCell,cr,ar)},G_=function(u,l,v,h){var b=ti(u).rows,T=Wt(l,function(D){return es(b[D.row],D.column)});return rm(u,T,v,h,$d,X.none,ce)},nm=function(u){var l=function(v,h){var b=O(v,function(T){return T.column===h.column});return b?v:v.concat([h])};return oe(u,l,[]).sort(function(v,h){return v.column-h.column})},Uu=go("col"),K_=go("colgroup"),am=function(u){return qn(u)==="tr"||K_(u)},Pv=function(u){var l=Sc(u,"colspan",1),v=Sc(u,"rowspan",1);return{element:u,colspan:l,rowspan:v}},Jy=function(u,l){l===void 0&&(l=Pv);var v=function(L){return Uu(L.element)?u.col(L):u.cell(L)},h=function(L){return K_(L.element)?u.colgroup(L):u.row(L)},b=function(L){if(am(L))return h({element:L});var Q=v(l(L));return T=X.some({item:L,replacement:Q}),Q},T=X.none(),D=function(L,Q){return T.fold(function(){return b(L)},function(fe){return Q(L,fe.item)?fe.replacement:b(L)})};return{getOrInit:D}},SS=function(u){return function(l){var v=[],h=function(D,L){return $t(v,function(Q){return L(Q.item,D)})},b=function(D){var L=u==="td"?{scope:null}:{},Q=l.replace(D,u,L);return v.push({item:D,sub:Q}),Q},T=function(D,L){return am(D)||Uu(D)?D:h(D,L).fold(function(){return b(D)},function(Q){return L(D,Q.item)?Q.sub:b(D)})};return{replaceOrInit:T}}},Gk=function(u){return Aa(u,"scope").map(function(l){return l.substr(0,3)})},X_=function(u){var l=function(h){var b=Gk(h);return b.each(function(T){return Si(h,"scope",T)}),function(){var T=u.cell({element:h,colspan:1,rowspan:1});return uu(T,"width"),uu(h,"width"),b.each(function(D){return Si(T,"scope",D)}),T}},v=function(h){var b=function(){var T=hi(Wt(h,Gk));if(T.length===0)return X.none();var D=T[0],L=["row","col"],Q=O(T,function(fe){return fe!==D&&pn(L,fe)});return Q?X.none():X.from(D)};return uu(h[0],"width"),b().fold(function(){return fo(h[0],"scope")},function(T){return Si(h[0],"scope",T+"group")}),J(h[0])};return{unmerge:l,merge:v}},Es={modification:Jy,transform:SS,merging:X_},Hh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],TS=function(u,l){var v=u.property().name(l);return pn(["ol","ul"],v)},Fv=function(u,l){var v=u.property().name(l);return pn(Hh,v)},Hd=function(u,l){return pn(["br","img","hr","input"],u.property().name(l))},om=ch(),Vd=function(u){return Fv(om,u)},Al=function(u){return TS(om,u)},Ol=function(u){return Hd(om,u)},Qy=function(u){var l=function(Q){return qn(Q)==="br"},v=function(Q){return qe(Q,function(fe){return l(fe)||Ci(fe)&&Xg(fe).trim().length===0})},h=function(Q){return qn(Q)==="li"||No(Q,Al).isSome()},b=function(Q){return x(Q).map(function(fe){return Vd(fe)?!0:Ol(fe)?qn(fe)!=="img":!1}).getOr(!1)},T=function(Q){return uy(Q).bind(function(fe){var Ae=b(fe);return yo(fe).map(function(yt){return Ae===!0||h(yt)||l(fe)||Vd(yt)&&!Wn(Q,yt)?[]:[Ht.fromTag("br")]})}).getOr([])},D=function(){var Q=et(u,function(fe){var Ae=_(fe);return v(Ae)?[]:Ae.concat(T(fe))});return Q.length===0?[Ht.fromTag("br")]:Q},L=D();uh(u[0]),bl(u[0],L)},eb=function(u){return Sh(u,!0)},Y_=function(u){var l=Df(u);l.length===0&&ws(u)},im=function(u,l){return{grid:u,cursor:l}},um=function(u){return it(u,function(l){return it(l.cells,function(v){var h=v.element;return Qa(eb(h),h)})})},sm=function(u,l,v){var h,b,T=ti(u).rows;return X.from((b=(h=T[l])===null||h===void 0?void 0:h.cells[v])===null||b===void 0?void 0:b.element).filter(eb).orThunk(function(){return um(T)})},Bu=function(u,l,v){var h=sm(u,l,v);return im(u,h)},cm=function(u){var l=function(v,h){var b=O(v,function(T){return T.row===h.row});return b?v:v.concat([h])};return oe(u,l,[]).sort(function(v,h){return v.row-h.row})},lm=function(u,l,v,h){var b=l[0].row,T=cm(l),D=fa(T,function(L,Q){var fe=V_(L.grid,b,Q.row+L.delta,v,h.getOrInit);return{grid:fe,delta:L.delta+1}},{grid:u,delta:0}).grid;return Bu(D,b,l[0].column)},tb=function(u,l,v,h){var b=cm(l),T=b[b.length-1],D=T.row+T.rowspan,L=fa(b,function(Q,fe){return V_(Q,D,fe.row,v,h.getOrInit)},u);return Bu(L,D,l[0].column)},ES=function(u,l,v,h){var b=l.details,T=nm(b),D=T[0].column,L=fa(T,function(Q,fe){var Ae=U_(Q.grid,D,fe.column+Q.delta,v,h.getOrInit);return{grid:Ae,delta:Q.delta+1}},{grid:u,delta:0}).grid;return Bu(L,b[0].row,D)},Z_=function(u,l,v,h){var b=l.details,T=b[b.length-1],D=T.column+T.colspan,L=nm(b),Q=fa(L,function(fe,Ae){return U_(fe,D,Ae.column,v,h.getOrInit)},u);return Bu(Q,b[0].row,D)},rb=function(u,l,v,h){var b=nm(l),T=Wt(b,function(L){return L.column}),D=qk(u,T,!0,v,h.replaceOrInit);return Bu(D,l[0].row,l[0].column)},hu=function(u,l,v,h){var b=G_(u,l,v,h.replaceOrInit);return Bu(b,l[0].row,l[0].column)},zS=function(u,l,v,h){var b=nm(l),T=Wt(b,function(L){return L.column}),D=qk(u,T,!1,v,h.replaceOrInit);return Bu(D,l[0].row,l[0].column)},of=function(u,l,v,h){var b=G_(u,l,v,h.replaceOrInit);return Bu(b,l[0].row,l[0].column)},nb=function(u,l){return function(v,h,b,T,D){var L=cm(h),Q=Wt(L,function(Ae){return Ae.row}),fe=xS(v,Q,u,l,b,T.replaceOrInit,D);return Bu(fe,h[0].row,h[0].column)}},J_=nb("thead",!0),fm=nb("tbody",!1),Q_=nb("tfoot",!1),Vh=function(u,l,v,h){var b=nm(l.details),T=Vk(u,Wt(b,function(L){return L.column})),D=T.length>0?T[0].cells.length-1:0;return Bu(T,b[0].row,Math.min(b[0].column,D))},AS=function(u,l,v,h){var b=cm(l),T=Uk(u,b[0].row,b[b.length-1].row),D=T.length>0?T.length-1:0;return Bu(T,Math.min(l[0].row,D),l[0].column)},Kk=function(u,l,v,h){var b=l.cells;Qy(b);var T=Pk(u,l.bounds,v,h.merge(b));return im(T,X.from(b[0]))},Xk=function(u,l,v,h){var b=function(D,L){return Jp(D,L,v,h.unmerge(L))},T=fa(l,b,u);return im(T,X.from(l[0]))},OS=function(u,l,v,h){var b=function(Q,fe){var Ae=Vn.fromTable(Q);return Ld(Ae,fe,!0)},T=b(l.clipboard,l.generators),D=Ir(l.row,l.column),L=yS(D,u,T,l.generators,v);return L.fold(function(){return im(u,X.some(l.element))},function(Q){return Bu(Q,l.row,l.column)})},dm=function(u,l,v){var h=oh(u,v.section),b=Vn.generate(h);return Ld(b,l,!0)},Zo=function(u,l,v,h){var b=ti(u).rows,T=l.cells[0].column,D=b[l.cells[0].row],L=dm(l.clipboard,l.generators,D),Q=em(T,u,L,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},ab=function(u,l,v,h){var b=ti(u).rows,T=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=b[l.cells[0].row],L=dm(l.clipboard,l.generators,D),Q=em(T,u,L,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},ob=function(u,l,v,h){var b=ti(u).rows,T=l.cells[0].row,D=b[T],L=dm(l.clipboard,l.generators,D),Q=$k(T,u,L,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},e0=function(u,l,v,h){var b=ti(u).rows,T=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=b[l.cells[0].row],L=dm(l.clipboard,l.generators,D),Q=$k(T,u,L,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},Yk=function(u,l){var v=Vn.fromTable(u),h=zl(v,l);return h.bind(function(b){var T=b[b.length-1],D=b[0].column,L=T.column+T.colspan,Q=Sr(Wt(v.all,function(fe){return dn(fe.cells,function(Ae){return Ae.column>=D&&Ae.column<L})}));return N_(Q)}).getOr("")},t0=function(u,l){var v=Vn.fromTable(u),h=zl(v,l);return h.bind(N_).getOr("")},Iv=function(u,l){var v=Vn.fromTable(u),h=zl(v,l);return h.bind(function(b){var T=b[b.length-1],D=b[0].row,L=T.row+T.rowspan,Q=v.all.slice(D,L);return aS(Q)}).getOr("")},ib=function(u,l,v,h){return xl(u,l,v,h.sizing)},zs=function(u,l,v,h){return dk(u,l,v,h.sizing,h.resize)},Rl=function(u,l){return O(l,function(v){return v.column===0&&v.isLocked})},ub=function(u,l){return O(l,function(v){return v.column+v.colspan>=u.grid.columns&&v.isLocked})},Xf=function(u,l){var v=dv(u),h=nm(l);return oe(h,function(b,T){var D=v[T.column],L=D.map(Ou).getOr(0);return b+L},0)},rl=function(u){return function(l,v){return zl(l,v).filter(function(h){var b=u?Rl:ub;return!b(l,h)}).map(function(h){return{details:h,pixelDelta:Xf(l,h)}})}},Dl=function(u,l){return Kf(u,l).map(function(v){return{details:v,pixelDelta:-Xf(u,v)}})},ju=function(u){return function(l,v){return I_(l,v).filter(function(h){var b=u?Rl:ub;return!b(l,h.cells)})}},Rc=Es.transform("th"),vm=Es.transform("td"),uf=Ji(lm,zl,Qe,Qe,Es.modification),Lv=Ji(tb,zl,Qe,Qe,Es.modification),Zk=Ji(ES,rl(!0),zs,Qe,Es.modification),Jk=Ji(Z_,rl(!1),zs,Qe,Es.modification),RS=Ji(Vh,Dl,zs,Y_,Es.modification),DS=Ji(AS,zl,Qe,Y_,Es.modification),Qk=Ji(rb,Kf,Qe,Qe,Rc),e2=Ji(zS,Kf,Qe,Qe,vm),t2=Ji(J_,Kf,Qe,Qe,Rc),MS=Ji(fm,Kf,Qe,Qe,vm),r2=Ji(Q_,Kf,Qe,Qe,vm),BS=Ji(hu,Kf,Qe,Qe,Rc),n2=Ji(of,Kf,Qe,Qe,vm),a2=Ji(Kk,L_,ib,Qe,Es.merging),r0=Ji(Xk,Xy,ib,Qe,Es.merging),o2=Ji(OS,Rk,ib,Qe,Es.modification),NS=Ji(Zo,ju(!0),Qe,Qe,Es.modification),pa=Ji(ab,ju(!1),Qe,Qe,Es.modification),$v=Ji(ob,I_,Qe,Qe,Es.modification),pm=Ji(e0,I_,Qe,Qe,Es.modification),n0=Yk,PS=t0,As=Iv,FS=function(u,l,v){var h=function(bu){return qn(Yl(bu))==="table"},b=function(bu){return h(u)===!1||f_(bu).rows>1},T=function(bu){return h(u)===!1||f_(bu).columns>1},D=Ly(u),L=T_(u)?Qe:rS,Q=function(bu){switch(tl(u)){case"section":return Ph.section();case"sectionCells":return Ph.sectionCells();case"cells":return Ph.cells();default:return Ph.getTableSectionType(bu,"section")}},fe=function(bu,pg){return pg.cursor.fold(function(){var ev=Df(bu);return Xt(ev).filter(Cn).map(function(Bl){l.clear(bu);var Fc=u.dom.createRng();return Fc.selectNode(Bl.dom),u.selection.setRng(Fc),Si(Bl,"data-mce-selected","1"),Fc})},function(ev){var Bl=zk(ev),Fc=u.dom.createRng();return Fc.setStart(Bl.element.dom,Bl.offset),Fc.setEnd(Bl.element.dom,Bl.offset),u.selection.setRng(Fc),l.clear(bu),X.some(Fc)})},Ae=function(bu,pg,ev,Bl,Fc){return function(il,mg,rp){rp===void 0&&(rp=!1),ns(il);var hg=Bl(),np=Ht.fromDom(u.getDoc()),Nl=Bn(ev,np,D),Mm={sizing:O_(u,il),resize:T_(u)?py():wv(),section:Q(il)};return pg(il)?bu(hg,il,mg,Nl,Mm).bind(function(qb){ur(qb.newRows,function(gg){Dy(u,gg.dom)}),ur(qb.newCells,function(gg){My(u,gg.dom)});var _3=fe(il,qb);return Cn(il)&&(ns(il),rp||rf(u,il.dom,Fc)),_3.map(function(gg){return{rng:gg,effect:Fc}})}):X.none()}},yt=Ae(DS,b,Qe,v,Oo),Vt=Ae(RS,T,Qe,v,Oo),Rt=Ae(uf,ce,Qe,v,Oo),ht=Ae(Lv,ce,Qe,v,Oo),ar=Ae(Zk,ce,L,v,Oo),cr=Ae(Jk,ce,L,v,Oo),Wr=Ae(a2,ce,Qe,v,Oo),ha=Ae(r0,ce,Qe,v,Oo),Xr=Ae(NS,ce,Qe,v,Oo),_n=Ae(pa,ce,Qe,v,Oo),oa=Ae($v,ce,Qe,v,Oo),Qn=Ae(pm,ce,Qe,v,Oo),_i=Ae(o2,ce,Qe,v,Kx),eu=Ae(BS,ce,Qe,v,Oo),fs=Ae(n2,ce,Qe,v,Oo),_a=Ae(Qk,ce,Qe,v,Oo),An=Ae(e2,ce,Qe,v,Oo),la=Ae(t2,ce,Qe,v,Oo),ja=Ae(MS,ce,Qe,v,Oo),qo=Ae(r2,ce,Qe,v,Oo),hf=PS,Ga=n0,Pc=As;return{deleteRow:yt,deleteColumn:Vt,insertRowsBefore:Rt,insertRowsAfter:ht,insertColumnsBefore:ar,insertColumnsAfter:cr,mergeCells:Wr,unmergeCells:ha,pasteColsBefore:Xr,pasteColsAfter:_n,pasteRowsBefore:oa,pasteRowsAfter:Qn,pasteCells:_i,makeCellsHeader:eu,unmakeCellsHeader:fs,makeColumnsHeader:_a,unmakeColumnsHeader:An,makeRowsHeader:la,makeRowsBody:ja,makeRowsFooter:qo,getTableRowType:Pc,getTableCellType:hf,getTableColType:Ga}},Hv={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ud=function(){return Ht.fromTag("th")},sb=function(){return Ht.fromTag("td")},cb=function(){return Ht.fromTag("col")},IS=function(u,l,v,h){for(var b=Ht.fromTag("tr"),T=0;T<u;T++){var D=h<l||T<v?Ud():sb();T<v&&Si(D,"scope","row"),h<l&&Si(D,"scope","col"),jo(D,Ht.fromTag("br")),jo(b,D)}return b},i2=function(u){var l=Ht.fromTag("colgroup");return On(u,function(){return jo(l,cb())}),l},lb=function(u,l,v,h){return On(u,function(b){return IS(l,v,h,b)})},a0=function(u,l,v,h,b,T){T===void 0&&(T=Hv);var D=Ht.fromTag("table"),L=b!=="cells";Vl(D,T.styles),ui(D,T.attributes),T.colGroups&&jo(D,i2(l));var Q=Math.min(u,v);if(L&&v>0){var fe=Ht.fromTag("thead");jo(D,fe);var Ae=b==="sectionCells"?Q:0,yt=lb(v,l,Ae,h);bl(fe,yt)}var Vt=Ht.fromTag("tbody");jo(D,Vt);var Rt=L?u-Q:u,ht=L?0:v,ar=lb(Rt,l,ht,h);return bl(Vt,ar),D},mm=function(u){return u.dom.innerHTML},fb=function(u){var l=Ht.fromTag("div"),v=Ht.fromDom(u.dom.cloneNode(!0));return jo(l,v),mm(l)},LS=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},sf=function(u,l){Is(l,"td,th").each(Ye(LS,u))},o0=function(u,l){ur(Fs(l,"tr"),function(v){Dy(u,v.dom),ur(Fs(v,"th,td"),function(h){My(u,h.dom)})})},i0=function(u){return ee(u)&&u.indexOf("%")!==-1},hm=function(u,l,v,h,b){var T=Py(u),D={styles:T,attributes:zh(u),colGroups:Fy(u)};return u.undoManager.ignore(function(){var L=a0(v,l,b,h,tl(u),D);Si(L,"data-mce-id","__mce");var Q=fb(L);u.insertContent(Q),u.addVisual()}),Is(Yl(u),'table[data-mce-id="__mce"]').map(function(L){return Gf(u)?Kp(L):qp(u)?$y(L):(vt(u)||i0(T.width))&&Gp(L),ns(L),fo(L,"data-mce-id"),o0(u,L),sf(u,L),L.dom}).getOr(null)},u0=function(u,l,v,h,b){h===void 0&&(h={});var T=function(Q){return hr(Q)&&Q>0};if(T(l)&&T(v)){var D=h.headerRows||0,L=h.headerColumns||0;return hm(u,v,l,L,D)}else return console.error(b),null},Uh=function(u){return function(){return u().fold(function(){return[]},function(l){return Wt(l,function(v){return v.dom})})}},u2=function(u){return function(l){var v=l.length>0?X.some(Ws(l)):X.none();u(v)}},$S=function(u){return function(l,v,h){h===void 0&&(h={});var b=u0(u,v,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),b}},cf=function(u,l,v,h){return{insertTable:$S(u),setClipboardRows:u2(l.setRows),getClipboardRows:Uh(l.getRows),setClipboardCols:u2(l.setColumns),getClipboardCols:Uh(l.getColumns),resizeHandler:v,selectionTargets:h}},Gs=function(u,l,v){var h=Sc(u,l,1);v===1||h<=1?fo(u,l):Si(u,l,Math.min(v,h))},gu=function(u,l,v){if(Vn.hasColumns(u)){var h=dn(Vn.justColumns(u),function(D){return D.column>=l&&D.column<v}),b=Wt(h,function(D){var L=Ua(D.element);return Gs(L,"span",v-l),L}),T=Ht.fromTag("colgroup");return bl(T,b),[T]}else return[]},HS=function(u,l,v){return Wt(u.all,function(h){var b=dn(h.cells,function(L){return L.column>=l&&L.column<v}),T=Wt(b,function(L){var Q=Ua(L.element);return Gs(Q,"colspan",v-l),Q}),D=Ht.fromTag("tr");return bl(D,T),D})},s0=function(u,l){var v=Vn.fromTable(u),h=Kf(v,l);return h.map(function(b){var T=b[b.length-1],D=b[0].column,L=T.column+T.colspan,Q=gu(v,D,L),fe=HS(v,D,L);return rr(rr([],Q,!0),fe)})},gm=function(u,l,v){var h=Vn.fromTable(u),b=zl(h,l);return b.bind(function(T){var D=Ld(h,v,!1),L=ti(D).rows,Q=L.slice(T[0].row,T[T.length-1].row+T[T.length-1].rowspan),fe=et(Q,function(yt){var Vt=dn(yt.cells,function(Rt){return!Rt.isLocked});return Vt.length>0?[st(st({},yt),{cells:Vt})]:[]}),Ae=qy(fe);return Qa(Ae.length>0,Ae)}).map(function(T){return F_(T)})},c0=tinymce.util.Tools.resolve("tinymce.util.Tools"),jh=function(u,l,v){var h=u.select("td,th",l),b,T=function(D,L){for(var Q=0;Q<L.length;Q++){var fe=u.getStyle(L[Q],v);if(typeof D>"u"&&(D=fe),D!==fe)return""}return D};return T(b,h)},l0=function(u,l,v){v&&u.formatter.apply("align"+v,{},l)},VS=function(u,l,v){v&&u.formatter.apply("valign"+v,{},l)},gr=function(u,l){c0.each("left center right".split(" "),function(v){u.formatter.remove("align"+v,{},l)})},Bi=function(u,l){c0.each("top middle bottom".split(" "),function(v){u.formatter.remove("valign"+v,{},l)})},ym=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Qi=function(u){return{value:u}},Dc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,f0=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wh=function(u){return Dc.test(u)||f0.test(u)},db=function(u){return Ca(u,"#").toUpperCase()},vb=function(u){return Wh(u)?X.some({value:db(u)}):X.none()},pb=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},jd=function(u){var l=pb(u.red)+pb(u.green)+pb(u.blue);return Qi(l)},qh=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,d0=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,v0=function(u,l,v,h){return{red:u,green:l,blue:v,alpha:h}},p0=function(u,l,v,h){var b=parseInt(u,10),T=parseInt(l,10),D=parseInt(v,10),L=parseFloat(h);return v0(b,T,D,L)},US=function(u){if(u==="transparent")return X.some(v0(0,0,0,0));var l=qh.exec(u);if(l!==null)return X.some(p0(l[1],l[2],l[3],"1"));var v=d0.exec(u);return v!==null?X.some(p0(v[1],v[2],v[3],v[4])):X.none()},s2=function(u){return vb(u).orThunk(function(){return US(u).map(jd)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var v=l.getContext("2d");v.clearRect(0,0,l.width,l.height),v.fillStyle="#FFFFFF",v.fillStyle=u,v.fillRect(0,0,1,1);var h=v.getImageData(0,0,1,1).data,b=h[0],T=h[1],D=h[2],L=h[3];return jd(v0(b,T,D,L))})},Yf=function(u){var l=u,v=function(){return l},h=function(b){l=b};return{get:v,set:h}},lf=function(u){var l=Yf(X.none()),v=function(){return l.get().each(u)},h=function(){v(),l.set(X.none())},b=function(){return l.get().isSome()},T=function(){return l.get()},D=function(L){v(),l.set(X.some(L))};return{clear:h,isSet:b,get:T,set:D}},Vv=function(){return lf(function(u){return u.unbind()})},bm=function(){var u=lf(Qe),l=function(v){return u.get().each(v)};return st(st({},u),{on:l})},m0=function(u,l,v,h){return function(b){var T=Vv(),D=un(h),L=function(){var Q=Du(l),fe=function(Ae){return u.formatter.match(v,{value:h},Ae.dom,D)};D?(b.setActive(!O(Q,fe)),T.set(u.formatter.formatChanged(v,function(Ae){return b.setActive(!Ae)},!0))):(b.setActive(qe(Q,fe)),T.set(u.formatter.formatChanged(v,b.setActive,!1,{value:h})))};return u.initialized?L():u.on("init",L),T.clear}},mb=function(u){return Ce(u,"menu")},ff=function(u){return Wt(u,function(l){var v=l.text||l.title;return mb(l)?{text:v,items:ff(l.menu)}:{text:v,value:l.value}})},nl=function(u,l,v,h,b){return Wt(v,function(T){var D=T.text||T.title;return mb(T)?{type:"nestedmenuitem",text:D,getSubmenuItems:function(){return nl(u,l,T.menu,h,b)}}:{text:D,type:"togglemenuitem",onAction:function(){return b(T.value)},onSetup:m0(u,l,h,T.value)}})},Wd=function(u,l){return function(v){var h;u.execCommand("mceTableApplyCellStyle",!1,(h={},h[l]=v,h))}},qd=function(u){return et(u,function(l){return mb(l)?[st(st({},l),{menu:qd(l.menu)})]:fr(l.value)?[l]:[]})},Uv=function(u,l,v,h,b){return function(T){return T(nl(u,l,v,h,b))}},_m=function(u,l,v){var h=Wt(l,function(b){return{text:b.title,value:"#"+s2(b.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:h.length>0?h:void 0,allowCustomColors:!1},onAction:function(b){var T,D=b.value==="remove"?"":b.value;u.execCommand("mceTableApplyCellStyle",!1,(T={},T[v]=D,T))}}]},h0=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),v=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:v})}},g0=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),v=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:v})}},y0=function(u){var l=ff(nf(u));return l.length>0?X.some({name:"class",type:"listbox",label:"Class",items:l}):X.none()},hb=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ym}],yu=function(u){return hb.concat(y0(u).toArray())},hc=function(u,l){var v=[{text:"Select...",value:""}],h=[{name:"borderstyle",type:"listbox",label:"Border style",items:v.concat(ff(Hu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],b={name:"borderwidth",type:"input",label:"Border width"},T=l==="cell"?[b].concat(h):h;return{title:"Advanced",name:"advanced",items:T}},Mc=function(u){return function(l,v){var h=l.dom,b=function(L,Q){(!u||Q)&&h.setAttrib(v,L,Q)},T=function(L,Q){(!u||Q)&&h.setStyle(v,L,Q)},D=function(L,Q){(!u||Q)&&(Q===""?l.formatter.remove(L,{value:null},v,!0):l.formatter.apply(L,{value:Q},v))};return{setAttrib:b,setStyle:T,setFormat:D}}},df={normal:Mc(!1),ifTruthy:Mc(!0)},wm=function(u){return function(l){return Co(l,"rgb")?u.toHex(l):l}},gb=function(u,l){var v=Ht.fromDom(l);return{borderwidth:Qu(v,"border-width").getOr(""),borderstyle:Qu(v,"border-style").getOr(""),bordercolor:Qu(v,"border-color").map(wm(u)).getOr(""),backgroundcolor:Qu(v,"background-color").map(wm(u)).getOr("")}},Gd=function(u){var l=u[0],v=u.slice(1);return ur(v,function(h){ur(ii(l),function(b){Ba(h,function(T,D){var L=l[b];L!==""&&b===D&&L!==T&&(l[b]="")})})}),l},jv=function(u,l,v,h){return $t(u,function(b){return!It(v.formatter.matchNode(h,l+b))}).getOr("")},Wv=Ye(jv,["left","center","right"],"align"),jS=Ye(jv,["top","middle","bottom"],"valign"),b0=function(u,l){var v=Py(u),h=zh(u),b=function(Ae){return{borderstyle:Mn(v,"border-style").getOr(""),bordercolor:wm(Ae)(Mn(v,"border-color").getOr("")),backgroundcolor:wm(Ae)(Mn(v,"background-color").getOr(""))}},T={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var Ae=v["border-width"];return Vu(u)&&Ae?{border:Ae}:Mn(h,"border").fold(function(){return{}},function(yt){return{border:yt}})},L=l?b(u.dom):{},Q=function(){var Ae=Mn(v,"border-spacing").or(Mn(h,"cellspacing")).fold(function(){return{}},function(Vt){return{cellspacing:Vt}}),yt=Mn(v,"border-padding").or(Mn(h,"cellpadding")).fold(function(){return{}},function(Vt){return{cellpadding:Vt}});return st(st({},Ae),yt)},fe=st(st(st(st(st(st({},T),v),h),L),D()),Q());return fe},c2=function(u){return zo(Ht.fromDom(u)).map(function(l){var v={selection:Ws(u.cells)};return As(l,v)}).getOr("")},l2=function(u,l,v){var h=function(L,Q){var fe=Qu(Ht.fromDom(Q),"border-width");return Vu(u)&&fe.isSome()?fe.getOr(""):L.getAttrib(Q,"border")||jh(u.dom,Q,"border-width")||jh(u.dom,Q,"border")},b=u.dom,T=Vu(u)?b.getStyle(l,"border-spacing")||b.getAttrib(l,"cellspacing"):b.getAttrib(l,"cellspacing")||b.getStyle(l,"border-spacing"),D=Vu(u)?jh(b,l,"padding")||b.getAttrib(l,"cellpadding"):b.getAttrib(l,"cellpadding")||jh(b,l,"padding");return st({width:b.getStyle(l,"width")||b.getAttrib(l,"width"),height:b.getStyle(l,"height")||b.getAttrib(l,"height"),cellspacing:T,cellpadding:D,border:h(b,l),caption:!!b.select("caption",l)[0],class:b.getAttrib(l,"class",""),align:Wv(u,l)},v?gb(b,l):{})},_0=function(u,l,v){var h=u.dom;return st({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:c2(l),align:Wv(u,l)},v?gb(h,l):{})},w0=function(u,l,v,h){var b=u.dom,T=h.getOr(l),D=function(L,Q){return b.getStyle(L,Q)||b.getAttrib(L,Q)};return st({width:D(T,"width"),height:D(l,"height"),scope:b.getAttrib(l,"scope"),celltype:a_(l),class:b.getAttrib(l,"class",""),halign:Wv(u,l),valign:jS(u,l)},v?gb(b,l):{})},Za=function(u,l){var v=Vn.fromTable(u),h=Vn.justCells(v),b=dn(h,function(T){return O(l,function(D){return Wn(T.element,D)})});return Wt(b,function(T){return{element:T.element.dom,column:Vn.getColumnAt(v,T.column).map(function(D){return D.element.dom})}})},vf=function(u,l,v){u.setAttrib("scope",v.scope),u.setAttrib("class",v.class),u.setStyle("height",Li(v.height)),l.setStyle("width",Li(v.width))},f2=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",Li(l.borderwidth))},d2=function(u,l,v){var h=l.length===1;ur(l,function(b){var T=b.element,D=h?df.normal(u,T):df.ifTruthy(u,T),L=b.column.map(function(Q){return h?df.normal(u,Q):df.ifTruthy(u,Q)}).getOr(D);vf(D,L,v),Oh(u)&&f2(D,v),h&&(gr(u,T),Bi(u,T)),v.halign&&l0(u,T,v.halign),v.valign&&VS(u,T,v.valign)})},v2=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},yb=function(u,l,v,h){var b=bt(h,function(T,D){return v[D]!==T});Br(b)>0&&l.length>=1&&zo(l[0]).each(function(T){var D=Za(T,l),L=Br(bt(b,function(fe,Ae){return Ae!=="scope"&&Ae!=="celltype"}))>0,Q=G(b,"celltype");(L||G(b,"scope"))&&d2(u,D,h),Q&&v2(u,h),rf(u,T.dom,{structure:Q,style:L})})},k0=function(u,l,v,h){var b=h.getData();h.close(),u.undoManager.transact(function(){yb(u,l,v,b),u.focus()})},Gh=function(u,l){var v=zo(l[0]).map(function(h){return Wt(Za(h,l),function(b){return w0(u,b.element,Oh(u),b.column)})});return Gd(v.getOrDie())},on=function(u,l){var v=Du(l);if(v.length!==0){var h=Gh(u,v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:yu(u)},hc(u,"cell")]},T={type:"panel",items:[{type:"grid",columns:2,items:yu(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Oh(u)?b:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Ye(k0,u,v,h)})}},WS=function(u){var l=ff(Fd(u));return l.length>0?X.some({name:"class",type:"listbox",label:"Class",items:l}):X.none()},C0=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],p2=function(u){return C0.concat(WS(u).toArray())},x0=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",Li(l.height))},qS=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},m2=function(u,l,v,h){var b=l.length===1;ur(l,function(T){var D=b?df.normal(u,T):df.ifTruthy(u,T);x0(D,v),Rh(u)&&qS(D,v),v.align!==h.align&&(gr(u,T),l0(u,T,v.align))})},S0=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},T0=function(u,l,v,h){var b=bt(h,function(L,Q){return v[Q]!==L});if(Br(b)>0){var T=G(b,"type"),D=T?Br(b)>1:!0;D&&m2(u,l,h,v),T&&S0(u,h),zo(Ht.fromDom(l[0])).each(function(L){return rf(u,L.dom,{structure:T,style:D})})}},GS=function(u,l,v,h){var b=h.getData();h.close(),u.undoManager.transact(function(){T0(u,l,v,b),u.focus()})},gc=function(u){var l=ck(bv(u),vc.selected);if(l.length!==0){var v=Wt(l,function(D){return _0(u,D.dom,Rh(u))}),h=Gd(v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:p2(u)},hc(u,"row")]},T={type:"panel",items:[{type:"grid",columns:2,items:p2(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Rh(u)?b:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Ye(GS,u,Wt(l,function(D){return D.dom}),h)})}},ls=function(u,l,v){var h=v?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],b=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],T=El(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],L=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(b).concat(T).concat(D).concat(L)},pf=function(u,l,v,h){if(l.tagName==="TD"||l.tagName==="TH")ee(v)?u.setStyle(l,v,h):u.setStyle(l,v);else if(l.children)for(var b=0;b<l.children.length;b++)pf(u,l.children[b],v,h)},KS=function(u,l,v){var h=u.dom,b={},T={};if(b.class=v.class,T.height=Li(v.height),h.getAttrib(l,"width")&&!Vu(u)?b.width=Sd(v.width):T.width=Li(v.width),Vu(u)?(T["border-width"]=Li(v.border),T["border-spacing"]=Li(v.cellspacing)):(b.border=v.border,b.cellpadding=v.cellpadding,b.cellspacing=v.cellspacing),Vu(u)&&l.children)for(var D=0;D<l.children.length;D++)pf(h,l.children[D],{"border-width":Li(v.border),padding:Li(v.cellpadding)}),cs(u)&&pf(h,l.children[D],{"border-color":v.bordercolor});cs(u)&&(T["background-color"]=v.backgroundcolor,T["border-color"]=v.bordercolor,T["border-style"]=v.borderstyle),b.style=h.serializeStyle(st(st({},Py(u)),T)),h.setAttribs(l,st(st({},zh(u)),b))},XS=function(u,l,v,h){var b=u.dom,T=h.getData(),D=bt(T,function(L,Q){return v[Q]!==L});h.close(),T.class===""&&delete T.class,u.undoManager.transact(function(){if(!l){var L=parseInt(T.cols,10)||1,Q=parseInt(T.rows,10)||1;l=hm(u,L,Q,0,0)}if(Br(D)>0){KS(u,l,T);var fe=b.select("caption",l)[0];(fe&&!T.caption||!fe&&T.caption)&&u.execCommand("mceTableToggleCaption"),T.align===""?gr(u,l):l0(u,l,T.align)}if(u.focus(),u.addVisual(),Br(D)>0){var Ae=G(D,"caption"),yt=Ae?Br(D)>1:!0;rf(u,l,{structure:Ae,style:yt})}})},E0=function(u,l){var v=u.dom,h,b=b0(u,cs(u));l===!1?(h=v.getParent(u.selection.getStart(),"table",u.getBody()),h?b=l2(u,h,cs(u)):cs(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor="")):(b.cols="1",b.rows="1",cs(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor=""));var T=ff(Dh(u));T.length>0&&b.class&&(b.class=b.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:ls(u,T,l)},L=function(){return{type:"panel",items:[D]}},Q=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},hc(u,"table")]}},fe=cs(u)?Q():L();u.windowManager.open({title:"Table Properties",size:"normal",body:fe,onSubmit:Ye(XS,u,h,b),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b})},aa=function(u){return Fo(bv(u),dc(u))},YS=function(u){return du(bv(u),dc(u))},bb=function(u,l,v,h,b){var T=dc(u),D=function(){return aa(u).each(function(Xr){zo(Xr,T).filter(ze(T)).each(function(_n){var oa=Ht.fromText("");if(io(_n,oa),ws(_n),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var Qn=u.dom.createRng();Qn.setStart(oa.dom,0),Qn.setEnd(oa.dom,0),u.selection.setRng(Qn),u.nodeChanged()}})})},L=function(Xr){return aa(u).each(function(_n){var oa=qp(u)||Gf(u)||vt(u);oa||zo(_n,T).each(function(Qn){Xr==="relative"&&!yy(Qn)?Gp(Qn):Xr==="fixed"&&!vu(Qn)?Kp(Qn):Xr==="responsive"&&!by(Qn)&&$y(Qn),ns(Qn),rf(u,Qn.dom,Oo)})})},Q=function(Xr){return zo(Xr,T)},fe=function(Xr){return YS(u).bind(function(_n){return Q(_n).map(function(oa){return Xr(oa,_n)})})},Ae=function(Xr,_n){fe(function(oa){u.formatter.toggle("tableclass",{value:_n},oa.dom),rf(u,oa.dom,Ov)})},yt=function(Xr,_n){fe(function(oa){var Qn=Du(h),_i=qe(Qn,function(fs){return u.formatter.match("tablecellclass",{value:_n},fs.dom)}),eu=_i?u.formatter.remove:u.formatter.apply;ur(Qn,function(fs){return eu("tablecellclass",{value:_n},fs.dom)}),rf(u,oa.dom,Ov)})},Vt=function(){aa(u).each(function(Xr){zo(Xr,T).each(function(_n){vn(_n,"caption").fold(function(){var oa=Ht.fromTag("caption");jo(oa,Ht.fromText("Caption")),hx(_n,oa,0),u.selection.setCursorLocation(oa.dom,0)},function(oa){go("caption")(Xr)&&Ii("td",_n).each(function(Qn){return u.selection.setCursorLocation(Qn.dom,0)}),ws(oa)}),rf(u,_n.dom,Oo)})})},Rt=function(Xr){u.focus()},ht=function(Xr,_n){return _n===void 0&&(_n=!1),fe(function(oa,Qn){var _i=_v(h,oa,Qn);Xr(oa,_i,_n).each(Rt)})},ar=function(){return fe(function(Xr,_n){var oa=_v(h,Xr,_n),Qn=Bn(Qe,Ht.fromDom(u.getDoc()),X.none());return gm(Xr,oa,Qn)})},cr=function(){return fe(function(Xr,_n){var oa=_v(h,Xr,_n);return s0(Xr,oa)})},Wr=function(Xr,_n){return _n().each(function(oa){var Qn=Wt(oa,function(_i){return Ua(_i)});fe(function(_i,eu){var fs=fc(Ht.fromDom(u.getDoc())),_a=i_(h,eu,Qn,fs);Xr(_i,_a).each(Rt)})})},ha=function(Xr){return function(_n,oa){return Mn(oa,"type").each(function(Qn){ht(Xr(Qn),oa.no_events)})}};Ba({mceTableSplitCells:function(){return ht(l.unmergeCells)},mceTableMergeCells:function(){return ht(l.mergeCells)},mceTableInsertRowBefore:function(){return ht(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return ht(l.insertRowsAfter)},mceTableInsertColBefore:function(){return ht(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return ht(l.insertColumnsAfter)},mceTableDeleteCol:function(){return ht(l.deleteColumn)},mceTableDeleteRow:function(){return ht(l.deleteRow)},mceTableCutCol:function(){return cr().each(function(Xr){b.setColumns(Xr),ht(l.deleteColumn)})},mceTableCutRow:function(){return ar().each(function(Xr){b.setRows(Xr),ht(l.deleteRow)})},mceTableCopyCol:function(){return cr().each(function(Xr){return b.setColumns(Xr)})},mceTableCopyRow:function(){return ar().each(function(Xr){return b.setRows(Xr)})},mceTablePasteColBefore:function(){return Wr(l.pasteColsBefore,b.getColumns)},mceTablePasteColAfter:function(){return Wr(l.pasteColsAfter,b.getColumns)},mceTablePasteRowBefore:function(){return Wr(l.pasteRowsBefore,b.getRows)},mceTablePasteRowAfter:function(){return Wr(l.pasteRowsAfter,b.getRows)},mceTableDelete:D,mceTableCellToggleClass:yt,mceTableToggleClass:Ae,mceTableToggleCaption:Vt,mceTableSizingMode:function(Xr,_n){return L(_n)},mceTableCellType:ha(function(Xr){return Xr==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:ha(function(Xr){return Xr==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:ha(function(Xr){switch(Xr){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(Xr,_n){return u.addCommand(_n,Xr)}),Ba({mceTableProps:Ye(E0,u,!1),mceTableRowProps:Ye(gc,u),mceTableCellProps:Ye(on,u,h)},function(Xr,_n){return u.addCommand(_n,function(){return Xr()})}),u.addCommand("mceInsertTable",function(Xr,_n){me(_n)&&ii(_n).length>0?u0(u,_n.rows,_n.columns,_n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):E0(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Xr,_n){var oa=function(eu){return"tablecell"+eu.toLowerCase().replace("-","")};if(me(_n)){var Qn=Du(h);if(Qn.length!==0){var _i=bt(_n,function(eu,fs){return u.formatter.has(oa(fs))&&ee(eu)});Ie(_i)||(Ba(_i,function(eu,fs){ur(Qn,function(_a){df.normal(u,_a.dom).setFormat(oa(fs),eu)})}),Q(Qn[0]).each(function(eu){return rf(u,eu.dom,Ov)}))}}})},_b=function(u,l,v){var h=dc(u),b=function(T){return du(bv(u)).bind(function(D){return zo(D,h).map(function(L){var Q=_v(v,L,D);return T(L,Q)})}).getOr("")};Ba({mceTableRowType:function(){return b(l.getTableRowType)},mceTableCellType:function(){return b(l.getTableCellType)},mceTableColType:function(){return b(l.getTableColType)}},function(T,D){return u.addQueryValueHandler(D,T)})},wb=function(){var u=bm(),l=bm();return{getRows:u.get,setRows:function(v){v.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(v){v.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},Kh={remove_similar:!0,inherit:!1},Zf=st({selector:"td,th"},Kh),Xh={tablecellbackgroundcolor:st({styles:{backgroundColor:"%value"}},Zf),tablecellverticalalign:st({styles:{"vertical-align":"%value"}},Zf),tablecellbordercolor:st({styles:{borderColor:"%value"}},Zf),tablecellclass:st({classes:["%value"]},Zf),tableclass:st({selector:"table",classes:["%value"]},Kh),tablecellborderstyle:st({styles:{borderStyle:"%value"}},Zf),tablecellborderwidth:st({styles:{borderWidth:"%value"}},Zf)},ZS=function(u){u.formatter.register(Xh)},h2=Wl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),z0=function(u){return u===void 0&&(u=void 0),h2.none(u)},Kd=st(st({},h2),{none:z0}),kb=function(u,l,v,h,b){b===void 0&&(b=ce);var T=h===1;if(!T&&v<=0)return Kd.first(u[0]);if(T&&v>=u.length-1)return Kd.last(u[u.length-1]);var D=v+h,L=u[D];return b(L)?Kd.middle(l,L):kb(u,l,D,h,b)},g2=function(u,l){return zo(u,l).bind(function(v){var h=Df(v),b=Ze(h,function(T){return Wn(u,T)});return b.map(function(T){return{index:T,all:h}})})},JS=function(u,l,v){var h=g2(u,v);return h.fold(function(){return Kd.none(u)},function(b){return kb(b.all,u,b.index,1,l)})},QS=function(u,l,v){var h=g2(u,v);return h.fold(function(){return Kd.none()},function(b){return kb(b.all,u,b.index,-1,l)})},e8=function(u,l,v,h){return{start:u,soffset:l,finish:v,foffset:h}},qv={create:e8},A0=Wl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jr=function(u,l,v,h){return u.fold(l,v,h)},y2=function(u){return u.fold(Fe,Fe,Fe)},b2=A0.before,t8=A0.on,Yh=A0.after,Wu={before:b2,on:t8,after:Yh,cata:Jr,getStart:y2},Zh=Wl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),r8=function(u){return Zh.exact(u.start,u.soffset,u.finish,u.foffset)},_2=function(u){return u.match({domRange:function(l){return Ht.fromDom(l.startContainer)},relative:function(l,v){return Wu.getStart(l)},exact:function(l,v,h,b){return l}})},O0=Zh.domRange,R0=Zh.relative,w2=Zh.exact,D0=function(u){var l=_2(u);return tc(l)},M0=qv.create,Jf={domRange:O0,relative:R0,exact:w2,exactFromRange:r8,getWin:D0,range:M0},n8=function(u,l){var v=u.document.createRange();return v.selectNode(l.dom),v},a8=function(u,l){var v=u.document.createRange();return k2(v,l),v},k2=function(u,l){return u.selectNodeContents(l.dom)},o8=function(u,l){l.fold(function(v){u.setStartBefore(v.dom)},function(v,h){u.setStart(v.dom,h)},function(v){u.setStartAfter(v.dom)})},Jh=function(u,l){l.fold(function(v){u.setEndBefore(v.dom)},function(v,h){u.setEnd(v.dom,h)},function(v){u.setEndAfter(v.dom)})},Na=function(u,l,v){var h=u.document.createRange();return o8(h,l),Jh(h,v),h},Cb=function(u,l,v,h,b){var T=u.document.createRange();return T.setStart(l.dom,v),T.setEnd(h.dom,b),T},Qf=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},al=function(u){var l=u.getClientRects(),v=l.length>0?l[0]:u.getBoundingClientRect();return v.width>0||v.height>0?X.some(v).map(Qf):X.none()},Xd=Wl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Os=function(u,l,v){return l(Ht.fromDom(v.startContainer),v.startOffset,Ht.fromDom(v.endContainer),v.endOffset)},xb=function(u,l){return l.match({domRange:function(v){return{ltr:J(v),rtl:X.none}},relative:function(v,h){return{ltr:Rr(function(){return Na(u,v,h)}),rtl:Rr(function(){return X.some(Na(u,h,v))})}},exact:function(v,h,b,T){return{ltr:Rr(function(){return Cb(u,v,h,b,T)}),rtl:Rr(function(){return X.some(Cb(u,b,T,v,h))})}}})},Gv=function(u,l){var v=l.ltr();if(v.collapsed){var h=l.rtl().filter(function(b){return b.collapsed===!1});return h.map(function(b){return Xd.rtl(Ht.fromDom(b.endContainer),b.endOffset,Ht.fromDom(b.startContainer),b.startOffset)}).getOrThunk(function(){return Os(u,Xd.ltr,v)})}else return Os(u,Xd.ltr,v)},km=function(u,l){var v=xb(u,l);return Gv(u,v)},Yd=function(u,l){var v=km(u,l);return v.match({ltr:function(h,b,T,D){var L=u.document.createRange();return L.setStart(h.dom,b),L.setEnd(T.dom,D),L},rtl:function(h,b,T,D){var L=u.document.createRange();return L.setStart(T.dom,D),L.setEnd(h.dom,b),L}})};Xd.ltr,Xd.rtl;var i8=function(u,l,v,h,b){if(b===0)return 0;if(l===h)return b-1;for(var T=h,D=1;D<b;D++){var L=u(D),Q=Math.abs(l-L.left);if(v<=L.bottom){if(v<L.top||Q>T)return D-1;T=Q}}return 0},C2=function(u,l,v){return l>=u.left&&l<=u.right&&v>=u.top&&v<=u.bottom},u8=function(u,l,v,h,b){var T=function(fe){var Ae=u.dom.createRange();return Ae.setStart(l.dom,fe),Ae.collapse(!0),Ae},D=function(fe){var Ae=T(fe);return Ae.getBoundingClientRect()},L=Xg(l).length,Q=i8(D,v,h,b.right,L);return T(Q)},s8=function(u,l,v,h){var b=u.dom.createRange();b.selectNode(l.dom);var T=b.getClientRects(),D=it(T,function(L){return C2(L,v,h)?X.some(L):X.none()});return D.map(function(L){return u8(u,l,v,h,L)})},Jn=function(u,l,v,h){var b=u.dom.createRange(),T=_(l);return it(T,function(D){return b.selectNode(D.dom),C2(b.getBoundingClientRect(),v,h)?ol(u,D,v,h):X.none()})},ol=function(u,l,v,h){return Ci(l)?s8(u,l,v,h):Jn(u,l,v,h)},Cm=function(u,l,v,h){var b=u.dom.createRange();b.selectNode(l.dom);var T=b.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,v)),L=Math.max(T.top,Math.min(T.bottom,h));return ol(u,l,D,L)},x2=!0,Qh=!1,ma=function(u,l){return l-u.left<u.right-l?x2:Qh},S2=function(u,l,v){var h=u.dom.createRange();return h.selectNode(l.dom),h.collapse(v),h},T2=function(u,l,v){var h=u.dom.createRange();h.selectNode(l.dom);var b=h.getBoundingClientRect(),T=ma(b,v),D=T===x2?iy:uy;return D(l).map(function(L){return S2(u,L,T)})},eg=function(u,l,v){var h=l.dom.getBoundingClientRect(),b=ma(h,v);return X.some(S2(u,l,b))},E2=function(u,l,v){var h=_(l).length===0?eg:T2;return h(u,l,v)},tg=function(u,l,v){var h,b;return X.from((b=(h=u.dom).caretPositionFromPoint)===null||b===void 0?void 0:b.call(h,l,v)).bind(function(T){if(T.offsetNode===null)return X.none();var D=u.dom.createRange();return D.setStart(T.offsetNode,T.offset),D.collapse(),X.some(D)})},Kv=function(u,l,v){var h,b;return X.from((b=(h=u.dom).caretRangeFromPoint)===null||b===void 0?void 0:b.call(h,l,v))},B0=function(u,l,v,h){var b=u.dom.createRange();b.selectNode(l.dom);var T=b.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,v)),L=Math.max(T.top,Math.min(T.bottom,h));return Cm(u,l,D,L)},N0=function(u,l,v){return Ht.fromPoint(u,l,v).bind(function(h){var b=function(){return E2(u,h,l)};return _(h).length===0?b():B0(u,h,l,v).orThunk(b)})},z2=function(){return document.caretPositionFromPoint?tg:document.caretRangeFromPoint?Kv:N0}(),A2=function(u,l,v){var h=Ht.fromDom(u.document);return z2(h,l,v).map(function(b){return qv.create(Ht.fromDom(b.startContainer),b.startOffset,Ht.fromDom(b.endContainer),b.endOffset)})},Zd=function(u,l){var v=qn(u);return v==="input"?Wu.after(u):pn(["br","img"],v)?l===0?Wu.before(u):Wu.after(u):Wu.on(u,l)},Xv=function(u,l){var v=u.fold(Wu.before,Zd,Wu.after),h=l.fold(Wu.before,Zd,Wu.after);return Jf.relative(v,h)},P0=function(u,l,v,h){var b=Zd(u,l),T=Zd(v,h);return Jf.relative(b,T)},O2=function(u){return u.match({domRange:function(l){var v=Ht.fromDom(l.startContainer),h=Ht.fromDom(l.endContainer);return P0(v,l.startOffset,h,l.endOffset)},relative:Xv,exact:P0})},Sb=function(u,l,v,h){var b=Ps(u),T=b.dom.createRange();return T.setStart(u.dom,l),T.setEnd(v.dom,h),T},c8=function(u,l,v,h){var b=Sb(u,l,v,h),T=Wn(u,v)&&l===h;return b.collapsed&&!T},xm=function(u){return X.from(u.getSelection())},F0=function(u,l){xm(u).each(function(v){v.removeAllRanges(),v.addRange(l)})},I0=function(u,l,v,h,b){var T=Cb(u,l,v,h,b);F0(u,T)},R2=function(u,l,v,h,b,T){l.collapse(v.dom,h),l.extend(b.dom,T)},L0=function(u,l){return km(u,l).match({ltr:function(v,h,b,T){I0(u,v,h,b,T)},rtl:function(v,h,b,T){xm(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(v.dom,h,b.dom,T);else if(D.extend)try{R2(u,D,v,h,b,T)}catch{I0(u,b,T,v,h)}else I0(u,b,T,v,h)})}})},Tb=function(u,l,v,h,b){var T=P0(l,v,h,b);L0(u,T)},Eb=function(u,l,v){var h=Xv(l,v);L0(u,h)},$0=function(u){var l=Jf.getWin(u).dom,v=function(b,T,D,L){return Cb(l,b,T,D,L)},h=O2(u);return km(l,h).match({ltr:v,rtl:v})},H0=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),v=u.getRangeAt(u.rangeCount-1);return X.some(qv.create(Ht.fromDom(l.startContainer),l.startOffset,Ht.fromDom(v.endContainer),v.endOffset))}else return X.none()},D2=function(u){if(u.anchorNode===null||u.focusNode===null)return H0(u);var l=Ht.fromDom(u.anchorNode),v=Ht.fromDom(u.focusNode);return c8(l,u.anchorOffset,v,u.focusOffset)?X.some(qv.create(l,u.anchorOffset,v,u.focusOffset)):H0(u)},Yv=function(u,l,v){v===void 0&&(v=!0);var h=v?a8:n8,b=h(u,l);F0(u,b)},Sm=function(u){return xm(u).filter(function(l){return l.rangeCount>0}).bind(D2)},M2=function(u){return Sm(u).map(function(l){return Jf.exact(l.start,l.soffset,l.finish,l.foffset)})},B2=function(u,l){var v=Yd(u,l);return al(v)},zb=function(u,l,v){return A2(u,l,v)},N2=function(u){xm(u).each(function(l){return l.removeAllRanges()})},P2=tinymce.util.Tools.resolve("tinymce.util.VK"),V0=function(u,l,v){return L2(u,l,JS(v,Sh))},F2=function(u,l,v){return L2(u,l,QS(v,Sh))},I2=function(u,l){var v=Jf.exact(l,0,l,0);return $0(v)},L2=function(u,l,v){return v.fold(X.none,X.none,function(h,b){return iy(b).map(function(T){return I2(u,T)})},function(h){return u.execCommand("mceTableInsertRowAfter"),V0(u,l,h)})},l8=["table","li","dl"],$2=function(u,l,v){if(u.keyCode===P2.TAB){var h=Yl(l),b=function(L){var Q=qn(L);return Wn(L,h)||pn(l8,Q)},T=l.selection.getRng(),D=Ht.fromDom(u.shiftKey?T.startContainer:T.endContainer);gl(D,b).each(function(L){u.preventDefault(),zo(L,b).each(v.clear),l.selection.collapse(u.shiftKey);var Q=u.shiftKey?F2:V0,fe=Q(l,b,L);fe.each(function(Ae){l.selection.setRng(Ae)})})}},U0=function(u,l){return{selection:u,kill:l}},Tm={create:U0},f8=function(u,l,v,h){return{start:Wu.on(u,l),finish:Wu.on(v,h)}},H2={create:f8},V2=function(u,l){var v=Yd(u,l);return qv.create(Ht.fromDom(v.startContainer),v.startOffset,Ht.fromDom(v.endContainer),v.endOffset)},Bc=H2.create,U2=function(u,l,v,h,b,T,D){return Wn(v,b)&&h===T?X.none():Ho(v,"td,th",l).bind(function(L){return Ho(b,"td,th",l).bind(function(Q){return j2(u,l,L,Q,D)})})},j2=function(u,l,v,h,b){return Wn(v,h)?X.none():gd(v,h,l).bind(function(T){var D=T.boxes.getOr([]);return D.length>1?(b(u,D,T.start,T.finish),X.some(Tm.create(X.some(Bc(v,0,v,Qc(v))),!0))):X.none()})},Ab=function(u,l,v,h,b){var T=function(D){return b.clearBeforeUpdate(v),b.selectRange(v,D.boxes,D.start,D.finish),D.boxes};return xp(h,u,l,b.firstSelectedSelector,b.lastSelectedSelector).map(T)},Ob=function(u,l){return{item:u,mode:l}},j0=function(u,l,v,h){return h===void 0&&(h=Zv),u.property().parent(l).map(function(b){return Ob(b,h)})},Zv=function(u,l,v,h){return h===void 0&&(h=Em),v.sibling(u,l).map(function(b){return Ob(b,h)})},Em=function(u,l,v,h){h===void 0&&(h=Em);var b=u.property().children(l),T=v.first(b);return T.map(function(D){return Ob(D,h)})},W2=[{current:j0,next:Zv,fallback:X.none()},{current:Zv,next:Em,fallback:X.some(j0)},{current:Em,next:Em,fallback:X.some(Zv)}],q2=function(u,l,v,h,b){b===void 0&&(b=W2);var T=$t(b,function(D){return D.current===v});return T.bind(function(D){return D.current(u,l,h,D.next).orThunk(function(){return D.fallback.bind(function(L){return q2(u,l,L,h)})})})},Rb=function(){var u=function(v,h){return v.query().prevSibling(h)},l=function(v){return v.length>0?X.some(v[v.length-1]):X.none()};return{sibling:u,first:l}},d8=function(){var u=function(v,h){return v.query().nextSibling(h)},l=function(v){return v.length>0?X.some(v[0]):X.none()};return{sibling:u,first:l}},Db={left:Rb,right:d8},rg=function(u,l,v,h,b,T){var D=q2(u,l,h,b);return D.bind(function(L){return T(L.item)?X.none():v(L.item)?X.some(L.item):rg(u,L.item,v,L.mode,b,T)})},Mb=function(u,l,v,h){return rg(u,l,v,Zv,Db.left(),h)},G2=function(u,l,v,h){return rg(u,l,v,Zv,Db.right(),h)},Bb=function(u){return function(l){return u.property().children(l).length===0}},Nc=function(u,l,v){return W0(u,l,Bb(u),v)},v8=function(u,l,v){return q0(u,l,Bb(u),v)},W0=Mb,q0=G2,Nb=ch(),zm=function(u,l){return Nc(Nb,u,l)},Pb=function(u,l){return v8(Nb,u,l)},G0=function(u,l,v){return W0(Nb,u,l,v)},K2=function(u,l,v){return q0(Nb,u,l,v)},X2=function(u,l,v){return No(u,l,v).isSome()},Fb=Wl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),p8=function(u,l,v){var h=u.getRect(l),b=u.getRect(v);return b.right>h.left&&b.left<h.right},Y2=function(u){return Ho(u,"tr")},m8=function(u,l,v,h,b,T,D){return Ho(h,"td,th",D).bind(function(L){return Ho(l,"td,th",D).map(function(Q){return Wn(L,Q)?Wn(h,L)&&Qc(L)===b?T(Q):Fb.none("in same cell"):Kr(Y2,[L,Q]).fold(function(){return p8(u,Q,L)?Fb.success():T(Q)},function(fe){return T(Q)})})}).getOr(Fb.none("default"))},h8=function(u,l,v,h,b){return u.fold(l,v,h,b)},Jv=st(st({},Fb),{verify:m8,cata:h8}),g8=function(u,l,v,h){return{parent:u,children:l,element:v,index:h}},y8=function(u){return yo(u).bind(function(l){var v=_(l);return b8(v,u).map(function(h){return g8(l,v,u,h)})})},b8=function(u,l){return Ze(u,Ye(Wn,l))},K0=function(u){return qn(u)==="br"},X0=function(u,l,v){return l(u,v).bind(function(h){return Ci(h)&&Xg(h).trim().length===0?X0(h,l,v):X.some(h)})},Z2=function(u,l,v){return v.traverse(l).orThunk(function(){return X0(l,v.gather,u)}).map(v.relative)},ng=function(u,l){return A(u,l).filter(K0).orThunk(function(){return A(u,l-1).filter(K0)})},Y0=function(u,l,v,h){return ng(l,v).bind(function(b){return h.traverse(b).fold(function(){return X0(b,h.gather,u).map(h.relative)},function(T){return y8(T).map(function(D){return Wu.on(D.parent,D.index)})})})},Qv=function(u,l,v,h){var b=K0(l)?Z2(u,l,h):Y0(u,l,v,h);return b.map(function(T){return{start:T,finish:T}})},J2=function(u){return Jv.cata(u,function(l){return X.none()},function(){return X.none()},function(l){return X.some(Mv(l,0))},function(l){return X.some(Mv(l,Qc(l)))})},ag=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},Am=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},Q2=function(u,l,v){return{left:u.left+l,top:u.top+v,right:u.right+l,bottom:u.bottom+v}},_8=function(u){return u.top},w8=function(u){return u.bottom},e3=function(u,l,v){return v>=0&&v<Qc(l)?u.getRangedRect(l,v,l,v+1):v>0?u.getRangedRect(l,v-1,l,v):X.none()},og=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},ig=function(u,l){return X.some(u.getRect(l))},ug=function(u,l,v){return va(l)?ig(u,l).map(og):Ci(l)?e3(u,l,v).map(og):X.none()},t3=function(u,l){return va(l)?ig(u,l).map(og):Ci(l)?u.getRangedRect(l,0,l,Qc(l)).map(og):X.none()},Rs=5,r3=100,Ml=Wl.generate([{none:[]},{retry:["caret"]}]),k8=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},n3=function(u,l,v){return Wg(l,Vd).fold(Ge,function(h){return t3(u,h).exists(function(b){return k8(v,b)})})},Om=function(u,l,v,h,b){var T=ag(b,Rs);return Math.abs(v.bottom-h.bottom)<1||v.top>b.bottom?Ml.retry(T):v.top===b.bottom?Ml.retry(ag(b,1)):n3(u,l,b)?Ml.retry(Q2(T,Rs,0)):Ml.none()},Rm=function(u,l,v,h,b){var T=Am(b,Rs);return Math.abs(v.top-h.top)<1||v.bottom<b.top?Ml.retry(T):v.bottom===b.top?Ml.retry(Am(b,1)):n3(u,l,b)?Ml.retry(Q2(T,Rs,0)):Ml.none()},a3={point:_8,adjuster:Rm,move:Am,gather:zm},o3={point:w8,adjuster:Om,move:ag,gather:Pb},Jd=function(u,l,v){return u.elementFromPoint(l,v).filter(function(h){return qn(h)==="table"}).isSome()},Qd=function(u,l,v,h,b){return Z0(u,l,v,l.move(h,Rs),b)},Z0=function(u,l,v,h,b){return b===0?X.some(h):Jd(u,h.left,l.point(h))?Qd(u,l,v,h,b-1):u.situsFromPoint(h.left,l.point(h)).bind(function(T){return T.start.fold(X.none,function(D){return t3(u,D).bind(function(L){return l.adjuster(u,D,L,v,h).fold(X.none,function(Q){return Z0(u,l,v,Q,b-1)})}).orThunk(function(){return X.some(h)})},X.none)})},C8=function(u,l){return u.situsFromPoint(l.left,l.bottom+Rs)},ep=function(u,l){return u.situsFromPoint(l.left,l.top-Rs)},x8=function(u,l,v){return u.point(l)>v.getInnerHeight()?X.some(u.point(l)-v.getInnerHeight()):u.point(l)<0?X.some(-u.point(l)):X.none()},i3=function(u,l,v){var h=u.move(v,Rs),b=Z0(l,u,v,h,r3).getOr(h);return x8(u,b,l).fold(function(){return l.situsFromPoint(b.left,u.point(b))},function(T){return l.scrollBy(0,T),l.situsFromPoint(b.left,u.point(b)-T)})},sg={tryUp:Ye(i3,a3),tryDown:Ye(i3,o3),ieTryUp:ep,ieTryDown:C8,getJumpSize:J(Rs)},u3=20,jr=function(u,l,v){return u.getSelection().bind(function(h){return Qv(l,h.finish,h.foffset,v).fold(function(){return X.some(Mv(h.finish,h.foffset))},function(b){var T=u.fromSitus(b),D=Jv.verify(u,h.finish,h.foffset,T.finish,T.foffset,v.failure,l);return J2(D)})})},cg=function(u,l,v,h,b,T){return T===0?X.none():s3(u,l,v,h,b).bind(function(D){var L=u.fromSitus(D),Q=Jv.verify(u,v,h,L.finish,L.foffset,b.failure,l);return Jv.cata(Q,function(){return X.none()},function(){return X.some(D)},function(fe){return Wn(v,fe)&&h===0?lg(u,v,h,Am,b):cg(u,l,fe,0,b,T-1)},function(fe){return Wn(v,fe)&&h===Qc(fe)?lg(u,v,h,ag,b):cg(u,l,fe,Qc(fe),b,T-1)})})},lg=function(u,l,v,h,b){return ug(u,l,v).bind(function(T){return J0(u,b,h(T,sg.getJumpSize()))})},J0=function(u,l,v){var h=ye().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(u,v):h.isIE()?l.ieRetry(u,v):X.none()},s3=function(u,l,v,h,b){return ug(u,v,h).bind(function(T){return J0(u,b,T)})},Ib=function(u,l,v){return jr(u,l,v).bind(function(h){return cg(u,l,h.element,h.offset,v,u3).map(u.fromSitus)})},fg=function(u,l){return X2(u,function(v){return yo(v).exists(function(h){return Wn(h,l)})})},Q0=function(u,l,v,h,b){return Ho(h,"td,th",l).bind(function(T){return Ho(T,"table",l).bind(function(D){return fg(b,D)?Ib(u,l,v).bind(function(L){return Ho(L.finish,"td,th",l).map(function(Q){return{start:T,finish:Q,range:L}})}):X.none()})})},c3=function(u,l,v,h,b,T){return ye().browser.isIE()?X.none():T(h,l).orThunk(function(){return Q0(u,l,v,h,b).map(function(D){var L=D.range;return Tm.create(X.some(Bc(L.start,L.soffset,L.finish,L.foffset)),!0)})})},S8=function(u,l){return Ho(u,"tr",l).bind(function(v){return Ho(v,"table",l).bind(function(h){var b=Fs(h,"tr");return Wn(v,b[0])?G0(h,function(T){return uy(T).isSome()},l).map(function(T){var D=Qc(T);return Tm.create(X.some(Bc(T,D,T,D)),!0)}):X.none()})})},yn=function(u,l){return Ho(u,"tr",l).bind(function(v){return Ho(v,"table",l).bind(function(h){var b=Fs(h,"tr");return Wn(v,b[b.length-1])?K2(h,function(T){return iy(T).isSome()},l).map(function(T){return Tm.create(X.some(Bc(T,0,T,0)),!0)}):X.none()})})},Lb=function(u,l,v,h,b,T,D){return Q0(u,v,h,b,T).bind(function(L){return j2(l,v,L.start,L.finish,D)})},Nn=function(u,l){return Ho(u,"td,th",l)},l3=function(u,l,v,h){var b=bm(),T=b.clear,D=function(Ae){b.on(function(yt){h.clearBeforeUpdate(l),Nn(Ae.target,v).each(function(Vt){gd(yt,Vt,v).each(function(Rt){var ht=Rt.boxes.getOr([]);if(ht.length===1){var ar=ht[0],cr=y_(ar)==="false",Wr=ml(zv(Ae.target),ar,Wn);cr&&Wr&&(h.selectRange(l,ht,ar,ar),u.selectContents(ar))}else ht.length>1&&(h.selectRange(l,ht,Rt.start,Rt.finish),u.selectContents(Vt))})})})},L=function(Ae){h.clear(l),Nn(Ae.target,v).each(b.set)},Q=function(Ae){D(Ae)},fe=function(Ae){D(Ae),T()};return{clearstate:T,mousedown:L,mouseover:Q,mouseup:fe}},f3={traverse:x,gather:Pb,relative:Wu.before,otherRetry:sg.tryDown,ieRetry:sg.ieTryDown,failure:Jv.failedDown},ew={traverse:P,gather:zm,relative:Wu.before,otherRetry:sg.tryUp,ieRetry:sg.ieTryUp,failure:Jv.failedUp},tp=function(u){return function(l){return l===u}},$b=tp(38),dg=tp(40),Hb=function(u){return u>=37&&u<=40},tw={isBackward:tp(37),isForward:tp(39)},bn={isBackward:tp(39),isForward:tp(37)},T8=function(u){var l=u!==void 0?u.dom:document,v=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return to(v,h)},d3=function(u,l,v){var h=v!==void 0?v.dom:document,b=h.defaultView;b&&b.scrollBy(u,l)},Vb=function(u){var l=function(cr,Wr){return Ht.fromPoint(Ht.fromDom(u.document),cr,Wr)},v=function(cr){return cr.dom.getBoundingClientRect()},h=function(cr,Wr,ha,Xr){var _n=Jf.exact(cr,Wr,ha,Xr);return B2(u,_n)},b=function(){return M2(u).map(function(cr){return V2(u,cr)})},T=function(cr){var Wr=Jf.relative(cr.start,cr.finish);return V2(u,Wr)},D=function(cr,Wr){return zb(u,cr,Wr).map(function(ha){return H2.create(ha.start,ha.soffset,ha.finish,ha.foffset)})},L=function(){N2(u)},Q=function(cr){cr===void 0&&(cr=!1),M2(u).each(function(Wr){return Wr.fold(function(ha){return ha.collapse(cr)},function(ha,Xr){var _n=cr?ha:Xr;Eb(u,_n,_n)},function(ha,Xr,_n,oa){var Qn=cr?ha:_n,_i=cr?Xr:oa;Tb(u,Qn,_i,Qn,_i)})})},fe=function(cr){Yv(u,cr,!1)},Ae=function(cr){Yv(u,cr)},yt=function(cr){Tb(u,cr.start,cr.soffset,cr.finish,cr.foffset)},Vt=function(cr,Wr){Eb(u,cr,Wr)},Rt=function(){return u.innerHeight},ht=function(){var cr=T8(Ht.fromDom(u.document));return cr.top},ar=function(cr,Wr){d3(cr,Wr,Ht.fromDom(u.document))};return{elementFromPoint:l,getRect:v,getRangedRect:h,getSelection:b,fromSitus:T,situsFromPoint:D,clearSelection:L,collapseSelection:Q,setSelection:yt,setRelativeSelection:Vt,selectNode:fe,selectContents:Ae,getInnerHeight:Rt,getScrollY:ht,scrollBy:ar}},mf=function(u,l){return{rows:u,cols:l}},v3=function(u,l,v,h){var b=Vb(u),T=l3(b,l,v,h);return{clearstate:T.clearstate,mousedown:T.mousedown,mouseover:T.mouseover,mouseup:T.mouseup}},vg=function(u,l,v,h){var b=Vb(u),T=function(){return h.clear(l),X.none()},D=function(Q,fe,Ae,yt,Vt,Rt){var ht=Q.raw,ar=ht.which,cr=ht.shiftKey===!0,Wr=Cp(l,h.selectedSelector).fold(function(){return Hb(ar)&&!cr&&h.clearBeforeUpdate(l),dg(ar)&&cr?Ye(Lb,b,l,v,f3,yt,fe,h.selectRange):$b(ar)&&cr?Ye(Lb,b,l,v,ew,yt,fe,h.selectRange):dg(ar)?Ye(c3,b,v,f3,yt,fe,yn):$b(ar)?Ye(c3,b,v,ew,yt,fe,S8):X.none},function(ha){var Xr=function(_n){return function(){var oa=it(_n,function(Qn){return Ab(Qn.rows,Qn.cols,l,ha,h)});return oa.fold(function(){return Gc(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(Qn){var _i=dg(ar)||Rt.isForward(ar)?Wu.after:Wu.before;return b.setRelativeSelection(Wu.on(Qn.first,0),_i(Qn.table)),h.clear(l),Tm.create(X.none(),!0)})},function(Qn){return X.some(Tm.create(X.none(),!0))})}};return dg(ar)&&cr?Xr([mf(1,0)]):$b(ar)&&cr?Xr([mf(-1,0)]):Rt.isBackward(ar)&&cr?Xr([mf(0,-1),mf(-1,0)]):Rt.isForward(ar)&&cr?Xr([mf(0,1),mf(1,0)]):Hb(ar)&&!cr?T:X.none});return Wr()},L=function(Q,fe,Ae,yt,Vt){return Cp(l,h.selectedSelector).fold(function(){var Rt=Q.raw,ht=Rt.which,ar=Rt.shiftKey===!0;return ar&&Hb(ht)?U2(l,v,fe,Ae,yt,Vt,h.selectRange):X.none()},X.none)};return{keydown:D,keyup:L}},Ub=function(u,l,v,h){var b=Vb(u);return function(T,D){h.clearBeforeUpdate(l),gd(T,D,v).each(function(L){var Q=L.boxes.getOr([]);h.selectRange(l,Q,L.start,L.finish),b.selectContents(D),b.collapseSelection()})}},p3=function(u,l){ur(l,function(v){Ss(u,v)})},m3=function(u){return function(l){Ri(l,u)}},E8=function(u){return function(l){p3(l,u)}},z8=function(u){var l=m3(u.selected),v=E8([u.selected,u.lastSelected,u.firstSelected]),h=function(T){var D=Fs(T,u.selectedSelector);ur(D,v)},b=function(T,D,L,Q){h(T),ur(D,l),Ri(L,u.firstSelected),Ri(Q,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:b,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},A8=function(u,l,v){var h=function(Q){fo(Q,u.selected),fo(Q,u.firstSelected),fo(Q,u.lastSelected)},b=function(Q){Si(Q,u.selected,"1")},T=function(Q){D(Q),v()},D=function(Q){var fe=Fs(Q,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);ur(fe,h)},L=function(Q,fe,Ae,yt){T(Q),ur(fe,b),Si(Ae,u.firstSelected,"1"),Si(yt,u.lastSelected,"1"),l(fe,Ae,yt)};return{clearBeforeUpdate:D,clear:T,selectRange:L,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},O8={byClass:z8,byAttr:A8},R8=function(u,l){var v=u.slice(0,l[l.length-1].row+1),h=qy(v);return et(h,function(b){var T=b.cells.slice(0,l[l.length-1].column+1);return Wt(T,function(D){return D.element})})},h3=function(u,l){var v=u.slice(l[0].row+l[0].rowspan-1,u.length),h=qy(v);return et(h,function(b){var T=b.cells.slice(l[0].column+l[0].colspan-1,b.cells.length);return Wt(T,function(D){return D.element})})},D8=function(u,l,v){var h=Vn.fromTable(u),b=zl(h,l);return b.map(function(T){var D=Ld(h,v,!1),L=R8(D,T),Q=h3(D,T);return{upOrLeftCells:L,downOrRightCells:Q}})},rw=tinymce.util.Tools.resolve("tinymce.Env"),Dm=function(u){return uo(Ht.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function ca(u,l,v){var h=function(D,L,Q){v.targets().each(function(fe){var Ae=zo(L);Ae.each(function(yt){var Vt=Ly(u),Rt=Bn(Qe,Ht.fromDom(u.getDoc()),Vt),ht=D8(yt,fe,Rt);Wp(u,D,L,Q,ht)})})},b=function(){return kk(u)},T=O8.byAttr(vc,h,b);return u.on("init",function(D){var L=u.getWin(),Q=Yl(u),fe=dc(u),Ae=function(){var _a=u.selection,An=Ht.fromDom(_a.getStart()),la=Ht.fromDom(_a.getEnd()),ja=Kr(zo,[An,la]);ja.fold(function(){return T.clear(Q)},Qe)},yt=v3(L,Q,fe,T),Vt=vg(L,Q,fe,T),Rt=Ub(L,Q,fe,T),ht=function(_a){return _a.raw.shiftKey===!0};u.on("TableSelectorChange",function(_a){return Rt(_a.start,_a.finish)});var ar=function(_a,An){ht(_a)&&(An.kill&&_a.kill(),An.selection.each(function(la){var ja=Jf.relative(la.start,la.finish),qo=Yd(L,ja);u.selection.setRng(qo)}))},cr=function(_a){var An=Wf(_a);if(An.raw.shiftKey&&Hb(An.raw.which)){var la=u.selection.getRng(),ja=Ht.fromDom(la.startContainer),qo=Ht.fromDom(la.endContainer);Vt.keyup(An,ja,la.startOffset,qo,la.endOffset).each(function(hf){ar(An,hf)})}},Wr=function(_a){var An=Wf(_a);l().each(function(Ga){return Ga.hideBars()});var la=u.selection.getRng(),ja=Ht.fromDom(la.startContainer),qo=Ht.fromDom(la.endContainer),hf=Us(tw,bn)(Ht.fromDom(u.selection.getStart()));Vt.keydown(An,ja,la.startOffset,qo,la.endOffset,hf).each(function(Ga){ar(An,Ga)}),l().each(function(Ga){return Ga.showBars()})},ha=function(_a){return _a.button===0},Xr=function(_a){return _a.buttons===void 0||rw.browser.isEdge()&&_a.buttons===0?!0:(_a.buttons&1)!==0},_n=function(_a){yt.clearstate()},oa=function(_a){ha(_a)&&Dm(_a)&&yt.mousedown(Wf(_a))},Qn=function(_a){Xr(_a)&&Dm(_a)&&yt.mouseover(Wf(_a))},_i=function(_a){ha(_a)&&Dm(_a)&&yt.mouseup(Wf(_a))},eu=function(){var _a=Yf(Ht.fromDom(Q)),An=Yf(0),la=function(ja){var qo=Ht.fromDom(ja.target);if(qn(qo)==="td"||qn(qo)==="th"){var hf=_a.get(),Ga=An.get();Wn(hf,qo)&&ja.timeStamp-Ga<300&&(ja.preventDefault(),Rt(qo,qo))}_a.set(qo),An.set(ja.timeStamp)};return{touchEnd:la}},fs=eu();u.on("dragstart",_n),u.on("mousedown",oa),u.on("mouseover",Qn),u.on("mouseup",_i),u.on("touchend",fs.touchEnd),u.on("keyup",cr),u.on("keydown",Wr),u.on("NodeChange",Ae)}),{clear:T.clear}}var jb=function(u,l){return vn(u,l).isSome()},Wb=function(u,l){var v=Yf(X.none()),h=Yf([]),b=X.none(),T=go("caption"),D=function(An){return b.forall(function(la){return!la[An]})},L=function(){return Fo(bv(u),dc(u))},Q=function(){return Fo(Nr(u),dc(u))},fe=function(){return L().bind(function(An){return Ef(Ls(zo(An),Q().bind(zo),function(la,ja){return Wn(la,ja)?T(An)?X.some(o_(An)):X.some(_v(l,la,An)):X.none()}))})},Ae=function(An){var la=zo(An.element);return la.map(function(ja){var qo=Vn.fromTable(ja),hf=zl(qo,An).getOr([]),Ga=oe(hf,function(Pc,bu){return bu.isLocked&&(Pc.onAny=!0,bu.column===0?Pc.onFirst=!0:bu.column+bu.colspan>=qo.grid.columns&&(Pc.onLast=!0)),Pc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:L_(qo,An).isSome(),unmergeable:Xy(qo,An).isSome(),locked:Ga}})},yt=function(){v.set(Rr(fe)()),b=v.get().bind(Ae),ur(h.get(),function(An){return An()})},Vt=function(An){return An(),h.set(h.get().concat([An])),function(){h.set(dn(h.get(),function(la){return la!==An}))}},Rt=function(An,la){return Vt(function(){return v.get().fold(function(){An.setDisabled(!0)},function(ja){An.setDisabled(la(ja))})})},ht=function(An,la,ja){return Vt(function(){return v.get().fold(function(){An.setDisabled(!0),An.setActive(!1)},function(qo){An.setDisabled(la(qo)),An.setActive(ja(qo))})})},ar=function(An){return b.exists(function(la){return la.locked[An]})},cr=function(An){return Rt(An,function(la){return!1})},Wr=function(An){return Rt(An,function(la){return T(la.element)})},ha=function(An){return function(la){return Rt(la,function(ja){return T(ja.element)||ar(An)})}},Xr=function(An){return function(la){return Rt(la,function(ja){return T(ja.element)||An().isNone()})}},_n=function(An,la){return function(ja){return Rt(ja,function(qo){return T(qo.element)||An().isNone()||ar(la)})}},oa=function(An){return Rt(An,function(la){return D("mergeable")})},Qn=function(An){return Rt(An,function(la){return D("unmergeable")})},_i=function(An){return ht(An,Ge,function(la){var ja=zo(la.element,dc(u));return ja.exists(function(qo){return jb(qo,"caption")})})},eu=function(An,la){return function(ja){return ht(ja,function(qo){return T(qo.element)},function(){return u.queryCommandValue(An)===la})}},fs=eu("mceTableRowType","header"),_a=eu("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",yt),{onSetupTable:cr,onSetupCellOrRow:Wr,onSetupColumn:ha,onSetupPasteable:Xr,onSetupPasteableColumn:_n,onSetupMergeable:oa,onSetupUnmergeable:Qn,resetTargets:yt,onSetupTableWithCaption:_i,onSetupTableRowHeaders:fs,onSetupTableColumnHeaders:_a,targets:v.get}},g3=function(u,l,v,h){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(L){return L("inserttable | cell row column | advtablesort | tableprops deletetable")}});var b=function(L){return function(){return u.execCommand(L)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:b("mceTableProps"),icon:"table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:b("mceTableDelete"),icon:"table-delete-table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:b("mceTableCellProps"),icon:"table-cell-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:b("mceTableMergeCells"),icon:"table-merge-cells",onSetup:v.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:b("mceTableSplitCells"),icon:"table-split-cells",onSetup:v.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:b("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:b("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:b("mceTableDeleteRow"),icon:"table-delete-row",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:b("mceTableRowProps"),icon:"table-row-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:b("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:b("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:b("mceTableDeleteCol"),icon:"table-delete-column",onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:b("mceInsertTable"),icon:"table"});var T=qd(Dh(u));T.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Uv(u,l,T,"tableclass",function(L){return u.execCommand("mceTableToggleClass",!1,L)}),onSetup:v.onSetupTable});var D=qd(nf(u));D.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Uv(u,l,D,"tablecellclass",function(L){return u.execCommand("mceTableCellToggleClass",!1,L)}),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Uv(u,l,ym,"tablecellverticalalign",Wd(u,"vertical-align")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Uv(u,l,xk(u),"tablecellborderwidth",Wd(u,"border-width")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Uv(u,l,Hu(u),"tablecellborderstyle",Wd(u,"border-style")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:b("mceTableToggleCaption"),icon:"table-caption",onSetup:v.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(L){return L(_m(u,z_(u),"background-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(L){return L(_m(u,A_(u),"border-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:h0(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:g0(u),onSetup:v.onSetupTableColumnHeaders})},y3=function(u){var l=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},v=Jx(u);v.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:v,scope:"node",position:"node"})},b3=function(u,l,v,h){var b=function(Rt){return function(){return u.execCommand(Rt)}},T=function(Rt){u.execCommand("mceInsertTable",!1,{rows:Rt.numRows,columns:Rt.numColumns})},D={text:"Table properties",onSetup:v.onSetupTable,onAction:b("mceTableProps")},L={text:"Delete table",icon:"table-delete-table",onSetup:v.onSetupTable,onAction:b("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:b("mceTableInsertRowBefore"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:b("mceTableInsertRowAfter"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:b("mceTableDeleteRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:b("mceTableRowProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(h.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(h.getRows)});var Q={type:"nestedmenuitem",text:"Row",getSubmenuItems:J("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:b("mceTableInsertColBefore"),onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:b("mceTableInsertColAfter"),onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:b("mceTableDeleteCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onLast")});var fe={type:"nestedmenuitem",text:"Column",getSubmenuItems:J("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:b("mceTableCellProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:b("mceTableMergeCells"),onSetup:v.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:b("mceTableSplitCells"),onSetup:v.onSetupUnmergeable});var Ae={type:"nestedmenuitem",text:"Cell",getSubmenuItems:J("tablecellprops tablemergecells tablesplitcells")};Sk(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:b("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:T}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:b("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",D),u.ui.registry.addMenuItem("deletetable",L),u.ui.registry.addNestedMenuItem("row",Q),u.ui.registry.addNestedMenuItem("column",fe),u.ui.registry.addNestedMenuItem("cell",Ae),u.ui.registry.addContextMenu("table",{update:function(){return v.resetTargets(),v.targets().fold(J(""),function(Rt){return qn(Rt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var yt=qd(Dh(u));yt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return nl(u,l,yt,"tableclass",function(Rt){return u.execCommand("mceTableToggleClass",!1,Rt)})},onSetup:v.onSetupTable});var Vt=qd(nf(u));Vt.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return nl(u,l,Vt,"tablecellclass",function(Rt){return u.execCommand("mceTableCellToggleClass",!1,Rt)})},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return nl(u,l,ym,"tablecellverticalalign",Wd(u,"vertical-align"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return nl(u,l,xk(u),"tablecellborderwidth",Wd(u,"border-width"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return nl(u,l,Hu(u),"tablecellborderstyle",Wd(u,"border-style"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:b("mceTableToggleCaption"),onSetup:v.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return _m(u,z_(u),"background-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return _m(u,A_(u),"border-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:h0(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:g0(u),onSetup:v.onSetupTableColumnHeaders})},nw=function(u){var l=Au(function(){return Yl(u)},function(){return du(bv(u),dc(u))},vc.selectedSelector),v=Wb(u,l),h=Hy(u),b=ca(u,h.lazyResize,v),T=FS(u,b,h.lazyWire),D=wb();return bb(u,T,b,l,D),_b(u,T,l),el(u,l,T),b3(u,l,v,D),g3(u,l,v,D),y3(u),u.on("PreInit",function(){u.serializer.addTempAttr(vc.firstSelected),u.serializer.addTempAttr(vc.lastSelected),ZS(u)}),Tl(u)&&u.on("keydown",function(L){$2(L,u,b)}),u.on("remove",function(){h.destroy()}),cf(u,D,h,v)};function aw(){Zw.add("table",nw)}aw()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function S(){I.add("textcolor",function(){})}S()})();(function(){var I=function(rt){var He=rt,at=function(){return He},hr=function(Qe){He=Qe};return{get:at,set:hr}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(rt,He){rt.fire("VisualBlocks",{state:He})},N=function(rt,He,at){var hr=rt.dom;hr.toggleClass(rt.getBody(),"mce-visualblocks"),at.set(!at.get()),B(rt,at.get())},ee=function(rt,He,at){rt.addCommand("mceVisualBlocks",function(){N(rt,He,at)})},me=function(rt){return rt.getParam("visualblocks_default_state",!1,"boolean")},Be=function(rt,He,at){rt.on("PreviewFormats AfterPreviewFormats",function(hr){at.get()&&rt.dom.toggleClass(rt.getBody(),"mce-visualblocks",hr.type==="afterpreviewformats")}),rt.on("init",function(){me(rt)&&N(rt,He,at)})},we=function(rt,He){return function(at){at.setActive(He.get());var hr=function(Qe){return at.setActive(Qe.state)};return rt.on("VisualBlocks",hr),function(){return rt.off("VisualBlocks",hr)}}},ge=function(rt,He){var at=function(){return rt.execCommand("mceVisualBlocks")};rt.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:at,onSetup:we(rt,He)}),rt.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:at,onSetup:we(rt,He)})};function It(){S.add("visualblocks",function(rt,He){var at=I(!1);ee(rt,He,at),ge(rt,at),Be(rt,He,at)})}It()})();(function(){var I=function(Ke){var Mt=Ke,gt=function(){return Mt},fr=function(un){Mt=un};return{get:gt,set:fr}},S=tinymce.util.Tools.resolve("tinymce.PluginManager"),B=function(Ke){var Mt=function(){return Ke.get()};return{isEnabled:Mt}},N=function(Ke,Mt){return Ke.fire("VisualChars",{state:Mt})},ee=function(Ke){var Mt=typeof Ke;return Ke===null?"null":Mt==="object"&&(Array.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="Array")?"array":Mt==="object"&&(String.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="String")?"string":Mt},me=function(Ke){return function(Mt){return ee(Mt)===Ke}},Be=function(Ke){return function(Mt){return typeof Mt===Ke}},we=me("string"),ge=Be("boolean"),It=Be("number"),rt=function(){},He=function(Ke){return function(){return Ke}},at=function(Ke){return Ke},hr=He(!1),Qe=He(!0),ut=function(){return ke},ke=function(){var Ke=function(fr){return fr()},Mt=at,gt={fold:function(fr,un){return fr()},isSome:hr,isNone:Qe,getOr:Mt,getOrThunk:Ke,getOrDie:function(fr){throw new Error(fr||"error: getOrDie called on none.")},getOrNull:He(null),getOrUndefined:He(void 0),or:Mt,orThunk:Ke,map:ut,each:rt,bind:ut,exists:hr,forall:Qe,filter:function(){return ut()},toArray:function(){return[]},toString:He("none()")};return gt}(),J=function(Ke){var Mt=He(Ke),gt=function(){return un},fr=function(ua){return ua(Ke)},un={fold:function(ua,fi){return fi(Ke)},isSome:Qe,isNone:hr,getOr:Mt,getOrThunk:Mt,getOrDie:Mt,getOrNull:Mt,getOrUndefined:Mt,or:gt,orThunk:gt,map:function(ua){return J(ua(Ke))},each:function(ua){ua(Ke)},bind:fr,exists:fr,forall:fr,filter:function(ua){return ua(Ke)?un:ke},toArray:function(){return[Ke]},toString:function(){return"some("+Ke+")"}};return un},Fe=function(Ke){return Ke==null?ke:J(Ke)},se={some:J,none:ut,from:Fe},Ye=function(Ke,Mt){for(var gt=Ke.length,fr=new Array(gt),un=0;un<gt;un++){var ua=Ke[un];fr[un]=Mt(ua,un)}return fr},ze=function(Ke,Mt){for(var gt=0,fr=Ke.length;gt<fr;gt++){var un=Ke[gt];Mt(un,gt)}},$e=function(Ke,Mt){for(var gt=[],fr=0,un=Ke.length;fr<un;fr++){var ua=Ke[fr];Mt(ua,fr)&&gt.push(ua)}return gt},Ge=Object.keys,ce=function(Ke,Mt){for(var gt=Ge(Ke),fr=0,un=gt.length;fr<un;fr++){var ua=gt[fr],fi=Ke[ua];Mt(fi,ua)}};typeof window<"u"||Function("return this;")();var Ue=3,U=function(Ke){return Ke.dom.nodeType},xe=function(Ke){return Ke.dom.nodeValue},Z=function(Ke){return function(Mt){return U(Mt)===Ke}},X=Z(Ue),Lt=function(Ke,Mt,gt){if(we(gt)||ge(gt)||It(gt))Ke.setAttribute(Mt,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Mt,":: Value ",gt,":: Element ",Ke),new Error("Attribute value was not simple")},fn=function(Ke,Mt,gt){Lt(Ke.dom,Mt,gt)},St=function(Ke,Mt){var gt=Ke.dom.getAttribute(Mt);return gt===null?void 0:gt},Xn=function(Ke,Mt){Ke.dom.removeAttribute(Mt)},pn=function(Ke,Mt){var gt=St(Ke,Mt);return gt===void 0||gt===""?[]:gt.split(" ")},O=function(Ke,Mt,gt){var fr=pn(Ke,Mt),un=fr.concat([gt]);return fn(Ke,Mt,un.join(" ")),!0},On=function(Ke,Mt,gt){var fr=$e(pn(Ke,Mt),function(un){return un!==gt});return fr.length>0?fn(Ke,Mt,fr.join(" ")):Xn(Ke,Mt),!1},Wt=function(Ke){return Ke.dom.classList!==void 0},ur=function(Ke){return pn(Ke,"class")},ya=function(Ke,Mt){return O(Ke,"class",Mt)},vo=function(Ke,Mt){return On(Ke,"class",Mt)},dn=function(Ke,Mt){Wt(Ke)?Ke.dom.classList.add(Mt):ya(Ke,Mt)},fa=function(Ke){var Mt=Wt(Ke)?Ke.dom.classList:ur(Ke);Mt.length===0&&Xn(Ke,"class")},oe=function(Ke,Mt){if(Wt(Ke)){var gt=Ke.dom.classList;gt.remove(Mt)}else vo(Ke,Mt);fa(Ke)},Xa=function(Ke,Mt){var gt=Mt||document,fr=gt.createElement("div");if(fr.innerHTML=Ke,!fr.hasChildNodes()||fr.childNodes.length>1)throw console.error("HTML does not have a single root node",Ke),new Error("HTML must have a single root node");return Sr(fr.childNodes[0])},$t=function(Ke,Mt){var gt=Mt||document,fr=gt.createElement(Ke);return Sr(fr)},Ze=function(Ke,Mt){var gt=Mt||document,fr=gt.createTextNode(Ke);return Sr(fr)},Sr=function(Ke){if(Ke==null)throw new Error("Node cannot be null or undefined");return{dom:Ke}},et=function(Ke,Mt,gt){return se.from(Ke.dom.elementFromPoint(Mt,gt)).map(Sr)},qe={fromHtml:Xa,fromTag:$t,fromText:Ze,fromDom:Sr,fromPoint:et},be={" ":"nbsp","­":"shy"},Ne=function(Ke,Mt){var gt="";return ce(Ke,function(fr,un){gt+=un}),new RegExp("["+gt+"]",Mt?"g":"")},je=function(Ke){var Mt="";return ce(Ke,function(gt){Mt&&(Mt+=","),Mt+="span.mce-"+gt}),Mt},Nt=Ne(be),lr=Ne(be,!0),Xt=je(be),Pr="mce-nbsp",it=function(Ke){return'<span data-mce-bogus="1" class="mce-'+be[Ke]+'">'+Ke+"</span>"},st=function(Ke){var Mt=xe(Ke);return X(Ke)&&Mt!==void 0&&Nt.test(Mt)},rr=function(Ke,Mt){var gt=[],fr=Ke.dom,un=Ye(fr.childNodes,qe.fromDom);return ze(un,function(ua){Mt(ua)&&(gt=gt.concat([ua])),gt=gt.concat(rr(ua,Mt))}),gt},Rr=function(Ke,Mt){for(;Ke.parentNode;){if(Ke.parentNode===Mt)return Ke;Ke=Ke.parentNode}},sn=function(Ke){return Ke.replace(lr,it)},wn=function(Ke){return Ke.nodeName.toLowerCase()==="span"&&Ke.classList.contains("mce-nbsp-wrap")},Gn=function(Ke,Mt){var gt=rr(qe.fromDom(Mt),st);ze(gt,function(fr){var un=fr.dom.parentNode;if(wn(un))dn(qe.fromDom(un),Pr);else{for(var ua=sn(Ke.dom.encode(xe(fr))),fi=Ke.dom.create("div",null,ua),Kn=void 0;Kn=fi.lastChild;)Ke.dom.insertAfter(Kn,fr.dom);Ke.dom.remove(fr.dom)}})},Yn=function(Ke,Mt){var gt=Ke.dom.select(Xt,Mt);ze(gt,function(fr){wn(fr)?oe(qe.fromDom(fr),Pr):Ke.dom.remove(fr,!0)})},Ta=function(Ke){var Mt=Ke.getBody(),gt=Ke.selection.getBookmark(),fr=Rr(Ke.selection.getNode(),Mt);fr=fr!==void 0?fr:Mt,Yn(Ke,fr),Gn(Ke,fr),Ke.selection.moveToBookmark(gt)},ba=function(Ke,Mt){N(Ke,Mt.get());var gt=Ke.getBody();Mt.get()===!0?Gn(Ke,gt):Yn(Ke,gt)},Zn=function(Ke,Mt){Mt.set(!Mt.get());var gt=Ke.selection.getBookmark();ba(Ke,Mt),Ke.selection.moveToBookmark(gt)},In=function(Ke,Mt){Ke.addCommand("mceVisualChars",function(){Zn(Ke,Mt)})},ga=function(Ke){return Ke.getParam("visualchars_default_state",!1)},Rn=function(Ke){return Ke.getParam("forced_root_block")!==!1},kn=function(Ke,Mt){Ke.on("init",function(){ba(Ke,Mt)})},Ka=tinymce.util.Tools.resolve("tinymce.util.Delay"),ao=function(Ke,Mt){var gt=Ka.debounce(function(){Ta(Ke)},300);Rn(Ke)&&Ke.on("keydown",function(fr){Mt.get()===!0&&(fr.keyCode===13?Ta(Ke):gt())}),Ke.on("remove",gt.stop)},Ca=function(Ke,Mt){return function(gt){gt.setActive(Mt.get());var fr=function(un){return gt.setActive(un.state)};return Ke.on("VisualChars",fr),function(){return Ke.off("VisualChars",fr)}}},xn=function(Ke,Mt){var gt=function(){return Ke.execCommand("mceVisualChars")};Ke.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:gt,onSetup:Ca(Ke,Mt)}),Ke.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:gt,onSetup:Ca(Ke,Mt)})};function Co(){S.add("visualchars",function(Ke){var Mt=I(ga(Ke));return In(Ke,Mt),xn(Ke,Mt),ao(Ke,Mt),kn(Ke,Mt),B(Mt)})}Co()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(et){return et},B=function(){return B=Object.assign||function(qe){for(var be,Ne=1,je=arguments.length;Ne<je;Ne++){be=arguments[Ne];for(var Nt in be)Object.prototype.hasOwnProperty.call(be,Nt)&&(qe[Nt]=be[Nt])}return qe},B.apply(this,arguments)},N="\uFEFF",ee=function(et){return et.replace(/\uFEFF/g,"")},me=function(et,qe){for(var be=et.length,Ne=new Array(be),je=0;je<be;je++){var Nt=et[je];Ne[je]=qe(Nt,je)}return Ne},Be="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",we={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:Be},ge={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},It=[new RegExp(we.aletter),new RegExp(we.midnumlet),new RegExp(we.midletter),new RegExp(we.midnum),new RegExp(we.numeric),new RegExp(we.cr),new RegExp(we.lf),new RegExp(we.newline),new RegExp(we.extend),new RegExp(we.format),new RegExp(we.katakana),new RegExp(we.extendnumlet),new RegExp("@")],rt="",He=new RegExp("^"+we.punctuation+"$"),at=/^\s+$/,hr=It,Qe=ge.OTHER,ut=function(et){for(var qe=Qe,be=hr.length,Ne=0;Ne<be;++Ne){var je=hr[Ne];if(je&&je.test(et)){qe=Ne;break}}return qe},ke=function(et){var qe={};return function(be){if(qe[be])return qe[be];var Ne=et(be);return qe[be]=Ne,Ne}},J=function(et){var qe=ke(ut);return me(et,qe)},Fe=function(et,qe){var be=et[qe],Ne=et[qe+1];if(qe<0||qe>et.length-1&&qe!==0||be===ge.ALETTER&&Ne===ge.ALETTER)return!1;var je=et[qe+2];if(be===ge.ALETTER&&(Ne===ge.MIDLETTER||Ne===ge.MIDNUMLET||Ne===ge.AT)&&je===ge.ALETTER)return!1;var Nt=et[qe-1];return(be===ge.MIDLETTER||be===ge.MIDNUMLET||Ne===ge.AT)&&Ne===ge.ALETTER&&Nt===ge.ALETTER||(be===ge.NUMERIC||be===ge.ALETTER)&&(Ne===ge.NUMERIC||Ne===ge.ALETTER)||(be===ge.MIDNUM||be===ge.MIDNUMLET)&&Ne===ge.NUMERIC&&Nt===ge.NUMERIC||be===ge.NUMERIC&&(Ne===ge.MIDNUM||Ne===ge.MIDNUMLET)&&je===ge.NUMERIC||be===ge.EXTEND||be===ge.FORMAT||Nt===ge.EXTEND||Nt===ge.FORMAT||Ne===ge.EXTEND||Ne===ge.FORMAT||be===ge.CR&&Ne===ge.LF?!1:be===ge.NEWLINE||be===ge.CR||be===ge.LF||Ne===ge.NEWLINE||Ne===ge.CR||Ne===ge.LF?!0:!(be===ge.KATAKANA&&Ne===ge.KATAKANA||Ne===ge.EXTENDNUMLET&&(be===ge.ALETTER||be===ge.NUMERIC||be===ge.KATAKANA||be===ge.EXTENDNUMLET)||be===ge.EXTENDNUMLET&&(Ne===ge.ALETTER||Ne===ge.NUMERIC||Ne===ge.KATAKANA)||be===ge.AT)},se=rt,Ye=at,ze=He,$e=function(et){return et==="http"||et==="https"},Ge=function(et,qe){var be;for(be=qe;be<et.length&&!Ye.test(et[be]);be++);return be},ce=function(et,qe){var be=Ge(et,qe+1),Ne=et.slice(qe+1,be).join(se);return Ne.substr(0,3)==="://"?be:qe},Ue=function(et,qe,be,Ne){for(var je=[],Nt=[],lr=0;lr<be.length;++lr)if(Nt.push(et[lr]),Fe(be,lr)){var Xt=qe[lr];if((Ne.includeWhitespace||!Ye.test(Xt))&&(Ne.includePunctuation||!ze.test(Xt))){var Pr=lr-Nt.length+1,it=lr+1,st=qe.slice(Pr,it).join(se);if($e(st)){var rr=ce(qe,lr),Rr=et.slice(it,rr);Array.prototype.push.apply(Nt,Rr),lr=rr}je.push(Nt)}Nt=[]}return je},U=function(){return{includeWhitespace:!1,includePunctuation:!1}},xe=function(et,qe,be){be=B(B({},U()),be);for(var Ne=[],je=[],Nt=0;Nt<et.length;Nt++){var lr=qe(et[Nt]);lr!==N&&(Ne.push(et[Nt]),je.push(lr))}var Xt=J(je);return Ue(Ne,je,Xt,be)},Z=xe,X=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Lt=function(et,qe){for(var be=qe.getBlockElements(),Ne=qe.getShortEndedElements(),je=function(Pr){return be[Pr.nodeName]||Ne[Pr.nodeName]},Nt=[],lr="",Xt=new X(et,et);et=Xt.next();)et.nodeType===3?lr+=ee(et.data):je(et)&&lr.length&&(Nt.push(lr),lr="");return lr.length&&Nt.push(lr),Nt},fn=function(et){return et.replace(/\u200B/g,"")},St=function(et){return et.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Xn=function(et,qe){var be=fn(Lt(et,qe).join(`
`));return Z(be.split(""),S).length},pn=function(et,qe){var be=Lt(et,qe).join("");return St(be)},O=function(et,qe){var be=Lt(et,qe).join("").replace(/\s/g,"");return St(be)},On=function(et,qe){return function(){return qe(et.getBody(),et.schema)}},Wt=function(et,qe){return function(){return qe(et.selection.getRng().cloneContents(),et.schema)}},ur=function(et){return On(et,Xn)},ya=function(et){return{body:{getWordCount:ur(et),getCharacterCount:On(et,pn),getCharacterCountWithoutSpaces:On(et,O)},selection:{getWordCount:Wt(et,Xn),getCharacterCount:Wt(et,pn),getCharacterCountWithoutSpaces:Wt(et,O)},getCount:ur(et)}},vo=function(et,qe){et.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(qe.body.getWordCount()),String(qe.selection.getWordCount())],["Characters (no spaces)",String(qe.body.getCharacterCountWithoutSpaces()),String(qe.selection.getCharacterCountWithoutSpaces())],["Characters",String(qe.body.getCharacterCount()),String(qe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},dn=function(et,qe){et.addCommand("mceWordCount",function(){return vo(et,qe)})},fa=tinymce.util.Tools.resolve("tinymce.util.Delay"),oe=function(et,qe){et.fire("wordCountUpdate",{wordCount:{words:qe.body.getWordCount(),characters:qe.body.getCharacterCount(),charactersWithoutSpaces:qe.body.getCharacterCountWithoutSpaces()}})},Xa=function(et,qe){oe(et,qe)},$t=function(et,qe,be){var Ne=fa.debounce(function(){return Xa(et,qe)},be);et.on("init",function(){Xa(et,qe),fa.setEditorTimeout(et,function(){et.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Ne)},0)})},Ze=function(et){var qe=function(){return et.execCommand("mceWordCount")};et.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:qe}),et.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:qe})};function Sr(et){et===void 0&&(et=300),I.add("wordcount",function(qe){var be=ya(qe);return dn(qe,be),Ze(qe),$t(qe,be,et),be})}Sr()})();(function(){var I=function(t){var n=typeof t;return t===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n},S=function(t){return function(n){return I(n)===t}},B=function(t){return function(n){return typeof n===t}},N=function(t){return function(n){return t===n}},ee=S("string"),me=S("object"),Be=S("array"),we=N(null),ge=B("boolean"),It=N(void 0),rt=function(t){return t==null},He=function(t){return!rt(t)},at=B("function"),hr=B("number"),Qe=function(t,n){if(Be(t)){for(var o=0,s=t.length;o<s;++o)if(!n(t[o]))return!1;return!0}return!1},ut=function(){},ke=function(t){return function(){return t()}},J=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(n.apply(null,o))}},Fe=function(t,n){return function(o){return t(n(o))}},se=function(t){return function(){return t}},Ye=function(t){return t},ze=function(t,n){return t===n};function $e(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var p=n.concat(s);return t.apply(null,p)}}var Ge=function(t){return function(n){return!t(n)}},ce=function(t){return function(){throw new Error(t)}},Ue=se(!1),U=se(!0),xe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Z=function(){return Z=Object.assign||function(n){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(n[p]=o[p])}return n},Z.apply(this,arguments)};function X(t,n){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)n.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function Lt(t,n,o){if(o||arguments.length===2)for(var s=0,d=n.length,p;s<d;s++)(p||!(s in n))&&(p||(p=Array.prototype.slice.call(n,0,s)),p[s]=n[s]);return t.concat(p||Array.prototype.slice.call(n))}var fn=function(){return St},St=function(){var t=function(s){return s()},n=Ye,o={fold:function(s,d){return s()},isSome:Ue,isNone:U,getOr:n,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:n,orThunk:t,map:fn,each:ut,bind:fn,exists:Ue,forall:U,filter:function(){return fn()},toArray:function(){return[]},toString:se("none()")};return o}(),Xn=function(t){var n=se(t),o=function(){return d},s=function(p){return p(t)},d={fold:function(p,g){return g(t)},isSome:U,isNone:Ue,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:o,orThunk:o,map:function(p){return Xn(p(t))},each:function(p){p(t)},bind:s,exists:s,forall:s,filter:function(p){return p(t)?d:St},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},pn=function(t){return t==null?St:Xn(t)},O={some:Xn,none:fn,from:pn},On=Array.prototype.slice,Wt=Array.prototype.indexOf,ur=Array.prototype.push,ya=function(t,n){return Wt.call(t,n)},vo=function(t,n){var o=ya(t,n);return o===-1?O.none():O.some(o)},dn=function(t,n){return ya(t,n)>-1},fa=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(n(d,o))return!0}return!1},oe=function(t,n){for(var o=[],s=0;s<t;s++)o.push(n(s));return o},Xa=function(t,n){for(var o=[],s=0;s<t.length;s+=n){var d=On.call(t,s,s+n);o.push(d)}return o},$t=function(t,n){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var p=t[d];s[d]=n(p,d)}return s},Ze=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];n(d,o)}},Sr=function(t,n){for(var o=t.length-1;o>=0;o--){var s=t[o];n(s,o)}},et=function(t,n){for(var o=[],s=[],d=0,p=t.length;d<p;d++){var g=t[d],k=n(g,d)?o:s;k.push(g)}return{pass:o,fail:s}},qe=function(t,n){for(var o=[],s=0,d=t.length;s<d;s++){var p=t[s];n(p,s)&&o.push(p)}return o},be=function(t,n,o){return Sr(t,function(s,d){o=n(o,s,d)}),o},Ne=function(t,n,o){return Ze(t,function(s,d){o=n(o,s,d)}),o},je=function(t,n,o){for(var s=0,d=t.length;s<d;s++){var p=t[s];if(n(p,s))return O.some(p);if(o(p,s))break}return O.none()},Nt=function(t,n){return je(t,n,Ue)},lr=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(n(d,o))return O.some(o)}return O.none()},Xt=function(t){for(var n=[],o=0,s=t.length;o<s;++o){if(!Be(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);ur.apply(n,t[o])}return n},Pr=function(t,n){return Xt($t(t,n))},it=function(t,n){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(n(d,o)!==!0)return!1}return!0},st=function(t){var n=On.call(t,0);return n.reverse(),n},rr=function(t,n){return qe(t,function(o){return!dn(n,o)})},Rr=function(t,n){for(var o={},s=0,d=t.length;s<d;s++){var p=t[s];o[String(p)]=n(p,s)}return o},sn=function(t){return[t]},wn=function(t,n){var o=On.call(t,0);return o.sort(n),o},Gn=function(t,n){return n>=0&&n<t.length?O.some(t[n]):O.none()},Yn=function(t){return Gn(t,0)},Ta=function(t){return Gn(t,t.length-1)},ba=at(Array.from)?Array.from:function(t){return On.call(t)},Zn=function(t,n){for(var o=0;o<t.length;o++){var s=n(t[o],o);if(s.isSome())return s}return O.none()},In=Object.keys,ga=Object.hasOwnProperty,Rn=function(t,n){for(var o=In(t),s=0,d=o.length;s<d;s++){var p=o[s],g=t[p];n(g,p)}},kn=function(t,n){return Ka(t,function(o,s){return{k:s,v:n(o,s)}})},Ka=function(t,n){var o={};return Rn(t,function(s,d){var p=n(s,d);o[p.k]=p.v}),o},ao=function(t){return function(n,o){t[o]=n}},Ca=function(t,n,o,s){var d={};return Rn(t,function(p,g){(n(p,g)?o:s)(p,g)}),d},xn=function(t,n){var o={};return Ca(t,n,ao(o),ut),o},Co=function(t,n){var o=[];return Rn(t,function(s,d){o.push(n(s,d))}),o},Ke=function(t,n){for(var o=In(t),s=0,d=o.length;s<d;s++){var p=o[s],g=t[p];if(n(g,p,t))return O.some(g)}return O.none()},Mt=function(t){return Co(t,Ye)},gt=function(t,n){return fr(t,n)?O.from(t[n]):O.none()},fr=function(t,n){return ga.call(t,n)},un=function(t,n){return fr(t,n)&&t[n]!==void 0&&t[n]!==null},ua=function(t,n,o){return o===void 0&&(o=ze),t.exists(function(s){return o(s,n)})},fi=function(t,n,o){return o===void 0&&(o=ze),xo(t,n,o).getOr(t.isNone()&&n.isNone())},Kn=function(t){for(var n=[],o=function(d){n.push(d)},s=0;s<t.length;s++)t[s].each(o);return n},Sn=function(t){for(var n=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())n.push(s.getOrDie());else return O.none()}return O.some(n)},xo=function(t,n,o){return t.isSome()&&n.isSome()?O.some(o(t.getOrDie(),n.getOrDie())):O.none()},di=function(t,n,o,s){return t.isSome()&&n.isSome()&&o.isSome()?O.some(s(t.getOrDie(),n.getOrDie(),o.getOrDie())):O.none()},Ni=function(t,n){return t!=null?O.some(n(t)):O.none()},po=function(t,n){return t?O.some(n):O.none()},Jo=function(t,n){return t+n},qi=function(t,n){return t.substring(n)},Qo=function(t,n,o){return n===""||t.length>=n.length&&t.substr(o,o+n.length)===n},$o=function(t,n){return oi(t,n)?qi(t,n.length):t},Gi=function(t,n){return Lr(t,n)?t:Jo(t,n)},ra=function(t,n){return t.indexOf(n)!==-1},oi=function(t,n){return Qo(t,n,0)},Lr=function(t,n){return Qo(t,n,t.length-n.length)},Pu=function(t){return function(n){return n.replace(t,"")}},ei=Pu(/^\s+|\s+$/g),vi=function(t){return t.length>0},Ro=function(t){return!vi(t)},Pi=function(t){return t.style!==void 0&&at(t.style.getPropertyValue)},Fu=function(t,n){var o=n||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Do(s.childNodes[0])},pi=function(t,n){var o=n||document,s=o.createElement(t);return Do(s)},Ku=function(t,n){var o=n||document,s=o.createTextNode(t);return Do(s)},Do=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},So=function(t,n,o){return O.from(t.dom.elementFromPoint(n,o)).map(Do)},tr={fromHtml:Fu,fromTag:pi,fromText:Ku,fromDom:Do,fromPoint:So};typeof window<"u"||Function("return this;")();var iu=9,Cu=11,Fi=1,ye=3,Te=function(t){var n=t.dom.nodeName;return n.toLowerCase()},wt=function(t){return t.dom.nodeType},Ft=function(t){return function(n){return wt(n)===t}},Gt=Ft(Fi),vr=Ft(ye),kr=Ft(iu),ln=Ft(Cu),mn=function(t){var n=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return n||(n=!0,o=t.apply(null,s)),o}},Dn=function(t,n,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,p=t.isiOS()&&!d,g=t.isiOS()||t.isAndroid(),k=g||s("(pointer:coarse)"),C=d||!p&&g&&s("(min-device-width:768px)"),E=p||g&&!C,M=n.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,F=!E&&!C&&!M;return{isiPad:se(d),isiPhone:se(p),isTablet:se(C),isPhone:se(E),isTouch:se(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:se(M),isDesktop:se(F)}},ka=function(t,n){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(n))return s}},Va=function(t,n){var o=ka(t,n);if(!o)return{major:0,minor:0};var s=function(d){return Number(n.replace(o,"$"+d))};return cn(s(1),s(2))},To=function(t,n){var o=String(n).toLowerCase();return t.length===0?Ht():Va(t,o)},Ht=function(){return cn(0,0)},cn=function(t,n){return{major:t,minor:n}},da={nu:cn,detect:To,unknown:Ht},Eo=function(t,n){return Zn(n.brands,function(o){var s=o.brand.toLowerCase();return Nt(t,function(d){var p;return s===((p=d.brand)===null||p===void 0?void 0:p.toLowerCase())}).map(function(d){return{current:d.name,version:da.nu(parseInt(o.version,10),0)}})})},Ii=function(t,n){var o=String(n).toLowerCase();return Nt(t,function(s){return s.search(o)})},Wn=function(t,n){return Ii(t,n).map(function(o){var s=da.detect(o.versionRegexes,n);return{current:o.name,version:s}})},gs=function(t,n){return Ii(t,n).map(function(o){var s=da.detect(o.versionRegexes,n);return{current:o.name,version:s}})},Ki=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oo=function(t){return function(n){return ra(n,t)}},Xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ra(t,"edge/")&&ra(t,"chrome")&&ra(t,"safari")&&ra(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ki],search:function(t){return ra(t,"chrome")&&!ra(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ra(t,"msie")||ra(t,"trident")}},{name:"Opera",versionRegexes:[Ki,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oo("firefox")},{name:"Safari",versionRegexes:[Ki,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ra(t,"safari")||ra(t,"mobile/"))&&ra(t,"applewebkit")}}],ii=[{name:"Windows",search:oo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ra(t,"iphone")||ra(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oo("linux"),versionRegexes:[]},{name:"Solaris",search:oo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mi={browsers:se(Xu),oses:se(ii)},Ba="Edge",Yu="Chrome",te="IE",Se="Opera",Je="Firefox",bt="Safari",dr=function(){return Tr({current:void 0,version:da.unknown()})},Tr=function(t){var n=t.current,o=t.version,s=function(d){return function(){return n===d}};return{current:n,version:o,isEdge:s(Ba),isChrome:s(Yu),isIE:s(te),isOpera:s(Se),isFirefox:s(Je),isSafari:s(bt)}},Br={unknown:dr,nu:Tr,edge:se(Ba),chrome:se(Yu),ie:se(te),opera:se(Se),firefox:se(Je),safari:se(bt)},Mn="Windows",G="iOS",Ce="Android",Ie="Linux",ct="OSX",kt="Solaris",br="FreeBSD",Ir="ChromeOS",na=function(){return Tn({current:void 0,version:da.unknown()})},Tn=function(t){var n=t.current,o=t.version,s=function(d){return function(){return n===d}};return{current:n,version:o,isWindows:s(Mn),isiOS:s(G),isAndroid:s(Ce),isOSX:s(ct),isLinux:s(Ie),isSolaris:s(kt),isFreeBSD:s(br),isChromeOS:s(Ir)}},xa={unknown:na,nu:Tn,windows:se(Mn),ios:se(G),android:se(Ce),linux:se(Ie),osx:se(ct),solaris:se(kt),freebsd:se(br),chromeos:se(Ir)},qa=function(t,n,o){var s=mi.browsers(),d=mi.oses(),p=n.bind(function(C){return Eo(s,C)}).orThunk(function(){return Wn(s,t)}).fold(Br.unknown,Br.nu),g=gs(d,t).fold(xa.unknown,xa.nu),k=Dn(g,p,t,o);return{browser:p,os:g,deviceType:k}},xu={detect:qa},Mo=function(t){return window.matchMedia(t).matches},Hr=mn(function(){return xu.detect(navigator.userAgent,O.from(navigator.userAgentData),Mo)}),Zt=function(){return Hr()},Ea=function(t,n,o){return(t.compareDocumentPosition(n)&o)!==0},Bo=function(t,n){return Ea(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},qn=function(t,n){var o=t.dom;if(o.nodeType!==Fi)return!1;var s=o;if(s.matches!==void 0)return s.matches(n);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(n);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(n);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Ns=function(t){return t.nodeType!==Fi&&t.nodeType!==iu&&t.nodeType!==Cu||t.childElementCount===0},Zu=function(t,n){var o=n===void 0?document:n.dom;return Ns(o)?[]:$t(o.querySelectorAll(t),tr.fromDom)},kc=function(t,n){var o=n===void 0?document:n.dom;return Ns(o)?O.none():O.from(o.querySelector(t)).map(tr.fromDom)},va=function(t,n){return t.dom===n.dom},Ci=function(t,n){var o=t.dom,s=n.dom;return o===s?!1:o.contains(s)},Cc=function(t,n){return Bo(t.dom,n.dom)},Su=function(t,n){return Zt().browser.isIE()?Cc(t,n):Ci(t,n)},go=function(t){return tr.fromDom(t.dom.ownerDocument)},Ps=function(t){return kr(t)?t:go(t)},mt=function(t){return tr.fromDom(Ps(t).dom.documentElement)},tc=function(t){return tr.fromDom(Ps(t).dom.defaultView)},yo=function(t){return O.from(t.dom.parentNode).map(tr.fromDom)},pl=function(t){return yo(t)},ys=function(t){return O.from(t.dom.offsetParent).map(tr.fromDom)},P=function(t){return O.from(t.dom.nextSibling).map(tr.fromDom)},x=function(t){return $t(t.dom.childNodes,tr.fromDom)},_=function(t,n){var o=t.dom.childNodes;return O.from(o[n]).map(tr.fromDom)},A=function(t){return _(t,0)},W=function(t,n){return{element:t,offset:n}},le=function(t,n){var o=x(t);return o.length>0&&n<o.length?W(o[n],0):W(t,n)},Le=function(t){return ln(t)&&He(t.dom.host)},Et=at(Element.prototype.attachShadow)&&at(Node.prototype.getRootNode),Mr=se(Et),Zr=Et?function(t){return tr.fromDom(t.dom.getRootNode())}:Ps,or=function(t){return Le(t)?t:tr.fromDom(Ps(t).dom.body)},Dr=function(t){return En(t).isSome()},En=function(t){var n=Zr(t);return Le(n)?O.some(n):O.none()},Cn=function(t){return tr.fromDom(t.dom.host)},an=function(t){if(Mr()&&He(t.target)){var n=tr.fromDom(t.target);if(Gt(n)&&Ja(n)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Yn(o)}}return O.from(t.target)},Ja=function(t){return He(t.dom.shadowRoot)},tn=function(t){var n=vr(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;var o=n.ownerDocument;return En(tr.fromDom(n)).fold(function(){return o.body.contains(n)},Fe(tn,Cn))},Ia=function(){return za(tr.fromDom(document))},za=function(t){var n=t.dom.body;if(n==null)throw new Error("Body is not available yet");return tr.fromDom(n)},xi=function(t,n,o){if(ee(o)||ge(o)||hr(o))t.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Fn=function(t,n,o){xi(t.dom,n,o)},Fs=function(t,n){var o=t.dom;Rn(n,function(s,d){xi(o,d,s)})},bo=function(t,n){var o=t.dom.getAttribute(n);return o===null?void 0:o},No=function(t,n){return O.from(bo(t,n))},Wg=function(t,n){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Xi=function(t,n){t.dom.removeAttribute(n)},ah=function(t,n,o){if(!ee(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Pi(t)&&t.style.setProperty(n,o)},Wc=function(t,n){Pi(t)&&t.style.removeProperty(n)},vn=function(t,n,o){var s=t.dom;ah(s,n,o)},Is=function(t,n){var o=t.dom;Rn(n,function(s,d){ah(o,d,s)})},Ho=function(t,n){var o=t.dom;Rn(n,function(s,d){s.fold(function(){Wc(o,d)},function(p){ah(o,d,p)})})},Vo=function(t,n){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(n);return d===""&&!tn(t)?Si(o,n):d},Si=function(t,n){return Pi(t)?t.style.getPropertyValue(n):""},ui=function(t,n){var o=t.dom,s=Si(o,n);return O.from(s).filter(function(d){return d.length>0})},Tf=function(t){var n={},o=t.dom;if(Pi(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);n[d]=o.style[d]}return n},rc=function(t,n,o){var s=tr.fromTag(t);vn(s,n,o);var d=ui(s,n);return d.isSome()},Aa=function(t,n){var o=t.dom;Wc(o,n),ua(No(t,"style").map(ei),"")&&Xi(t,"style")},fo=function(t){return t.dom.offsetWidth},Iu=function(t,n){var o=function(k,C){if(!hr(C)&&!C.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+C);var E=k.dom;Pi(E)&&(E.style[t]=C+"px")},s=function(k){var C=n(k);if(C<=0||C===null){var E=Vo(k,t);return parseFloat(E)||0}return C},d=s,p=function(k,C){return Ne(C,function(E,M){var F=Vo(k,M),q=F===void 0?0:parseInt(F,10);return isNaN(q)?E:E+q},0)},g=function(k,C,E){var M=p(k,E),F=C>M?C-M:0;return F};return{set:o,get:s,getOuter:d,aggregate:p,max:g}},ml=Iu("height",function(t){var n=t.dom;return tn(t)?n.getBoundingClientRect().height:n.offsetHeight}),hi=function(t){return ml.get(t)},Ls=function(t){return ml.getOuter(t)},qg=function(t,n){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=ml.max(t,n,o);vn(t,"max-height",s+"px")},Ef=function(t,n){var o=function(s,d){return Ef(t+s,n+d)};return{left:t,top:n,translate:o}},Qa=Ef,xc=function(t){var n=t.getBoundingClientRect();return Qa(n.left,n.top)},Hl=function(t,n){return t!==void 0?t:n!==void 0?n:0},Ju=function(t){var n=t.dom.ownerDocument,o=n.body,s=n.defaultView,d=n.documentElement;if(o===t.dom)return Qa(o.offsetLeft,o.offsetTop);var p=Hl(s==null?void 0:s.pageYOffset,d.scrollTop),g=Hl(s==null?void 0:s.pageXOffset,d.scrollLeft),k=Hl(d.clientTop,o.clientTop),C=Hl(d.clientLeft,o.clientLeft);return Xo(t).translate(g-C,p-k)},Xo=function(t){var n=t.dom,o=n.ownerDocument,s=o.body;return s===n?Qa(s.offsetLeft,s.offsetTop):tn(t)?xc(n):Qa(0,0)},Vl=Iu("width",function(t){return t.dom.offsetWidth}),hl=function(t,n){return Vl.set(t,n)},Tu=function(t){return Vl.get(t)},Qu=function(t){return Vl.getOuter(t)},uu=function(t,n){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Vl.max(t,n,o);vn(t,"max-width",s+"px")},hd=function(t,n,o,s,d,p,g){return{target:t,x:n,y:o,stop:s,prevent:d,kill:p,raw:g}},Sc=function(t){var n=tr.fromDom(an(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=J(s,o);return hd(n,t.clientX,t.clientY,o,s,d,t)},Ti=function(t,n){return function(o){t(o)&&n(Sc(o))}},cv=function(t,n,o,s,d){var p=Ti(o,s);return t.dom.addEventListener(n,p,d),{unbind:$e(Af,t,n,p,d)}},Gg=function(t,n,o,s){return cv(t,n,o,s,!1)},zf=function(t,n,o,s){return cv(t,n,o,s,!0)},Af=function(t,n,o,s){t.dom.removeEventListener(n,o,s)},Uo=function(t,n){var o=yo(t);o.each(function(s){s.dom.insertBefore(n.dom,t.dom)})},Of=function(t,n){var o=P(t);o.fold(function(){var s=yo(t);s.each(function(d){Eu(d,n)})},function(s){Uo(s,n)})},Rf=function(t,n){var o=A(t);o.fold(function(){Eu(t,n)},function(s){t.dom.insertBefore(n.dom,s.dom)})},Eu=function(t,n){t.dom.appendChild(n.dom)},gl=function(t,n,o){_(t,o).fold(function(){Eu(t,n)},function(s){Uo(s,n)})},Df=function(t,n){Ze(n,function(o){Uo(t,o)})},yl=function(t,n){Ze(n,function(o){Eu(t,o)})},zo=function(t){t.dom.textContent="",Ze(x(t),function(n){bs(n)})},bs=function(t){var n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},hp=function(t){var n=x(t);n.length>0&&Df(t,n),bs(t)},$s=function(t){var n=t!==void 0?t.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,s=n.body.scrollTop||n.documentElement.scrollTop;return Qa(o,s)},gp=function(t,n,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,n)},Kg=function(t){var n=t===void 0?window:t;return Zt().browser.isFirefox()?O.none():O.from(n.visualViewport)},oh=function(t,n,o,s){return{x:t,y:n,width:o,height:s,right:t+o,bottom:n+s}},Mf=function(t){var n=t===void 0?window:t,o=n.document,s=$s(tr.fromDom(o));return Kg(n).fold(function(){var d=n.document.documentElement,p=d.clientWidth,g=d.clientHeight;return oh(s.left,s.top,p,g)},function(d){return oh(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},Bf=function(t,n){var o=t.view(n);return o.fold(se([]),function(s){var d=t.owner(s),p=Bf(t,d);return[s].concat(p)})},Ul=function(t,n){var o=n.owner(t),s=Bf(n,o);return O.some(s)},hn=function(t){var n,o=t.dom===document?O.none():O.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return o.map(tr.fromDom)},nc=function(t){return go(t)},es=Object.freeze({__proto__:null,view:hn,owner:nc}),zu=function(t){var n=tr.fromDom(document),o=$s(n),s=Ul(t,es);return s.fold($e(Ju,t),function(d){var p=Xo(t),g=be(d,function(k,C){var E=Xo(C);return{left:k.left+E.left,top:k.top+E.top}},{left:0,top:0});return Qa(g.left+p.left+o.left,g.top+p.top+o.top)})},ac=function(t,n,o){return{point:t,width:n,height:o}},ti=function(t,n,o,s){return{x:t,y:n,width:o,height:s}},Ei=function(t,n,o,s){return{x:t,y:n,width:o,height:s,right:t+o,bottom:n+s}},si=function(t){var n=Ju(t),o=Qu(t),s=Ls(t);return Ei(n.left,n.top,o,s)},jl=function(t){var n=zu(t),o=Qu(t),s=Ls(t);return Ei(n.left,n.top,o,s)},su=function(){return Mf(window)},zr=function(t){var n=function(F){return zr(t)},o=function(F){return zr(t)},s=function(F){return zr(F(t))},d=function(F){return zr(t)},p=function(F){F(t)},g=function(F){return F(t)},k=function(F,q){return q(t)},C=function(F){return F(t)},E=function(F){return F(t)},M=function(){return O.some(t)};return{isValue:U,isError:Ue,getOr:se(t),getOrThunk:se(t),getOrDie:se(t),or:n,orThunk:o,fold:k,map:s,mapError:d,each:p,bind:g,exists:C,forall:E,toOptional:M}},Nf=function(t){var n=function(E){return E()},o=function(){return ce(String(t))()},s=Ye,d=function(E){return E()},p=function(E){return Nf(t)},g=function(E){return Nf(E(t))},k=function(E){return Nf(t)},C=function(E,M){return E(t)};return{isValue:Ue,isError:U,getOr:Ye,getOrThunk:n,getOrDie:o,or:s,orThunk:d,fold:C,map:p,mapError:g,each:ut,bind:k,exists:Ue,forall:U,toOptional:O.none}},ih=function(t,n){return t.fold(function(){return Nf(n)},zr)},Ln={value:zr,error:Nf,fromOption:ih},eo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(eo||(eo={}));var yp=function(t,n,o){return t.stype===eo.Error?n(t.serror):o(t.svalue)},qc=function(t){var n=[],o=[];return Ze(t,function(s){yp(s,function(d){return o.push(d)},function(d){return n.push(d)})}),{values:n,errors:o}},_o=function(t,n){return t.stype===eo.Error?{stype:eo.Error,serror:n(t.serror)}:t},bp=function(t,n){return t.stype===eo.Value?{stype:eo.Value,svalue:n(t.svalue)}:t},_s=function(t,n){return t.stype===eo.Value?n(t.svalue):t},lv=function(t,n){return t.stype===eo.Error?n(t.serror):t},Vn=function(t){return{stype:eo.Value,svalue:t}},Lu=function(t){return{stype:eo.Error,serror:t}},P1=function(t){return yp(t,Ln.error,Ln.value)},F1=function(t){return t.fold(Lu,Vn)},Ao={fromResult:F1,toResult:P1,svalue:Vn,partition:qc,serror:Lu,bind:_s,bindError:lv,map:bp,mapError:_o,fold:yp},_p=function(t,n,o,s){return{tag:"field",key:t,newKey:n,presence:o,prop:s}},z=function(t,n){return{tag:"custom",newKey:t,instantiator:n}},H=function(t,n,o){switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},K=function(t,n){return n},ve=function(t,n){var o=me(t)&&me(n);return o?_t(t,n):n},We=function(t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(n.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<n.length;d++){var p=n[d];for(var g in p)fr(p,g)&&(s[g]=t(s[g],p[g]))}return s}},_t=We(ve),Vr=We(K),zn=function(){return{tag:"required",process:{}}},sa=function(t){return{tag:"defaultedThunk",process:t}},Un=function(t){return sa(se(t))},io=function(){return{tag:"option",process:{}}},cu=function(t){return{tag:"mergeWithThunk",process:t}},jo=function(t){return cu(se(t))},hx=function(t,n){return t.length>0?Ao.svalue(_t(n,Vr.apply(void 0,t))):Ao.svalue(n)},qw=function(t){return J(Ao.serror,Xt)(t)},Gw=function(t,n){var o=Ao.partition(t);return o.errors.length>0?qw(o.errors):hx(o.values,n)},gx=function(t){var n=Ao.partition(t);return n.errors.length>0?qw(n.errors):Ao.svalue(n.values)},bl={consolidateObj:Gw,consolidateArr:gx},uh=function(t){return me(t)&&In(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ws=function(t){var n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:se("... (only showing first ten failures)")}]):t;return $t(n,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},wp=function(t,n){return Ao.serror([{path:t,getErrorInfo:n}])},I1=function(t,n,o){return wp(t,function(){return'Could not find valid *required* value for "'+n+'" in '+uh(o)})},sh=function(t,n){return wp(t,function(){return'Choice schema did not contain choice key: "'+n+'"'})},Xg=function(t,n,o){return wp(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+uh(n)})},Kw=function(t,n){return wp(t,function(){return"There are unsupported fields: ["+n.join(", ")+"] specified"})},yx=function(t,n){return wp(t,se(n))},_l=function(t){var n=function(s,d){return Ao.bindError(t(d),function(p){return yx(s,p)})},o=se("val");return{extract:n,toString:o}},ch=_l(Ao.svalue),bx=function(t,n,o,s){return gt(n,o).fold(function(){return I1(t,o,n)},s)},L1=function(t,n,o,s){var d=gt(t,n).getOrThunk(function(){return o(t)});return s(d)},_x=function(t,n,o){return o(gt(t,n))},wx=function(t,n,o,s){var d=gt(t,n).map(function(p){return p===!0?o(t):p});return s(d)},kp=function(t,n,o,s,d){var p=function(k){return d.extract(n.concat([s]),k)},g=function(k){return k.fold(function(){return Ao.svalue(O.none())},function(C){var E=d.extract(n.concat([s]),C);return Ao.map(E,O.some)})};switch(t.tag){case"required":return bx(n,o,s,p);case"defaultedThunk":return L1(o,s,t.process,p);case"option":return _x(o,s,g);case"defaultedOptionThunk":return wx(o,s,t.process,g);case"mergeWithThunk":return L1(o,s,se({}),function(k){var C=_t(t.process(o),k);return p(C)})}},lh=function(t,n,o){for(var s={},d=[],p=0,g=o;p<g.length;p++){var k=g[p];H(k,function(C,E,M,F){var q=kp(M,t,n,C,F);Ao.fold(q,function(Y){d.push.apply(d,Y)},function(Y){s[E]=Y})},function(C,E){s[C]=E(n)})}return d.length>0?Ao.serror(d):Ao.svalue(s)},Xw=function(t){var n=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:n,toString:o}},Yw=function(t){return In(xn(t,He))},Hs=function(t){var n=Kr(t),o=be(t,function(d,p){return H(p,function(g){var k;return _t(d,(k={},k[g]=!0,k))},se(d))},{}),s=function(d,p){var g=ge(p)?[]:Yw(p),k=qe(g,function(C){return!un(o,C)});return k.length===0?n.extract(d,p):Kw(d,k)};return{extract:s,toString:n.toString}},Kr=function(t){var n=function(s,d){return lh(s,d,t)},o=function(){var s=$t(t,function(d){return H(d,function(p,g,k,C){return p+" -> "+C.toString()},function(p,g){return"state("+p+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:n,toString:o}},Pf=function(t){var n=function(s,d){var p=$t(d,function(g,k){return t.extract(s.concat(["["+k+"]"]),g)});return bl.consolidateArr(p)},o=function(){return"array("+t.toString()+")"};return{extract:n,toString:o}},fh=function(t){var n=function(s,d){for(var p=[],g=0,k=t;g<k.length;g++){var C=k[g],E=C.extract(s,d);if(E.stype===eo.Value)return E;p.push(E)}return bl.consolidateArr(p)},o=function(){return"oneOf("+$t(t,function(s){return s.toString()}).join(", ")+")"};return{extract:n,toString:o}},gd=function(t,n){var o=function(p,g){return Pf(_l(t)).extract(p,g)},s=function(p,g){var k=In(g),C=o(p,k);return Ao.bind(C,function(E){var M=$t(E,function(F){return _p(F,F,zn(),n)});return Kr(M).extract(p,g)})},d=function(){return"setOf("+n.toString()+")"};return{extract:s,toString:d}},Cp=function(t,n){var o=mn(n),s=function(p,g){return o().extract(p,g)},d=function(){return o().toString()};return{extract:s,toString:d}},$1=J(Pf,Kr),Gc=se(ch),fv=function(t,n){return _l(function(o){var s=typeof o;return t(o)?Ao.svalue(o):Ao.serror("Expected type: "+n+" but got: "+s)})},xp=fv(hr,"number"),ri=fv(ee,"string"),Yi=fv(ge,"boolean"),dh=fv(at,"function"),Wl=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(n){return Wl(t[n])});default:return!1}},vh=_l(function(t){return Wl(t)?Ao.svalue(t):Ao.serror("Expected value to be acceptable for sending via postMessage")}),Yg=function(t,n,o,s){var d=gt(o,s);return d.fold(function(){return Xg(t,o,s)},function(p){return p.extract(t.concat(["branch: "+s]),n)})},Zg=function(t,n){var o=function(d,p){var g=gt(p,t);return g.fold(function(){return sh(d,t)},function(k){return Yg(d,p,n,k)})},s=function(){return"chooseOn("+t+"). Possible values: "+In(n)};return{extract:o,toString:s}},kx=function(){return Pf(ch)},Sp=function(t){return _l(function(n){return t(n).fold(Ao.serror,Ao.svalue)})},Au=function(t,n){return gd(function(o){return Ao.fromResult(t(o))},n)},Zw=function(t,n,o){var s=n.extract([t],o);return Ao.mapError(s,function(d){return{input:o,errors:d}})},Po=function(t,n,o){return Ao.toResult(Zw(t,n,o))},Kc=function(t){return t.fold(function(n){throw new Error(yd(n))},Ye)},Ua=function(t,n,o){return Kc(Po(t,n,o))},yd=function(t){return`Errors: 
`+ws(t.errors).join(`
`)+`

Input object: `+uh(t.input)},Tc=function(t,n){return Zg(t,kn(n,Kr))},Cx=function(t,n){return Cp(t,n)},zi=_p,ts=z,Jw=function(t){return Sp(function(n){return dn(t,n)?Ln.value(n):Ln.error('Unsupported value: "'+n+'", choose one of "'+t.join(", ")+'".')})},zt=function(t){return zi(t,t,zn(),Gc())},ks=function(t,n){return zi(t,t,zn(),n)},Ff=function(t){return ks(t,xp)},gn=function(t){return ks(t,ri)},oc=function(t,n){return zi(t,t,zn(),Jw(n))},xx=function(t){return ks(t,Yi)},$u=function(t){return ks(t,dh)},Tp=function(t,n){return zi(t,t,io(),_l(function(o){return Ao.serror("The field: "+t+" is forbidden. "+n)}))},ql=function(t,n){return zi(t,t,zn(),Kr(n))},Xc=function(t,n){return zi(t,t,zn(),$1(n))},Ou=function(t,n){return zi(t,t,zn(),Pf(n))},Oa=function(t){return zi(t,t,io(),Gc())},wl=function(t,n){return zi(t,t,io(),n)},dv=function(t){return wl(t,xp)},co=function(t){return wl(t,ri)},bd=function(t){return wl(t,dh)},Vs=function(t,n){return wl(t,Pf(n))},Us=function(t,n){return wl(t,Kr(n))},Sx=function(t,n){return wl(t,Hs(n))},Pe=function(t,n){return zi(t,t,Un(n),Gc())},rs=function(t,n,o){return zi(t,t,Un(n),o)},Cs=function(t,n){return rs(t,n,xp)},Ep=function(t,n){return rs(t,n,ri)},ic=function(t,n,o){return rs(t,n,Jw(o))},to=function(t,n){return rs(t,n,Yi)},lo=function(t,n){return rs(t,n,dh)},xs=function(t,n){return rs(t,n,vh)},If=function(t,n,o){return rs(t,n,Pf(o))},H1=function(t,n,o){return rs(t,n,Kr(o))},Qr=function(t){var n=t,o=function(){return n},s=function(d){n=d};return{get:o,set:s}},Jg=function(t){if(!Be(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var n=[],o={};return Ze(t,function(s,d){var p=In(s);if(p.length!==1)throw new Error("one and only one name per case");var g=p[0],k=s[g];if(o[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(k))throw new Error("case arguments must be an array");n.push(g),o[g]=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var M=C.length;if(M!==k.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+k.length+" ("+k+"), got "+M);var F=function(q){var Y=In(q);if(n.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Y.join(","));var ne=it(n,function(pe){return dn(Y,pe)});if(!ne)throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+n.join(", "));return q[g].apply(null,C)};return{fold:function(){for(var q=[],Y=0;Y<arguments.length;Y++)q[Y]=arguments[Y];if(q.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+q.length);var ne=q[d];return ne.apply(null,C)},match:F,log:function(q){console.log(q,{constructors:n,constructor:g,params:C})}}}}),o},uc={generate:Jg};uc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Qw=function(t){var n=[],o=[];return Ze(t,function(s){s.fold(function(d){n.push(d)},function(d){o.push(d)})}),{errors:n,values:o}},ph=function(t,n){var o={};return Rn(t,function(s,d){dn(n,d)||(o[d]=s)}),o},mh=function(t,n){var o;return o={},o[t]=n,o},V1=function(t){var n={};return Ze(t,function(o){n[o.key]=o.value}),n},U1=function(t,n){return ph(t,n)},Gl=function(t,n){return mh(t,n)},Lf=function(t){return V1(t)},Tx=function(t,n){return t.length===0?Ln.value(n):Ln.value(_t(n,Vr.apply(void 0,t)))},j1=function(t){return Ln.error(Xt(t))},Ex=function(t,n){var o=Qw(t);return o.errors.length>0?j1(o.errors):Tx(o.values,n)},ek=function(t){return at(t)?t:Ue},hh=function(t,n,o){for(var s=t.dom,d=ek(o);s.parentNode;){s=s.parentNode;var p=tr.fromDom(s),g=n(p);if(g.isSome())return g;if(d(p))break}return O.none()},zp=function(t,n,o){var s=n(t),d=ek(o);return s.orThunk(function(){return d(t)?O.none():hh(t,n,d)})},tk=function(t,n){return va(t.element,n.event.target)},Kl={can:U,abort:Ue,run:ut},Ap=function(t){if(!un(t,"can")&&!un(t,"abort")&&!un(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return Z(Z({},Kl),t)},W1=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Ne(t,function(d,p){return d&&n(p).apply(void 0,o)},!0)}},rk=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Ne(t,function(d,p){return d||n(p).apply(void 0,o)},!1)}},zx=function(t){return at(t)?{can:U,abort:Ue,run:t}:t},Ax=function(t){var n=W1(t,function(d){return d.can}),o=rk(t,function(d){return d.abort}),s=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];Ze(t,function(g){g.run.apply(void 0,d)})};return{can:n,abort:o,run:s}},gi=se,Xl=gi("touchstart"),Yc=gi("touchmove"),_d=gi("touchend"),nk=gi("touchcancel"),Zc=gi("mousedown"),vv=gi("mousemove"),q1=gi("mouseout"),G1=gi("mouseup"),$f=gi("mouseover"),Ec=gi("focusin"),lu=gi("focusout"),Qg=gi("keydown"),K1=gi("keyup"),pv=gi("input"),Op=gi("change"),Rp=gi("click"),Ox=gi("transitioncancel"),Dp=gi("transitionend"),X1=gi("transitionstart"),Rx=gi("selectstart"),Wo=function(t){return se("alloy."+t)},ey={tap:Wo("tap")},wd=Wo("focus"),Y1=Wo("blur.post"),Z1=Wo("paste.post"),zc=Wo("receive"),sc=Wo("execute"),mv=Wo("focus.item"),kd=ey.tap,ty=Wo("longpress"),gh=Wo("sandbox.close"),J1=Wo("typeahead.cancel"),hv=Wo("system.init"),ry=Wo("system.touchmove"),Dx=Wo("system.touchend"),Q1=Wo("system.scroll"),cc=Wo("system.resize"),js=Wo("system.attached"),Mp=Wo("system.detached"),Jc=Wo("system.dismissRequested"),Ru=Wo("system.repositionRequested"),ny=Wo("focusmanager.shifted"),Hf=Wo("slotcontainer.visibility"),ak=Wo("change.tab"),fu=Wo("dismiss.tab"),e_=Wo("highlight"),ay=Wo("dehighlight"),Sa=function(t,n){Qc(t,t.element,n,{})},en=function(t,n,o){Qc(t,t.element,n,o)},lc=function(t){Sa(t,sc())},oy=function(t,n,o){Qc(t,n,o,{})},Qc=function(t,n,o,s){var d=Z({target:n},s);t.getSystem().triggerEvent(o,n,d)},ok=function(t,n,o,s){t.getSystem().triggerEvent(o,n,s.event)},ro=function(t){return Lf(t)},t_=function(t,n){return{key:t,value:Ap({abort:n})}},iy=function(t,n){return{key:t,value:Ap({can:n})}},uy=function(t){return{key:t,value:Ap({run:function(n,o){o.event.prevent()}})}},Bt=function(t,n){return{key:t,value:Ap({run:n})}},r_=function(t,n,o){return{key:t,value:Ap({run:function(s,d){n.apply(void 0,[s,d].concat(o))}})}},n_=function(t){return function(n){return Bt(t,n)}},Cd=function(t){return function(n){return{key:t,value:Ap({run:function(o,s){tk(o,s)&&n(o,s)}})}}},yh=function(t,n){return Bt(t,function(o,s){o.getSystem().getByUid(n).each(function(d){ok(d,d.element,t,s)})})},gv=function(t,n,o){var s=n.partUids[o];return yh(t,s)},xd=function(t,n){return Bt(t,function(o,s){var d=s.event,p=o.getSystem().getByDom(d.target).getOrThunk(function(){var g=zp(d.target,function(k){return o.getSystem().getByDom(k).toOptional()},Ue);return g.getOr(o)});n(o,p,s)})},yv=function(t){return Bt(t,function(n,o){o.cut()})},Bp=function(t){return Bt(t,function(n,o){o.stop()})},ci=function(t,n){return Cd(t)(n)},Bn=Cd(js()),fc=Cd(Mp()),ik=Cd(hv()),Ws=n_(sc()),a_=function(t,n){var o=n||document,s=o.createElement("div");return s.innerHTML=t,x(tr.fromDom(s))},Yl=function(t){return t.dom.innerHTML},Vf=function(t,n){var o=go(t),s=o.dom,d=tr.fromDom(s.createDocumentFragment()),p=a_(n,s);yl(d,p),zo(t),Eu(t,d)},Uf=function(t){var n=tr.fromTag("div"),o=tr.fromDom(t.dom.cloneNode(!0));return Eu(n,o),Yl(n)},dc=function(t,n){return tr.fromDom(t.dom.cloneNode(n))},Sd=function(t){return dc(t,!1)},Li=function(t){if(Le(t))return"#shadow-root";var n=Sd(t);return Uf(n)},ns=function(t){return Li(t)},Zl=function(t,n,o){return va(n,t.element)&&!va(n,o)},Td=ro([iy(wd(),function(t,n){var o=n.event,s=o.originator,d=o.target;return Zl(t,s,d)?(console.warn(wd()+` did not get interpreted by the desired target. 
Originator: `+ns(s)+`
Target: `+ns(d)+`
Check the `+wd()+" event handlers"),!1):!0})]),Np=Object.freeze({__proto__:null,events:Td}),bv=0,Nr=function(t){var n=new Date,o=n.getTime(),s=Math.floor(Math.random()*1e9);return bv++,t+"_"+s+bv+String(o)},Zi=se("alloy-id-"),kl=se("data-alloy-id"),Jl=Zi(),bh=kl(),uk=function(t,n){var o=Nr(Jl+t);return sy(n,o),o},sy=function(t,n){Object.defineProperty(t.dom,bh,{value:n,writable:!0})},Ed=function(t){var n=Gt(t)?t.dom[bh]:null;return O.from(n)},zd=function(t){return Nr(t)},Pp=Ye,_h=function(t){var n=function(d){return"The component must be in a context to execute: "+d+(t?`
`+ns(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(n(d))}},s=function(d){return function(){console.warn(n(d))}};return{debugInfo:se("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Ue}},Mx=_h(),vc=function(t,n,o){var s=o.toString(),d=s.indexOf(")")+1,p=s.indexOf("("),g=s.substring(p+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:o_(g.slice(0,1).concat(g.slice(3)))}},t},o_=function(t){return $t(t,function(n){return Lr(n,"/*")?n.substring(0,n.length-2):n})},_v=function(t,n){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),p=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:o_(p)}},t},Ad=function(t,n){var o=n.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),p=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:o_(p.slice(1))}},t},i_=Nr("alloy-premade"),Od=function(t){return Gl(i_,t)},sk=function(t){return gt(t,i_)},Fo=function(t){return Ad(function(n){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,Lt([n.getApis(),n],o,!1))},t)},du={init:function(){return Du({readState:se("No State required")})}},Du=function(t){return t},ck=function(t,n){var o=$t(n,function(d){return Us(d.name(),[zt("config"),Pe("state",du)])}),s=Po("component.behaviours",Kr(o),t.behaviours).fold(function(d){throw new Error(yd(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ye);return{list:n,data:kn(s,function(d){var p=d.map(function(g){return{config:g.config,state:g.state.init(g.config)}});return se(p)})}},cy=function(t){return t.list},Bx=function(t){return t.data},lk=function(t,n){var o={};return Rn(t,function(s,d){Rn(s,function(p,g){var k=gt(o,g).getOr([]);o[g]=k.concat([n(d,p)])})}),o},el=function(t){return{classes:It(t.classes)?[]:t.classes,attributes:It(t.attributes)?{}:t.attributes,styles:It(t.styles)?{}:t.styles}},Nx=function(t,n){return Z(Z({},t),{attributes:Z(Z({},t.attributes),n.attributes),styles:Z(Z({},t.styles),n.styles),classes:t.classes.concat(n.classes)})},Fp=function(t,n,o,s){var d=Z({},n);Ze(o,function(M){d[M.name()]=M.exhibit(t,s)});var p=lk(d,function(M,F){return{name:M,modification:F}}),g=function(M){return be(M,function(F,q){return Z(Z({},q.modification),F)},{})},k=be(p.classes,function(M,F){return F.modification.concat(M)},[]),C=g(p.attributes),E=g(p.styles);return el({classes:k,attributes:C,styles:E})},ly=function(t,n,o,s){try{var d=wn(o,function(p,g){var k=p[n],C=g[n],E=s.indexOf(k),M=s.indexOf(C);if(E===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(s,null,2));if(M===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));return E<M?-1:M<E?1:0});return Ln.value(d)}catch(p){return Ln.error([p])}},Px=function(t,n){return{handler:t,purpose:n}},fk=function(t,n){return{cHandler:t,purpose:n}},u_=function(t,n){return fk($e.apply(void 0,[t.handler].concat(n)),t.purpose)},s_=function(t){return t.cHandler},c_=function(t,n){return{name:t,handler:n}},Fx=function(t,n){var o={};return Ze(t,function(s){o[s.name()]=s.handlers(n)}),o},Rd=function(t,n,o){var s=Z(Z({},o),Fx(n,t));return lk(s,c_)},Dd=function(t,n,o,s){var d=Rd(t,o,s);return dk(d,n)},Ya=function(t){var n=zx(t);return function(o,s){for(var d=[],p=2;p<arguments.length;p++)d[p-2]=arguments[p];var g=[o,s].concat(d);n.abort.apply(void 0,g)?s.stop():n.can.apply(void 0,g)&&n.run.apply(void 0,g)}},fy=function(t,n){return Ln.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify($t(n,function(o){return o.name}),null,2)])},Cl=function(t,n,o){var s=n[o];return s?ly("Event: "+o,"name",t,s).map(function(d){var p=$t(d,function(g){return g.handler});return Ax(p)}):fy(o,t)},dk=function(t,n){var o=Co(t,function(s,d){var p=s.length===1?Ln.value(s[0].handler):Cl(s,n,d);return p.map(function(g){var k=Ya(g),C=s.length>1?qe(n[d],function(E){return fa(s,function(M){return M.name===E})}).join(" > "):s[0].name;return Gl(d,Px(k,C))})});return Ex(o,{})},xl,Ql="alloy.base.behaviour",Md=Kr([zi("dom","dom",zn(),Kr([zt("tag"),Pe("styles",{}),Pe("classes",[]),Pe("attributes",{}),Oa("value"),Oa("innerHtml")])),zt("components"),zt("uid"),Pe("events",{}),Pe("apis",{}),zi("eventOrder","eventOrder",jo((xl={},xl[sc()]=["disabling",Ql,"toggling","typeaheadevents"],xl[wd()]=[Ql,"focusing","keying"],xl[hv()]=[Ql,"disabling","toggling","representing"],xl[pv()]=[Ql,"representing","streaming","invalidating"],xl[Mp()]=[Ql,"representing","item-events","tooltipping"],xl[Zc()]=["focusing",Ql,"item-type-events"],xl[Xl()]=["focusing",Ql,"item-type-events"],xl[$f()]=["item-type-events","tooltipping"],xl[zc()]=["receiving","reflecting","tooltipping"],xl)),Gc()),Oa("domModification")]),dy=function(t){return Po("custom.definition",Md,t)},wh=function(t){return Z(Z({},t.dom),{uid:t.uid,domChildren:$t(t.components,function(n){return n.element})})},vy=function(t){return t.domModification.fold(function(){return el({})},el)},py=function(t){return t.events},wv=function(t,n){var o=bo(t,n);return o===void 0||o===""?[]:o.split(" ")},Ix=function(t,n,o){var s=wv(t,n),d=s.concat([o]);return Fn(t,n,d.join(" ")),!0},my=function(t,n,o){var s=qe(wv(t,n),function(d){return d!==o});return s.length>0?Fn(t,n,s.join(" ")):Xi(t,n),!1},Ip=function(t){return t.dom.classList!==void 0},kh=function(t){return wv(t,"class")},Ch=function(t,n){return Ix(t,"class",n)},l_=function(t,n){return my(t,"class",n)},Ai=function(t,n){Ip(t)?t.dom.classList.add(n):Ch(t,n)},kv=function(t){var n=Ip(t)?t.dom.classList:kh(t);n.length===0&&Xi(t,"class")},yi=function(t,n){if(Ip(t)){var o=t.dom.classList;o.remove(n)}else l_(t,n);kv(t)},as=function(t,n){return Ip(t)&&t.dom.classList.contains(n)},Cv=function(t,n){Ze(n,function(o){Ai(t,o)})},pc=function(t,n){Ze(n,function(o){yi(t,o)})},hy=function(t,n){return it(n,function(o){return as(t,o)})},ef=function(t){return t.dom.value},Lp=function(t,n){if(n===void 0)throw new Error("Value.set was undefined");t.dom.value=n},$p=function(t){var n=tr.fromTag(t.tag);Fs(n,t.attributes),Cv(n,t.classes),Is(n,t.styles),t.innerHtml.each(function(s){return Vf(n,s)});var o=t.domChildren;if(yl(n,o),t.value.each(function(s){Lp(n,s)}),!t.uid)debugger;return sy(n,t.uid),n},vk=function(t){var n=gt(t,"behaviours").getOr({});return Pr(In(n),function(o){var s=n[o];return He(s)?[s.me]:[]})},pk=function(t,n){return ck(t,n)},Lx=function(t){var n=vk(t);return pk(t,n)},$x=function(t,n,o){var s=wh(t),d=vy(t),p={"alloy.base.modification":d},g=n.length>0?Fp(o,p,n,s):d;return Nx(s,g)},Hx=function(t,n,o){var s={"alloy.base.behaviour":py(t)};return Dd(o,t.eventOrder,n,s).getOrDie()},mk=function(t){var n=function(){return Me},o=Qr(Mx),s=Kc(dy(t)),d=Lx(t),p=cy(d),g=Bx(d),k=$x(s,p,g),C=$p(k),E=Hx(s,p,g),M=Qr(s.components),F=function(pt){o.set(pt)},q=function(){o.set(_h(n))},Y=function(){var pt=x(C),ft=Pr(pt,function(De){return o.get().getByDom(De).fold(function(){return[]},sn)});M.set(ft)},ne=function(pt){var ft=g,De=at(ft[pt.name()])?ft[pt.name()]:function(){throw new Error("Could not find "+pt.name()+" in "+JSON.stringify(t,null,2))};return De()},pe=function(pt){return at(g[pt.name()])},Oe=function(){return s.apis},de=function(pt){return g[pt]().map(function(ft){return ft.state.readState()}).getOr("not enabled")},Me={uid:t.uid,getSystem:o.get,config:ne,hasConfigured:pe,spec:t,readState:de,getApis:Oe,connect:F,disconnect:q,element:C,syncComponents:Y,components:M.get,events:E};return Me},gy=function(t){var n=gt(t,"components").getOr([]);return $t(n,wo)},yy=function(t){var n=Pp(t),o=n.events,s=X(n,["events"]),d=gy(s),p=Z(Z({},s),{events:Z(Z({},Np),o),components:d});return Ln.value(mk(p))},vu=function(t){var n=tr.fromText(t);return by({element:n})},by=function(t){var n=Ua("external.component",Hs([zt("element"),Oa("uid")]),t),o=Qr(_h()),s=function(k){o.set(k)},d=function(){o.set(_h(function(){return g}))},p=n.uid.getOrThunk(function(){return zd("external")});sy(n.element,p);var g={uid:p,getSystem:o.get,config:O.none,hasConfigured:Ue,connect:s,disconnect:d,getApis:function(){return{}},element:n.element,spec:t,readState:se("No state"),syncComponents:ut,components:se([]),events:{}};return Od(g)},f_=zd,Ac=function(t){return fr(t,"uid")},wo=function(t){return sk(t).getOrThunk(function(){var n=Ac(t)?t:Z({uid:f_("")},t);return yy(n).getOrDie()})},mc=Od;function Bd(t,n,o,s,d){return t(o,s)?O.some(o):at(d)&&d(o)?O.none():n(o,s,d)}var d_=function(t,n,o){for(var s=t.dom,d=at(o)?o:Ue;s.parentNode;){s=s.parentNode;var p=tr.fromDom(s);if(n(p))return O.some(p);if(d(p))break}return O.none()},_y=function(t,n,o){var s=function(d,p){return p(d)};return Bd(s,d_,t,n,o)},hk=function(t,n){var o=function(d){return n(tr.fromDom(d))},s=Nt(t.dom.childNodes,o);return s.map(tr.fromDom)},$n=function(t,n){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var p=tr.fromDom(s.childNodes[d]);if(n(p))return O.some(p);var g=o(s.childNodes[d]);if(g.isSome())return g}return O.none()};return o(t.dom)},Hp=function(t,n,o){return _y(t,n,o).isSome()},wy=function(t,n,o){return d_(t,function(s){return qn(s,n)},o)},v_=function(t,n){return hk(t,function(o){return qn(o,n)})},Oi=function(t,n){return kc(n,t)},Oc=function(t,n,o){var s=function(d,p){return qn(d,p)};return Bd(s,wy,t,n,o)},gk=function(t){var n=_y(t,function(o){if(!Gt(o))return!1;var s=bo(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return n.bind(function(o){var s=bo(o,"id"),d=Zr(o);return Oi(d,'[aria-owns="'+s+'"]')})},xv=function(){var t=Nr("aria-owns"),n=function(s){Fn(s,"aria-owns",t)},o=function(s){Xi(s,"aria-owns")};return{id:t,link:n,unlink:o}},mo=function(t,n){return gk(n).exists(function(o){return Sv(t,o)})},Sv=function(t,n){return Hp(n,function(o){return va(o,t.element)},Ue)||mo(t,n)},ky="unknown",Vp;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Vp||(Vp={}));var p_=Qr({}),yk=function(t,n){var o=[],s=new Date().getTime();return{logEventCut:function(d,p,g){o.push({outcome:"cut",target:p,purpose:g})},logEventStopped:function(d,p,g){o.push({outcome:"stopped",target:p,purpose:g})},logNoParent:function(d,p,g){o.push({outcome:"no-parent",target:p,purpose:g})},logEventNoHandlers:function(d,p){o.push({outcome:"no-handlers-left",target:p})},logEventResponse:function(d,p,g){o.push({outcome:"response",purpose:g,target:p})},write:function(){var d=new Date().getTime();dn(["mousemove","mouseover","mouseout",hv()],t)||console.log(t,{event:t,time:d-s,target:n.dom,sequence:$t(o,function(p){return dn(["cut","stopped","response"],p.outcome)?"{"+p.purpose+"} "+p.outcome+" at ("+ns(p.target)+")":p.outcome})})}}},xh=function(t,n,o){var s=gt(p_.get(),t).orThunk(function(){var g=In(p_.get());return Zn(g,function(k){return t.indexOf(k)>-1?O.some(p_.get()[k]):O.none()})}).getOr(Vp.NORMAL);switch(s){case Vp.NORMAL:return o(Vx());case Vp.LOGGING:{var d=yk(t,n),p=o(d);return d.write(),p}case Vp.STOP:return!0}},bk=["alloy/data/Fields","alloy/debugging/Debugging"],jf=function(){var t=new Error;if(t.stack!==void 0){var n=t.stack.split(`
`);return Nt(n,function(o){return o.indexOf("alloy")>0&&!fa(bk,function(s){return o.indexOf(s)>-1})}).getOr(ky)}else return ky},os={logEventCut:ut,logEventStopped:ut,logNoParent:ut,logEventNoHandlers:ut,logEventResponse:ut,write:ut},m_=function(t,n,o){return xh(t,n,o)},Vx=se(os),Sl=se([zt("menu"),zt("selectedMenu")]),Wf=se([zt("item"),zt("selectedItem")]);se(Kr(Wf().concat(Sl())));var Cy=se(Kr(Wf())),Ux=ql("initSize",[zt("numColumns"),zt("numRows")]),jx=function(){return ks("markers",Cy())},Tv=function(){return ql("markers",[zt("backgroundMenu")].concat(Sl()).concat(Wf()))},Ev=function(t){return ql("markers",$t(t,zt))},xy=function(t,n,o){return jf(),zi(n,n,o,Sp(function(s){return Ln.value(function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return s.apply(void 0,d)})}))},Ra=function(t){return xy("onHandler",t,Un(ut))},Ri=function(t){return xy("onKeyboardHandler",t,Un(O.none))},is=function(t){return xy("onHandler",t,zn())},Ss=function(t){return xy("onKeyboardHandler",t,zn())},uo=function(t,n){return ts(t,se(n))},Nd=function(t){return ts(t,Ye)},Sy=se(Ux),$i=function(t,n,o,s,d,p,g,k){return k===void 0&&(k=!1),{x:t,y:n,bubble:o,direction:s,placement:d,restriction:p,label:g+"-"+d,alwaysFit:k}},tf=uc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Wx=function(t,n,o,s,d,p,g,k,C){return t.fold(n,o,s,d,p,g,k,C)},qx=function(t,n,o,s){return t.fold(n,n,s,s,n,s,o,o)},Ty=function(t,n,o,s){return t.fold(n,s,n,s,o,o,n,s)},Ey=tf.southeast,h_=tf.southwest,g_=tf.northeast,zv=tf.northwest,Sh=tf.south,y_=tf.north,b_=tf.east,Up=tf.west,pu=function(t,n,o,s){var d=t+n;return d>s?o:d<o?s:d},qs=function(t,n,o){return Math.min(Math.max(t,n),o)},Th=function(t,n){switch(n){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Di=function(t,n){return Rr(["left","right","top","bottom"],function(o){return gt(n,o).map(function(s){return Th(t,s)})})},zy=function(t,n,o){var s=function(C,E){return n[C].map(function(M){var F=C==="top"||C==="bottom",q=F?o.top:o.left,Y=C==="left"||C==="top"?Math.max:Math.min,ne=Y(M,E)+q;return F?qs(ne,t.y,t.bottom):qs(ne,t.x,t.right)}).getOr(E)},d=s("left",t.x),p=s("top",t.y),g=s("right",t.right),k=s("bottom",t.bottom);return Ei(d,p,g-d,k-p)},qf="layout",__=function(t){return t.x},w_=function(t,n){return t.x+t.width/2-n.width/2},_k=function(t,n){return t.x+t.width-n.width},k_=function(t,n){return t.y-n.height},Eh=function(t){return t.y+t.height},Ay=function(t,n){return t.y+t.height/2-n.height/2},wk=function(t){return t.x+t.width},Gx=function(t,n){return t.x-n.width},Mu=function(t,n,o){return $i(__(t),Eh(t),o.southeast(),Ey(),"southeast",Di(t,{left:1,top:3}),qf)},Hi=function(t,n,o){return $i(_k(t,n),Eh(t),o.southwest(),h_(),"southwest",Di(t,{right:0,top:3}),qf)},us=function(t,n,o){return $i(__(t),k_(t,n),o.northeast(),g_(),"northeast",Di(t,{left:1,bottom:2}),qf)},ss=function(t,n,o){return $i(_k(t,n),k_(t,n),o.northwest(),zv(),"northwest",Di(t,{right:0,bottom:2}),qf)},Ts=function(t,n,o){return $i(w_(t,n),k_(t,n),o.north(),y_(),"north",Di(t,{bottom:2}),qf)},bi=function(t,n,o){return $i(w_(t,n),Eh(t),o.south(),Sh(),"south",Di(t,{top:3}),qf)},Oy=function(t,n,o){return $i(wk(t),Ay(t,n),o.east(),b_(),"east",Di(t,{left:0}),qf)},Ry=function(t,n,o){return $i(Gx(t,n),Ay(t,n),o.west(),Up(),"west",Di(t,{right:1}),qf)},C_=function(){return[Mu,Hi,us,ss,bi,Ts,Oy,Ry]},Av=function(){return[Hi,Mu,ss,us,bi,Ts,Oy,Ry]},Pd=function(){return[us,ss,Mu,Hi,Ts,bi]},Dy=function(){return[ss,us,Hi,Mu,Ts,bi]},My=function(){return[Mu,Hi,us,ss,bi,Ts]},By=function(){return[Hi,Mu,ss,us,bi,Ts]},jp=function(t,n){return n.universal?t:qe(t,function(o){return dn(n.channels,o)})},Wp=function(t){return ro([Bt(zc(),function(n,o){var s=t.channels,d=In(s),p=o,g=jp(d,p);Ze(g,function(k){var C=s[k],E=C.schema,M=Ua("channel["+k+`] data
Receiver: `+ns(n.element),E,p.data);C.onReceive(n,M)})})])},kk=Object.freeze({__proto__:null,events:Wp}),rf=[ks("channels",Au(Ln.value,Hs([is("onReceive"),Pe("schema",Gc())])))],Ov=function(t,n,o){return Ws(function(s){o(s,t,n)})},Oo=function(t,n,o){return ik(function(s,d){o(s,t,n)})},Kx=function(t,n,o,s,d,p){var g=Hs(t),k=Us(n,[Sx("config",t)]);return Ck(g,k,n,o,s,d,p)},Xx=function(t,n,o,s,d,p){var g=t,k=Us(n,[wl("config",t)]);return Ck(g,k,n,o,s,d,p)},Ny=function(t,n,o){var s=function(d){for(var p=[],g=1;g<arguments.length;g++)p[g-1]=arguments[g];var k=[d].concat(p);return d.config({name:se(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(C){var E=Array.prototype.slice.call(k,1);return n.apply(void 0,[d,C.config,C.state].concat(E))})};return vc(s,o,n)},Yx=function(t){return{key:t,value:void 0}},Ck=function(t,n,o,s,d,p,g){var k=function(F){return un(F,o)?F[o]():O.none()},C=kn(d,function(F,q){return Ny(o,F,q)}),E=kn(p,function(F,q){return _v(F,q)}),M=Z(Z(Z({},E),C),{revoke:$e(Yx,o),config:function(F){var q=Ua(o+"-config",t,F);return{key:o,value:{config:q,me:M,configAsRaw:mn(function(){return Ua(o+"-config",t,F)}),initialConfig:F,state:g}}},schema:se(n),exhibit:function(F,q){return xo(k(F),gt(s,"exhibit"),function(Y,ne){return ne(q,Y.config,Y.state)}).getOrThunk(function(){return el({})})},name:se(o),handlers:function(F){return k(F).map(function(q){var Y=gt(s,"events").getOr(function(){return{}});return Y(q.config,q.state)}).getOr({})}});return M},sr=function(t){return Lf(t)},Zx=Hs([zt("fields"),zt("name"),Pe("active",{}),Pe("apis",{}),Pe("state",du),Pe("extra",{})]),Mi=function(t){var n=Ua("Creating behaviour: "+t.name,Zx,t);return Kx(n.fields,n.name,n.active,n.apis,n.extra,n.state)},x_=Hs([zt("branchKey"),zt("branches"),zt("name"),Pe("active",{}),Pe("apis",{}),Pe("state",du),Pe("extra",{})]),Rv=function(t){var n=Ua("Creating behaviour: "+t.name,x_,t);return Xx(Tc(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},xk=se(void 0),Hu=Mi({fields:rf,name:"receiving",active:kk}),zh=function(t,n){return el({classes:[],styles:n.useFixed()?{}:{position:"relative"}})},Py=Object.freeze({__proto__:null,exhibit:zh}),Ah=function(){return tr.fromDom(document)},Tl=function(t){return t.dom.focus()},Oh=function(t){return t.dom.blur()},Rh=function(t){var n=Zr(t).dom;return t.dom===n.activeElement},cs=function(t){return t===void 0&&(t=Ah()),O.from(t.dom.activeElement).map(tr.fromDom)},El=function(t){return cs(Zr(t)).filter(function(n){return t.dom.contains(n.dom)})},Sk=function(t,n){var o=Zr(n),s=cs(o).bind(function(p){var g=function(k){return va(p,k)};return g(n)?O.some(n):$n(n,g)}),d=t(n);return s.each(function(p){cs(o).filter(function(g){return va(g,p)}).fold(function(){Tl(p)},ut)}),d},Vu=function(t,n,o,s,d){var p=function(g){return g+"px"};return{position:t,left:n.map(p),top:o.map(p),right:s.map(p),bottom:d.map(p)}},nf=function(t){return Z(Z({},t),{position:O.some(t.position)})},Fd=function(t,n){Ho(t,nf(n))},Dh=uc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),vt=function(t,n,o,s,d,p){var g=n.rect,k=g.x-o,C=g.y-s,E=g.width,M=g.height,F=d-(k+E),q=p-(C+M),Y=O.some(k),ne=O.some(C),pe=O.some(F),Oe=O.some(q),de=O.none();return Wx(n.direction,function(){return Vu(t,Y,ne,de,de)},function(){return Vu(t,de,ne,pe,de)},function(){return Vu(t,Y,de,de,Oe)},function(){return Vu(t,de,de,pe,Oe)},function(){return Vu(t,Y,ne,de,de)},function(){return Vu(t,Y,de,de,Oe)},function(){return Vu(t,Y,ne,de,de)},function(){return Vu(t,de,ne,pe,de)})},Gf=function(t,n){return t.fold(function(){var o=n.rect;return Vu("absolute",O.some(o.x),O.some(o.y),O.none(),O.none())},function(o,s,d,p){return vt("absolute",n,o,s,d,p)},function(o,s,d,p){return vt("fixed",n,o,s,d,p)})},qp=function(t,n){var o=$e(zu,n),s=t.fold(o,o,function(){var g=$s();return zu(n).translate(-g.left,-g.top)}),d=Qu(n),p=Ls(n);return Ei(s.left,s.top,d,p)},Jx=function(t,n){return n.fold(function(){return t.fold(su,su,Ei)},function(o){return t.fold(o,o,function(){var s=o(),d=Fy(t,s.x,s.y);return Ei(d.left,d.top,s.width,s.height)})})},Fy=function(t,n,o){var s=Qa(n,o),d=function(){var p=$s();return s.translate(-p.left,-p.top)};return t.fold(se(s),se(s),d)},tl=function(t,n,o,s){return t.fold(n,o,s)};Dh.none;var Iy=Dh.relative,S_=Dh.fixed,T_=function(t,n){return{anchorBox:t,origin:n}},Ly=function(t,n){return T_(t,n)},E_="data-alloy-placement",z_=function(t,n){Fn(t,E_,n)},A_=function(t){return No(t,E_)},O_=function(t){return Xi(t,E_)},Dv=uc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Tk=function(t,n){var o=n.x,s=n.y,d=n.right,p=n.bottom,g=t.x,k=t.y,C=t.right,E=t.bottom,M=t.width,F=t.height,q=g>=o&&g<=d,Y=k>=s&&k<=p,ne=q&&Y,pe=C<=d&&C>=o,Oe=E<=p&&E>=s,de=pe&&Oe,Me=Math.min(M,g>=o?d-g:C-o),pt=Math.min(F,k>=s?p-k:E-s);return{originInBounds:ne,sizeInBounds:de,visibleW:Me,visibleH:pt}},Qx=function(t,n){var o=n.x,s=n.y,d=n.right,p=n.bottom,g=t.x,k=t.y,C=t.width,E=t.height,M=Math.max(o,d-C),F=Math.max(s,p-E),q=qs(g,o,M),Y=qs(k,s,F),ne=Math.min(q+C,d)-q,pe=Math.min(Y+E,p)-Y;return Ei(q,Y,ne,pe)},eS=function(t,n,o){var s=se(n.bottom-o.y),d=se(o.bottom-n.y),p=qx(t,d,d,s),g=se(n.right-o.x),k=se(o.right-n.x),C=Ty(t,k,k,g);return{maxWidth:C,maxHeight:p}},Gp=function(t,n,o,s){var d=t.bubble,p=d.offset,g=zy(s,t.restriction,p),k=t.x+p.left,C=t.y+p.top,E=Ei(k,C,n,o),M=Tk(E,g),F=M.originInBounds,q=M.sizeInBounds,Y=M.visibleW,ne=M.visibleH,pe=F&&q,Oe=pe?E:Qx(E,g),de=Oe.width>0&&Oe.height>0,Me=eS(t.direction,Oe,s),pt=Me.maxWidth,ft=Me.maxHeight,De={rect:Oe,maxHeight:ft,maxWidth:pt,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:C};return pe||t.alwaysFit?Dv.fit(De):Dv.nofit(De,Y,ne,de)},Kp=function(t,n,o,s,d,p){var g=s.width,k=s.height,C=function(M,F,q,Y,ne){var pe=M(o,s,d,t,p),Oe=Gp(pe,g,k,p);return Oe.fold(se(Oe),function(de,Me,pt,ft){var De=ne===ft?pt>Y||Me>q:!ne&&ft;return De?Oe:Dv.nofit(F,q,Y,ne)})},E=Ne(n,function(M,F){var q=$e(C,F);return M.fold(se(M),q)},Dv.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Ey(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return E.fold(Ye,Ye)},$y=function(t){var n=Qr(O.none()),o=function(){return n.get().each(t)},s=function(){o(),n.set(O.none())},d=function(){return n.get().isSome()},p=function(){return n.get()},g=function(k){o(),n.set(O.some(k))};return{clear:s,isSet:d,get:p,set:g}},R_=function(){return $y(function(t){return t.destroy()})},Xp=function(){return $y(function(t){return t.unbind()})},D_=function(){var t=R_(),n=function(o){return t.get().each(o)};return Z(Z({},t),{run:n})},Yo=function(){var t=$y(ut),n=function(o){return t.get().each(o)};return Z(Z({},t),{on:n})},Mh=U,ni=function(t,n,o){return Gg(t,n,Mh,o)},Hy=function(t,n,o){return zf(t,n,Mh,o)},Mv=Sc,M_=["top","bottom","right","left"],Bh="data-alloy-transition-timer",B_=function(t,n){return hy(t,n.classes)},Ek=function(t,n,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==n[d]})},tS=function(t,n){var o=function(s){return parseFloat(s).toFixed(3)};return Ke(n,function(s,d){var p=t[d].map(o),g=s.map(o);return!fi(p,g)}).isSome()},zk=function(t){var n=function(p){var g=Vo(t,p),k=ee(g)?g.split(/\s*,\s*/):[];return qe(k,vi)},o=function(p){if(ee(p)&&/^[\d.]+/.test(p)){var g=parseFloat(p);return Lr(p,"ms")?g:g*1e3}else return 0},s=n("transition-delay"),d=n("transition-duration");return Ne(d,function(p,g,k){var C=o(s[k])+o(g);return Math.max(p,C)},0)},rS=function(t,n){var o=Xp(),s=Xp(),d,p=function(M){var F,q=(F=M.raw.pseudoElement)!==null&&F!==void 0?F:"";return va(M.target,t)&&Ro(q)&&dn(M_,M.raw.propertyName)},g=function(M){if(rt(M)||p(M)){o.clear(),s.clear();var F=M==null?void 0:M.raw.type;(rt(F)||F===Dp())&&(clearTimeout(d),Xi(t,Bh),pc(t,n.classes))}},k=function(){o.set(ni(t,Dp(),g)),s.set(ni(t,Ox(),g))};if("ontransitionstart"in t.dom)var C=ni(t,X1(),function(M){p(M)&&(C.unbind(),k())});else k();var E=zk(t);requestAnimationFrame(function(){d=setTimeout(g,E+17),Fn(t,Bh,d)})},Vy=function(t,n){Cv(t,n.classes),No(t,Bh).each(function(o){clearTimeout(parseInt(o,10)),Xi(t,Bh)}),rS(t,n)},Nh=function(t,n,o,s,d,p){var g=Ek(s,d,p);if(g||B_(t,s)){vn(t,"position",o.position);var k=qp(n,t),C=Gf(n,Z(Z({},d),{rect:k})),E=Rr(M_,function(M){return C[M]});tS(o,E)&&(Ho(t,E),g&&Vy(t,s),fo(t))}else pc(t,s.classes)},nS=function(t){return{width:Qu(t),height:Ls(t)}},Ak=function(t,n,o,s){Aa(n,"max-height"),Aa(n,"max-width");var d=nS(n);return Kp(n,s.preference,t,d,o,s.bounds)},N_=function(t,n){var o=n.classes;pc(t,o.off),Cv(t,o.on)},aS=function(t,n,o){var s=o.maxHeightFunction;s(t,n.maxHeight)},oS=function(t,n,o){var s=o.maxWidthFunction;s(t,n.maxWidth)},Uy=function(t,n,o){var s=Gf(o.origin,n);o.transition.each(function(d){Nh(t,o.origin,s,d,n,o.lastPlacement)}),Fd(t,s)},P_=function(t,n){z_(t,n.placement)},mu=function(t,n){qg(t,Math.floor(n))},Yp=se(function(t,n){mu(t,n),Is(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Zp=se(function(t,n){mu(t,n)}),Ok=function(t,n,o){return t[n]===void 0?o:t[n]},iS=function(t,n,o,s,d,p,g,k){var C=Ok(g,"maxHeightFunction",Yp()),E=Ok(g,"maxWidthFunction",ut),M=t.anchorBox,F=t.origin,q={bounds:Jx(F,p),origin:F,preference:s,maxHeightFunction:C,maxWidthFunction:E,lastPlacement:d,transition:k};return Ph(M,n,o,q)},Ph=function(t,n,o,s){var d=Ak(t,n,o,s);return Uy(n,d,s),P_(n,d),N_(n,d),aS(n,d,s),oS(n,d,s),{layout:d.layout,placement:d.placement}},Fh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Bv=function(t,n,o,s){s===void 0&&(s=1);var d=t*s,p=n*s,g=function(C){return gt(o,C).getOr([])},k=function(C,E,M){var F=rr(Fh,M);return{offset:Qa(C,E),classesOn:Pr(M,g),classesOff:Pr(F,g)}};return{southeast:function(){return k(-t,n,["top","alignLeft"])},southwest:function(){return k(t,n,["top","alignRight"])},south:function(){return k(-t/2,n,["top","alignCentre"])},northeast:function(){return k(-t,-n,["bottom","alignLeft"])},northwest:function(){return k(t,-n,["bottom","alignRight"])},north:function(){return k(-t/2,-n,["bottom","alignCentre"])},east:function(){return k(t,-n/2,["valignCentre","left"])},west:function(){return k(-t,-n/2,["valignCentre","right"])},insetNortheast:function(){return k(d,p,["top","alignLeft","inset"])},insetNorthwest:function(){return k(-d,p,["top","alignRight","inset"])},insetNorth:function(){return k(-d/2,p,["top","alignCentre","inset"])},insetSoutheast:function(){return k(d,-p,["bottom","alignLeft","inset"])},insetSouthwest:function(){return k(-d,-p,["bottom","alignRight","inset"])},insetSouth:function(){return k(-d/2,-p,["bottom","alignCentre","inset"])},insetEast:function(){return k(-d,-p/2,["valignCentre","right","inset"])},insetWest:function(){return k(d,-p/2,["valignCentre","left","inset"])}}},jy=function(){return Bv(0,0,{})},Ih=Ye,F_=function(t,n){return function(o){return uS(o)==="rtl"?n:t}},uS=function(t){return Vo(t,"direction")==="rtl"?"rtl":"ltr"},af;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(af||(af={}));var Wy="data-alloy-vertical-dir",sS=function(t){return Hp(t,function(n){return Gt(n)&&bo(n,"data-alloy-vertical-dir")===af.BottomToTop})},Id=function(){return Us("layouts",[zt("onLtr"),zt("onRtl"),Oa("onBottomLtr"),Oa("onBottomRtl")])},Ld=function(t,n,o,s,d,p,g){var k=g.map(sS).getOr(!1),C=n.layouts.map(function(Y){return Y.onLtr(t)}),E=n.layouts.map(function(Y){return Y.onRtl(t)}),M=k?n.layouts.bind(function(Y){return Y.onBottomLtr.map(function(ne){return ne(t)})}).or(C).getOr(d):C.getOr(o),F=k?n.layouts.bind(function(Y){return Y.onBottomRtl.map(function(ne){return ne(t)})}).or(E).getOr(p):E.getOr(s),q=F_(M,F);return q(t)},cS=function(t,n,o){var s=n.hotspot,d=qp(o,s.element),p=Ld(t.element,n,My(),By(),Pd(),Dy(),O.some(n.hotspot.element));return O.some(Ih({anchorBox:d,bubble:n.bubble.getOr(jy()),overrides:n.overrides,layouts:p,placer:O.none()}))},qy=[zt("hotspot"),Oa("bubble"),Pe("overrides",{}),Id(),uo("placement",cS)],Gy=function(t,n,o){var s=Fy(o,n.x,n.y),d=Ei(s.left,s.top,n.width,n.height),p=Ld(t.element,n,C_(),Av(),C_(),Av(),O.none());return O.some(Ih({anchorBox:d,bubble:n.bubble,overrides:n.overrides,layouts:p,placer:O.none()}))},Ky=[zt("x"),zt("y"),Pe("height",0),Pe("width",0),Pe("bubble",jy()),Pe("overrides",{}),Id(),uo("placement",Gy)],Ji=uc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Rk=function(t){return t.fold(Ye,function(n,o,s){return n.translate(-o,-s)})},I_=function(t){return t.fold(Ye,Ye)},Dk=function(t){return Ne(t,function(n,o){return n.translate(o.left,o.top)},Qa(0,0))},Mk=function(t){var n=$t(t,Rk);return Dk(n)},zl=function(t){var n=$t(t,I_);return Dk(n)},Kf=Ji.screen,Bk=Ji.absolute,Nk=function(t,n,o){var s=tc(o.root).dom,d=function(p){var g=go(p),k=go(t.element);return va(g,k)};return O.from(s.frameElement).map(tr.fromDom).filter(d).map(Ju)},L_=function(t,n,o){var s=go(t.element),d=$s(s),p=Nk(t,n,o).getOr(d);return Bk(p,d.left,d.top)},Xy=function(t,n,o,s){var d=Kf(Qa(t,n));return O.some(ac(d,o,s))},Pk=function(t,n,o,s,d){return t.map(function(p){var g=[n,p.point],k=tl(s,function(){return zl(g)},function(){return zl(g)},function(){return Mk(g)}),C=ti(k.left,k.top,p.width,p.height),E=o.showAbove?Pd():My(),M=o.showAbove?Dy():By(),F=Ld(d,o,E,M,E,M,O.none());return Ih({anchorBox:C,bubble:o.bubble.getOr(jy()),overrides:o.overrides,layouts:F,placer:O.none()})})},Jp=function(t,n,o){var s=L_(t,o,n);return n.node.filter(tn).bind(function(d){var p=d.dom.getBoundingClientRect(),g=Xy(p.left,p.top,p.width,p.height),k=n.node.getOr(t.element);return Pk(g,s,n,o,k)})},lS=[zt("node"),zt("root"),Oa("bubble"),Id(),Pe("overrides",{}),Pe("showAbove",!1),uo("placement",Jp)],Lh="\uFEFF",fS=" ",Qp=function(t,n,o,s){return{start:t,soffset:n,finish:o,foffset:s}},Nv={create:Qp},$_=uc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fk=function(t,n,o,s){return t.fold(n,o,s)},dS=function(t){return t.fold(Ye,Ye,Ye)},Ik=$_.before,Lk=$_.on,H_=$_.after,vS={before:Ik,on:Lk,after:H_,cata:Fk,getStart:dS},Yy=uc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pS=function(t){return Yy.exact(t.start,t.soffset,t.finish,t.foffset)},$h=function(t){return t.match({domRange:function(n){return tr.fromDom(n.startContainer)},relative:function(n,o){return vS.getStart(n)},exact:function(n,o,s,d){return n}})},mS=Yy.domRange,hS=Yy.relative,gS=Yy.exact,Zy=function(t){var n=$h(t);return tc(n)},yS=Nv.create,em={domRange:mS,relative:hS,exact:gS,exactFromRange:pS,getWin:Zy,range:yS},$k=function(t,n){n.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},bS=function(t,n){n.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},V_=function(t,n,o){var s=t.document.createRange();return $k(s,n),bS(s,o),s},Hk=function(t,n,o,s,d){var p=t.document.createRange();return p.setStart(n.dom,o),p.setEnd(s.dom,d),p},U_=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Vk=function(t){var n=t.getClientRects(),o=n.length>0?n[0]:t.getBoundingClientRect();return o.width>0||o.height>0?O.some(o).map(U_):O.none()},Uk=function(t){var n=t.getBoundingClientRect();return n.width>0||n.height>0?O.some(n).map(U_):O.none()},tm=uc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),j_=function(t,n,o){return n(tr.fromDom(o.startContainer),o.startOffset,tr.fromDom(o.endContainer),o.endOffset)},W_=function(t,n){return n.match({domRange:function(o){return{ltr:se(o),rtl:O.none}},relative:function(o,s){return{ltr:mn(function(){return V_(t,o,s)}),rtl:mn(function(){return O.some(V_(t,s,o))})}},exact:function(o,s,d,p){return{ltr:mn(function(){return Hk(t,o,s,d,p)}),rtl:mn(function(){return O.some(Hk(t,d,p,o,s))})}}})},_S=function(t,n){var o=n.ltr();if(o.collapsed){var s=n.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return tm.rtl(tr.fromDom(d.endContainer),d.endOffset,tr.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return j_(t,tm.ltr,o)})}else return j_(t,tm.ltr,o)},wS=function(t,n){var o=W_(t,n);return _S(t,o)},q_=function(t,n){var o=wS(t,n);return o.match({ltr:function(s,d,p,g){var k=t.document.createRange();return k.setStart(s.dom,d),k.setEnd(p.dom,g),k},rtl:function(s,d,p,g){var k=t.document.createRange();return k.setStart(p.dom,g),k.setEnd(s.dom,d),k}})};tm.ltr,tm.rtl;var kS=function(t,n){var o=function(p){if(!t(p))throw new Error("Can only get "+n+" value of a "+n+" node");return s(p).getOr("")},s=function(p){return t(p)?O.from(p.dom.nodeValue):O.none()},d=function(p,g){if(!t(p))throw new Error("Can only set raw "+n+" value of a "+n+" node");p.dom.nodeValue=g};return{get:o,getOption:s,set:d}},jk=kS(vr,"text"),$d=function(t){return jk.get(t)},rm=function(t){return jk.getOption(t)},Wk=function(t){return Te(t)==="img"?1:rm(t).fold(function(){return x(t).length},function(n){return n.length})},CS=function(t){return rm(t).filter(function(n){return n.trim().length!==0||n.indexOf(fS)>-1}).isSome()},qk=["img","br"],xS=function(t){var n=CS(t);return n||dn(qk,Te(t))},G_=function(t){return nm(t,xS)},nm=function(t,n){var o=function(s){for(var d=x(s),p=d.length-1;p>=0;p--){var g=d[p];if(n(g))return O.some(g);var k=o(g);if(k.isSome())return k}return O.none()};return o(t)},Uu=function(t,n){return Zu(n,t)},K_=function(t,n,o,s){var d=go(t),p=d.dom.createRange();return p.setStart(t.dom,n),p.setEnd(o.dom,s),p},am=function(t,n,o,s){var d=K_(t,n,o,s),p=va(t,o)&&n===s;return d.collapsed&&!p},Pv=function(t){return O.from(t.getSelection())},Jy=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return O.some(Nv.create(tr.fromDom(n.startContainer),n.startOffset,tr.fromDom(o.endContainer),o.endOffset))}else return O.none()},SS=function(t){if(t.anchorNode===null||t.focusNode===null)return Jy(t);var n=tr.fromDom(t.anchorNode),o=tr.fromDom(t.focusNode);return am(n,t.anchorOffset,o,t.focusOffset)?O.some(Nv.create(n,t.anchorOffset,o,t.focusOffset)):Jy(t)},Gk=function(t){return Pv(t).filter(function(n){return n.rangeCount>0}).bind(SS)},X_=function(t,n){var o=q_(t,n);return Vk(o)},Es=function(t,n){var o=q_(t,n);return Uk(o)},Hh=function(t,n){return{element:t,offset:n}},TS=function(t,n){var o=x(t);if(o.length===0)return Hh(t,n);if(n<o.length)return Hh(o[n],0);var s=o[o.length-1],d=vr(s)?$d(s).length:x(s).length;return Hh(s,d)},Fv=function(t,n){return vr(t)?Hh(t,n):TS(t,n)},Hd=function(t,n){var o=n.getSelection.getOrThunk(function(){return function(){return Gk(t)}});return o().map(function(s){var d=Fv(s.start,s.soffset),p=Fv(s.finish,s.foffset);return em.range(d.element,d.offset,p.element,p.offset)})},om=function(t,n,o){var s=tc(n.root).dom,d=L_(t,o,n),p=Hd(s,n).bind(function(C){var E=Es(s,em.exactFromRange(C)).orThunk(function(){var M=tr.fromText(Lh);Uo(C.start,M);var F=X_(s,em.exact(M,0,M,1));return bs(M),F});return E.bind(function(M){return Xy(M.left,M.top,M.width,M.height)})}),g=Hd(s,n).bind(function(C){return Gt(C.start)?O.some(C.start):pl(C.start)}),k=g.getOr(t.element);return Pk(p,d,n,o,k)},Vd=[Oa("getSelection"),zt("root"),Oa("bubble"),Id(),Pe("overrides",{}),Pe("showAbove",!1),uo("placement",om)],Al="link-layout",Ol=function(t){return t.x+t.width},Qy=function(t,n){return t.x-n.width},eb=function(t,n){return t.y-n.height+t.height},Y_=function(t){return t.y},im=function(t,n,o){return $i(Ol(t),Y_(t),o.southeast(),Ey(),"southeast",Di(t,{left:0,top:2}),Al)},um=function(t,n,o){return $i(Qy(t,n),Y_(t),o.southwest(),h_(),"southwest",Di(t,{right:1,top:2}),Al)},sm=function(t,n,o){return $i(Ol(t),eb(t,n),o.northeast(),g_(),"northeast",Di(t,{left:0,bottom:3}),Al)},Bu=function(t,n,o){return $i(Qy(t,n),eb(t,n),o.northwest(),zv(),"northwest",Di(t,{right:1,bottom:3}),Al)},cm=function(){return[im,um,sm,Bu]},lm=function(){return[um,im,Bu,sm]},tb=function(t,n,o){var s=qp(o,n.item.element),d=Ld(t.element,n,cm(),lm(),cm(),lm(),O.none());return O.some(Ih({anchorBox:s,bubble:jy(),overrides:n.overrides,layouts:d,placer:O.none()}))},ES=[zt("item"),Id(),Pe("overrides",{}),uo("placement",tb)],Z_=Tc("type",{selection:Vd,node:lS,hotspot:qy,submenu:ES,makeshift:Ky}),rb=[Ou("classes",ri),ic("mode","all",["all","layout","placement"])],hu=[Pe("useFixed",Ue),Oa("getBounds")],zS=[ks("anchor",Z_),Us("transition",rb)],of=function(){var t=document.documentElement;return S_(0,0,t.clientWidth,t.clientHeight)},nb=function(t){var n=Ju(t.element),o=t.element.dom.getBoundingClientRect();return Iy(n.left,n.top,o.width,o.height)},J_=function(t,n,o,s,d,p,g){var k=Ly(o.anchorBox,n);return iS(k,d.element,o.bubble,o.layouts,p,s,o.overrides,g)},fm=function(t,n,o,s,d){Q_(t,n,o,s,d,O.none())},Q_=function(t,n,o,s,d,p){var g=p.map(si);return Vh(t,n,o,s,d,g)},Vh=function(t,n,o,s,d,p){var g=Ua("placement.info",Kr(zS),d),k=g.anchor,C=s.element,E=o.get(s.uid);Sk(function(){vn(C,"position","fixed");var M=ui(C,"visibility");vn(C,"visibility","hidden");var F=n.useFixed()?of():nb(t),q=k.placement,Y=p.map(se).or(n.getBounds);q(t,k,F).each(function(ne){var pe=ne.placer.getOr(J_),Oe=pe(t,F,ne,Y,s,E,g.transition);o.set(s.uid,Oe)}),M.fold(function(){Aa(C,"visibility")},function(ne){vn(C,"visibility",ne)}),ui(C,"left").isNone()&&ui(C,"top").isNone()&&ui(C,"right").isNone()&&ui(C,"bottom").isNone()&&ua(ui(C,"position"),"fixed")&&Aa(C,"position")},C)},AS=function(t,n,o){return n.useFixed()?"fixed":"absolute"},Kk=function(t,n,o,s){var d=s.element;Ze(["position","left","right","top","bottom"],function(p){return Aa(d,p)}),O_(d),o.clear(s.uid)},Xk=Object.freeze({__proto__:null,position:fm,positionWithin:Q_,positionWithinBounds:Vh,getMode:AS,reset:Kk}),OS=function(){var t={},n=function(d,p){t[d]=p},o=function(d){return gt(t,d)},s=function(d){He(d)?delete t[d]:t={}};return Du({readState:function(){return t},clear:s,set:n,get:o})},dm=Object.freeze({__proto__:null,init:OS}),Zo=Mi({fields:hu,name:"positioning",active:Py,apis:Xk,state:dm}),ab=function(t){Sa(t,Mp());var n=t.components();Ze(n,ab)},ob=function(t){var n=t.components();Ze(n,ob),Sa(t,js())},e0=function(t,n){Eu(t.element,n.element)},Yk=function(t){Ze(t.components(),function(n){return bs(n.element)}),zo(t.element),t.syncComponents()},t0=function(t,n){var o=t.components();Yk(t);var s=rr(o,n);Ze(s,function(d){ab(d),t.getSystem().removeFromWorld(d)}),Ze(n,function(d){d.getSystem().isConnected()?e0(t,d):(t.getSystem().addToWorld(d),e0(t,d),tn(t.element)&&ob(d)),t.syncComponents()})},Iv=function(t,n){ib(t,n,Eu)},ib=function(t,n,o){t.getSystem().addToWorld(n),o(t.element,n.element),tn(t.element)&&ob(n),t.syncComponents()},zs=function(t){ab(t),bs(t.element),t.getSystem().removeFromWorld(t)},Rl=function(t){var n=yo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});zs(t),n.each(function(o){o.syncComponents()})},ub=function(t){var n=t.components();Ze(n,zs),zo(t.element),t.syncComponents()},Xf=function(t,n){Dl(t,n,Eu)},rl=function(t,n){Dl(t,n,Of)},Dl=function(t,n,o){o(t,n.element);var s=x(n.element);Ze(s,function(d){n.getByDom(d).each(ob)})},ju=function(t){var n=x(t.element);Ze(n,function(o){t.getByDom(o).each(ab)}),bs(t.element)},Rc=function(t,n,o,s){o.get().each(function(g){ub(t)});var d=n.getAttachPoint(t);Iv(d,t);var p=t.getSystem().build(s);return Iv(t,p),o.set(p),p},vm=function(t,n,o,s){var d=Rc(t,n,o,s);return n.onOpen(t,d),d},uf=function(t,n,o,s){return o.get().map(function(){return Rc(t,n,o,s)})},Lv=function(t,n,o,s,d){t2(t,n),vm(t,n,o,s),d(),r2(t,n)},Zk=function(t,n,o){o.get().each(function(s){ub(t),Rl(t),n.onClose(t,s),o.clear()})},Jk=function(t,n,o){return o.isOpen()},RS=function(t,n,o,s){return Jk(t,n,o)&&o.get().exists(function(d){return n.isPartOf(t,d,s)})},DS=function(t,n,o){return o.get()},Qk=function(t,n,o,s){ui(t.element,n).fold(function(){Xi(t.element,o)},function(d){Fn(t.element,o,d)}),vn(t.element,n,s)},e2=function(t,n,o){No(t.element,o).fold(function(){return Aa(t.element,n)},function(s){return vn(t.element,n,s)})},t2=function(t,n,o){var s=n.getAttachPoint(t);vn(t.element,"position",Zo.getMode(s)),Qk(t,"visibility",n.cloakVisibilityAttr,"hidden")},MS=function(t){return fa(["top","left","right","bottom"],function(n){return ui(t,n).isSome()})},r2=function(t,n,o){MS(t.element)||Aa(t.element,"position"),e2(t,"visibility",n.cloakVisibilityAttr)},BS=Object.freeze({__proto__:null,cloak:t2,decloak:r2,open:vm,openWhileCloaked:Lv,close:Zk,isOpen:Jk,isPartOf:RS,getState:DS,setContent:uf}),n2=function(t,n){return ro([Bt(gh(),function(o,s){Zk(o,t,n)})])},a2=Object.freeze({__proto__:null,events:n2}),r0=[Ra("onOpen"),Ra("onClose"),zt("isPartOf"),zt("getAttachPoint"),Pe("cloakVisibilityAttr","data-precloak-visibility")],o2=function(){var t=Yo(),n=se("not-implemented");return Du({readState:n,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},NS=Object.freeze({__proto__:null,init:o2}),pa=Mi({fields:r0,name:"sandboxing",active:a2,apis:BS,state:NS}),$v=se("dismiss.popups"),pm=se("reposition.popups"),n0=se("mouse.released"),PS=Hs([Pe("isExtraPart",Ue),Us("fireEventInstead",[Pe("event",Jc())])]),As=function(t){var n,o=Ua("Dismissal",PS,t);return n={},n[$v()]={schema:Hs([zt("target")]),onReceive:function(s,d){if(pa.isOpen(s)){var p=pa.isPartOf(s,d.target)||o.isExtraPart(s,d.target);p||o.fireEventInstead.fold(function(){return pa.close(s)},function(g){return Sa(s,g.event)})}}},n},FS=Hs([Us("fireEventInstead",[Pe("event",Ru())]),$u("doReposition")]),Hv=function(t){var n,o=Ua("Reposition",FS,t);return n={},n[pm()]={onReceive:function(s){pa.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Sa(s,d.event)})}},n},Ud=function(t,n,o){n.store.manager.onLoad(t,n,o)},sb=function(t,n,o){n.store.manager.onUnload(t,n,o)},cb=function(t,n,o,s){n.store.manager.setValue(t,n,o,s)},IS=function(t,n,o){return n.store.manager.getValue(t,n,o)},i2=function(t,n,o){return o},lb=Object.freeze({__proto__:null,onLoad:Ud,onUnload:sb,setValue:cb,getValue:IS,getState:i2}),a0=function(t,n){var o=t.resetOnDom?[Bn(function(s,d){Ud(s,t,n)}),fc(function(s,d){sb(s,t,n)})]:[Oo(t,n,Ud)];return ro(o)},mm=Object.freeze({__proto__:null,events:a0}),fb=function(){var t=Qr(null),n=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Du({set:t.set,get:t.get,isNotSet:o,clear:s,readState:n})},LS=function(){var t=ut;return Du({readState:t})},sf=function(){var t=Qr({}),n=Qr({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},s=function(){t.set({}),n.set({})},d=function(g){return gt(t.get(),g).orThunk(function(){return gt(n.get(),g)})},p=function(g){var k=t.get(),C=n.get(),E={},M={};Ze(g,function(F){E[F.value]=F,gt(F,"meta").each(function(q){gt(q,"text").each(function(Y){M[Y]=F})})}),t.set(Z(Z({},k),E)),n.set(Z(Z({},C),M))};return Du({readState:o,lookup:d,update:p,clear:s})},o0=function(t){return t.store.manager.state(t)},i0=Object.freeze({__proto__:null,memory:fb,dataset:sf,manual:LS,init:o0}),hm=function(t,n,o,s){var d=n.store;o.update([s]),d.setValue(t,s),n.onSetValue(t,s)},u0=function(t,n,o){var s=n.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},Uh=function(t,n,o){var s=n.store;s.initialValue.each(function(d){hm(t,n,o,d)})},u2=function(t,n,o){o.clear()},$S=[Oa("initialValue"),zt("getFallbackEntry"),zt("getDataKey"),zt("setValue"),uo("manager",{setValue:hm,getValue:u0,onLoad:Uh,onUnload:u2,state:sf})],cf=function(t,n,o){return n.store.getValue(t)},Gs=function(t,n,o,s){n.store.setValue(t,s),n.onSetValue(t,s)},gu=function(t,n,o){n.store.initialValue.each(function(s){n.store.setValue(t,s)})},HS=[zt("getValue"),Pe("setValue",ut),Oa("initialValue"),uo("manager",{setValue:Gs,getValue:cf,onLoad:gu,onUnload:ut,state:du.init})],s0=function(t,n,o,s){o.set(s),n.onSetValue(t,s)},gm=function(t,n,o){return o.get()},c0=function(t,n,o){n.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},jh=function(t,n,o){o.clear()},l0=[Oa("initialValue"),uo("manager",{setValue:s0,getValue:gm,onLoad:c0,onUnload:jh,state:fb})],VS=[rs("store",{mode:"memory"},Tc("mode",{memory:l0,manual:HS,dataset:$S})),Ra("onSetValue"),Pe("resetOnDom",!1)],gr=Mi({fields:VS,name:"representing",active:mm,apis:lb,extra:{setValueFrom:function(t,n){var o=gr.getValue(n);gr.setValue(t,o)}},state:i0}),Bi=function(t,n){return H1(t,{},$t(n,function(o){return Tp(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([ts("dump",Ye)]))},ym=function(t){return t.dump},Qi=function(t,n){return Z(Z({},sr(n)),t.dump)},Dc={field:Bi,augment:Qi,get:ym},f0="placeholder",Wh=uc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),db=function(t){return fr(t,"uiType")},vb=function(t,n,o,s){return t.exists(function(d){return d!==o.owner})?Wh.single(!0,se(o)):gt(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+In(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},pb=function(t,n,o,s){return db(o)&&o.uiType===f0?vb(t,n,o,s):Wh.single(!1,se(o))},jd=function(t,n,o,s){var d=pb(t,n,o,s);return d.fold(function(p,g){var k=db(o)?g(n,o.config,o.validated):g(n),C=gt(k,"components").getOr([]),E=Pr(C,function(M){return jd(t,n,M,s)});return[Z(Z({},k),{components:E})]},function(p,g){if(db(o)){var k=g(n,o.config,o.validated),C=o.validated.preprocess.getOr(Ye);return C(k)}else return g(n)})},qh=function(t,n,o,s){return Pr(o,function(d){return jd(t,n,d,s)})},d0=function(t,n){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,n},p=function(){return n.fold(function(g,k){return g},function(g,k){return g})};return{name:se(t),required:p,used:s,replace:d}},v0=function(t,n,o,s){var d=kn(s,function(g,k){return d0(k,g)}),p=qh(t,n,o,d);return Rn(d,function(g){if(g.used()===!1&&g.required())throw new Error("Placeholder: "+g.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(n.components,null,2))}),p},p0=Wh.single,US=Wh.multiple,s2=se(f0),Yf=uc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),lf=Pe("factory",{sketch:Ye}),Vv=Pe("schema",[]),bm=zt("name"),m0=zi("pname","pname",sa(function(t){return"<alloy."+Nr(t.name)+">"}),Gc()),mb=ts("schema",function(){return[Oa("preprocess")]}),ff=Pe("defaults",se({})),nl=Pe("overrides",se({})),Wd=Kr([lf,Vv,bm,m0,ff,nl]),qd=Kr([lf,Vv,bm,ff,nl]),Uv=Kr([lf,Vv,bm,m0,ff,nl]),_m=Kr([lf,mb,bm,zt("unit"),m0,ff,nl]),h0=function(t){return t.fold(O.some,O.none,O.some,O.some)},g0=function(t){var n=function(o){return o.name};return t.fold(n,n,n,n)},y0=function(t){return t.fold(Ye,Ye,Ye,Ye)},hb=function(t,n){return function(o){var s=Ua("Converting part type",n,o);return t(s)}},yu=hb(Yf.required,Wd),hc=hb(Yf.external,qd),Mc=hb(Yf.optional,Uv),df=hb(Yf.group,_m),wm=se("entirety"),gb=Object.freeze({__proto__:null,required:yu,external:hc,optional:Mc,group:df,asNamedPart:h0,name:g0,asCommon:y0,original:wm}),Gd=function(t,n,o,s){return _t(n.defaults(t,o,s),o,{uid:t.partUids[n.name]},n.overrides(t,o,s))},jv=function(t,n,o){var s={},d={};return Ze(o,function(p){p.fold(function(g){s[g.pname]=p0(!0,function(k,C,E){return g.factory.sketch(Gd(k,g,C,E))})},function(g){var k=n.parts[g.name];d[g.name]=se(g.factory.sketch(Gd(n,g,k[wm()]),k))},function(g){s[g.pname]=p0(!1,function(k,C,E){return g.factory.sketch(Gd(k,g,C,E))})},function(g){s[g.pname]=US(!0,function(k,C,E){var M=k[g.name];return $t(M,function(F){return g.factory.sketch(_t(g.defaults(k,F,E),F,g.overrides(k,F)))})})})}),{internals:se(s),externals:se(d)}},Wv=function(t,n){var o={};return Ze(n,function(s){h0(s).each(function(d){var p=jS(t,d.pname);o[d.name]=function(g){var k=Ua("Part: "+d.name+" in "+t,Kr(d.schema),g);return Z(Z({},p),{config:g,validated:k})}})}),o},jS=function(t,n){return{uiType:s2(),owner:t,name:n}},b0=function(t,n,o){return{uiType:s2(),owner:t,name:n,config:o,validated:{}}},c2=function(t){return Pr(t,function(n){return n.fold(O.none,O.some,O.none,O.none).map(function(o){return ql(o.name,o.schema.concat([Nd(wm())]))}).toArray()})},l2=function(t){return $t(t,g0)},_0=function(t,n,o){return jv(t,n,o)},w0=function(t,n,o){return v0(O.some(t),n,n.components,o)},Za=function(t,n,o){var s=n.partUids[o];return t.getSystem().getByUid(s).toOptional()},vf=function(t,n,o){return Za(t,n,o).getOrDie("Could not find part: "+o)},f2=function(t,n,o){var s={},d=n.partUids,p=t.getSystem();return Ze(o,function(g){s[g]=se(p.getByUid(d[g]))}),s},d2=function(t,n){var o=t.getSystem();return kn(n.partUids,function(s,d){return se(o.getByUid(s))})},v2=function(t){return In(t.partUids)},yb=function(t,n,o){var s={},d=n.partUids,p=t.getSystem();return Ze(o,function(g){s[g]=se(p.getByUid(d[g]).getOrDie())}),s},k0=function(t,n){var o=l2(n);return Lf($t(o,function(s){return{key:s,value:t+"-"+s}}))},Gh=function(t){return zi("partUids","partUids",cu(function(n){return k0(n.uid,t)}),Gc())},on=Object.freeze({__proto__:null,generate:Wv,generateOne:b0,schemas:c2,names:l2,substitutes:_0,components:w0,defaultUids:k0,defaultUidsSchema:Gh,getAllParts:d2,getAllPartNames:v2,getPart:Za,getPartOrDie:vf,getParts:f2,getPartsOrDie:yb}),WS=function(t,n){var o=t.length>0?[ql("parts",t)]:[];return o.concat([zt("uid"),Pe("dom",{}),Pe("components",[]),Nd("originalSpec"),Pe("debug.sketcher",{})]).concat(n)},C0=function(t,n,o,s,d){var p=WS(s,d);return Ua(t+" [SpecSchema]",Hs(p.concat(n)),o)},p2=function(t,n,o,s){var d=m2(s),p=C0(t,n,d,[],[]);return o(p,d)},x0=function(t,n,o,s,d){var p=m2(d),g=c2(o),k=Gh(o),C=C0(t,n,p,g,[k]),E=_0(t,C,o),M=w0(t,C,E.internals());return s(C,M,p,E.externals())},qS=function(t){return fr(t,"uid")},m2=function(t){return qS(t)?t:Z(Z({},t),{uid:zd("uid")})},S0=function(t){return t.uid!==void 0},T0=Hs([zt("name"),zt("factory"),zt("configFields"),Pe("apis",{}),Pe("extraApis",{})]),GS=Hs([zt("name"),zt("factory"),zt("configFields"),zt("partFields"),Pe("apis",{}),Pe("extraApis",{})]),gc=function(t){var n=Ua("Sketcher for "+t.name,T0,t),o=function(p){return p2(n.name,n.configFields,n.factory,p)},s=kn(n.apis,Fo),d=kn(n.extraApis,function(p,g){return _v(p,g)});return Z(Z({name:n.name,configFields:n.configFields,sketch:o},s),d)},ls=function(t){var n=Ua("Sketcher for "+t.name,GS,t),o=function(g){return x0(n.name,n.configFields,n.partFields,n.factory,g)},s=Wv(n.name,n.partFields),d=kn(n.apis,Fo),p=kn(n.extraApis,function(g,k){return _v(g,k)});return Z(Z({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:o,parts:s},d),p)},pf=function(t){return Te(t)==="input"&&bo(t,"type")!=="radio"||Te(t)==="textarea"},KS=function(t,n,o){return n.find(t)},XS=Object.freeze({__proto__:null,getCurrent:KS}),E0=[zt("find")],aa=Mi({fields:E0,name:"composing",apis:XS}),YS=["input","button","textarea","select"],bb=function(t,n,o){var s=n.disabled()?z0:Kd;s(t,n)},_b=function(t,n){return n.useNative===!0&&dn(YS,Te(t.element))},wb=function(t){return Wg(t.element,"disabled")},Kh=function(t){Fn(t.element,"disabled","disabled")},Zf=function(t){Xi(t.element,"disabled")},Xh=function(t){return bo(t.element,"aria-disabled")==="true"},ZS=function(t){Fn(t.element,"aria-disabled","true")},h2=function(t){Fn(t.element,"aria-disabled","false")},z0=function(t,n,o){n.disableClass.each(function(d){Ai(t.element,d)});var s=_b(t,n)?Kh:ZS;s(t),n.onDisabled(t)},Kd=function(t,n,o){n.disableClass.each(function(d){yi(t.element,d)});var s=_b(t,n)?Zf:h2;s(t),n.onEnabled(t)},kb=function(t,n){return _b(t,n)?wb(t):Xh(t)},g2=function(t,n,o,s){var d=s?z0:Kd;d(t,n)},JS=Object.freeze({__proto__:null,enable:Kd,disable:z0,isDisabled:kb,onLoad:bb,set:g2}),QS=function(t,n){return el({classes:n.disabled()?n.disableClass.toArray():[]})},e8=function(t,n){return ro([t_(sc(),function(o,s){return kb(o,t)}),Oo(t,n,bb)])},qv=Object.freeze({__proto__:null,exhibit:QS,events:e8}),A0=[lo("disabled",Ue),Pe("useNative",!0),Oa("disableClass"),Ra("onDisabled"),Ra("onEnabled")],Jr=Mi({fields:A0,name:"disabling",active:qv,apis:JS}),y2=function(t,n,o,s){var d=Uu(t.element,"."+n.highlightClass);Ze(d,function(p){fa(s,function(g){return g.element===p})||(yi(p,n.highlightClass),t.getSystem().getByDom(p).each(function(g){n.onDehighlight(t,g),Sa(g,ay())}))})},b2=function(t,n,o){return y2(t,n,o,[])},t8=function(t,n,o,s){O0(t,n,o,s)&&(yi(s.element,n.highlightClass),n.onDehighlight(t,s),Sa(s,ay()))},Yh=function(t,n,o,s){y2(t,n,o,[s]),O0(t,n,o,s)||(Ai(s.element,n.highlightClass),n.onHighlight(t,s),Sa(s,e_()))},Wu=function(t,n,o){D0(t,n).each(function(s){Yh(t,n,o,s)})},Zh=function(t,n,o){M0(t,n).each(function(s){Yh(t,n,o,s)})},r8=function(t,n,o,s){w2(t,n,o,s).fold(function(d){throw d},function(d){Yh(t,n,o,d)})},_2=function(t,n,o,s){var d=k2(t,n),p=Nt(d,s);p.each(function(g){Yh(t,n,o,g)})},O0=function(t,n,o,s){return as(s.element,n.highlightClass)},R0=function(t,n,o){return Oi(t.element,"."+n.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},w2=function(t,n,o,s){var d=Uu(t.element,"."+n.itemClass);return O.from(d[s]).fold(function(){return Ln.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},D0=function(t,n,o){return Oi(t.element,"."+n.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},M0=function(t,n,o){var s=Uu(t.element,"."+n.itemClass),d=s.length>0?O.some(s[s.length-1]):O.none();return d.bind(function(p){return t.getSystem().getByDom(p).toOptional()})},Jf=function(t,n,o,s){var d=Uu(t.element,"."+n.itemClass),p=lr(d,function(g){return as(g,n.highlightClass)});return p.bind(function(g){var k=pu(g,s,0,d.length-1);return t.getSystem().getByDom(d[k]).toOptional()})},n8=function(t,n,o){return Jf(t,n,o,-1)},a8=function(t,n,o){return Jf(t,n,o,1)},k2=function(t,n,o){var s=Uu(t.element,"."+n.itemClass);return Kn($t(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},o8=Object.freeze({__proto__:null,dehighlightAll:b2,dehighlight:t8,highlight:Yh,highlightFirst:Wu,highlightLast:Zh,highlightAt:r8,highlightBy:_2,isHighlighted:O0,getHighlighted:R0,getFirst:D0,getLast:M0,getPrevious:n8,getNext:a8,getCandidates:k2}),Jh=[zt("highlightClass"),zt("itemClass"),Ra("onHighlight"),Ra("onDehighlight")],Na=Mi({fields:Jh,name:"highlighting",apis:o8}),Cb=[8],Qf=[9],al=[13],Xd=[27],Os=[32],xb=[37],Gv=[38],km=[39],Yd=[40],i8=function(t,n,o){var s=st(t.slice(0,n)),d=st(t.slice(n+1));return Nt(s.concat(d),o)},C2=function(t,n,o){var s=st(t.slice(0,n));return Nt(s,o)},u8=function(t,n,o){var s=t.slice(0,n),d=t.slice(n+1);return Nt(d.concat(s),o)},s8=function(t,n,o){var s=t.slice(n+1);return Nt(s,o)},Jn=function(t){return function(n){var o=n.raw;return dn(t,o.which)}},ol=function(t){return function(n){return it(t,function(o){return o(n)})}},Cm=function(t){var n=t.raw;return n.shiftKey===!0},x2=function(t){var n=t.raw;return n.ctrlKey===!0},Qh=Ge(Cm),ma=function(t,n){return{matches:t,classification:n}},S2=function(t,n){var o=Nt(t,function(s){return s.matches(n)});return o.map(function(s){return s.classification})},T2=function(t,n,o){var s=n.exists(function(d){return o.exists(function(p){return va(p,d)})});s||en(t,ny(),{prevFocus:n,newFocus:o})},eg=function(){var t=function(o){return El(o.element)},n=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var p=t(o);T2(o,d,p)};return{get:t,set:n}},E2=function(){var t=function(o){return Na.getHighlighted(o).map(function(s){return s.element})},n=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(ut,function(g){Na.highlight(o,g)});var p=t(o);T2(o,d,p)};return{get:t,set:n}},tg;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(tg||(tg={}));var Kv=function(t,n,o,s,d){var p=function(){return t.concat([Pe("focusManager",eg()),rs("focusInside","onFocus",Sp(function(E){return dn(["onFocus","onEnterOrSpace","onApi"],E)?Ln.value(E):Ln.error("Invalid value for focusInside")})),uo("handler",C),uo("state",n),uo("sendFocusIn",d)])},g=function(E,M,F,q,Y){var ne=F(E,M,q,Y);return S2(ne,M.event).bind(function(pe){return pe(E,M,q,Y)})},k=function(E,M){var F=E.focusInside!==tg.OnFocusMode?O.none():d(E).map(function(ne){return Bt(wd(),function(pe,Oe){ne(pe,E,M),Oe.stop()})}),q=function(ne,pe){var Oe=Jn(Os.concat(al))(pe.event);E.focusInside===tg.OnEnterOrSpaceMode&&Oe&&tk(ne,pe)&&d(E).each(function(de){de(ne,E,M),pe.stop()})},Y=[Bt(Qg(),function(ne,pe){g(ne,pe,o,E,M).fold(function(){q(ne,pe)},function(Oe){pe.stop()})}),Bt(K1(),function(ne,pe){g(ne,pe,s,E,M).each(function(Oe){pe.stop()})})];return ro(F.toArray().concat(Y))},C={schema:p,processKey:g,toEvents:k};return C},B0=function(t){var n=[Oa("onEscape"),Oa("onEnter"),Pe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pe("firstTabstop",0),Pe("useTabstopAt",U),Oa("visibilitySelector")].concat([t]),o=function(pe,Oe){var de=pe.visibilitySelector.bind(function(Me){return Oc(Oe,Me)}).getOr(Oe);return hi(de)>0},s=function(pe,Oe){var de=Uu(pe.element,Oe.selector),Me=qe(de,function(pt){return o(Oe,pt)});return O.from(Me[Oe.firstTabstop])},d=function(pe,Oe){return Oe.focusManager.get(pe).bind(function(de){return Oc(de,Oe.selector)})},p=function(pe,Oe){return o(pe,Oe)&&pe.useTabstopAt(Oe)},g=function(pe,Oe,de){s(pe,Oe).each(function(Me){Oe.focusManager.set(pe,Me)})},k=function(pe,Oe,de,Me,pt){return pt(Oe,de,function(ft){return p(Me,ft)}).fold(function(){return Me.cyclic?O.some(!0):O.none()},function(ft){return Me.focusManager.set(pe,ft),O.some(!0)})},C=function(pe,Oe,de,Me){var pt=Uu(pe.element,de.selector);return d(pe,de).bind(function(ft){var De=lr(pt,$e(va,ft));return De.bind(function(ot){return k(pe,pt,ot,de,Me)})})},E=function(pe,Oe,de){var Me=de.cyclic?i8:C2;return C(pe,Oe,de,Me)},M=function(pe,Oe,de){var Me=de.cyclic?u8:s8;return C(pe,Oe,de,Me)},F=function(pe,Oe,de){return de.onEnter.bind(function(Me){return Me(pe,Oe)})},q=function(pe,Oe,de){return de.onEscape.bind(function(Me){return Me(pe,Oe)})},Y=se([ma(ol([Cm,Jn(Qf)]),E),ma(Jn(Qf),M),ma(Jn(Xd),q),ma(ol([Qh,Jn(al)]),F)]),ne=se([]);return Kv(n,du.init,Y,ne,function(){return O.some(g)})},N0=B0(ts("cyclic",Ue)),z2=B0(ts("cyclic",U)),A2=function(t,n,o){return oy(t,o,sc()),O.some(!0)},Zd=function(t,n,o){var s=pf(o)&&Jn(Os)(n.event);return s?O.none():A2(t,n,o)},Xv=function(t,n){return O.some(!0)},P0=[Pe("execute",Zd),Pe("useSpace",!1),Pe("useEnter",!0),Pe("useControlEnter",!1),Pe("useDown",!1)],O2=function(t,n,o){return o.execute(t,n,t.element)},Sb=function(t,n,o,s){var d=o.useSpace&&!pf(t.element)?Os:[],p=o.useEnter?al:[],g=o.useDown?Yd:[],k=d.concat(p).concat(g);return[ma(Jn(k),O2)].concat(o.useControlEnter?[ma(ol([x2,Jn(al)]),O2)]:[])},c8=function(t,n,o,s){return o.useSpace&&!pf(t.element)?[ma(Jn(Os),Xv)]:[]},xm=Kv(P0,du.init,Sb,c8,function(){return O.none()}),F0=function(){var t=Yo(),n=function(d,p){t.set({numRows:d,numColumns:p})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Du({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:o,getNumColumns:s})},I0=function(t){return t.state(t)},R2=Object.freeze({__proto__:null,flatgrid:F0,init:I0}),L0=function(t){return function(n,o,s,d){var p=t(n.element);return H0(p,n,o,s,d)}},Tb=function(t,n){var o=F_(t,n);return L0(o)},Eb=function(t,n){var o=F_(n,t);return L0(o)},$0=function(t){return function(n,o,s,d){return H0(t,n,o,s,d)}},H0=function(t,n,o,s,d){var p=s.focusManager.get(n).bind(function(g){return t(n.element,g,s,d)});return p.map(function(g){return s.focusManager.set(n,g),!0})},D2=$0,Yv=$0,Sm=$0,M2=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},B2=function(t){return!M2(t.dom)},zb=function(t,n){return lr(t,n).map(function(o){return{index:o,candidates:t}})},N2=function(t,n,o){var s=function(g){return va(g,n)},d=Uu(t,o),p=qe(d,B2);return zb(p,s)},P2=function(t,n){return lr(t,function(o){return va(n,o)})},V0=function(t,n,o,s){var d=Math.floor(n/o),p=n%o;return s(d,p).bind(function(g){var k=g.row*o+g.column;return k>=0&&k<t.length?O.some(t[k]):O.none()})},F2=function(t,n,o,s,d){return V0(t,n,s,function(p,g){var k=p===o-1,C=k?t.length-p*s:s,E=pu(g,d,0,C-1);return O.some({row:p,column:E})})},I2=function(t,n,o,s,d){return V0(t,n,s,function(p,g){var k=pu(p,d,0,o-1),C=k===o-1,E=C?t.length-k*s:s,M=qs(g,0,E-1);return O.some({row:k,column:M})})},L2=function(t,n,o,s){return F2(t,n,o,s,1)},l8=function(t,n,o,s){return F2(t,n,o,s,-1)},$2=function(t,n,o,s){return I2(t,n,o,s,-1)},U0=function(t,n,o,s){return I2(t,n,o,s,1)},Tm=[zt("selector"),Pe("execute",Zd),Ri("onEscape"),Pe("captureTab",!1),Sy()],f8=function(t,n,o){Oi(t.element,n.selector).each(function(s){n.focusManager.set(t,s)})},H2=function(t,n){return n.focusManager.get(t).bind(function(o){return Oc(o,n.selector)})},V2=function(t,n,o,s){return H2(t,o).bind(function(d){return o.execute(t,n,d)})},Bc=function(t){return function(n,o,s,d){return N2(n,o,s.selector).bind(function(p){return t(p.candidates,p.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},U2=function(t,n,o){return o.captureTab?O.some(!0):O.none()},j2=function(t,n,o){return o.onEscape(t,n)},Ab=Bc(l8),Ob=Bc(L2),j0=Bc($2),Zv=Bc(U0),Em=se([ma(Jn(xb),Tb(Ab,Ob)),ma(Jn(km),Eb(Ab,Ob)),ma(Jn(Gv),D2(j0)),ma(Jn(Yd),Yv(Zv)),ma(ol([Cm,Jn(Qf)]),U2),ma(ol([Qh,Jn(Qf)]),U2),ma(Jn(Xd),j2),ma(Jn(Os.concat(al)),V2)]),W2=se([ma(Jn(Os),Xv)]),q2=Kv(Tm,F0,Em,W2,function(){return O.some(f8)}),Rb=function(t,n,o,s){var d=function(g){return Te(g)==="button"&&bo(g,"disabled")==="disabled"},p=function(g,k,C){var E=pu(k,s,0,C.length-1);return E===g?O.none():d(C[E])?p(g,E,C):O.from(C[E])};return N2(t,o,n).bind(function(g){var k=g.index,C=g.candidates;return p(k,k,C)})},d8=[zt("selector"),Pe("getInitial",O.none),Pe("execute",Zd),Ri("onEscape"),Pe("executeOnMove",!1),Pe("allowVertical",!0)],Db=function(t,n){return n.focusManager.get(t).bind(function(o){return Oc(o,n.selector)})},rg=function(t,n,o){return Db(t,o).bind(function(s){return o.execute(t,n,s)})},Mb=function(t,n,o){n.getInitial(t).orThunk(function(){return Oi(t.element,n.selector)}).each(function(s){n.focusManager.set(t,s)})},G2=function(t,n,o){return Rb(t,o.selector,n,-1)},Bb=function(t,n,o){return Rb(t,o.selector,n,1)},Nc=function(t){return function(n,o,s,d){return t(n,o,s,d).bind(function(){return s.executeOnMove?rg(n,o,s):O.some(!0)})}},v8=function(t,n,o){return o.onEscape(t,n)},W0=function(t,n,o,s){var d=xb.concat(o.allowVertical?Gv:[]),p=km.concat(o.allowVertical?Yd:[]);return[ma(Jn(d),Nc(Tb(G2,Bb))),ma(Jn(p),Nc(Eb(G2,Bb))),ma(Jn(al),rg),ma(Jn(Os),rg),ma(Jn(Xd),v8)]},q0=se([ma(Jn(Os),Xv)]),Nb=Kv(d8,du.init,W0,q0,function(){return O.some(Mb)}),zm=function(t,n,o){return O.from(t[n]).bind(function(s){return O.from(s[o]).map(function(d){return{rowIndex:n,columnIndex:o,cell:d}})})},Pb=function(t,n,o,s){var d=t[n],p=d.length,g=pu(o,s,0,p-1);return zm(t,n,g)},G0=function(t,n,o,s){var d=pu(o,s,0,t.length-1),p=t[d].length,g=qs(n,0,p-1);return zm(t,d,g)},K2=function(t,n,o,s){var d=t[n],p=d.length,g=qs(o+s,0,p-1);return zm(t,n,g)},X2=function(t,n,o,s){var d=qs(o+s,0,t.length-1),p=t[d].length,g=qs(n,0,p-1);return zm(t,d,g)},Fb=function(t,n,o){return Pb(t,n,o,1)},p8=function(t,n,o){return Pb(t,n,o,-1)},Y2=function(t,n,o){return G0(t,o,n,-1)},m8=function(t,n,o){return G0(t,o,n,1)},h8=function(t,n,o){return K2(t,n,o,-1)},Jv=function(t,n,o){return K2(t,n,o,1)},g8=function(t,n,o){return X2(t,o,n,-1)},y8=function(t,n,o){return X2(t,o,n,1)},b8=[ql("selectors",[zt("row"),zt("cell")]),Pe("cycles",!0),Pe("previousSelector",O.none),Pe("execute",Zd)],K0=function(t,n,o){var s=n.previousSelector(t).orThunk(function(){var d=n.selectors;return Oi(t.element,d.cell)});s.each(function(d){n.focusManager.set(t,d)})},X0=function(t,n,o){return El(t.element).bind(function(s){return o.execute(t,n,s)})},Z2=function(t,n){return $t(t,function(o){return Uu(o,n.selectors.cell)})},ng=function(t,n){return function(o,s,d){var p=d.cycles?t:n;return Oc(s,d.selectors.row).bind(function(g){var k=Uu(g,d.selectors.cell);return P2(k,s).bind(function(C){var E=Uu(o,d.selectors.row);return P2(E,g).bind(function(M){var F=Z2(E,d);return p(F,M,C).map(function(q){return q.cell})})})})}},Y0=ng(p8,h8),Qv=ng(Fb,Jv),J2=ng(Y2,g8),ag=ng(m8,y8),Am=se([ma(Jn(xb),Tb(Y0,Qv)),ma(Jn(km),Eb(Y0,Qv)),ma(Jn(Gv),D2(J2)),ma(Jn(Yd),Yv(ag)),ma(Jn(Os.concat(al)),X0)]),Q2=se([ma(Jn(Os),Xv)]),_8=Kv(b8,du.init,Am,Q2,function(){return O.some(K0)}),w8=[zt("selector"),Pe("execute",Zd),Pe("moveOnTab",!1)],e3=function(t,n,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,n,s)})},og=function(t,n,o){Oi(t.element,n.selector).each(function(s){n.focusManager.set(t,s)})},ig=function(t,n,o){return Rb(t,o.selector,n,-1)},ug=function(t,n,o){return Rb(t,o.selector,n,1)},t3=function(t,n,o,s){return o.moveOnTab?Sm(ig)(t,n,o,s):O.none()},Rs=function(t,n,o,s){return o.moveOnTab?Sm(ug)(t,n,o,s):O.none()},r3=se([ma(Jn(Gv),Sm(ig)),ma(Jn(Yd),Sm(ug)),ma(ol([Cm,Jn(Qf)]),t3),ma(ol([Qh,Jn(Qf)]),Rs),ma(Jn(al),e3),ma(Jn(Os),e3)]),Ml=se([ma(Jn(Os),Xv)]),k8=Kv(w8,du.init,r3,Ml,function(){return O.some(og)}),n3=[Ri("onSpace"),Ri("onEnter"),Ri("onShiftEnter"),Ri("onLeft"),Ri("onRight"),Ri("onTab"),Ri("onShiftTab"),Ri("onUp"),Ri("onDown"),Ri("onEscape"),Pe("stopSpaceKeyup",!1),Oa("focusIn")],Om=function(t,n,o){return[ma(Jn(Os),o.onSpace),ma(ol([Qh,Jn(al)]),o.onEnter),ma(ol([Cm,Jn(al)]),o.onShiftEnter),ma(ol([Cm,Jn(Qf)]),o.onShiftTab),ma(ol([Qh,Jn(Qf)]),o.onTab),ma(Jn(Gv),o.onUp),ma(Jn(Yd),o.onDown),ma(Jn(xb),o.onLeft),ma(Jn(km),o.onRight),ma(Jn(Os),o.onSpace),ma(Jn(Xd),o.onEscape)]},Rm=function(t,n,o){return o.stopSpaceKeyup?[ma(Jn(Os),Xv)]:[]},a3=Kv(n3,du.init,Om,Rm,function(t){return t.focusIn}),o3=N0.schema(),Jd=z2.schema(),Qd=Nb.schema(),Z0=q2.schema(),C8=_8.schema(),ep=xm.schema(),x8=k8.schema(),i3=a3.schema(),sg=Object.freeze({__proto__:null,acyclic:o3,cyclic:Jd,flow:Qd,flatgrid:Z0,matrix:C8,execution:ep,menu:x8,special:i3}),u3=function(t){return un(t,"setGridSize")},jr=Rv({branchKey:"mode",branches:sg,name:"keying",active:{events:function(t,n){var o=t.handler;return o.toEvents(t,n)}},apis:{focusIn:function(t,n,o){n.sendFocusIn(n).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,n,o)})},setGridSize:function(t,n,o,s,d){u3(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:R2}),cg=function(t,n,o,s){Sk(function(){var d=$t(s,t.getSystem().build);t0(t,d)},t.element)},lg=function(t,n,o,s){var d=t.getSystem().build(s);ib(t,d,o)},J0=function(t,n,o,s){lg(t,n,Eu,s)},s3=function(t,n,o,s){lg(t,n,Rf,s)},Ib=function(t,n,o,s){var d=fg(t),p=Nt(d,function(g){return va(s.element,g.element)});p.each(Rl)},fg=function(t,n){return t.components()},Q0=function(t,n,o,s,d){var p=fg(t);return O.from(p[s]).map(function(g){return Ib(t,n,o,g),d.each(function(k){lg(t,n,function(C,E){gl(C,E,s)},k)}),g})},c3=function(t,n,o,s,d){var p=fg(t);return lr(p,s).bind(function(g){return Q0(t,n,o,g,d)})},S8=Object.freeze({__proto__:null,append:J0,prepend:s3,remove:Ib,replaceAt:Q0,replaceBy:c3,set:cg,contents:fg}),yn=Mi({fields:[],name:"replacing",apis:S8}),Lb=function(t,n){var o=ro(n);return Mi({fields:[zt("enabled")],name:t,active:{events:se(o)}})},Nn=function(t,n){var o=Lb(t,n);return{key:t,value:{config:{},me:o,configAsRaw:se({}),initialConfig:{},state:du}}},l3=function(t,n){n.ignore||(Tl(t.element),n.onFocus(t))},f3=function(t,n){n.ignore||Oh(t.element)},ew=function(t){return Rh(t.element)},tp=Object.freeze({__proto__:null,focus:l3,blur:f3,isFocused:ew}),$b=function(t,n){var o=n.ignore?{}:{attributes:{tabindex:"-1"}};return el(o)},dg=function(t){return ro([Bt(wd(),function(n,o){l3(n,t),o.stop()})].concat(t.stopMousedown?[Bt(Zc(),function(n,o){o.event.prevent()})]:[]))},Hb=Object.freeze({__proto__:null,exhibit:$b,events:dg}),tw=[Ra("onFocus"),Pe("stopMousedown",!1),Pe("ignore",!1)],bn=Mi({fields:tw,name:"focusing",active:Hb,apis:tp}),T8=function(t){var n=function(){var o=Qr(t),s=function(){return o.get()},d=function(k){return o.set(k)},p=function(){return o.set(t)},g=function(){return o.get()};return{get:s,set:d,clear:p,readState:g}};return{init:n}},d3=function(t,n,o){var s=n.aria;s.update(t,s,o.get())},Vb=function(t,n,o){n.toggleClass.each(function(s){o.get()?Ai(t.element,s):yi(t.element,s)})},mf=function(t,n,o){Ub(t,n,o,!o.get())},v3=function(t,n,o){o.set(!0),Vb(t,n,o),d3(t,n,o)},vg=function(t,n,o){o.set(!1),Vb(t,n,o),d3(t,n,o)},Ub=function(t,n,o,s){var d=s?v3:vg;d(t,n,o)},p3=function(t,n,o){return o.get()},m3=function(t,n,o){Ub(t,n,o,n.selected)},E8=Object.freeze({__proto__:null,onLoad:m3,toggle:mf,isOn:p3,on:v3,off:vg,set:Ub}),z8=function(){return el({})},A8=function(t,n){var o=Ov(t,n,mf),s=Oo(t,n,m3);return ro(Xt([t.toggleOnExecute?[o]:[],[s]]))},O8=Object.freeze({__proto__:null,exhibit:z8,events:A8}),R8=function(t,n,o){Fn(t.element,"aria-pressed",o),n.syncWithExpanded&&rw(t,n,o)},h3=function(t,n,o){Fn(t.element,"aria-selected",o)},D8=function(t,n,o){Fn(t.element,"aria-checked",o)},rw=function(t,n,o){Fn(t.element,"aria-expanded",o)},Dm=[Pe("selected",!1),Oa("toggleClass"),Pe("toggleOnExecute",!0),rs("aria",{mode:"none"},Tc("mode",{pressed:[Pe("syncWithExpanded",!1),uo("update",R8)],checked:[uo("update",D8)],expanded:[uo("update",rw)],selected:[uo("update",h3)],none:[uo("update",ut)]}))],ca=Mi({fields:Dm,name:"toggling",active:O8,apis:E8,state:T8(!1)}),jb=function(){var t=function(n,o){o.stop(),lc(n)};return[Bt(Rp(),t),Bt(kd(),t),yv(Xl()),yv(Zc())]},Wb=function(t){var n=function(o){return Ws(function(s,d){o(s),d.stop()})};return ro(Xt([t.map(n).toArray(),jb()]))},g3="alloy.item-hover",y3="alloy.item-focus",b3=function(t){(El(t.element).isNone()||bn.isFocused(t))&&(bn.isFocused(t)||bn.focus(t),en(t,g3,{item:t}))},nw=function(t){en(t,y3,{item:t})},aw=se(g3),u=se(y3),l=function(t){return{dom:t.dom,domModification:Z(Z({},t.domModification),{attributes:Z(Z(Z({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Dc.augment(t.itemBehaviours,[t.toggling.fold(ca.revoke,function(n){return ca.config(Z({aria:{mode:"checked"}},n))}),bn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(n){nw(n)}}),jr.config({mode:"execution"}),gr.config({store:{mode:"memory",initialValue:t.data}}),Nn("item-type-events",Lt(Lt([],jb(),!0),[Bt($f(),b3),Bt(mv(),bn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},v=[zt("data"),zt("components"),zt("dom"),Pe("hasSubmenu",!1),Oa("toggling"),Dc.field("itemBehaviours",[ca,bn,jr,gr]),Pe("ignoreFocus",!1),Pe("domModification",{}),uo("builder",l),Pe("eventOrder",{})],h=function(t){return{dom:t.dom,components:t.components,events:ro([Bp(mv())])}},b=[zt("dom"),zt("components"),uo("builder",h)],T=se("item-widget"),D=se([yu({name:"widget",overrides:function(t){return{behaviours:sr([gr.config({store:{mode:"manual",getValue:function(n){return t.data},setValue:ut}})])}}})]),L=function(t){var n=_0(T(),t,D()),o=w0(T(),t,n.internals()),s=function(p){return Za(p,t,"widget").map(function(g){return jr.focusIn(g),g})},d=function(p,g){return pf(g.event.target)?O.none():function(){return t.autofocus&&g.setSource(p.element),O.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ro([Ws(function(p,g){s(p).each(function(k){g.stop()})}),Bt($f(),b3),Bt(mv(),function(p,g){t.autofocus?s(p):bn.focus(p)})]),behaviours:Dc.augment(t.widgetBehaviours,[gr.config({store:{mode:"memory",initialValue:t.data}}),bn.config({ignore:t.ignoreFocus,onFocus:function(p){nw(p)}}),jr.config({mode:"special",focusIn:t.autofocus?function(p){s(p)}:xk(),onLeft:d,onRight:d,onEscape:function(p,g){return!bn.isFocused(p)&&!t.autofocus?(bn.focus(p),O.some(!0)):(t.autofocus&&g.setSource(p.element),O.none())}})])}},Q=[zt("uid"),zt("data"),zt("components"),zt("dom"),Pe("autofocus",!1),Pe("ignoreFocus",!1),Dc.field("widgetBehaviours",[gr,bn,jr]),Pe("domModification",{}),Gh(D()),uo("builder",L)],fe=Tc("type",{widget:Q,item:v,separator:b}),Ae=function(t,n){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:t.focusManager}},yt=function(t,n){return{mode:"matrix",selectors:{row:n.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Vt=function(t,n){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:n.moveOnTab,focusManager:t.focusManager}},Rt=se([df({factory:{sketch:function(t){var n=Ua("menu.spec item",fe,t);return n.builder(n)}},name:"items",unit:"item",defaults:function(t,n){return fr(n,"uid")?n:Z(Z({},n),{uid:zd("item")})},overrides:function(t,n){return{type:n.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),ht=se([zt("value"),zt("items"),zt("dom"),zt("components"),Pe("eventOrder",{}),Bi("menuBehaviours",[Na,gr,aa,jr]),rs("movement",{mode:"menu",moveOnTab:!0},Tc("mode",{grid:[Sy(),uo("config",Ae)],matrix:[uo("config",yt),zt("rowSelector")],menu:[Pe("moveOnTab",!0),uo("config",Vt)]})),jx(),Pe("fakeFocus",!1),Pe("focusManager",eg()),Ra("onHighlight")]),ar=se("alloy.menu-focus"),cr=function(t,n,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qi(t.menuBehaviours,[Na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),gr.config({store:{mode:"memory",initialValue:t.value}}),aa.config({find:O.some}),jr.config(t.movement.config(t,t.movement))]),events:ro([Bt(u(),function(d,p){var g=p.event;d.getSystem().getByDom(g.target).each(function(k){Na.highlight(d,k),p.stop(),en(d,ar(),{menu:d,item:k})})}),Bt(aw(),function(d,p){var g=p.event.item;Na.highlight(d,g)})]),components:n,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Wr=ls({name:"Menu",configFields:ht(),partFields:Rt(),factory:cr}),ha=function(t){return Ka(t,function(n,o){return{k:n,v:o}})},Xr=function(t,n,o,s){return gt(o,s).bind(function(d){return gt(t,d).bind(function(p){var g=Xr(t,n,o,p);return O.some([p].concat(g))})}).getOr([])},_n=function(t,n){var o={};Rn(t,function(g,k){Ze(g,function(C){o[C]=k})});var s=n,d=ha(n),p=kn(d,function(g,k){return[k].concat(Xr(o,s,d,k))});return kn(o,function(g){return gt(p,g).getOr([g])})},oa=function(){var t=Qr({}),n=Qr({}),o=Qr({}),s=Yo(),d=Qr({}),p=function(){t.set({}),n.set({}),o.set({}),s.clear()},g=function(){return s.get().isNone()},k=function(De,ot){var xt;n.set(Z(Z({},n.get()),(xt={},xt[De]={type:"prepared",menu:ot},xt)))},C=function(De,ot,xt,yr){s.set(De),t.set(xt),n.set(ot),d.set(yr);var Dt=_n(yr,xt);o.set(Dt)},E=function(De){return Ke(t.get(),function(ot,xt){return ot===De})},M=function(De,ot,xt){return pe(De).bind(function(yr){return E(De).bind(function(Dt){return ot(Dt).map(function(_r){return{triggeredMenu:yr,triggeringItem:_r,triggeringPath:xt}})})})},F=function(De,ot){var xt=qe(de(De).toArray(),function(yr){return pe(yr).isSome()});return gt(o.get(),De).bind(function(yr){var Dt=st(xt.concat(yr)),_r=Pr(Dt,function(Pt,Ct){return M(Pt,ot,Dt.slice(0,Ct+1)).fold(function(){return ua(s.get(),Pt)?[]:[O.none()]},function(nr){return[O.some(nr)]})});return Sn(_r)})},q=function(De){return gt(t.get(),De).map(function(ot){var xt=gt(o.get(),De).getOr([]);return[ot].concat(xt)})},Y=function(De){return gt(o.get(),De).bind(function(ot){return ot.length>1?O.some(ot.slice(1)):O.none()})},ne=function(De){return gt(o.get(),De)},pe=function(De){return Oe(De).bind(Qn)},Oe=function(De){return gt(n.get(),De)},de=function(De){return gt(t.get(),De)},Me=function(De){var ot=d.get();return rr(In(ot),De)},pt=function(){return s.get().bind(pe)},ft=function(){return n.get()};return{setMenuBuilt:k,setContents:C,expand:q,refresh:ne,collapse:Y,lookupMenu:Oe,lookupItem:de,otherMenus:Me,getPrimary:pt,getMenus:ft,clear:p,isClear:g,getTriggeringPath:F}},Qn=function(t){return t.type==="prepared"?O.some(t.menu):O.none()},_i={init:oa,extractPreparedMenu:Qn},eu=function(t,n){var o=Yo(),s=function(Ot,Ar,Ur){return kn(Ur,function(ia,Ha){var ho=function(){return Wr.sketch(Z(Z({},ia),{value:Ha,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?E2():eg()}))};return Ha===Ar?{type:"prepared",menu:Ot.getSystem().build(ho())}:{type:"notbuilt",nbMenu:ho}})},d=_i.init(),p=function(Ot){var Ar=s(Ot,t.data.primary,t.data.menus),Ur=C();return d.setContents(t.data.primary,Ar,t.data.expansions,Ur),d.getPrimary()},g=function(Ot){return gr.getValue(Ot).value},k=function(Ot,Ar,Ur){return Zn(Ar,function(ia){if(!ia.getSystem().isConnected())return O.none();var Ha=Na.getCandidates(ia);return Nt(Ha,function(ho){return g(ho)===Ur})})},C=function(Ot){return kn(t.data.menus,function(Ar,Ur){return Pr(Ar.items,function(ia){return ia.type==="separator"?[]:[ia.data.value]})})},E=function(Ot,Ar){Na.highlight(Ot,Ar),Na.getHighlighted(Ar).orThunk(function(){return Na.getFirst(Ar)}).each(function(Ur){oy(Ot,Ur.element,mv())})},M=function(Ot,Ar){return Kn($t(Ar,function(Ur){return Ot.lookupMenu(Ur).bind(function(ia){return ia.type==="prepared"?O.some(ia.menu):O.none()})}))},F=function(Ot,Ar,Ur){var ia=M(Ar,Ar.otherMenus(Ur));Ze(ia,function(Ha){pc(Ha.element,[t.markers.backgroundMenu]),t.stayInDom||yn.remove(Ot,Ha)})},q=function(Ot){return o.get().getOrThunk(function(){var Ar={},Ur=Uu(Ot.element,"."+t.markers.item),ia=qe(Ur,function(Ha){return bo(Ha,"aria-haspopup")==="true"});return Ze(ia,function(Ha){Ot.getSystem().getByDom(Ha).each(function(ho){var Ko=g(ho);Ar[Ko]=ho})}),o.set(Ar),Ar})},Y=function(Ot,Ar){var Ur=q(Ot);Rn(Ur,function(ia,Ha){var ho=dn(Ar,Ha);Fn(ia.element,"aria-expanded",ho)})},ne=function(Ot,Ar,Ur){return O.from(Ur[0]).bind(function(ia){return Ar.lookupMenu(ia).bind(function(Ha){if(Ha.type==="notbuilt")return O.none();var ho=Ha.menu,Ko=M(Ar,Ur.slice(1));return Ze(Ko,function(Vc){Ai(Vc.element,t.markers.backgroundMenu)}),tn(ho.element)||yn.append(Ot,mc(ho)),pc(ho.element,[t.markers.backgroundMenu]),E(Ot,ho),F(Ot,Ar,Ur),O.some(ho)})})},pe;(function(Ot){Ot[Ot.HighlightSubmenu=0]="HighlightSubmenu",Ot[Ot.HighlightParent=1]="HighlightParent"})(pe||(pe={}));var Oe=function(Ot,Ar,Ur){if(Ur.type==="notbuilt"){var ia=Ot.getSystem().build(Ur.nbMenu());return d.setMenuBuilt(Ar,ia),ia}else return Ur.menu},de=function(Ot,Ar,Ur){if(Ur===void 0&&(Ur=pe.HighlightSubmenu),Ar.hasConfigured(Jr)&&Jr.isDisabled(Ar))return O.some(Ar);var ia=g(Ar);return d.expand(ia).bind(function(Ha){return Y(Ot,Ha),O.from(Ha[0]).bind(function(ho){return d.lookupMenu(ho).bind(function(Ko){var Vc=Oe(Ot,ho,Ko);return tn(Vc.element)||yn.append(Ot,mc(Vc)),t.onOpenSubmenu(Ot,Ar,Vc,st(Ha)),Ur===pe.HighlightSubmenu?(Na.highlightFirst(Vc),ne(Ot,d,Ha)):(Na.dehighlightAll(Vc),O.some(Ar))})})})},Me=function(Ot,Ar){var Ur=g(Ar);return d.collapse(Ur).bind(function(ia){return Y(Ot,ia),ne(Ot,d,ia).map(function(Ha){return t.onCollapseMenu(Ot,Ar,Ha),Ha})})},pt=function(Ot,Ar){var Ur=g(Ar);return d.refresh(Ur).bind(function(ia){return Y(Ot,ia),ne(Ot,d,ia)})},ft=function(Ot,Ar){return pf(Ar.element)?O.none():de(Ot,Ar,pe.HighlightSubmenu)},De=function(Ot,Ar){return pf(Ar.element)?O.none():Me(Ot,Ar)},ot=function(Ot,Ar){return Me(Ot,Ar).orThunk(function(){return t.onEscape(Ot,Ar).map(function(){return Ot})})},xt=function(Ot){return function(Ar,Ur){return Oc(Ur.getSource(),"."+t.markers.item).bind(function(ia){return Ar.getSystem().getByDom(ia).toOptional().bind(function(Ha){return Ot(Ar,Ha).map(U)})})}},yr=ro([Bt(ar(),function(Ot,Ar){var Ur=Ar.event.item;d.lookupItem(g(Ur)).each(function(){var ia=Ar.event.menu;Na.highlight(Ot,ia);var Ha=g(Ar.event.item);d.refresh(Ha).each(function(ho){return F(Ot,d,ho)})})}),Ws(function(Ot,Ar){var Ur=Ar.event.target;Ot.getSystem().getByDom(Ur).each(function(ia){var Ha=g(ia);Ha.indexOf("collapse-item")===0&&Me(Ot,ia),de(Ot,ia,pe.HighlightSubmenu).fold(function(){t.onExecute(Ot,ia)},ut)})}),Bn(function(Ot,Ar){p(Ot).each(function(Ur){yn.append(Ot,mc(Ur)),t.onOpenMenu(Ot,Ur),t.highlightImmediately&&E(Ot,Ur)})})].concat(t.navigateOnHover?[Bt(aw(),function(Ot,Ar){var Ur=Ar.event.item;pt(Ot,Ur),de(Ot,Ur,pe.HighlightParent),t.onHover(Ot,Ur)})]:[])),Dt=function(Ot){return Na.getHighlighted(Ot).bind(Na.getHighlighted)},_r=function(Ot){Dt(Ot).each(function(Ar){Me(Ot,Ar)})},Pt=function(Ot){d.getPrimary().each(function(Ar){E(Ot,Ar)})},Ct=function(Ot){return O.from(Ot.components()[0]).filter(function(Ar){return bo(Ar.element,"role")==="menu"})},nr=function(Ot){var Ar=d.getPrimary().bind(function(Ur){return Dt(Ot).bind(function(ia){var Ha=g(ia),ho=Mt(d.getMenus()),Ko=Kn($t(ho,_i.extractPreparedMenu));return d.getTriggeringPath(Ha,function(Vc){return k(Ot,Ko,Vc)})}).map(function(ia){return{primary:Ur,triggeringPath:ia}})});Ar.fold(function(){Ct(Ot).each(function(Ur){t.onRepositionMenu(Ot,Ur,[])})},function(Ur){var ia=Ur.primary,Ha=Ur.triggeringPath;t.onRepositionMenu(Ot,ia,Ha)})},Fr={collapseMenu:_r,highlightPrimary:Pt,repositionMenus:nr};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qi(t.tmenuBehaviours,[jr.config({mode:"special",onRight:xt(ft),onLeft:xt(De),onEscape:xt(ot),focusIn:function(Ot,Ar){d.getPrimary().each(function(Ur){oy(Ot,Ur.element,mv())})}}),Na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),aa.config({find:function(Ot){return Na.getHighlighted(Ot)}}),yn.config({})]),eventOrder:t.eventOrder,apis:Fr,events:yr}},fs=se("collapse-item"),_a=function(t,n,o){return{primary:t,menus:n,expansions:o}},An=function(t,n){return{primary:t,menus:Gl(t,n),expansions:{}}},la=function(t){return{value:Nr(fs()),meta:{text:t}}},ja=gc({name:"TieredMenu",configFields:[Ss("onExecute"),Ss("onEscape"),is("onOpenMenu"),is("onOpenSubmenu"),Ra("onRepositionMenu"),Ra("onCollapseMenu"),Pe("highlightImmediately",!0),ql("data",[zt("primary"),zt("menus"),zt("expansions")]),Pe("fakeFocus",!1),Ra("onHighlight"),Ra("onHover"),Tv(),zt("dom"),Pe("navigateOnHover",!0),Pe("stayInDom",!1),Bi("tmenuBehaviours",[jr,Na,aa,yn]),Pe("eventOrder",{})],apis:{collapseMenu:function(t,n){t.collapseMenu(n)},highlightPrimary:function(t,n){t.highlightPrimary(n)},repositionMenus:function(t,n){t.repositionMenus(n)}},factory:eu,extraApis:{tieredData:_a,singleData:An,collapseItem:la}}),qo=function(t,n,o,s,d){var p=function(){return t.lazySink(n)},g=s.type==="horizontal"?{layouts:{onLtr:function(){return My()},onRtl:function(){return By()}}}:{},k=function(E){return E.length===2},C=function(E){return k(E)?g:{}};return ja.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return pa.close(n),t.onEscape.map(function(E){return E(n)}),O.some(!0)},onExecute:function(){return O.some(!0)},onOpenMenu:function(E,M){Zo.positionWithinBounds(p().getOrDie(),M,o,d())},onOpenSubmenu:function(E,M,F,q){var Y=p().getOrDie();Zo.position(Y,F,{anchor:Z({type:"submenu",item:M},C(q))})},onRepositionMenu:function(E,M,F){var q=p().getOrDie();Zo.positionWithinBounds(q,M,o,d()),Ze(F,function(Y){var ne=C(Y.triggeringPath);Zo.position(q,Y.triggeredMenu,{anchor:Z({type:"submenu",item:Y.triggeringItem},ne)})})}})},hf=function(t,n){var o=function(Y,ne){var pe=t.getRelated(Y);return pe.exists(function(Oe){return Sv(Oe,ne)})},s=function(Y,ne){pa.setContent(Y,ne)},d=function(Y,ne,pe){p(Y,ne,pe,O.none())},p=function(Y,ne,pe,Oe){g(Y,ne,pe,function(){return Oe.map(function(de){return si(de)})})},g=function(Y,ne,pe,Oe){var de=t.lazySink(Y).getOrDie();pa.openWhileCloaked(Y,ne,function(){return Zo.positionWithinBounds(de,Y,pe,Oe())}),gr.setValue(Y,O.some({mode:"position",config:pe,getBounds:Oe}))},k=function(Y,ne,pe){C(Y,ne,pe,O.none)},C=function(Y,ne,pe,Oe){var de=qo(t,Y,ne,pe,Oe);pa.open(Y,de),gr.setValue(Y,O.some({mode:"menu",menu:de}))},E=function(Y){pa.isOpen(Y)&&(gr.setValue(Y,O.none()),pa.close(Y))},M=function(Y){return pa.getState(Y)},F=function(Y){pa.isOpen(Y)&&gr.getValue(Y).each(function(ne){switch(ne.mode){case"menu":pa.getState(Y).each(ja.repositionMenus);break;case"position":var pe=t.lazySink(Y).getOrDie();Zo.positionWithinBounds(pe,Y,ne.config,ne.getBounds());break}})},q={setContent:s,showAt:d,showWithin:p,showWithinBounds:g,showMenuAt:k,showMenuWithinBounds:C,hide:E,getContent:M,reposition:F,isOpen:pa.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Qi(t.inlineBehaviours,[pa.config({isPartOf:function(Y,ne,pe){return Sv(ne,pe)||o(Y,pe)},getAttachPoint:function(Y){return t.lazySink(Y).getOrDie()},onOpen:function(Y){t.onShow(Y)},onClose:function(Y){t.onHide(Y)}}),gr.config({store:{mode:"memory",initialValue:O.none()}}),Hu.config({channels:Z(Z({},As(Z({isExtraPart:n.isExtraPart},t.fireDismissalEventInstead.map(function(Y){return{fireEventInstead:{event:Y.event}}}).getOr({})))),Hv(Z(Z({},t.fireRepositionEventInstead.map(function(Y){return{fireEventInstead:{event:Y.event}}}).getOr({})),{doReposition:F})))})]),eventOrder:t.eventOrder,apis:q}},Ga=gc({name:"InlineView",configFields:[zt("lazySink"),Ra("onShow"),Ra("onHide"),bd("onEscape"),Bi("inlineBehaviours",[pa,gr,Hu]),Us("fireDismissalEventInstead",[Pe("event",Jc())]),Us("fireRepositionEventInstead",[Pe("event",Ru())]),Pe("getRelated",O.none),Pe("isExtraPart",Ue),Pe("eventOrder",O.none)],factory:hf,apis:{showAt:function(t,n,o,s){t.showAt(n,o,s)},showWithin:function(t,n,o,s,d){t.showWithin(n,o,s,d)},showWithinBounds:function(t,n,o,s,d){t.showWithinBounds(n,o,s,d)},showMenuAt:function(t,n,o,s){t.showMenuAt(n,o,s)},showMenuWithinBounds:function(t,n,o,s,d){t.showMenuWithinBounds(n,o,s,d)},hide:function(t,n){t.hide(n)},isOpen:function(t,n){return t.isOpen(n)},getContent:function(t,n){return t.getContent(n)},setContent:function(t,n,o){t.setContent(n,o)},reposition:function(t,n){t.reposition(n)}}}),Pc="layout-inset",bu=function(t){return t.x},pg=function(t,n){return t.x+t.width/2-n.width/2},ev=function(t,n){return t.x+t.width-n.width},Bl=function(t){return t.y},Fc=function(t,n){return t.y+t.height-n.height},il=function(t,n){return t.y+t.height/2-n.height/2},mg=function(t,n,o){return $i(ev(t,n),Fc(t,n),o.insetSouthwest(),zv(),"southwest",Di(t,{right:0,bottom:3}),Pc)},rp=function(t,n,o){return $i(bu(t),Fc(t,n),o.insetSoutheast(),g_(),"southeast",Di(t,{left:1,bottom:3}),Pc)},hg=function(t,n,o){return $i(ev(t,n),Bl(t),o.insetNorthwest(),h_(),"northwest",Di(t,{right:0,top:2}),Pc)},np=function(t,n,o){return $i(bu(t),Bl(t),o.insetNortheast(),Ey(),"northeast",Di(t,{left:1,top:2}),Pc)},Nl=function(t,n,o){return $i(pg(t,n),Bl(t),o.insetNorth(),Sh(),"north",Di(t,{top:2}),Pc)},Mm=function(t,n,o){return $i(pg(t,n),Fc(t,n),o.insetSouth(),y_(),"south",Di(t,{bottom:3}),Pc)},qb=function(t,n,o){return $i(ev(t,n),il(t,n),o.insetEast(),Up(),"east",Di(t,{right:0}),Pc)},_3=function(t,n,o){return $i(bu(t),il(t,n),o.insetWest(),b_(),"west",Di(t,{left:1}),Pc)},gg=function(t){switch(t){case"north":return Nl;case"northeast":return np;case"northwest":return hg;case"south":return Mm;case"southeast":return rp;case"southwest":return mg;case"east":return qb;case"west":return _3}},M8=function(t,n,o,s,d){var p=A_(s).map(gg).getOr(Nl);return p(t,n,o,s,d)},B8=function(t){switch(t){case"north":return Mm;case"northeast":return rp;case"northwest":return mg;case"south":return Nl;case"southeast":return np;case"southwest":return hg;case"east":return _3;case"west":return qb}},GD=function(t,n,o,s,d){var p=A_(s).map(B8).getOr(Nl);return p(t,n,o,s,d)},ed=tinymce.util.Tools.resolve("tinymce.util.Delay"),KD=function(t){var n=Wb(t.action),o=t.dom.tag,s=function(p){return gt(t.dom,"attributes").bind(function(g){return gt(g,p)})},d=function(){if(o==="button"){var p=s("type").getOr("button"),g=s("role").map(function(C){return{role:C}}).getOr({});return Z({type:p},g)}else{var k=s("role").getOr("button");return{role:k}}};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:Dc.augment(t.buttonBehaviours,[bn.config({}),jr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},Ks=gc({name:"Button",factory:KD,configFields:[Pe("uid",void 0),zt("dom"),Pe("components",[]),Dc.field("buttonBehaviours",[bn,jr]),Oa("action"),Oa("role"),Pe("eventOrder",{})]}),XD=function(t){var n=t.dom.attributes!==void 0?t.dom.attributes:[];return Ne(n,function(o,s){var d;return s.name==="class"?o:Z(Z({},o),(d={},d[s.name]=s.value,d))},{})},YD=function(t){return Array.prototype.slice.call(t.dom.classList,0)},ap=function(t){var n=tr.fromHtml(t),o=x(n),s=XD(n),d=YD(n),p=o.length===0?{}:{innerHtml:Yl(n)};return Z({tag:Te(n),classes:d,attributes:s},p)},La=function(t){var n=S0(t)&&un(t,"uid")?t.uid:zd("memento"),o=function(p){return p.getSystem().getByUid(n).getOrDie()},s=function(p){return p.getSystem().getByUid(n).toOptional()},d=function(){return Z(Z({},t),{uid:n})};return{get:o,getOpt:s,asSpec:d}};function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bm(t)}function N8(t,n){return N8=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},N8(t,n)}function ZD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yg(t,n,o){return ZD()?yg=Reflect.construct:yg=function(d,p,g){var k=[null];k.push.apply(k,p);var C=Function.bind.apply(d,k),E=new C;return g&&N8(E,g.prototype),E},yg.apply(null,arguments)}function td(t){return JD(t)||P8(t)||QD(t)||e6()}function JD(t){if(Array.isArray(t))return F8(t)}function P8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QD(t,n){if(t){if(typeof t=="string")return F8(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F8(t,n)}}function F8(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function e6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t6=Object.hasOwnProperty,Sz=Object.setPrototypeOf,r6=Object.isFrozen,n6=Object.getPrototypeOf,a6=Object.getOwnPropertyDescriptor,Ic=Object.freeze,tv=Object.seal,o6=Object.create,Tz=typeof Reflect<"u"&&Reflect,Gb=Tz.apply,I8=Tz.construct;Gb||(Gb=function(n,o,s){return n.apply(o,s)}),Ic||(Ic=function(n){return n}),tv||(tv=function(n){return n}),I8||(I8=function(n,o){return yg(n,td(o))});var i6=rd(Array.prototype.forEach),Ez=rd(Array.prototype.pop),Kb=rd(Array.prototype.push),w3=rd(String.prototype.toLowerCase),u6=rd(String.prototype.match),Nm=rd(String.prototype.replace),s6=rd(String.prototype.indexOf),c6=rd(String.prototype.trim),Xs=rd(RegExp.prototype.test),L8=l6(TypeError);function rd(t){return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return Gb(t,n,s)}}function l6(t){return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return I8(t,o)}}function no(t,n){Sz&&Sz(t,null);for(var o=n.length;o--;){var s=n[o];if(typeof s=="string"){var d=w3(s);d!==s&&(r6(n)||(n[o]=d),s=d)}t[s]=!0}return t}function bg(t){var n=o6(null),o;for(o in t)Gb(t6,t,[o])&&(n[o]=t[o]);return n}function k3(t,n){for(;t!==null;){var o=a6(t,n);if(o){if(o.get)return rd(o.get);if(typeof o.value=="function")return rd(o.value)}t=n6(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zz=Ic(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$8=Ic(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H8=Ic(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f6=Ic(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V8=Ic(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U8=Ic(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Az=Ic(["#text"]),Oz=Ic(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j8=Ic(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C3=Ic(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x3=Ic(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W8=tv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d6=tv(/<%[\w\W]*|[\w\W]*%>/gm),v6=tv(/^data-[\-\w.\u00B7-\uFFFF]/),p6=tv(/^aria-[\-\w]+$/),m6=tv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),h6=tv(/^(?:\w+script|data):/i),Rz=tv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),g6=tv(/^html$/i),q8=function(){return typeof window>"u"?null:window},G8=function(n,o){if(Bm(n)!=="object"||typeof n.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var p="dompurify"+(s?"#"+s:"");try{return n.createPolicy(p,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function K8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q8(),n=function(dt){return K8(dt)};if(n.version="2.3.8",n.removed=[],!t||!t.document||t.document.nodeType!==9)return n.isSupported=!1,n;var o=t.document,s=t.document,d=t.DocumentFragment,p=t.HTMLTemplateElement,g=t.Node,k=t.Element,C=t.NodeFilter,E=t.NamedNodeMap,M=E===void 0?t.NamedNodeMap||t.MozNamedAttrMap:E,F=t.HTMLFormElement,q=t.DOMParser,Y=t.trustedTypes,ne=k.prototype,pe=k3(ne,"cloneNode"),Oe=k3(ne,"nextSibling"),de=k3(ne,"childNodes"),Me=k3(ne,"parentNode");if(typeof p=="function"){var pt=s.createElement("template");pt.content&&pt.content.ownerDocument&&(s=pt.content.ownerDocument)}var ft=G8(Y,o),De=ft?ft.createHTML(""):"",ot=s,xt=ot.implementation,yr=ot.createNodeIterator,Dt=ot.createDocumentFragment,_r=ot.getElementsByTagName,Pt=o.importNode,Ct={};try{Ct=bg(s).documentMode?s.documentMode:{}}catch{}var nr={};n.isSupported=typeof Me=="function"&&xt&&typeof xt.createHTMLDocument<"u"&&Ct!==9;var Fr=W8,Ot=d6,Ar=v6,Ur=p6,ia=h6,Ha=Rz,ho=m6,Ko=null,Vc=no({},[].concat(td(zz),td($8),td(H8),td(V8),td(Az))),hs=null,vx=no({},[].concat(td(Oz),td(j8),td(C3),td(x3))),au=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ig=null,Lg=null,Vw=!0,$g=!0,Uw=!1,Qs=!1,pd=!1,Ms=!1,jw=!1,th=!1,D1=!1,ou=!1,mp=!0,rh=!0,Hg=!1,md={},nh=null,xr=no({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Hn=null,Wa=no({},["audio","video","img","source","image","track"]),Lo=null,ec=no({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bs="http://www.w3.org/1998/Math/MathML",Uc="http://www.w3.org/2000/svg",Ll="http://www.w3.org/1999/xhtml",M1=Ll,Ww=!1,B1,TF=["application/xhtml+xml","text/html"],EF="text/html",Vg,N1=null,Vq=s.createElement("form"),i$=function(dt){return dt instanceof RegExp||dt instanceof Function},zF=function(dt){N1&&N1===dt||((!dt||Bm(dt)!=="object")&&(dt={}),dt=bg(dt),Ko="ALLOWED_TAGS"in dt?no({},dt.ALLOWED_TAGS):Vc,hs="ALLOWED_ATTR"in dt?no({},dt.ALLOWED_ATTR):vx,Lo="ADD_URI_SAFE_ATTR"in dt?no(bg(ec),dt.ADD_URI_SAFE_ATTR):ec,Hn="ADD_DATA_URI_TAGS"in dt?no(bg(Wa),dt.ADD_DATA_URI_TAGS):Wa,nh="FORBID_CONTENTS"in dt?no({},dt.FORBID_CONTENTS):xr,Ig="FORBID_TAGS"in dt?no({},dt.FORBID_TAGS):{},Lg="FORBID_ATTR"in dt?no({},dt.FORBID_ATTR):{},md="USE_PROFILES"in dt?dt.USE_PROFILES:!1,Vw=dt.ALLOW_ARIA_ATTR!==!1,$g=dt.ALLOW_DATA_ATTR!==!1,Uw=dt.ALLOW_UNKNOWN_PROTOCOLS||!1,Qs=dt.SAFE_FOR_TEMPLATES||!1,pd=dt.WHOLE_DOCUMENT||!1,th=dt.RETURN_DOM||!1,D1=dt.RETURN_DOM_FRAGMENT||!1,ou=dt.RETURN_TRUSTED_TYPE||!1,jw=dt.FORCE_BODY||!1,mp=dt.SANITIZE_DOM!==!1,rh=dt.KEEP_CONTENT!==!1,Hg=dt.IN_PLACE||!1,ho=dt.ALLOWED_URI_REGEXP||ho,M1=dt.NAMESPACE||Ll,dt.CUSTOM_ELEMENT_HANDLING&&i$(dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(au.tagNameCheck=dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&i$(dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(au.attributeNameCheck=dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&typeof dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(au.allowCustomizedBuiltInElements=dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),B1=TF.indexOf(dt.PARSER_MEDIA_TYPE)===-1?B1=EF:B1=dt.PARSER_MEDIA_TYPE,Vg=B1==="application/xhtml+xml"?function($r){return $r}:w3,Qs&&($g=!1),D1&&(th=!0),md&&(Ko=no({},td(Az)),hs=[],md.html===!0&&(no(Ko,zz),no(hs,Oz)),md.svg===!0&&(no(Ko,$8),no(hs,j8),no(hs,x3)),md.svgFilters===!0&&(no(Ko,H8),no(hs,j8),no(hs,x3)),md.mathMl===!0&&(no(Ko,V8),no(hs,C3),no(hs,x3))),dt.ADD_TAGS&&(Ko===Vc&&(Ko=bg(Ko)),no(Ko,dt.ADD_TAGS)),dt.ADD_ATTR&&(hs===vx&&(hs=bg(hs)),no(hs,dt.ADD_ATTR)),dt.ADD_URI_SAFE_ATTR&&no(Lo,dt.ADD_URI_SAFE_ATTR),dt.FORBID_CONTENTS&&(nh===xr&&(nh=bg(nh)),no(nh,dt.FORBID_CONTENTS)),rh&&(Ko["#text"]=!0),pd&&no(Ko,["html","head","body"]),Ko.table&&(no(Ko,["tbody"]),delete Ig.tbody),Ic&&Ic(dt),N1=dt)},u$=no({},["mi","mo","mn","ms","mtext"]),s$=no({},["foreignobject","desc","title","annotation-xml"]),Uq=no({},["title","style","font","a","script"]),BD=no({},$8);no(BD,H8),no(BD,f6);var AF=no({},V8);no(AF,U8);var jq=function(dt){var $r=Me(dt);(!$r||!$r.tagName)&&($r={namespaceURI:Ll,tagName:"template"});var Pn=w3(dt.tagName),ki=w3($r.tagName);return dt.namespaceURI===Uc?$r.namespaceURI===Ll?Pn==="svg":$r.namespaceURI===Bs?Pn==="svg"&&(ki==="annotation-xml"||u$[ki]):!!BD[Pn]:dt.namespaceURI===Bs?$r.namespaceURI===Ll?Pn==="math":$r.namespaceURI===Uc?Pn==="math"&&s$[ki]:!!AF[Pn]:dt.namespaceURI===Ll?$r.namespaceURI===Uc&&!s$[ki]||$r.namespaceURI===Bs&&!u$[ki]?!1:!AF[Pn]&&(Uq[Pn]||!BD[Pn]):!1},Ug=function(dt){Kb(n.removed,{element:dt});try{dt.parentNode.removeChild(dt)}catch{try{dt.outerHTML=De}catch{dt.remove()}}},c$=function(dt,$r){try{Kb(n.removed,{attribute:$r.getAttributeNode(dt),from:$r})}catch{Kb(n.removed,{attribute:null,from:$r})}if($r.removeAttribute(dt),dt==="is"&&!hs[dt])if(th||D1)try{Ug($r)}catch{}else try{$r.setAttribute(dt,"")}catch{}},l$=function(dt){var $r,Pn;if(jw)dt="<remove></remove>"+dt;else{var ki=u6(dt,/^[\r\n\t ]+/);Pn=ki&&ki[0]}B1==="application/xhtml+xml"&&(dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dt+"</body></html>");var Sf=ft?ft.createHTML(dt):dt;if(M1===Ll)try{$r=new q().parseFromString(Sf,B1)}catch{}if(!$r||!$r.documentElement){$r=xt.createDocument(M1,"template",null);try{$r.documentElement.innerHTML=Ww?"":Sf}catch{}}var dl=$r.body||$r.documentElement;return dt&&Pn&&dl.insertBefore(s.createTextNode(Pn),dl.childNodes[0]||null),M1===Ll?_r.call($r,pd?"html":"body")[0]:pd?$r.documentElement:dl},f$=function(dt){return yr.call(dt.ownerDocument||dt,dt,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Wq=function(dt){return dt instanceof F&&(typeof dt.nodeName!="string"||typeof dt.textContent!="string"||typeof dt.removeChild!="function"||!(dt.attributes instanceof M)||typeof dt.removeAttribute!="function"||typeof dt.setAttribute!="function"||typeof dt.namespaceURI!="string"||typeof dt.insertBefore!="function")},wz=function(dt){return Bm(g)==="object"?dt instanceof g:dt&&Bm(dt)==="object"&&typeof dt.nodeType=="number"&&typeof dt.nodeName=="string"},jg=function(dt,$r,Pn){nr[dt]&&i6(nr[dt],function(ki){ki.call(n,$r,Pn,N1)})},d$=function(dt){var $r;if(jg("beforeSanitizeElements",dt,null),Wq(dt)||Xs(/[\u0080-\uFFFF]/,dt.nodeName))return Ug(dt),!0;var Pn=Vg(dt.nodeName);if(jg("uponSanitizeElement",dt,{tagName:Pn,allowedTags:Ko}),dt.hasChildNodes()&&!wz(dt.firstElementChild)&&(!wz(dt.content)||!wz(dt.content.firstElementChild))&&Xs(/<[/\w]/g,dt.innerHTML)&&Xs(/<[/\w]/g,dt.textContent)||Pn==="select"&&Xs(/<template/i,dt.innerHTML))return Ug(dt),!0;if(!Ko[Pn]||Ig[Pn]){if(!Ig[Pn]&&p$(Pn)&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,Pn)||au.tagNameCheck instanceof Function&&au.tagNameCheck(Pn)))return!1;if(rh&&!nh[Pn]){var ki=Me(dt)||dt.parentNode,Sf=de(dt)||dt.childNodes;if(Sf&&ki)for(var dl=Sf.length,jc=dl-1;jc>=0;--jc)ki.insertBefore(pe(Sf[jc],!0),Oe(dt))}return Ug(dt),!0}return dt instanceof k&&!jq(dt)||(Pn==="noscript"||Pn==="noembed")&&Xs(/<\/no(script|embed)/i,dt.innerHTML)?(Ug(dt),!0):(Qs&&dt.nodeType===3&&($r=dt.textContent,$r=Nm($r,Fr," "),$r=Nm($r,Ot," "),dt.textContent!==$r&&(Kb(n.removed,{element:dt.cloneNode()}),dt.textContent=$r)),jg("afterSanitizeElements",dt,null),!1)},v$=function(dt,$r,Pn){if(mp&&($r==="id"||$r==="name")&&(Pn in s||Pn in Vq))return!1;if(!($g&&!Lg[$r]&&Xs(Ar,$r))){if(!(Vw&&Xs(Ur,$r))){if(!hs[$r]||Lg[$r]){if(!(p$(dt)&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,dt)||au.tagNameCheck instanceof Function&&au.tagNameCheck(dt))&&(au.attributeNameCheck instanceof RegExp&&Xs(au.attributeNameCheck,$r)||au.attributeNameCheck instanceof Function&&au.attributeNameCheck($r))||$r==="is"&&au.allowCustomizedBuiltInElements&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,Pn)||au.tagNameCheck instanceof Function&&au.tagNameCheck(Pn))))return!1}else if(!Lo[$r]){if(!Xs(ho,Nm(Pn,Ha,""))){if(!(($r==="src"||$r==="xlink:href"||$r==="href")&&dt!=="script"&&s6(Pn,"data:")===0&&Hn[dt])){if(!(Uw&&!Xs(ia,Nm(Pn,Ha,"")))){if(Pn)return!1}}}}}}return!0},p$=function(dt){return dt.indexOf("-")>0},m$=function(dt){var $r,Pn,ki,Sf;jg("beforeSanitizeAttributes",dt,null);var dl=dt.attributes;if(dl){var jc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:hs};for(Sf=dl.length;Sf--;){$r=dl[Sf];var ND=$r,$l=ND.name,h$=ND.namespaceURI;if(Pn=$l==="value"?$r.value:c6($r.value),ki=Vg($l),jc.attrName=ki,jc.attrValue=Pn,jc.keepAttr=!0,jc.forceKeepAttr=void 0,jg("uponSanitizeAttribute",dt,jc),Pn=jc.attrValue,!jc.forceKeepAttr&&(c$($l,dt),!!jc.keepAttr)){if(Xs(/\/>/i,Pn)){c$($l,dt);continue}Qs&&(Pn=Nm(Pn,Fr," "),Pn=Nm(Pn,Ot," "));var Gq=Vg(dt.nodeName);if(v$(Gq,ki,Pn))try{h$?dt.setAttributeNS(h$,$l,Pn):dt.setAttribute($l,Pn),Ez(n.removed)}catch{}}}jg("afterSanitizeAttributes",dt,null)}},qq=function ta(dt){var $r,Pn=f$(dt);for(jg("beforeSanitizeShadowDOM",dt,null);$r=Pn.nextNode();)jg("uponSanitizeShadowNode",$r,null),!d$($r)&&($r.content instanceof d&&ta($r.content),m$($r));jg("afterSanitizeShadowDOM",dt,null)};return n.sanitize=function(ta,dt){var $r,Pn,ki,Sf,dl;if(Ww=!ta,Ww&&(ta="<!-->"),typeof ta!="string"&&!wz(ta)){if(typeof ta.toString!="function")throw L8("toString is not a function");if(ta=ta.toString(),typeof ta!="string")throw L8("dirty is not a string, aborting")}if(!n.isSupported){if(Bm(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ta=="string")return t.toStaticHTML(ta);if(wz(ta))return t.toStaticHTML(ta.outerHTML)}return ta}if(Ms||zF(dt),n.removed=[],typeof ta=="string"&&(Hg=!1),Hg){if(ta.nodeName){var jc=Vg(ta.nodeName);if(!Ko[jc]||Ig[jc])throw L8("root node is forbidden and cannot be sanitized in-place")}}else if(ta instanceof g)$r=l$("<!---->"),Pn=$r.ownerDocument.importNode(ta,!0),Pn.nodeType===1&&Pn.nodeName==="BODY"||Pn.nodeName==="HTML"?$r=Pn:$r.appendChild(Pn);else{if(!th&&!Qs&&!pd&&ta.indexOf("<")===-1)return ft&&ou?ft.createHTML(ta):ta;if($r=l$(ta),!$r)return th?null:ou?De:""}$r&&jw&&Ug($r.firstChild);for(var ND=f$(Hg?ta:$r);ki=ND.nextNode();)ki.nodeType===3&&ki===Sf||d$(ki)||(ki.content instanceof d&&qq(ki.content),m$(ki),Sf=ki);if(Sf=null,Hg)return ta;if(th){if(D1)for(dl=Dt.call($r.ownerDocument);$r.firstChild;)dl.appendChild($r.firstChild);else dl=$r;return hs.shadowroot&&(dl=Pt.call(o,dl,!0)),dl}var $l=pd?$r.outerHTML:$r.innerHTML;return pd&&Ko["!doctype"]&&$r.ownerDocument&&$r.ownerDocument.doctype&&$r.ownerDocument.doctype.name&&Xs(g6,$r.ownerDocument.doctype.name)&&($l="<!DOCTYPE "+$r.ownerDocument.doctype.name+`>
`+$l),Qs&&($l=Nm($l,Fr," "),$l=Nm($l,Ot," ")),ft&&ou?ft.createHTML($l):$l},n.setConfig=function(ta){zF(ta),Ms=!0},n.clearConfig=function(){N1=null,Ms=!1},n.isValidAttribute=function(ta,dt,$r){N1||zF({});var Pn=Vg(ta),ki=Vg(dt);return v$(Pn,ki,$r)},n.addHook=function(ta,dt){typeof dt=="function"&&(nr[ta]=nr[ta]||[],Kb(nr[ta],dt))},n.removeHook=function(ta){if(nr[ta])return Ez(nr[ta])},n.removeHooks=function(ta){nr[ta]&&(nr[ta]=[])},n.removeAllHooks=function(){nr={}},n}var X8=K8(),S3=function(t){return X8().sanitize(t)},gf=tinymce.util.Tools.resolve("tinymce.util.I18n"),rv={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},T3="temporary-placeholder",Y8=function(t){return function(){return gt(t,T3).getOr("!not found!")}},Z8=function(t,n){var o=t.toLowerCase();if(gf.isRtl()){var s=Gi(o,"-rtl");return fr(n,s)?s:o}else return o},Dz=function(t,n){return gt(n,Z8(t,n))},Mz=function(t,n){var o=n();return Dz(t,o).getOrThunk(Y8(o))},Xb=function(t,n,o){var s=n();return Dz(t,s).or(o).getOrThunk(Y8(s))},Bz=function(t){return gf.isRtl()?fr(rv,t):!1},J8=function(){return Nn("add-focusable",[Bn(function(t){v_(t.element,"svg").each(function(n){return Fn(n,"focusable","false")})})])},Nz=function(t,n,o,s){var d,p,g=Bz(n)?["tox-icon--flip"]:[],k=gt(o,Z8(n,o)).or(s).getOrThunk(Y8(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(g),innerHtml:k},behaviours:sr(Lt(Lt([],(p=t.behaviours)!==null&&p!==void 0?p:[],!0),[J8()],!1))}},yf=function(t,n,o,s){return s===void 0&&(s=O.none()),Nz(n,t,o(),s)},Pz=function(t,n,o){var s=o(),d=Nt(t,function(p){return fr(s,Z8(p,s))});return Nz(n,d.getOr(T3),s,O.none())},Q8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},y6=function(t){var n=La({dom:ap("<p>"+S3(t.translationProvider(t.text))+"</p>"),behaviours:sr([yn.config({})])}),o=function(Y){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+Y+"%"}}}},s=function(Y){return{dom:{tag:"div",classes:["tox-text"],innerHtml:Y+"%"}}},d=La({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:sr([yn.config({})])}),p=function(Y,ne){Y.getSystem().isConnected()&&d.getOpt(Y).each(function(pe){yn.set(pe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ne)]},s(ne)])})},g=function(Y,ne){if(Y.getSystem().isConnected()){var pe=n.get(Y);yn.set(pe,[vu(ne)])}},k={updateProgress:p,updateText:g},C=Xt([t.icon.toArray(),t.level.toArray(),t.level.bind(function(Y){return O.from(Q8[Y])}).toArray()]),E=La(Ks.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[yf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(Y){t.onAction(Y)}})),M=Pz(C,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),F={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:sr([yn.config({})])},q=[M,F];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(Y){return["tox-notification","tox-notification--in","tox-notification--"+Y]}).getOr(["tox-notification","tox-notification--in"])},behaviours:sr([bn.config({}),Nn("notification-events",[Bt(Ec(),function(Y){E.getOpt(Y).each(bn.focus)})])]),components:q.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[E.asSpec()]:[]),apis:k}},ow=gc({name:"Notification",factory:y6,configFields:[Oa("level"),zt("progress"),zt("icon"),zt("onAction"),zt("text"),zt("iconProvider"),zt("translationProvider"),to("closeButton",!0)],apis:{updateProgress:function(t,n,o){t.updateProgress(n,o)},updateText:function(t,n,o){t.updateText(n,o)}}});function eT(t,n,o){var s=n.backstage.shared,d=function(E){switch(E){case"bc-bc":return Mm;case"tc-tc":return Nl;case"tc-bc":return Ts;case"bc-tc":default:return bi}},p=function(E){E.length>0&&Ze(E,function(M,F){F===0?M.moveRel(null,"banner"):M.moveRel(E[F-1].getEl(),"bc-tc")})},g=function(E,M){var F=!E.closeButton&&E.timeout&&(E.timeout>0||E.timeout<0),q=function(){M(),Ga.hide(ne)},Y=wo(ow.sketch({text:E.text,level:dn(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:O.from(E.icon),closeButton:!F,onAction:q,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),ne=wo(Ga.sketch(Z({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ne),E.timeout>0&&ed.setTimeout(function(){q()},E.timeout);var pe=function(){var Oe=si(tr.fromDom(t.getContentAreaContainer())),de=su(),Me=qs(de.x,Oe.x,Oe.right),pt=qs(de.y,Oe.y,Oe.bottom),ft=Math.max(Oe.right,de.right),De=Math.max(Oe.bottom,de.bottom);return O.some(Ei(Me,pt,ft-Me,De-pt))};return{close:q,moveTo:function(Oe,de){Ga.showAt(ne,mc(Y),{anchor:{type:"makeshift",x:Oe,y:de}})},moveRel:function(Oe,de){var Me=mc(Y),pt={maxHeightFunction:Zp()};if(de!=="banner"&&He(Oe)){var ft=d(de),De={type:"node",root:Ia(),node:O.some(tr.fromDom(Oe)),overrides:pt,layouts:{onRtl:function(){return[ft]},onLtr:function(){return[ft]}}};Ga.showWithinBounds(ne,Me,{anchor:De},pe)}else{var ot=Z(Z({},s.anchors.banner()),{overrides:pt});Ga.showWithinBounds(ne,Me,{anchor:ot},pe)}},text:function(Oe){ow.updateText(Y,Oe)},settings:E,getEl:function(){return Y.element.dom},progressBar:{value:function(Oe){ow.updateProgress(Y,Oe)}}}},k=function(E){E.close()},C=function(E){return E.settings};return{open:g,close:k,reposition:p,getArgs:C}}var b6=function(t,n){var o=null,s=function(){we(o)||(clearTimeout(o),o=null)},d=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];we(o)&&(o=setTimeout(function(){o=null,t.apply(null,p)},n))};return{cancel:s,throttle:d}},E3=function(t,n){var o=null,s=function(){we(o)||(clearTimeout(o),o=null)},d=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];s(),o=setTimeout(function(){o=null,t.apply(null,p)},n)};return{cancel:s,throttle:d}},Fz=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),_6=function(t,n){return t.isBlock(n)||dn(["BR","IMG","HR","INPUT"],n.nodeName)||t.getContentEditable(n)==="false"},Iz=function(t,n,o,s,d){var p=Fz(t,function(g){return _6(t,g)});return O.from(p.backwards(n,o,s,d))},w6="[data-mce-autocompleter]",k6=function(t,n){return z3(tr.fromDom(t.selection.getNode())).getOrThunk(function(){var o=tr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Eu(o,tr.fromDom(n.extractContents())),n.insertNode(o.dom),yo(o).each(function(s){return s.dom.normalize()}),G_(o).map(function(s){t.selection.setCursorLocation(s.dom,Wk(s))}),o})},z3=function(t){return Oc(t,w6)},C6=function(t){return t.collapsed&&t.startContainer.nodeType===3},Lz=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},$z=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},Yb=function(t,n){return t.substring(n.length)},Hz=function(t,n,o){var s;for(s=n-1;s>=0;s--){var d=t.charAt(s);if($z(d))return O.none();if(d===o)break}return O.some(s)},Vz=function(t,n,o,s){if(s===void 0&&(s=0),!C6(n))return O.none();var d=function(g,k,C){return Hz(C,k,o).getOr(k)},p=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return Iz(t,n.startContainer,n.startOffset,d,p).bind(function(g){var k=n.cloneRange();if(k.setStart(g.container,g.offset),k.setEnd(n.endContainer,n.endOffset),k.collapsed)return O.none();var C=Lz(k),E=C.lastIndexOf(o);return E!==0||Yb(C,o).length<s?O.none():O.some({text:Yb(C,o),range:k,triggerChar:o})})},tT=function(t,n,o,s){return s===void 0&&(s=0),z3(tr.fromDom(n.startContainer)).fold(function(){return Vz(t,n,o,s)},function(d){var p=t.createRng();p.selectNode(d.dom);var g=Lz(p);return O.some({range:p,text:Yb(g,o),triggerChar:o})})},x6=function(t,n){n.on("keypress compositionend",t.onKeypress.throttle),n.on("remove",t.onKeypress.cancel);var o=function(s,d){en(s,Qg(),{raw:d})};n.on("keydown",function(s){var d=function(){return t.getView().bind(Na.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(lc),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(Na.highlightFirst)},function(p){o(p,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(p){o(p,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),n.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&z3(tr.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},rT={setup:x6},_g=tinymce.util.Tools.resolve("tinymce.util.Promise"),A3=function(t,n){return{container:t,offset:n}},Uz=function(t){return t.nodeType===ye},jz=function(t){return t.nodeType===Fi},Wz=function(t){if(Uz(t))return A3(t,t.data.length);var n=t.childNodes;return n.length>0?Wz(n[n.length-1]):A3(t,n.length)},O3=function(t,n){var o=t.childNodes;return o.length>0&&n<o.length?O3(o[n],0):o.length>0&&jz(t)&&o.length===n?Wz(o[o.length-1]):A3(t,n)},S6=function(t,n){return Iz(t,n.container,n.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!$z(s)}).isSome()},qz=function(t){return function(n){var o=O3(n.startContainer,n.startOffset);return!S6(t,o)}},Gz=function(t,n,o){return Zn(o.triggerChars,function(s){return tT(t,n,s)})},iw=function(t,n){var o=n(),s=t.selection.getRng();return Gz(t.dom,s,o).bind(function(d){return Kz(t,n,d)})},Kz=function(t,n,o,s){s===void 0&&(s={});var d=n(),p=t.selection.getRng(),g=p.startContainer.nodeValue,k=qe(d.lookupByChar(o.triggerChar),function(E){return o.text.length>=E.minChars&&E.matches.getOrThunk(function(){return qz(t.dom)})(o.range,g,o.text)});if(k.length===0)return O.none();var C=_g.all($t(k,function(E){var M=E.fetch(o.text,E.maxResults,s);return M.then(function(F){return{matchText:o.text,items:F,columns:E.columns,onAction:E.onAction,highlightOn:E.highlightOn}})}));return O.some({lookupData:C,context:o})},R3=Kr([gn("type"),co("text")]),Zb=function(t){return Po("separatormenuitem",R3,t)},T6=Kr([Pe("type","autocompleteitem"),Pe("active",!1),Pe("disabled",!1),Pe("meta",{}),gn("value"),co("text"),co("icon")]),Xz=Kr([gn("type"),gn("ch"),Cs("minChars",1),Pe("columns",1),Cs("maxResults",10),bd("matches"),$u("fetch"),$u("onAction"),If("highlightOn",[],ri)]),Yz=function(t){return Po("Autocompleter.Separator",R3,t)},Zz=function(t){return Po("Autocompleter.Item",T6,t)},nT=function(t){return Po("Autocompleter",Xz,t)},Jb=[to("disabled",!1),co("tooltip"),co("icon"),co("text"),lo("onSetup",function(){return ut})],E6=Kr([gn("type"),$u("onAction")].concat(Jb)),Jz=function(t){return Po("toolbarbutton",E6,t)},Qb=[to("active",!1)].concat(Jb),z6=Kr(Qb.concat([gn("type"),$u("onAction")])),aT=function(t){return Po("ToggleButton",z6,t)},wg=[lo("predicate",Ue),ic("scope","node",["node","editor"]),ic("position","selection",["node","selection","line"])],A6=Jb.concat([Pe("type","contextformbutton"),Pe("primary",!1),$u("onAction"),ts("original",Ye)]),O6=Qb.concat([Pe("type","contextformbutton"),Pe("primary",!1),$u("onAction"),ts("original",Ye)]),R6=Jb.concat([Pe("type","contextformbutton")]),Qz=Qb.concat([Pe("type","contextformtogglebutton")]),e4=Tc("type",{contextformbutton:A6,contextformtogglebutton:O6}),D6=Kr([Pe("type","contextform"),lo("initValue",se("")),co("label"),Ou("commands",e4),wl("launch",Tc("type",{contextformbutton:R6,contextformtogglebutton:Qz}))].concat(wg)),M6=function(t){return Po("ContextForm",D6,t)},B6=Kr([Pe("type","contexttoolbar"),gn("items")].concat(wg)),N6=function(t){return Po("ContextToolbar",B6,t)},P6=function(t){var n={};return Ze(t,function(o){n[o]={}}),In(n)},D3=function(t){var n=t.ui.registry.getAll().popups,o=kn(n,function(g){return nT(g).fold(function(k){throw new Error(yd(k))},Ye)}),s=P6(Co(o,function(g){return g.ch})),d=Mt(o),p=function(g){return qe(d,function(k){return k.ch===g})};return{dataset:o,triggerChars:s,lookupByChar:p}},oT;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(oT||(oT={}));var nd=oT,uw="tox-menu-nav__js",M3="tox-collection__item",iT="tox-swatch",t4={normal:uw,color:iT},uT="tox-collection__item--enabled",r4="tox-collection__group-heading",sT="tox-collection__item-icon",cT="tox-collection__item-label",F6="tox-collection__item-accessory",n4="tox-collection__item-caret",I6="tox-collection__item-checkmark",kg="tox-collection__item--active",B3="tox-collection__item-container",a4="tox-collection__item-container--column",o4="tox-collection__item-container--row",i4="tox-collection__item-container--align-right",L6="tox-collection__item-container--align-left",$6="tox-collection__item-container--valign-top",H6="tox-collection__item-container--valign-middle",u4="tox-collection__item-container--valign-bottom",lT=function(t){return gt(t4,t).getOr(uw)},s4=function(t){return t==="color"?"tox-swatches":"tox-menu"},fT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:s4(t),tieredMenu:"tox-tiered-menu"}},e1=function(t){var n=fT(t);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:lT(t)}},V6=function(t,n,o){var s=fT(o);return{tag:"div",classes:Xt([[s.menu,"tox-menu-"+n+"-column"],t?[s.hasIcons]:[]])}},U6=[Wr.parts.items({})],N3=function(t,n,o){var s=fT(o),d={tag:"div",classes:Xt([[s.tieredMenu]])};return{dom:d,markers:e1(o)}},dT=function(t,n){return function(o){var s=Xa(o,n);return $t(s,function(d){return{dom:t,components:d}})}},j6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Wr.parts.items({preprocess:t!=="auto"?dT({tag:"div",classes:["tox-swatches__row"]},t):Ye})]}]}},W6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Wr.parts.items({preprocess:dT({tag:"div",classes:["tox-collection__group"]},t)})]}},c4=function(t,n){var o=[],s=[];return Ze(t,function(d,p){n(d,p)?(s.length>0&&o.push(s),s=[],fr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),$t(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},vT=function(t,n,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Wr.parts.items({preprocess:function(s){return t!=="auto"&&t>1?dT({tag:"div",classes:["tox-collection__group"]},t)(s):c4(s,function(d,p){return n[p].type==="separator"})}})]}},q6=function(t,n){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Wr.parts.items({preprocess:function(o){return c4(o,function(s,d){return t[d].type==="separator"})}})]}},sw=function(t){return fa(t,function(n){return"icon"in n&&n.icon!==void 0})},op=function(t){return console.error(yd(t)),console.log(t),O.none()},G6=function(t,n,o,s,d){var p=q6(o);return{value:t,dom:p.dom,components:p.components,items:o}},pT=function(t,n,o,s,d){if(d==="color"){var p=j6(s);return{value:t,dom:p.dom,components:p.components,items:o}}if(d==="normal"&&s==="auto"){var p=vT(s,o);return{value:t,dom:p.dom,components:p.components,items:o}}if(d==="normal"&&s===1){var p=vT(1,o);return{value:t,dom:p.dom,components:p.components,items:o}}if(d==="normal"){var p=vT(s,o);return{value:t,dom:p.dom,components:p.components,items:o}}if(d==="listpreview"&&s!=="auto"){var p=W6(s);return{value:t,dom:p.dom,components:p.components,items:o}}return{value:t,dom:V6(n,s,d),components:U6,items:o}},K6=[gn("type"),gn("src"),co("alt"),If("classes",[],ri)],X6=Kr(K6),Y6=[gn("type"),gn("text"),co("name"),If("classes",["tox-collection__item-label"],ri)],P3=Kr(Y6),mT=Xw(function(){return Zg("type",{cardimage:X6,cardtext:P3,cardcontainer:Z6})}),Z6=Kr([gn("type"),Ep("direction","horizontal"),Ep("align","left"),Ep("valign","middle"),Ou("items",mT)]),t1=[to("disabled",!1),co("text"),co("shortcut"),zi("value","value",sa(function(){return Nr("menuitem-value")}),Gc()),Pe("meta",{})],J6=Kr([gn("type"),co("label"),Ou("items",mT),lo("onSetup",function(){return ut}),lo("onAction",ut)].concat(t1)),Q6=function(t){return Po("cardmenuitem",J6,t)},e5=Kr([gn("type"),to("active",!1),co("icon")].concat(t1)),hT=function(t){return Po("choicemenuitem",e5,t)},gT=[gn("type"),gn("fancytype"),lo("onAction",ut)],l4=[Pe("initData",{})].concat(gT),t5=[H1("initData",{},[to("allowCustomColors",!0),Vs("colors",Gc())])].concat(gT),f4=Tc("fancytype",{inserttable:l4,colorswatch:t5}),r5=function(t){return Po("fancymenuitem",f4,t)},n5=Kr([gn("type"),lo("onSetup",function(){return ut}),lo("onAction",ut),co("icon")].concat(t1)),a5=function(t){return Po("menuitem",n5,t)},o5=Kr([gn("type"),$u("getSubmenuItems"),lo("onSetup",function(){return ut}),co("icon")].concat(t1)),i5=function(t){return Po("nestedmenuitem",o5,t)},u5=Kr([gn("type"),co("icon"),to("active",!1),lo("onSetup",function(){return ut}),$u("onAction")].concat(t1)),s5=function(t){return Po("togglemenuitem",u5,t)},yT=function(t,n,o){var s=Uu(t.element,"."+o);if(s.length>0){var d=lr(s,function(p){var g=p.dom.getBoundingClientRect().top,k=s[0].dom.getBoundingClientRect().top;return Math.abs(g-k)>n}).getOr(s.length);return O.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return O.none()},d4=function(t,n){return sr([Nn(t,n)])},c5=function(t){return d4(Nr("unnamed-events"),t)},r1={namedEvents:d4,unnamedEvents:c5},F3=Nr("tooltip.exclusive"),Cg=Nr("tooltip.show"),n1=Nr("tooltip.hide"),v4=function(t,n,o){t.getSystem().broadcastOn([F3],{})},l5=function(t,n,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&yn.set(d,s)})},I3=Object.freeze({__proto__:null,hideAllExclusive:v4,setComponents:l5}),bT=function(t,n){var o=function(d){n.getTooltip().each(function(p){Rl(p),t.onHide(d,p),n.clearTooltip()}),n.clearTimer()},s=function(d){if(!n.isShowing()){v4(d);var p=t.lazySink(d).getOrDie(),g=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ro(t.mode==="normal"?[Bt($f(),function(k){Sa(d,Cg)}),Bt(q1(),function(k){Sa(d,n1)})]:[]),behaviours:sr([yn.config({})])});n.setTooltip(g),Iv(p,g),t.onShow(d,g),Zo.position(p,g,{anchor:t.anchor(d)})}};return ro(Xt([[Bt(Cg,function(d){n.resetTimer(function(){s(d)},t.delay)}),Bt(n1,function(d){n.resetTimer(function(){o(d)},t.delay)}),Bt(zc(),function(d,p){var g=p;g.universal||dn(g.channels,F3)&&o(d)}),fc(function(d){o(d)})],t.mode==="normal"?[Bt(Ec(),function(d){Sa(d,Cg)}),Bt(Y1(),function(d){Sa(d,n1)}),Bt($f(),function(d){Sa(d,Cg)}),Bt(q1(),function(d){Sa(d,n1)})]:[Bt(e_(),function(d,p){Sa(d,Cg)}),Bt(ay(),function(d){Sa(d,n1)})]]))},L3=Object.freeze({__proto__:null,events:bT}),p4=[zt("lazySink"),zt("tooltipDom"),Pe("exclusive",!0),Pe("tooltipComponents",[]),Pe("delay",300),ic("mode","normal",["normal","follow-highlight"]),Pe("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:se([bi,Ts,Mu,us,Hi,ss]),onRtl:se([bi,Ts,Mu,us,Hi,ss])}}}),Ra("onHide"),Ra("onShow")],f5=function(){var t=Yo(),n=Yo(),o=function(){t.on(clearTimeout)},s=function(p,g){o(),t.set(setTimeout(p,g))},d=se("not-implemented");return Du({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:s,readState:d})},d5=Object.freeze({__proto__:null,init:f5}),m4=Mi({fields:p4,name:"tooltipping",active:L3,state:d5,apis:I3}),v5=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),p5=tinymce.util.Tools.resolve("tinymce.EditorManager"),m5=function(t){var n=t.getParam("skin"),o=t.getParam("skin_url");if(n!==!1){var s=n||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=p5.baseURL+"/skins/ui/"+s}return o},h5=function(t){return t.getParam("readonly",!1,"boolean")},g5=function(t){return t.getParam("skin")===!1},h4=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},g4=function(t){return t.getParam("width",cw.DOM.getStyle(t.getElement(),"width"))},y4=function(t){return O.from(t.getParam("min_width")).filter(hr)},b4=function(t){return O.from(t.getParam("min_height")).filter(hr)},$3=function(t){return O.from(t.getParam("max_width")).filter(hr)},_4=function(t){return O.from(t.getParam("max_height")).filter(hr)},y5=function(t){return O.from(t.getParam("style_formats")).filter(Be)},ip=function(t){return t.getParam("style_formats_merge",!1,"boolean")},b5=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},_5=function(t){return t.getParam("content_langs",void 0,"array")},_T=function(t){return t.getParam("removed_menuitems","")},Vi=function(t){return t.getParam("menubar",!0,"boolean")!==!1},wT=function(t){var n=t.getParam("toolbar",!0),o=n===!0,s=ee(n),d=Be(n)&&n.length>0;return!H3(t)&&(d||s||o)},w4=function(t){var n=oe(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=qe(n,function(s){return typeof s=="string"});return o.length>0?O.some(o):O.none()},H3=function(t){return w4(t).fold(function(){var n=t.getParam("toolbar",[],"string[]");return n.length>0},U)},ul;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ul||(ul={}));var lw=function(t){return t.getParam("toolbar_mode","","string")},xg;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(xg||(xg={}));var w5=function(t){return t.getParam("toolbar_groups",{},"object")},k4=function(t){return t.getParam("toolbar_location",xg.auto,"string")},C4=function(t){return k4(t)===xg.bottom},k5=function(t){return t.getParam("fixed_toolbar_container","","string")},C5=function(t){return t.getParam("fixed_toolbar_container_target")},x5=function(t){return t.getParam("toolbar_persist",!1,"boolean")},x4=function(t){if(!t.inline)return O.none();var n=k5(t);if(n.length>0)return Oi(Ia(),n);var o=C5(t);return He(o)?O.some(tr.fromDom(o)):O.none()},V3=function(t){return t.inline&&x4(t).isSome()},S4=function(t){var n=x4(t);return n.getOrThunk(function(){return or(Zr(tr.fromDom(t.getElement())))})},T4=function(t){return t.inline&&!Vi(t)&&!wT(t)&&!H3(t)},U3=function(t){var n=t.getParam("toolbar_sticky",!1,"boolean");return(n||t.inline)&&!V3(t)&&!T4(t)},S5=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},T5=function(t){return t.getParam("draggable_modal",!1,"boolean")},E5=function(t){var n=t.getParam("menu");return n?kn(n,function(o){return Z(Z({},o),{items:o.items})}):{}},z5=function(t){return t.getParam("menubar")},A5=function(t){return t.getParam("toolbar",!0)},O5=function(t){return t.getParam("file_picker_callback")},R5=function(t){return t.getParam("file_picker_types")},D5=function(t){return t.getParam("file_browser_callback_types")},M5=function(t){return t.getParam("typeahead_urls")===!1},E4=function(t){return t.getParam("anchor_top","#top")},B5=function(t){return t.getParam("anchor_bottom","#bottom")},N5=function(t){var n=t.getParam("file_picker_validator_handler",void 0,"function");return n===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):n},kT="silver.readonly",z4=Kr([xx("readonly")]),a1=function(t,n){var o=t.outerContainer,s=o.element;n&&(t.mothership.broadcastOn([$v()],{target:s}),t.uiMothership.broadcastOn([$v()],{target:s})),t.mothership.broadcastOn([kT],{readonly:n}),t.uiMothership.broadcastOn([kT],{readonly:n})},A4=function(t,n){t.on("init",function(){t.mode.isReadOnly()&&a1(n,!0)}),t.on("SwitchMode",function(){return a1(n,t.mode.isReadOnly())}),h5(t)&&t.setMode("readonly")},Ui=function(){var t;return Hu.config({channels:(t={},t[kT]={schema:z4,onReceive:function(n,o){Jr.set(n,o.readonly)}},t)})},P5=function(t){return Jr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},O4=function(t){return Jr.config({disabled:t})},F5=function(t){return Jr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},R4=function(t){return Jr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Pl={item:P5,button:O4,splitButton:F5,toolbarButton:R4},j3=function(t,n){var o=t.getApi(n);return function(s){s(o)}},o1=function(t,n){return Bn(function(o){var s=j3(t,o);s(function(d){var p=t.onSetup(d);at(p)&&n.set(p)})})},fw=function(t,n){return fc(function(o){return j3(t,o)(n.get())})},CT,I5=function(t,n){return Ws(function(o,s){j3(t,o)(t.onAction),!t.triggersSubmenu&&n===nd.CLOSE_ON_EXECUTE&&(Sa(o,gh()),s.stop())})},L5=(CT={},CT[sc()]=["disabling","alloy.base.behaviour","toggling","item-events"],CT),i1=Kn,u1=function(t,n,o,s){var d=Qr(ut);return{type:"item",dom:n.dom,components:i1(n.optComponents),data:t.data,eventOrder:L5,hasSubmenu:t.triggersSubmenu,itemBehaviours:sr([Nn("item-events",[I5(t,o),o1(t,d),fw(t,d)]),Pl.item(function(){return t.disabled||s.isDisabled()}),Ui(),yn.config({})].concat(t.itemBehaviours))}},Pm=function(t){return{value:t.value,meta:Z({text:t.text.getOr("")},t.meta)}},W3=tinymce.util.Tools.resolve("tinymce.Env"),$5=function(t){var n={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=W3.mac?n:o,d=t.split("+"),p=$t(d,function(g){var k=g.toLowerCase().trim();return fr(s,k)?s[k]:g});return W3.mac?p.join(""):p.join("+")},q3=function(t,n,o){return o===void 0&&(o=[sT]),yf(t,{tag:"div",classes:o},n)},D4=function(t){return{dom:{tag:"div",classes:[cT]},components:[vu(gf.translate(t))]}},M4=function(t,n){return{dom:{tag:"div",classes:n,innerHtml:t}}},xT=function(t,n){return{dom:{tag:"div",classes:[cT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[vu(gf.translate(n))]}]}},H5=function(t){return{dom:{tag:"div",classes:[F6],innerHtml:$5(t)}}},B4=function(t){return q3("checkmark",t,[I6])},V5=function(t){return q3("chevron-right",t,[n4])},U5=function(t){return q3("chevron-down",t,[n4])},ST=function(t,n){var o=t.direction==="vertical"?a4:o4,s=t.align==="left"?L6:i4,d=function(){switch(t.valign){case"top":return $6;case"middle":return H6;case"bottom":return u4}};return{dom:{tag:"div",classes:[B3,o,s,d()]},components:n}},j5=function(t,n,o){return{dom:{tag:"img",classes:n,attributes:{src:t,alt:o.getOr("")}}}},TT=function(t,n,o){var s="custom",d="remove",p=t.ariaLabel,g=t.value,k=t.iconContent.map(function(E){return Xb(E,n.icons,o)}),C=function(){var E=iT,M=k.getOr(""),F=p.map(function(Y){return{title:n.translate(Y)}}).getOr({}),q={tag:"div",attributes:F,classes:[E]};return g===s?Z(Z({},q),{tag:"button",classes:Lt(Lt([],q.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:M}):g===d?Z(Z({},q),{classes:Lt(Lt([],q.classes,!0),["tox-swatch--remove"],!1),innerHtml:M}):Z(Z({},q),{attributes:Z(Z({},q.attributes),{"data-mce-color":g}),styles:{"background-color":g}})};return{dom:C(),optComponents:[]}},N4=function(t){var n=t.map(function(o){return{attributes:{title:gf.translate(o)}}}).getOr({});return Z({tag:"div",classes:[uw,M3]},n)},P4=function(t,n,o,s){var d={tag:"div",classes:[sT]},p=function(q){return yf(q,d,n.icons,s)},g=function(){return O.some({dom:d})},k=o?t.iconContent.map(p).orThunk(g):O.none(),C=t.checkMark,E=O.from(t.meta).fold(function(){return D4},function(q){return fr(q,"style")?$e(xT,q.style):D4}),M=t.htmlContent.fold(function(){return t.textContent.map(E)},function(q){return O.some(M4(q,[cT]))}),F={dom:N4(t.ariaLabel),optComponents:[k,M,t.shortcutContent.map(H5),C,t.caret]};return F},dw=function(t,n,o,s){return s===void 0&&(s=O.none()),t.presets==="color"?TT(t,n,s):P4(t,n,o,s)},s1=function(t,n){return gt(t,"tooltipWorker").map(function(o){return[m4.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Zp}}},mode:"follow-highlight",onShow:function(s,d){o(function(p){m4.setComponents(s,[by({element:tr.fromDom(p)})])})}})]}).getOr([])},W5=function(t){return cw.DOM.encode(t)},F4=function(t,n){var o=gf.translate(t),s=W5(o);if(n.length>0){var d=new RegExp(v5(n),"gi");return s.replace(d,function(p){return'<span class="tox-autocompleter-highlight">'+p+"</span>"})}else return s},q5=function(t,n,o,s,d,p,g,k){k===void 0&&(k=!0);var C=dw({presets:s,textContent:O.none(),htmlContent:o?t.text.map(function(E){return F4(E,n)}):O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:t.value},g.providers,k,t.icon);return u1({data:Pm(t),disabled:t.disabled,getApi:se({}),onAction:function(E){return d(t.value,t.meta)},onSetup:se(ut),triggersSubmenu:!1,itemBehaviours:s1(t.meta,g)},C,p,g.providers)},I4=function(t,n){return $t(t,function(o){switch(o.type){case"cardcontainer":return ST(o,I4(o.items,n));case"cardimage":return j5(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(p){return dn(n.cardText.highlightOn,p)}),d=s?O.from(n.cardText.matchText).getOr(""):"";return M4(F4(o.text,d),o.classes)}})},G5=function(t,n,o,s){var d=function(g){return{isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){Jr.set(g,k),Ze(Uu(g.element,"*"),function(C){g.getSystem().getByDom(C).each(function(E){E.hasConfigured(Jr)&&Jr.set(E,k)})})}}},p={dom:N4(t.label),optComponents:[O.some({dom:{tag:"div",classes:[B3,o4]},components:I4(t.items,s)})]};return u1({data:Pm(Z({text:O.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(s.itemBehaviours).getOr([])},p,n,o.providers)},K5=function(t,n,o,s,d,p,g,k){k===void 0&&(k=!0);var C=function(M){return{setActive:function(F){ca.set(M,F)},isActive:function(){return ca.isOn(M)},isDisabled:function(){return Jr.isDisabled(M)},setDisabled:function(F){return Jr.set(M,F)}}},E=dw({presets:o,textContent:n?t.text:O.none(),htmlContent:O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:n?t.shortcut:O.none(),checkMark:n?O.some(B4(g.icons)):O.none(),caret:O.none(),value:t.value},g,k);return _t(u1({data:Pm(t),disabled:t.disabled,getApi:C,onAction:function(M){return s(t.value)},onSetup:function(M){return M.setActive(d),ut},triggersSubmenu:!1,itemBehaviours:[]},E,p,g),{toggling:{toggleClass:uT,toggleOnExecute:!1,selected:t.active}})},ET=Wv(T(),D()),L4=function(t){return{value:t}},$4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,H4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,V4=function(t){return $4.test(t)||H4.test(t)},X5=function(t){return $o(t,"#").toUpperCase()},Y5=function(t){return V4(t)?O.some({value:X5(t)}):O.none()},Fm=function(t){var n=t.value.replace($4,function(o,s,d,p){return s+s+d+d+p+p});return{value:n}},Z5=function(t){var n=Fm(t),o=H4.exec(n.value);return o===null?["FFFFFF","FF","FF","FF"]:o},zT=function(t){var n=t.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},vw=function(t){var n=zT(t.red)+zT(t.green)+zT(t.blue);return L4(n)},G3=Math.min,U4=Math.max,c1=Math.round,J5=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,AT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,up=function(t,n,o,s){return{red:t,green:n,blue:o,alpha:s}},K3=function(t){var n=parseInt(t,10);return n.toString()===t&&n>=0&&n<=255},OT=function(t){var n,o,s,d=(t.hue||0)%360,p=t.saturation/100,g=t.value/100;if(p=U4(0,G3(p,1)),g=U4(0,G3(g,1)),p===0)return n=o=s=c1(255*g),up(n,o,s,1);var k=d/60,C=g*p,E=C*(1-Math.abs(k%2-1)),M=g-C;switch(Math.floor(k)){case 0:n=C,o=E,s=0;break;case 1:n=E,o=C,s=0;break;case 2:n=0,o=C,s=E;break;case 3:n=0,o=E,s=C;break;case 4:n=E,o=0,s=C;break;case 5:n=C,o=0,s=E;break;default:n=o=s=0}return n=c1(255*(n+M)),o=c1(255*(o+M)),s=c1(255*(s+M)),up(n,o,s,1)},pw=function(t){var n=Z5(t),o=parseInt(n[1],16),s=parseInt(n[2],16),d=parseInt(n[3],16);return up(o,s,d,1)},X3=function(t,n,o,s){var d=parseInt(t,10),p=parseInt(n,10),g=parseInt(o,10),k=parseFloat(s);return up(d,p,g,k)},j4=function(t){if(t==="transparent")return O.some(up(0,0,0,0));var n=J5.exec(t);if(n!==null)return O.some(X3(n[1],n[2],n[3],"1"));var o=AT.exec(t);return o!==null?O.some(X3(o[1],o[2],o[3],o[4])):O.none()},W4=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},q4=up(255,0,0,1),Q5=function(t){return t.fire("SkinLoaded")},eM=function(t,n){return t.fire("SkinLoadError",n)},tM=function(t){return t.fire("ResizeEditor")},RT=function(t,n){return t.fire("ResizeContent",n)},rM=function(t,n){return t.fire("ScrollContent",n)},nM=function(t,n){return t.fire("TextColorChange",n)},mw=function(t,n,o){return{hue:t,saturation:n,value:o}},DT=function(t){var n=0,o=0,s=0,d=t.red/255,p=t.green/255,g=t.blue/255,k=Math.min(d,Math.min(p,g)),C=Math.max(d,Math.max(p,g));if(k===C)return s=k,mw(0,0,s*100);var E=d===k?p-g:g===k?d-p:g-d;return n=d===k?3:g===k?1:5,n=60*(n-E/(C-k)),o=(C-k)/C,s=C,mw(Math.round(n),Math.round(o*100),Math.round(s*100))},aM=function(t){return DT(pw(t))},MT=function(t){return vw(OT(t))},oM=function(t){return Y5(t).orThunk(function(){return j4(t).map(vw)}).getOrThunk(function(){var n=document.createElement("canvas");n.height=1,n.width=1;var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],p=s[1],g=s[2],k=s[3];return vw(up(d,p,g,k))})},Y3=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Z3="tinymce-custom-colors";function J3(t){var n=Y3.getItem(Z3),o=ee(n)?JSON.parse(n):[],s=function(C){var E=t-C.length;return E<0?C.slice(0,t):C},d=s(o),p=function(C){vo(d,C).each(g),d.unshift(C),d.length>t&&d.pop(),Y3.setItem(Z3,JSON.stringify(d))},g=function(C){d.splice(C,1)},k=function(){return d.slice(0)};return{add:p,state:k}}var tu="choiceitem",Q3=[{type:tu,text:"Light Green",value:"#BFEDD2"},{type:tu,text:"Light Yellow",value:"#FBEEB8"},{type:tu,text:"Light Red",value:"#F8CAC6"},{type:tu,text:"Light Purple",value:"#ECCAFA"},{type:tu,text:"Light Blue",value:"#C2E0F4"},{type:tu,text:"Green",value:"#2DC26B"},{type:tu,text:"Yellow",value:"#F1C40F"},{type:tu,text:"Red",value:"#E03E2D"},{type:tu,text:"Purple",value:"#B96AD9"},{type:tu,text:"Blue",value:"#3598DB"},{type:tu,text:"Dark Turquoise",value:"#169179"},{type:tu,text:"Orange",value:"#E67E23"},{type:tu,text:"Dark Red",value:"#BA372A"},{type:tu,text:"Dark Purple",value:"#843FA1"},{type:tu,text:"Dark Blue",value:"#236FA1"},{type:tu,text:"Light Gray",value:"#ECF0F1"},{type:tu,text:"Medium Gray",value:"#CED4D9"},{type:tu,text:"Gray",value:"#95A5A6"},{type:tu,text:"Dark Gray",value:"#7E8C8D"},{type:tu,text:"Navy Blue",value:"#34495E"},{type:tu,text:"Black",value:"#000000"},{type:tu,text:"White",value:"#ffffff"}],G4=J3(10),iM=function(t){for(var n=[],o=0;o<t.length;o+=2)n.push({text:t[o+1],value:"#"+oM(t[o]).value,type:"choiceitem"});return n},uM=function(t,n){return t.getParam("color_cols",n,"number")},K4=function(t){return t.getParam("custom_colors")!==!1},sM=function(t){return t.getParam("color_map")},BT=function(t){var n=sM(t);return n!==void 0?iM(n):Q3},X4=function(){return $t(G4.state(),function(t){return{type:tu,text:t,value:t}})},Y4=function(t){G4.add(t)},NT="#000000",cM=function(t,n){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[n==="forecolor"?"color":"background-color"])&&(o=o||d)}),O.from(o)},lM=function(t,n,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(n,{value:o}),t.nodeChanged()})},fM=function(t,n){t.undoManager.transact(function(){t.focus(),t.formatter.remove(n,{value:null},null,!0),t.nodeChanged()})},dM=function(t){t.addCommand("mceApplyTextcolor",function(n,o){lM(t,n,o)}),t.addCommand("mceRemoveTextcolor",function(n){fM(t,n)})},vM=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},eC=function(t){var n=BT(t),o=vM(n.length);return uM(t,o)},Z4=function(t){var n="choiceitem",o={type:n,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:n,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},tC=function(t,n,o,s){if(o==="custom"){var d=tA(t);d(function(p){p.each(function(g){Y4(g),t.execCommand("mceApplyTextcolor",n,g),s(g)})},NT)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",n)):(s(o),t.execCommand("mceApplyTextcolor",n,o))},J4=function(t,n){return t.concat(X4().concat(Z4(n)))},Q4=function(t,n){return function(o){o(J4(t,n))}},PT=function(t,n,o){var s=n==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},l1=function(t,n,o,s,d){t.ui.registry.addSplitButton(n,{tooltip:s,presets:"color",icon:n==="forecolor"?"text-color":"highlight-bg-color",select:function(p){var g=cM(t,o);return g.bind(function(k){return j4(k).map(function(C){var E=vw(C).value;return ra(p.toLowerCase(),E)})}).getOr(!1)},columns:eC(t),fetch:Q4(BT(t),K4(t)),onAction:function(p){tC(t,o,d.get(),ut)},onItemAction:function(p,g){tC(t,o,g,function(k){d.set(k),nM(t,{name:n,color:k})})},onSetup:function(p){PT(p,n,d.get());var g=function(k){k.name===n&&PT(p,k.name,k.color)};return t.on("TextColorChange",g),function(){t.off("TextColorChange",g)}}})},eA=function(t,n,o,s){t.ui.registry.addNestedMenuItem(n,{text:s,icon:n==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){tC(t,o,d.value,ut)}}]}})},tA=function(t){return function(n,o){var s=!1,d=function(k){var C=k.getData(),E=C.colorpicker;s?(n(O.from(E)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",E]))},p=function(k,C){C.name==="hex-valid"&&(s=C.value)},g={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:g,onAction:p,onSubmit:d,onClose:ut,onCancel:function(){n(O.none())}})}},pM=function(t){dM(t);var n=Qr(NT),o=Qr(NT);l1(t,"forecolor","forecolor","Text color",n),l1(t,"backcolor","hilitecolor","Background color",o),eA(t,"forecolor","forecolor","Text color"),eA(t,"backcolor","hilitecolor","Background color")},f1=function(t,n,o,s,d,p,g,k){var C=sw(n),E=d!=="color"?"normal":"color",M=mM(n,o,s,E,p,g,k);return pT(t,C,M,s,d)},mM=function(t,n,o,s,d,p,g){return Kn($t(t,function(k){return k.type==="choiceitem"?hT(k).fold(op,function(C){return O.some(K5(C,o===1,s,n,p(k.value),d,g,sw(t)))}):O.none()}))},rC=function(t,n){var o=e1(n);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=n==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},rA=function(t,n){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:n==="color"?".tox-swatches__row":".tox-collection__group",cell:n==="color"?"."+iT:"."+M3}}},hM=function(t,n){var o=gM(t,n),s=n.colorinput.getColorCols(),d="color",p=f1(Nr("menu-value"),o,function(k){t.onAction({value:k})},s,d,nd.CLOSE_ON_EXECUTE,Ue,n.shared.providers),g=Z(Z({},p),{markers:e1(d),movement:rC(s,d)});return{type:"widget",data:{value:Nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ET.widget(Wr.sketch(g))]}},gM=function(t,n){var o=t.initData.allowCustomColors&&n.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return J4(n.colorinput.getColors(),o)},function(s){return s.concat(Z4(o))})},nA=Nr("cell-over"),aA=Nr("cell-execute"),yM=function(t,n,o){var s,d=function(k){return en(k,nA,{row:t,col:n})},p=function(k){return en(k,aA,{row:t,col:n})},g=function(k,C){C.stop(),p(k)};return wo({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:sr([Nn("insert-table-picker-cell",[Bt($f(),bn.focus),Bt(sc(),p),Bt(Rp(),g),Bt(kd(),g)]),ca.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),bn.config({onFocus:d})])})},bM=function(t,n,o){for(var s=[],d=0;d<n;d++){for(var p=[],g=0;g<o;g++)p.push(yM(d,g,t));s.push(p)}return s},_M=function(t,n,o,s,d){for(var p=0;p<s;p++)for(var g=0;g<d;g++)ca.set(t[p][g],p<=n&&g<=o)},wM=function(t){return Pr(t,function(n){return $t(n,mc)})},oA=function(t,n){return vu(n+"x"+t)},Sg=function(t){var n=10,o=10,s=Nr("size-label"),d=bM(s,n,o),p=oA(0,0),g=La({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[p],behaviours:sr([yn.config({})])});return{type:"widget",data:{value:Nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ET.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:wM(d).concat(g.asSpec()),behaviours:sr([Nn("insert-table-picker",[Bn(function(k){yn.set(g.get(k),[p])}),xd(nA,function(k,C,E){var M=E.event,F=M.row,q=M.col;_M(d,F,q,n,o),yn.set(g.get(k),[oA(F+1,q+1)])}),xd(aA,function(k,C,E){var M=E.event,F=M.row,q=M.col;t.onAction({numRows:F+1,numColumns:q+1}),Sa(k,gh())})]),jr.config({initSize:{numRows:n,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},kM={inserttable:Sg,colorswatch:hM},CM=function(t,n){return gt(kM,t.fancytype).map(function(o){return o(t,n)})},xM=function(t,n,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var p=d?U5(o.icons):V5(o.icons),g=function(C){return{isDisabled:function(){return Jr.isDisabled(C)},setDisabled:function(E){return Jr.set(C,E)}}},k=dw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.some(p),checkMark:O.none(),shortcutContent:t.shortcut},o,s);return u1({data:Pm(t),getApi:g,disabled:t.disabled,onAction:ut,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,n,o)},SM=function(t,n,o,s){s===void 0&&(s=!0);var d=function(g){return{isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){return Jr.set(g,k)}}},p=dw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.none(),checkMark:O.none(),shortcutContent:t.shortcut},o,s);return u1({data:Pm(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},p,n,o)},nC=function(t){var n=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:Z({tag:"div",classes:[M3,r4]},n),components:[]}},iA=function(t,n,o,s){s===void 0&&(s=!0);var d=function(g){return{setActive:function(k){ca.set(g,k)},isActive:function(){return ca.isOn(g)},isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){return Jr.set(g,k)}}},p=dw({iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,checkMark:O.some(B4(o.icons)),caret:O.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return _t(u1({data:Pm(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},p,n,o),{toggling:{toggleClass:uT,toggleOnExecute:!1,selected:t.active}})},uA=q5,sA=nC,TM=SM,EM=xM,zM=iA,AM=CM,OM=G5,hw;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(hw||(hw={}));var cA=function(t,n,o,s,d){var p=o.shared.providers,g=function(k){return d?Z(Z({},k),{shortcut:O.none(),icon:k.text.isSome()?O.none():k.icon}):k};switch(t.type){case"menuitem":return a5(t).fold(op,function(k){return O.some(TM(g(k),n,p,s))});case"nestedmenuitem":return i5(t).fold(op,function(k){return O.some(EM(g(k),n,p,s,d))});case"togglemenuitem":return s5(t).fold(op,function(k){return O.some(zM(g(k),n,p,s))});case"separator":return Zb(t).fold(op,function(k){return O.some(sA(k))});case"fancymenuitem":return r5(t).fold(op,function(k){return AM(g(k),o)});default:return console.error("Unknown item in general menu",t),O.none()}},RM=function(t,n,o,s,d,p,g){var k=s===1,C=!k||sw(t);return Kn($t(t,function(E){switch(E.type){case"separator":return Yz(E).fold(op,function(M){return O.some(sA(M))});case"cardmenuitem":return Q6(E).fold(op,function(M){return O.some(OM(Z(Z({},M),{onAction:function(F){M.onAction(F),o(M.value,M.meta)}}),d,p,{itemBehaviours:s1(M.meta,p),cardText:{matchText:n,highlightOn:g}}))});case"autocompleteitem":default:return Zz(E).fold(op,function(M){return O.some(uA(M,n,k,"normal",o,d,p,C))})}}))},lA=function(t,n,o,s,d){var p=sw(n),g=Kn($t(n,function(C){var E=function(F){return d?!fr(F,"text"):p},M=function(F){return cA(F,o,s,E(F),d)};return C.type==="nestedmenuitem"&&C.getSubmenuItems().length<=0?M(Z(Z({},C),{disabled:!0})):M(C)})),k=d?G6:pT;return k(t,p,g,1,"normal")},fA=function(t){return ja.singleData(t.value,t)},dA=function(t,n,o,s){var d=o===hw.ContentFocus?E2():eg(),p=rC(n,s),g=e1(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:g.selectedItem,item:g.item},movement:p,fakeFocus:o===hw.ContentFocus,focusManager:d,menuBehaviours:r1.unnamedEvents(n!=="auto"?[]:[Bn(function(k,C){yT(k,4,g.item).each(function(E){var M=E.numColumns,F=E.numRows;jr.setGridSize(k,F,M)})})])}},ad=function(t,n){var o=Yo(),s=Qr(!1),d=wo(Ga.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:sr([Nn("dismissAutocompleter",[Bt(Jc(),function(){return C()})])]),lazySink:n.getSink})),p=function(){return Ga.isOpen(d)},g=function(){return o.get().isSome()},k=function(){g()&&Ga.hide(d)},C=function(){if(g()){var de=o.get().map(function(Me){return Me.element});z3(de.getOr(tr.fromDom(t.selection.getNode()))).each(hp),k(),o.clear(),s.set(!1)}},E=mn(function(){return D3(t)}),M=function(de,Me){var pt=Zn(Me,function(ft){return O.from(ft.columns)}).getOr(1);return Pr(Me,function(ft){var De=ft.items;return RM(De,ft.matchText,function(ot,xt){var yr=t.selection.getRng();tT(t.dom,yr,de).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Dt){var _r=Dt.range,Pt={hide:function(){C()},reload:function(Ct){k(),ne(Ct)}};s.set(!0),ft.onAction(Pt,_r,ot,xt),s.set(!1)})},pt,nd.BUBBLE_TO_SANDBOX,n,ft.highlightOn)})},F=function(de){if(!g()){var Me=k6(t,de.range);o.set({triggerChar:de.triggerChar,element:Me,matchLength:de.text.length}),s.set(!1)}},q=function(de,Me,pt,ft){de.matchLength=Me.text.length;var De=Zn(pt,function(ot){return O.from(ot.columns)}).getOr(1);Ga.showAt(d,Wr.sketch(dA(pT("autocompleter-value",!0,ft,De,"normal"),De,hw.ContentFocus,"normal")),{anchor:{type:"node",root:tr.fromDom(t.getBody()),node:O.from(de.element)}}),Ga.getContent(d).each(Na.highlightFirst)},Y=function(de){return o.get().map(function(Me){return tT(t.dom,t.selection.getRng(),Me.triggerChar).bind(function(pt){return Kz(t,E,pt,de)})}).getOrThunk(function(){return iw(t,E)})},ne=function(de){Y(de).fold(C,function(Me){F(Me.context),Me.lookupData.then(function(pt){o.get().map(function(ft){var De=Me.context;if(ft.triggerChar===De.triggerChar){var ot=M(De.triggerChar,pt);ot.length>0?q(ft,De,pt,ot):De.text.length-ft.matchLength>=10?C():k()}})})})},pe=E3(function(de){de.which!==27&&ne()},50),Oe={onKeypress:pe,cancelIfNecessary:C,isMenuOpen:p,isActive:g,isProcessingAction:s.get,getView:function(){return Ga.getContent(d)}};t.hasPlugin("rtc")===!1&&rT.setup(Oe,t)},Im={register:ad},gw=function(t,n,o){return Oc(t,n,o).isSome()},FT=function(t,n){var o=null,s=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];o=setTimeout(function(){t.apply(null,p),o=null},n)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},IT=5,aC=400,vA=function(t){var n=t.raw;return n.touches===void 0||n.touches.length!==1?O.none():O.some(n.touches[0])},LT=function(t,n){var o=Math.abs(t.clientX-n.x),s=Math.abs(t.clientY-n.y);return o>IT||s>IT},$T=function(t){var n=Yo(),o=Qr(!1),s=FT(function(E){t.triggerEvent(ty(),E),o.set(!0)},aC),d=function(E){return vA(E).each(function(M){s.cancel();var F={x:M.clientX,y:M.clientY,target:E.target};s.schedule(E),o.set(!1),n.set(F)}),O.none()},p=function(E){return s.cancel(),vA(E).each(function(M){n.on(function(F){LT(M,F)&&n.clear()})}),O.none()},g=function(E){s.cancel();var M=function(F){return va(F.target,E.target)};return n.get().filter(M).map(function(F){return o.get()?(E.prevent(),!1):t.triggerEvent(kd(),E)})},k=Lf([{key:Xl(),value:d},{key:Yc(),value:p},{key:_d(),value:g}]),C=function(E,M){return gt(k,M).bind(function(F){return F(E)})};return{fireIfReady:C}},HT=function(t){var n=t.raw;return n.which===Cb[0]&&!dn(["input","textarea"],Te(t.target))&&!gw(t.target,'[contenteditable="true"]')},pA=function(){return Zt().browser.isFirefox()},DM=function(t,n){return pA()?Hy(t,"focus",n):ni(t,"focusin",n)},MM=function(t,n){return pA()?Hy(t,"blur",n):ni(t,"focusout",n)},oC=function(t,n){var o=Z({stopBackspace:!0},n),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=$T(o),p=$t(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Y){return ni(t,Y,function(ne){d.fireIfReady(ne,Y).each(function(Oe){Oe&&ne.kill()});var pe=o.triggerEvent(Y,ne);pe&&ne.kill()})}),g=Yo(),k=ni(t,"paste",function(Y){d.fireIfReady(Y,"paste").each(function(pe){pe&&Y.kill()});var ne=o.triggerEvent("paste",Y);ne&&Y.kill(),g.set(setTimeout(function(){o.triggerEvent(Z1(),Y)},0))}),C=ni(t,"keydown",function(Y){var ne=o.triggerEvent("keydown",Y);ne?Y.kill():o.stopBackspace&&HT(Y)&&Y.prevent()}),E=DM(t,function(Y){var ne=o.triggerEvent("focusin",Y);ne&&Y.kill()}),M=Yo(),F=MM(t,function(Y){var ne=o.triggerEvent("focusout",Y);ne&&Y.kill(),M.set(setTimeout(function(){o.triggerEvent(Y1(),Y)},0))}),q=function(){Ze(p,function(Y){Y.unbind()}),C.unbind(),E.unbind(),F.unbind(),k.unbind(),g.on(clearTimeout),M.on(clearTimeout)};return{unbind:q}},mA=function(t,n){var o=gt(t,"target").getOr(n);return Qr(o)},BM=function(t,n){var o=Qr(!1),s=Qr(!1),d=function(){o.set(!0)},p=function(){s.set(!0)};return{stop:d,cut:p,isStopped:o.get,isCut:s.get,event:t,setSource:n.set,getSource:n.get}},NM=function(t){var n=Qr(!1),o=function(){n.set(!0)};return{stop:o,cut:ut,isStopped:n.get,isCut:Ue,event:t,setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},d1=uc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),hA=function(t,n,o,s,d,p){var g=t(n,s),k=BM(o,d);return g.fold(function(){return p.logEventNoHandlers(n,s),d1.complete()},function(C){var E=C.descHandler,M=s_(E);return M(k),k.isStopped()?(p.logEventStopped(n,C.element,E.purpose),d1.stopped()):k.isCut()?(p.logEventCut(n,C.element,E.purpose),d1.complete()):yo(C.element).fold(function(){return p.logNoParent(n,C.element,E.purpose),d1.complete()},function(F){return p.logEventResponse(n,C.element,E.purpose),d1.resume(F)})})},VT=function(t,n,o,s,d,p){return hA(t,n,o,s,d,p).fold(U,function(g){return VT(t,n,o,g,d,p)},Ue)},PM=function(t,n,o,s,d){var p=mA(o,s);return hA(t,n,o,s,p,d)},FM=function(t,n,o){var s=NM(n);return Ze(t,function(d){var p=d.descHandler,g=s_(p);g(s)}),s.isStopped()},gA=function(t,n,o,s){return yA(t,n,o,o.target,s)},yA=function(t,n,o,s,d){var p=mA(o,s);return VT(t,n,o,s,p,d)},IM=function(t,n){return{element:t,descHandler:n}},bA=function(t,n){return{id:t,descHandler:n}},_A=function(){var t={},n=function(g,k,C){Rn(C,function(E,M){var F=t[M]!==void 0?t[M]:{};F[k]=u_(E,g),t[M]=F})},o=function(g,k){return Ed(k).bind(function(C){return gt(g,C)}).map(function(C){return IM(k,C)})},s=function(g){return gt(t,g).map(function(k){return Co(k,function(C,E){return bA(E,C)})}).getOr([])},d=function(g,k,C){return gt(t,k).bind(function(E){return zp(C,function(M){return o(E,M)},g)})},p=function(g){Rn(t,function(k,C){fr(k,g)&&delete k[g]})};return{registerId:n,unregisterId:p,filterByType:s,find:d}},LM=function(){var t=_A(),n={},o=function(E){var M=E.element;return Ed(M).getOrThunk(function(){return uk("uid-",E.element)})},s=function(E,M){var F=n[M];if(F===E)p(E);else throw new Error('The tagId "'+M+'" is already used by: '+ns(F.element)+`
Cannot use it for: `+ns(E.element)+`
The conflicting element is`+(tn(F.element)?" ":" not ")+"already in the DOM")},d=function(E){var M=o(E);un(n,M)&&s(E,M);var F=[E];t.registerId(F,M,E.events),n[M]=E},p=function(E){Ed(E.element).each(function(M){delete n[M],t.unregisterId(M)})},g=function(E){return t.filterByType(E)},k=function(E,M,F){return t.find(E,M,F)},C=function(E){return gt(n,E)};return{find:k,filter:g,register:d,unregister:p,getById:C}},$M=function(t){var n=t.dom,o=n.attributes,s=X(n,["attributes"]);return{uid:t.uid,dom:Z({tag:"div",attributes:Z({role:"presentation"},o)},s),components:t.components,behaviours:ym(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ds=gc({name:"Container",factory:$M,configFields:[Pe("components",[]),Bi("containerBehaviours",[]),Pe("events",{}),Pe("domModification",{}),Pe("eventOrder",{})]}),wA=function(t){var n=function(de){return yo(t.element).fold(U,function(Me){return va(de,Me)})},o=LM(),s=function(de,Me){return o.find(n,de,Me)},d=oC(t.element,{triggerEvent:function(de,Me){return m_(de,Me.target,function(pt){return gA(s,de,Me,pt)})}}),p={debugInfo:se("real"),triggerEvent:function(de,Me,pt){m_(de,Me,function(ft){return yA(s,de,pt,Me,ft)})},triggerFocus:function(de,Me){Ed(de).fold(function(){Tl(de)},function(pt){m_(wd(),de,function(ft){return PM(s,wd(),{originator:Me,kill:ut,prevent:ut,target:de},de,ft),!1})})},triggerEscape:function(de,Me){p.triggerEvent("keydown",de.element,Me.event)},getByUid:function(de){return pe(de)},getByDom:function(de){return Oe(de)},build:wo,addToGui:function(de){C(de)},removeFromGui:function(de){E(de)},addToWorld:function(de){g(de)},removeFromWorld:function(de){k(de)},broadcast:function(de){q(de)},broadcastOn:function(de,Me){Y(de,Me)},broadcastEvent:function(de,Me){ne(de,Me)},isConnected:U},g=function(de){de.connect(p),vr(de.element)||(o.register(de),Ze(de.components(),g),p.triggerEvent(hv(),de.element,{target:de.element}))},k=function(de){vr(de.element)||(Ze(de.components(),k),o.unregister(de)),de.disconnect()},C=function(de){Iv(t,de)},E=function(de){Rl(de)},M=function(){d.unbind(),bs(t.element)},F=function(de){var Me=o.filter(zc());Ze(Me,function(pt){var ft=pt.descHandler,De=s_(ft);De(de)})},q=function(de){F({universal:!0,data:de})},Y=function(de,Me){F({universal:!1,channels:de,data:Me})},ne=function(de,Me){var pt=o.filter(de);return FM(pt,Me)},pe=function(de){return o.getById(de).fold(function(){return Ln.error(new Error('Could not find component with uid: "'+de+'" in system.'))},Ln.value)},Oe=function(de){var Me=Ed(de).getOr("not found");return pe(Me)};return g(t),{root:t,element:t.element,destroy:M,add:C,remove:E,getByUid:pe,getByDom:Oe,addToWorld:g,removeFromWorld:k,broadcast:q,broadcastOn:Y,broadcastEvent:ne}},HM=function(t,n){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$t(t.items,n.interpreter)}},iC=se([Pe("prefix","form-field"),Bi("fieldBehaviours",[aa,gr])]),Ys=se([Mc({schema:[zt("dom")],name:"label"}),Mc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[zt("text")],name:"aria-descriptor"}),yu({factory:{sketch:function(t){var n=U1(t,["factory"]);return t.factory.sketch(n)}},schema:[zt("factory")],name:"field"})]),kA=function(t,n,o,s){var d=Qi(t.fieldBehaviours,[aa.config({find:function(k){return Za(k,t,"field")}}),gr.config({store:{mode:"manual",getValue:function(k){return aa.getCurrent(k).bind(gr.getValue)},setValue:function(k,C){aa.getCurrent(k).each(function(E){gr.setValue(E,C)})}}})]),p=ro([Bn(function(k,C){var E=f2(k,t,["label","field","aria-descriptor"]);E.field().each(function(M){var F=Nr(t.prefix);E.label().each(function(q){Fn(q.element,"for",F),Fn(M.element,"id",F)}),E["aria-descriptor"]().each(function(q){var Y=Nr(t.prefix);Fn(q.element,"id",Y),Fn(M.element,"aria-describedby",Y)})})})]),g={getField:function(k){return Za(k,t,"field")},getLabel:function(k){return Za(k,t,"label")}};return{uid:t.uid,dom:t.dom,components:n,behaviours:d,events:p,apis:g}},Da=ls({name:"FormField",configFields:iC(),partFields:Ys(),factory:kA,apis:{getField:function(t,n){return t.getField(n)},getLabel:function(t,n){return t.getLabel(n)}}}),VM=function(t,n){return el({attributes:Lf([{key:n.tabAttr,value:"true"}])})},UM=Object.freeze({__proto__:null,exhibit:VM}),jM=[Pe("tabAttr","data-alloy-tabstop")],ai=Mi({fields:jM,name:"tabstopping",active:UM}),CA=tinymce.util.Tools.resolve("tinymce.html.Entities"),yw=function(t,n,o,s){var d=xA(t,n,o,s);return Da.sketch(d)},WM=function(t,n){return yw(t,n,[],[])},xA=function(t,n,o,s){return{dom:UT(o),components:t.toArray().concat([n]),fieldBehaviours:sr(s)}},qM=function(){return UT([])},UT=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},sp=function(t,n){return Da.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})},Lc=Nr("form-component-change"),bw=Nr("form-close"),Tg=Nr("form-cancel"),nv=Nr("form-action"),_w=Nr("form-submit"),jT=Nr("form-block"),WT=Nr("form-unblock"),Lm=Nr("form-tabchange"),SA=Nr("form-resize"),GM=function(t,n){var o,s=t.label.map(function(F){return sp(F,n)}),d=function(F){return function(q,Y){Oc(Y.event.target,"[data-collection-item-value]").each(function(ne){F(q,Y,ne,bo(ne,"data-collection-item-value"))})}},p=function(F,q){var Y=$t(q,function(Oe){var de=gf.translate(Oe.text),Me=t.columns===1?'<div class="tox-collection__item-label">'+de+"</div>":"",pt='<div class="tox-collection__item-icon">'+Oe.icon+"</div>",ft={_:" "," - ":" ","-":" "},De=de.replace(/\_| \- |\-/g,function(xt){return ft[xt]}),ot=n.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+ot+'" tabindex="-1" data-collection-item-value="'+CA.encodeAllRaw(Oe.value)+'" title="'+De+'" aria-label="'+De+'">'+pt+Me+"</div>"}),ne=t.columns!=="auto"&&t.columns>1?Xa(Y,t.columns):[Y],pe=$t(ne,function(Oe){return'<div class="tox-collection__group">'+Oe.join("")+"</div>"});Vf(F.element,pe.join(""))},g=d(function(F,q,Y,ne){q.stop(),n.isDisabled()||en(F,nv,{name:t.name,value:ne})}),k=[Bt($f(),d(function(F,q,Y){Tl(Y)})),Bt(Rp(),g),Bt(kd(),g),Bt(Ec(),d(function(F,q,Y){Oi(F.element,"."+kg).each(function(ne){yi(ne,kg)}),Ai(Y,kg)})),Bt(lu(),d(function(F){Oi(F.element,"."+kg).each(function(q){yi(q,kg)})})),Ws(d(function(F,q,Y,ne){en(F,nv,{name:t.name,value:ne})}))],C=function(F,q){return $t(Uu(F.element,".tox-collection__item"),q)},E=Da.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ye},behaviours:sr([Jr.config({disabled:n.isDisabled,onDisabled:function(F){C(F,function(q){Ai(q,"tox-collection__item--state-disabled"),Fn(q,"aria-disabled",!0)})},onEnabled:function(F){C(F,function(q){yi(q,"tox-collection__item--state-disabled"),Xi(q,"aria-disabled")})}}),Ui(),yn.config({}),gr.config({store:{mode:"memory",initialValue:[]},onSetValue:function(F,q){p(F,q),t.columns==="auto"&&yT(F,5,"tox-collection__item").each(function(Y){var ne=Y.numRows,pe=Y.numColumns;jr.setGridSize(F,ne,pe)}),Sa(F,SA)}}),ai.config({}),jr.config(rA(t.columns,"normal")),Nn("collection-events",k)]),eventOrder:(o={},o[sc()]=["disabling","alloy.base.behaviour","collection-events"],o)}),M=["tox-form__group--collection"];return yw(s,E,M,[])},cp=se([Oa("data"),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("tag","input"),Pe("inputClasses",[]),Ra("onSetValue"),Pe("styles",{}),Pe("eventOrder",{}),Bi("inputBehaviours",[gr,bn]),Pe("selectOnFocus",!0)]),TA=function(t){return sr([bn.config({onFocus:t.selectOnFocus?function(n){var o=n.element,s=ef(o);o.dom.setSelectionRange(0,s.length)}:ut})])},KM=function(t){return Z(Z({},TA(t)),Qi(t.inputBehaviours,[gr.config({store:Z(Z({mode:"manual"},t.data.map(function(n){return{initialValue:n}}).getOr({})),{getValue:function(n){return ef(n.element)},setValue:function(n,o){var s=ef(n.element);s!==o&&Lp(n.element,o)}}),onSetValue:t.onSetValue})]))},sl=function(t){return{tag:t.tag,attributes:Z({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},EA=function(t,n){return{uid:t.uid,dom:sl(t),components:[],behaviours:KM(t),eventOrder:t.eventOrder}},v1=gc({name:"Input",configFields:cp(),factory:EA}),zA={},AA={exports:zA};(function(t,n,o,s){(function(d,p){typeof n=="object"&&typeof o<"u"?o.exports=p():(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=p())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof mx<"u"?mx:typeof self<"u"?self:{},p={exports:{}};(function(E){(function(M){var F=setTimeout;function q(){}function Y(De,ot){return function(){De.apply(ot,arguments)}}function ne(De){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof De!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ft(De,this)}function pe(De,ot){for(;De._state===3;)De=De._value;if(De._state===0){De._deferreds.push(ot);return}De._handled=!0,ne._immediateFn(function(){var xt=De._state===1?ot.onFulfilled:ot.onRejected;if(xt===null){(De._state===1?Oe:de)(ot.promise,De._value);return}var yr;try{yr=xt(De._value)}catch(Dt){de(ot.promise,Dt);return}Oe(ot.promise,yr)})}function Oe(De,ot){try{if(ot===De)throw new TypeError("A promise cannot be resolved with itself.");if(ot&&(typeof ot=="object"||typeof ot=="function")){var xt=ot.then;if(ot instanceof ne){De._state=3,De._value=ot,Me(De);return}else if(typeof xt=="function"){ft(Y(xt,ot),De);return}}De._state=1,De._value=ot,Me(De)}catch(yr){de(De,yr)}}function de(De,ot){De._state=2,De._value=ot,Me(De)}function Me(De){De._state===2&&De._deferreds.length===0&&ne._immediateFn(function(){De._handled||ne._unhandledRejectionFn(De._value)});for(var ot=0,xt=De._deferreds.length;ot<xt;ot++)pe(De,De._deferreds[ot]);De._deferreds=null}function pt(De,ot,xt){this.onFulfilled=typeof De=="function"?De:null,this.onRejected=typeof ot=="function"?ot:null,this.promise=xt}function ft(De,ot){var xt=!1;try{De(function(yr){xt||(xt=!0,Oe(ot,yr))},function(yr){xt||(xt=!0,de(ot,yr))})}catch(yr){if(xt)return;xt=!0,de(ot,yr)}}ne.prototype.catch=function(De){return this.then(null,De)},ne.prototype.then=function(De,ot){var xt=new this.constructor(q);return pe(this,new pt(De,ot,xt)),xt},ne.all=function(De){var ot=Array.prototype.slice.call(De);return new ne(function(xt,yr){if(ot.length===0)return xt([]);var Dt=ot.length;function _r(Ct,nr){try{if(nr&&(typeof nr=="object"||typeof nr=="function")){var Fr=nr.then;if(typeof Fr=="function"){Fr.call(nr,function(Ot){_r(Ct,Ot)},yr);return}}ot[Ct]=nr,--Dt===0&&xt(ot)}catch(Ot){yr(Ot)}}for(var Pt=0;Pt<ot.length;Pt++)_r(Pt,ot[Pt])})},ne.resolve=function(De){return De&&typeof De=="object"&&De.constructor===ne?De:new ne(function(ot){ot(De)})},ne.reject=function(De){return new ne(function(ot,xt){xt(De)})},ne.race=function(De){return new ne(function(ot,xt){for(var yr=0,Dt=De.length;yr<Dt;yr++)De[yr].then(ot,xt)})},ne._immediateFn=typeof setImmediate=="function"?function(De){setImmediate(De)}:function(De){F(De,0)},ne._unhandledRejectionFn=function(ot){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ot)},ne._setImmediateFn=function(ot){ne._immediateFn=ot},ne._setUnhandledRejectionFn=function(ot){ne._unhandledRejectionFn=ot},E.exports?E.exports=ne:M.Promise||(M.Promise=ne)})(d)})(p);var g=p.exports,k=function(){return typeof window<"u"?window:Function("return this;")()}(),C={boltExport:k.Promise||g};return C})})(void 0,zA,AA);var bf=AA.exports.boltExport,qT=function(t){var n=O.none(),o=[],s=function(E){return qT(function(M){d(function(F){M(E(F))})})},d=function(E){g()?C(E):o.push(E)},p=function(E){g()||(n=O.some(E),k(o),o=[])},g=function(){return n.isSome()},k=function(E){Ze(E,C)},C=function(E){n.each(function(M){setTimeout(function(){E(M)},0)})};return t(p),{get:d,map:s,isReady:g}},OA=function(t){return qT(function(n){n(t)})},XM={nu:qT,pure:OA},YM=function(t){setTimeout(function(){throw t},0)},p1=function(t){var n=function(C){t().then(C,YM)},o=function(C){return p1(function(){return t().then(C)})},s=function(C){return p1(function(){return t().then(function(E){return C(E).toPromise()})})},d=function(C){return p1(function(){return t().then(function(){return C.toPromise()})})},p=function(){return XM.nu(n)},g=function(){var C=null;return p1(function(){return C===null&&(C=t()),C})},k=t;return{map:o,bind:s,anonBind:d,toLazy:p,toCached:g,toPromise:k,get:n}},GT=function(t){return p1(function(){return new bf(t)})},ZM=function(t){return p1(function(){return bf.resolve(t)})},qu={nu:GT,pure:ZM},JM=["input","textarea"],RA=function(t){var n=Te(t);return dn(JM,n)},DA=function(t,n){var o=n.getRoot(t).getOr(t.element);yi(o,n.invalidClass),n.notify.each(function(s){RA(t.element)&&Fn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){Vf(d,s.validHtml)}),s.onValid(t)})},MA=function(t,n,o,s){var d=n.getRoot(t).getOr(t.element);Ai(d,n.invalidClass),n.notify.each(function(p){RA(t.element)&&Fn(t.element,"aria-invalid",!0),p.getContainer(t).each(function(g){Vf(g,s)}),p.onInvalid(t,s)})},BA=function(t,n,o){return n.validator.fold(function(){return qu.pure(Ln.value(!0))},function(s){return s.validate(t)})},uC=function(t,n,o){return n.notify.each(function(s){s.onValidate(t)}),BA(t,n).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return MA(t,n,o,d),Ln.error(d)},function(d){return DA(t,n),Ln.value(d)}):Ln.error("No longer in system")})},NA=function(t,n){var o=n.getRoot(t).getOr(t.element);return as(o,n.invalidClass)},QM=Object.freeze({__proto__:null,markValid:DA,markInvalid:MA,query:BA,run:uC,isInvalid:NA}),eB=function(t,n){return t.validator.map(function(o){return ro([Bt(o.onEvent,function(s){uC(s,t,n).get(Ye)})].concat(o.validateOnLoad?[Bn(function(s){uC(s,t,n).get(ut)})]:[]))}).getOr({})},tB=Object.freeze({__proto__:null,events:eB}),rB=[zt("invalidClass"),Pe("getRoot",O.none),Us("notify",[Pe("aria","alert"),Pe("getContainer",O.none),Pe("validHtml",""),Ra("onValid"),Ra("onInvalid"),Ra("onValidate")]),Us("validator",[zt("validate"),Pe("onEvent","input"),Pe("validateOnLoad",!0)])],av=Mi({fields:rB,name:"invalidating",active:tB,apis:QM,extra:{validation:function(t){return function(n){var o=gr.getValue(n);return qu.pure(t(o))}}}}),PA=function(t,n,o,s){return o.getOrCreate(t,n,s)},FA=Object.freeze({__proto__:null,getCoupled:PA}),IA=[ks("others",Au(Ln.value,Gc()))],sC=function(){var t={},n=function(s,d,p){var g=In(d.others);if(g)return gt(t,p).getOrThunk(function(){var k=gt(d.others,p).getOrDie("No information found for coupled component: "+p),C=k(s),E=s.getSystem().build(C);return t[p]=E,E});throw new Error("Cannot find coupled component: "+p+". Known coupled components: "+JSON.stringify(g,null,2))},o=se({});return Du({readState:o,getOrCreate:n})},nB=Object.freeze({__proto__:null,init:sC}),li=Mi({fields:IA,name:"coupling",apis:FA,state:nB}),LA=se("sink"),$A=se(Mc({name:LA(),overrides:se({dom:{tag:"div"},behaviours:sr([Zo.config({useFixed:U})]),events:ro([yv(Qg()),yv(Zc()),yv(Rp())])})})),od;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(od||(od={}));var HA=function(t,n){var o=t.getHotspot(n).getOr(n),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(p){return{type:s,hotspot:o,overrides:d,layouts:p}})},cC=function(t,n,o){var s=t.fetch;return s(o).map(n)},aB=function(t,n,o,s,d,p,g){var k=cC(t,n,s),C=XT(s,t);return k.map(function(E){return E.bind(function(M){return O.from(ja.sketch(Z(Z({},p.menu()),{uid:zd(""),data:M,highlightImmediately:g===od.HighlightFirst,onOpenMenu:function(F,q){var Y=C().getOrDie();Zo.position(Y,q,{anchor:o}),pa.decloak(d)},onOpenSubmenu:function(F,q,Y){var ne=C().getOrDie();Zo.position(ne,Y,{anchor:{type:"submenu",item:q}}),pa.decloak(d)},onRepositionMenu:function(F,q,Y){var ne=C().getOrDie();Zo.position(ne,q,{anchor:o}),Ze(Y,function(pe){Zo.position(ne,pe.triggeredMenu,{anchor:{type:"submenu",item:pe.triggeringItem}})})},onEscape:function(){return bn.focus(s),pa.close(d),O.some(!0)}})))})})},KT=function(t,n,o,s,d,p,g){var k=HA(t,o),C=aB(t,n,k,o,s,d,g);return C.map(function(E){return E.fold(function(){pa.isOpen(s)&&pa.close(s)},function(M){pa.cloak(s),pa.open(s,M),p(s)}),s})},lp=function(t,n,o,s,d,p,g){return pa.close(s),qu.pure(s)},m1=function(t,n,o,s,d,p){var g=li.getCoupled(o,"sandbox"),k=pa.isOpen(g),C=k?lp:KT;return C(t,n,o,g,s,d,p)},h1=function(t,n,o){var s=aa.getCurrent(n).getOr(n),d=Tu(t.element);o?vn(s.element,"min-width",d+"px"):hl(s.element,d)},XT=function(t,n){return t.getSystem().getByUid(n.uid+"-"+LA()).map(function(o){return function(){return Ln.value(o)}}).getOrThunk(function(){return n.lazySink.fold(function(){return function(){return Ln.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},lC=function(t){pa.getState(t).each(function(n){ja.repositionMenus(n)})},YT=function(t,n,o){var s=xv(),d=function(k,C){var E=HA(t,n);s.link(n.element),t.matchWidth&&h1(E.hotspot,C,t.useMinWidth),t.onOpen(E,k,C),o!==void 0&&o.onOpen!==void 0&&o.onOpen(k,C)},p=function(k,C){s.unlink(n.element),o!==void 0&&o.onClose!==void 0&&o.onClose(k,C)},g=XT(n,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Dc.augment(t.sandboxBehaviours,[gr.config({store:{mode:"memory",initialValue:n}}),pa.config({onOpen:d,onClose:p,isPartOf:function(k,C,E){return Sv(C,E)||Sv(n,E)},getAttachPoint:function(){return g().getOrDie()}}),aa.config({find:function(k){return pa.getState(k).bind(function(C){return aa.getCurrent(C)})}}),Hu.config({channels:Z(Z({},As({isExtraPart:Ue})),Hv({doReposition:lC}))})])}},VA=function(t){var n=li.getCoupled(t,"sandbox");lC(n)},ZT=function(){return[Pe("sandboxClasses",[]),Dc.field("sandboxBehaviours",[aa,Hu,pa,gr])]},UA=se([zt("dom"),zt("fetch"),Ra("onOpen"),Ri("onExecute"),Pe("getHotspot",O.some),Pe("getAnchorOverrides",se({})),Id(),Bi("dropdownBehaviours",[ca,li,jr,bn]),zt("toggleClass"),Pe("eventOrder",{}),Oa("lazySink"),Pe("matchWidth",!1),Pe("useMinWidth",!1),Oa("role")].concat(ZT())),oB=se([hc({schema:[Tv()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),$A()]),fC=function(t,n,o,s){var d,p=function(M){return gt(t.dom,"attributes").bind(function(F){return gt(F,M)})},g=function(M){pa.getState(M).each(function(F){ja.highlightPrimary(F)})},k=function(M){var F=g;m1(t,Ye,M,s,F,od.HighlightFirst).get(ut)},C={expand:function(M){ca.isOn(M)||m1(t,Ye,M,s,ut,od.HighlightNone).get(ut)},open:function(M){ca.isOn(M)||m1(t,Ye,M,s,ut,od.HighlightFirst).get(ut)},isOpen:ca.isOn,close:function(M){ca.isOn(M)&&m1(t,Ye,M,s,ut,od.HighlightFirst).get(ut)},repositionMenus:function(M){ca.isOn(M)&&VA(M)}},E=function(M,F){return lc(M),O.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.dropdownBehaviours,[ca.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),li.config({others:{sandbox:function(M){return YT(t,M,{onOpen:function(){return ca.on(M)},onClose:function(){return ca.off(M)}})}}}),jr.config({mode:"special",onSpace:E,onEnter:E,onDown:function(M,F){if(_f.isOpen(M)){var q=li.getCoupled(M,"sandbox");g(q)}else _f.open(M);return O.some(!0)},onEscape:function(M,F){return _f.isOpen(M)?(_f.close(M),O.some(!0)):O.none()}}),bn.config({})]),events:Wb(O.some(k)),eventOrder:Z(Z({},t.eventOrder),(d={},d[sc()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:C,domModification:{attributes:Z(Z({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(M){return{role:M}})),t.dom.tag==="button"?{type:p("type").getOr("button")}:{})}}},_f=ls({name:"Dropdown",configFields:UA(),partFields:oB(),factory:fC,apis:{open:function(t,n){return t.open(n)},expand:function(t,n){return t.expand(n)},close:function(t,n){return t.close(n)},isOpen:function(t,n){return t.isOpen(n)},repositionMenus:function(t,n){return t.repositionMenus(n)}}}),cl=function(){return el({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},iB=function(){return ro([t_(Rx(),U)])},uB=Object.freeze({__proto__:null,events:iB,exhibit:cl}),g1=Mi({fields:[],name:"unselecting",active:uB}),jA=function(t,n){return _f.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:sr([Pl.button(n.providers.isDisabled),Ui(),g1.config({}),ai.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:n.getSink,fetch:function(o){return qu.nu(function(s){return t.fetch(s)}).map(function(s){return O.from(fA(_t(f1(Nr("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,nd.CLOSE_ON_EXECUTE,Ue,n.providers),{movement:rC(t.columns,t.presets)})))})},parts:{menu:N3(!1,1,t.presets)}})},WA=Nr("color-input-change"),qA=Nr("color-swatch-change"),GA=Nr("color-picker-cancel"),sB=function(t,n,o){var s=Da.parts.field({factory:v1,inputClasses:["tox-textfield"],onSetValue:function(C){return av.run(C).get(ut)},inputBehaviours:sr([Jr.config({disabled:n.providers.isDisabled}),Ui(),ai.config({}),av.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(C){return yo(C.element)},notify:{onValid:function(C){var E=gr.getValue(C);en(C,WA,{color:E})}},validator:{validateOnLoad:!1,validate:function(C){var E=gr.getValue(C);if(E.length===0)return qu.pure(Ln.value(!0));var M=tr.fromTag("span");vn(M,"background-color",E);var F=ui(M,"background-color").fold(function(){return Ln.error("blah")},function(q){return Ln.value(E)});return qu.pure(F)}}})]),selectOnFocus:!1}),d=t.label.map(function(C){return sp(C,n.providers)}),p=function(C,E){en(C,qA,{value:E})},g=function(C,E){k.getOpt(C).each(function(M){E==="custom"?o.colorPicker(function(F){F.fold(function(){return Sa(M,GA)},function(q){p(M,q),Y4(q)})},"#ffffff"):E==="remove"?p(M,""):p(M,E)})},k=La(jA({dom:{tag:"span",attributes:{"aria-label":n.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Hi,Mu,bi]},onLtr:function(){return[Mu,Hi,bi]}},components:[],fetch:Q4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:g},n));return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,k.asSpec()]}]),fieldBehaviours:sr([Nn("form-field-events",[Bt(WA,function(C,E){k.getOpt(C).each(function(M){vn(M.element,"background-color",E.event.color)}),en(C,Lc,{name:t.name})}),Bt(qA,function(C,E){Da.getField(C).each(function(M){gr.setValue(M,E.event.value),aa.getCurrent(C).each(bn.focus)})}),Bt(GA,function(C,E){Da.getField(C).each(function(M){aa.getCurrent(C).each(bn.focus)})})])])})},cB=Mc({schema:[zt("dom")],name:"label"}),$m=function(t){return Mc({name:""+t+"-edge",overrides:function(n){var o=n.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:ro([r_(Xl(),function(d,p,g){return s(d,g)},[n]),r_(Zc(),function(d,p,g){return s(d,g)},[n]),r_(vv(),function(d,p,g){g.mouseIsDown.get()&&s(d,g)},[n])])}})}})},lB=$m("top-left"),KA=$m("top"),fB=$m("top-right"),dB=$m("right"),vB=$m("bottom-right"),XA=$m("bottom"),dC=$m("bottom-left"),pB=$m("left"),vC=yu({name:"thumb",defaults:se({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ro([gv(Xl(),t,"spectrum"),gv(Yc(),t,"spectrum"),gv(_d(),t,"spectrum"),gv(Zc(),t,"spectrum"),gv(vv(),t,"spectrum"),gv(G1(),t,"spectrum")])}}}),y1=yu({schema:[ts("mouseIsDown",function(){return Qr(!1)})],name:"spectrum",overrides:function(t){var n=t.model,o=n.manager,s=function(d,p){return o.getValueFromEvent(p).map(function(g){return o.setValueFrom(d,t,g)})};return{behaviours:sr([jr.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),bn.config({})]),events:ro([Bt(Xl(),s),Bt(Yc(),s),Bt(Zc(),s),Bt(vv(),function(d,p){t.mouseIsDown.get()&&s(d,p)})])}}}),YA=[cB,pB,dB,KA,XA,lB,fB,dC,vB,vC,y1],ZA="slider.change.value",b1=se(ZA),mB=function(t){return t.type.indexOf("touch")!==-1},JT=function(t){var n=t.event.raw;if(mB(n)){var o=n;return o.touches!==void 0&&o.touches.length===1?O.some(o.touches[0]).map(function(d){return Qa(d.clientX,d.clientY)}):O.none()}else{var s=n;return s.clientX!==void 0?O.some(s).map(function(d){return Qa(d.clientX,d.clientY)}):O.none()}},pC="top",hB="right",gB="bottom",JA="left",Hm=function(t){return t.model.minX},fp=function(t){return t.model.minY},ww=function(t){return t.model.minX-1},Gu=function(t){return t.model.minY-1},Vm=function(t){return t.model.maxX},Eg=function(t){return t.model.maxY},mC=function(t){return t.model.maxX+1},kw=function(t){return t.model.maxY+1},QA=function(t,n,o){return n(t)-o(t)},QT=function(t){return QA(t,Vm,Hm)},eE=function(t){return QA(t,Eg,fp)},tE=function(t){return QT(t)/2},id=function(t){return eE(t)/2},Um=function(t){return t.stepSize},rE=function(t){return t.snapToGrid},Cw=function(t){return t.snapStart},hC=function(t){return t.rounded},gC=function(t,n){return t[n+"-edge"]!==void 0},eO=function(t){return gC(t,JA)},tO=function(t){return gC(t,hB)},rO=function(t){return gC(t,pC)},nO=function(t){return gC(t,gB)},ud=function(t){return t.model.value.get()},aO=function(t){return{x:t}},nE=function(t){return{y:t}},jm=function(t,n){return{x:t,y:n}},Nu=function(t,n){en(t,b1(),{value:n})},yC=function(t,n){Nu(t,jm(ww(n),Gu(n)))},yB=function(t,n){Nu(t,nE(Gu(n)))},bB=function(t,n){Nu(t,jm(tE(n),Gu(n)))},oO=function(t,n){Nu(t,jm(mC(n),Gu(n)))},iO=function(t,n){Nu(t,aO(mC(n)))},aE=function(t,n){Nu(t,jm(mC(n),id(n)))},uO=function(t,n){Nu(t,jm(mC(n),kw(n)))},xw=function(t,n){Nu(t,nE(kw(n)))},Sw=function(t,n){Nu(t,jm(tE(n),kw(n)))},_B=function(t,n){Nu(t,jm(ww(n),kw(n)))},wB=function(t,n){Nu(t,aO(ww(n)))},kB=function(t,n){Nu(t,jm(ww(n),id(n)))},oE=function(t,n,o,s){return t<n?t:t>o?o:t===n?n-1:Math.max(n,t-s)},iE=function(t,n,o,s){return t>o?t:t<n?n:t===o?o+1:Math.min(o,t+s)},sO=function(t,n,o){return Math.max(n,Math.min(o,t))},CB=function(t,n,o,s,d){return d.fold(function(){var p=t-n,g=Math.round(p/s)*s;return sO(n+g,n-1,o+1)},function(p){var g=(t-p)%s,k=Math.round(g/s),C=Math.floor((t-p)/s),E=Math.floor((o-p)/s),M=Math.min(E,C+k),F=p+M*s;return Math.max(p,F)})},uE=function(t,n,o){return Math.min(o,Math.max(t,n))-n},Wm=function(t){var n=t.min,o=t.max,s=t.range,d=t.value,p=t.step,g=t.snap,k=t.snapStart,C=t.rounded,E=t.hasMinEdge,M=t.hasMaxEdge,F=t.minBound,q=t.maxBound,Y=t.screenRange,ne=E?n-1:n,pe=M?o+1:o;if(d<F)return ne;if(d>q)return pe;var Oe=uE(d,F,q),de=sO(Oe/Y*s+n,ne,pe);return g&&de>=n&&de<=o?CB(de,n,o,p,k):C?Math.round(de):de},cO=function(t){var n=t.min,o=t.max,s=t.range,d=t.value,p=t.hasMinEdge,g=t.hasMaxEdge,k=t.maxBound,C=t.maxOffset,E=t.centerMinEdge,M=t.centerMaxEdge;return d<n?p?0:E:d>o?g?k:M:(d-n)/s*C},bC="top",lO="right",fO="bottom",sE="left",xB="width",SB="height",sd=function(t){return t.element.dom.getBoundingClientRect()},ll=function(t,n){return t[n]},_C=function(t){var n=sd(t);return ll(n,sE)},cE=function(t){var n=sd(t);return ll(n,lO)},_1=function(t){var n=sd(t);return ll(n,bC)},wC=function(t){var n=sd(t);return ll(n,fO)},lE=function(t){var n=sd(t);return ll(n,xB)},dO=function(t){var n=sd(t);return ll(n,SB)},vO=function(t,n,o){return(t+n)/2-o},Tw=function(t,n){var o=sd(t),s=sd(n),d=ll(o,sE),p=ll(o,lO),g=ll(s,sE);return vO(d,p,g)},fE=function(t,n){var o=sd(t),s=sd(n),d=ll(o,bC),p=ll(o,fO),g=ll(s,bC);return vO(d,p,g)},kC=function(t,n){en(t,b1(),{value:n})},CC=function(t){return{x:t}},dE=function(t,n,o){var s={min:Hm(n),max:Vm(n),range:QT(n),value:o,step:Um(n),snap:rE(n),snapStart:Cw(n),rounded:hC(n),hasMinEdge:eO(n),hasMaxEdge:tO(n),minBound:_C(t),maxBound:cE(t),screenRange:lE(t)};return Wm(s)},TB=function(t,n,o){var s=dE(t,n,o),d=CC(s);return kC(t,d),s},dp=function(t,n){var o=Hm(n);kC(t,CC(o))},vE=function(t,n){var o=Vm(n);kC(t,CC(o))},pO=function(t,n,o){var s=t>0?iE:oE,d=s(ud(o).x,Hm(o),Vm(o),Um(o));return kC(n,CC(d)),O.some(d)},pE=function(t){return function(n,o){return pO(t,n,o).map(U)}},mE=function(t){var n=JT(t);return n.map(function(o){return o.left})},mO=function(t,n,o,s,d){var p=0,g=lE(t),k=s.bind(function(M){return O.some(Tw(M,t))}).getOr(p),C=d.bind(function(M){return O.some(Tw(M,t))}).getOr(g),E={min:Hm(n),max:Vm(n),range:QT(n),value:o,hasMinEdge:eO(n),hasMaxEdge:tO(n),minBound:_C(t),minOffset:p,maxBound:cE(t),maxOffset:g,centerMinEdge:k,centerMaxEdge:C};return cO(E)},w1=function(t,n,o,s,d,p){var g=mO(n,p,o,s,d);return _C(n)-_C(t)+g},hO=function(t,n,o,s){var d=ud(o),p=w1(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),g=Tu(n.element)/2;vn(n.element,"left",p-g+"px")},gO=pE(-1),EB=pE(1),zB=O.none,AB=O.none,OB={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some(iO),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some(wB)},yO=Object.freeze({__proto__:null,setValueFrom:TB,setToMin:dp,setToMax:vE,findValueOfOffset:dE,getValueFromEvent:mE,findPositionOfValue:w1,setPositionFromValue:hO,onLeft:gO,onRight:EB,onUp:zB,onDown:AB,edgeActions:OB}),Ew=function(t,n){en(t,b1(),{value:n})},xC=function(t){return{y:t}},hE=function(t,n,o){var s={min:fp(n),max:Eg(n),range:eE(n),value:o,step:Um(n),snap:rE(n),snapStart:Cw(n),rounded:hC(n),hasMinEdge:rO(n),hasMaxEdge:nO(n),minBound:_1(t),maxBound:wC(t),screenRange:dO(t)};return Wm(s)},RB=function(t,n,o){var s=hE(t,n,o),d=xC(s);return Ew(t,d),s},SC=function(t,n){var o=fp(n);Ew(t,xC(o))},DB=function(t,n){var o=Eg(n);Ew(t,xC(o))},MB=function(t,n,o){var s=t>0?iE:oE,d=s(ud(o).y,fp(o),Eg(o),Um(o));return Ew(n,xC(d)),O.some(d)},gE=function(t){return function(n,o){return MB(t,n,o).map(U)}},bO=function(t){var n=JT(t);return n.map(function(o){return o.top})},BB=function(t,n,o,s,d){var p=0,g=dO(t),k=s.bind(function(M){return O.some(fE(M,t))}).getOr(p),C=d.bind(function(M){return O.some(fE(M,t))}).getOr(g),E={min:fp(n),max:Eg(n),range:eE(n),value:o,hasMinEdge:rO(n),hasMaxEdge:nO(n),minBound:_1(t),minOffset:p,maxBound:wC(t),maxOffset:g,centerMinEdge:k,centerMaxEdge:C};return cO(E)},yE=function(t,n,o,s,d,p){var g=BB(n,p,o,s,d);return _1(n)-_1(t)+g},TC=function(t,n,o,s){var d=ud(o),p=yE(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),g=hi(n.element)/2;vn(n.element,"top",p-g+"px")},NB=O.none,PB=O.none,FB=gE(-1),IB=gE(1),EC={"top-left":O.none(),top:O.some(yB),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some(xw),"bottom-left":O.none(),left:O.none()},bE=Object.freeze({__proto__:null,setValueFrom:RB,setToMin:SC,setToMax:DB,findValueOfOffset:hE,getValueFromEvent:bO,findPositionOfValue:yE,setPositionFromValue:TC,onLeft:NB,onRight:PB,onUp:FB,onDown:IB,edgeActions:EC}),zC=function(t,n){en(t,b1(),{value:n})},AC=function(t,n){return{x:t,y:n}},OC=function(t,n,o){var s=dE(t,n,o.left),d=hE(t,n,o.top),p=AC(s,d);return zC(t,p),p},LB=function(t,n,o,s){var d=t>0?iE:oE,p=n?ud(s).x:d(ud(s).x,Hm(s),Vm(s),Um(s)),g=n?d(ud(s).y,fp(s),Eg(s),Um(s)):ud(s).y;return zC(o,AC(p,g)),O.some(p)},k1=function(t,n){return function(o,s){return LB(t,n,o,s).map(U)}},_O=function(t,n){var o=Hm(n),s=fp(n);zC(t,AC(o,s))},$B=function(t,n){var o=Vm(n),s=Eg(n);zC(t,AC(o,s))},HB=function(t){return JT(t)},wO=function(t,n,o,s){var d=ud(o),p=w1(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),g=yE(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),k=Tu(n.element)/2,C=hi(n.element)/2;vn(n.element,"left",p-k+"px"),vn(n.element,"top",g-C+"px")},kO=k1(-1,!1),VB=k1(1,!1),CO=k1(-1,!0),xO=k1(1,!0),SO={"top-left":O.some(yC),top:O.some(bB),"top-right":O.some(oO),right:O.some(aE),"bottom-right":O.some(uO),bottom:O.some(Sw),"bottom-left":O.some(_B),left:O.some(kB)},TO=Object.freeze({__proto__:null,setValueFrom:OC,setToMin:_O,setToMax:$B,getValueFromEvent:HB,setPositionFromValue:wO,onLeft:kO,onRight:VB,onUp:CO,onDown:xO,edgeActions:SO}),UB=[Pe("stepSize",1),Pe("onChange",ut),Pe("onChoose",ut),Pe("onInit",ut),Pe("onDragStart",ut),Pe("onDragEnd",ut),Pe("snapToGrid",!1),Pe("rounded",!0),Oa("snapStart"),ks("model",Tc("mode",{x:[Pe("minX",0),Pe("maxX",100),ts("value",function(t){return Qr(t.mode.minX)}),zt("getInitialValue"),uo("manager",yO)],y:[Pe("minY",0),Pe("maxY",100),ts("value",function(t){return Qr(t.mode.minY)}),zt("getInitialValue"),uo("manager",bE)],xy:[Pe("minX",0),Pe("maxX",100),Pe("minY",0),Pe("maxY",100),ts("value",function(t){return Qr({x:t.mode.minX,y:t.mode.minY})}),zt("getInitialValue"),uo("manager",TO)]})),Bi("sliderBehaviours",[jr,gr]),ts("mouseIsDown",function(){return Qr(!1)})],jB=function(t,n,o,s){var d,p=function(De){return vf(De,t,"thumb")},g=function(De){return vf(De,t,"spectrum")},k=function(De){return Za(De,t,"left-edge")},C=function(De){return Za(De,t,"right-edge")},E=function(De){return Za(De,t,"top-edge")},M=function(De){return Za(De,t,"bottom-edge")},F=t.model,q=F.manager,Y=function(De,ot){q.setPositionFromValue(De,ot,t,{getLeftEdge:k,getRightEdge:C,getTopEdge:E,getBottomEdge:M,getSpectrum:g})},ne=function(De,ot){F.value.set(ot);var xt=p(De);Y(De,xt)},pe=function(De,ot){ne(De,ot);var xt=p(De);return t.onChange(De,xt,ot),O.some(!0)},Oe=function(De){q.setToMin(De,t)},de=function(De){q.setToMax(De,t)},Me=function(De){var ot=function(){Za(De,t,"thumb").each(function(yr){var Dt=F.value.get();t.onChoose(De,yr,Dt)})},xt=t.mouseIsDown.get();t.mouseIsDown.set(!1),xt&&ot()},pt=function(De,ot){ot.stop(),t.mouseIsDown.set(!0),t.onDragStart(De,p(De))},ft=function(De,ot){ot.stop(),t.onDragEnd(De,p(De)),Me(De)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.sliderBehaviours,[jr.config({mode:"special",focusIn:function(De){return Za(De,t,"spectrum").map(jr.focusIn).map(U)}}),gr.config({store:{mode:"manual",getValue:function(De){return F.value.get()}}}),Hu.config({channels:(d={},d[n0()]={onReceive:Me},d)})]),events:ro([Bt(b1(),function(De,ot){pe(De,ot.event.value)}),Bn(function(De,ot){var xt=F.getInitialValue();F.value.set(xt);var yr=p(De);Y(De,yr);var Dt=g(De);t.onInit(De,yr,Dt,F.value.get())}),Bt(Xl(),pt),Bt(_d(),ft),Bt(Zc(),pt),Bt(G1(),ft)]),apis:{resetToMin:Oe,resetToMax:de,setValue:ne,refresh:Y},domModification:{styles:{position:"relative"}}}},wf=ls({name:"Slider",configFields:UB,partFields:YA,factory:jB,apis:{setValue:function(t,n,o){t.setValue(n,o)},resetToMin:function(t,n){t.resetToMin(n)},resetToMax:function(t,n){t.resetToMax(n)},refresh:function(t,n){t.refresh(n)}}}),RC=Nr("rgb-hex-update"),EO=Nr("slider-update"),_E=Nr("palette-update"),WB=function(t,n){var o=wf.parts.spectrum({dom:{tag:"div",classes:[n("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=wf.parts.thumb({dom:{tag:"div",classes:[n("hue-slider-thumb")],attributes:{role:"presentation"}}});return wf.sketch({dom:{tag:"div",classes:[n("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:se({y:0})},components:[o,s],sliderBehaviours:sr([bn.config({})]),onChange:function(d,p,g){en(d,EO,{value:g})}})},zO="form",wE=[Bi("formBehaviours",[gr])],AO=function(t){return"<alloy.field."+t+">"},qB=function(t){var n=function(){var p=[],g=function(k,C){return p.push(k),b0(zO,AO(k),C)};return{field:g,record:se(p)}}(),o=t(n),s=n.record(),d=$t(s,function(p){return yu({name:p,pname:AO(p)})});return x0(zO,wE,d,KB,o)},GB=function(t,n){return t.fold(function(){return Ln.error(n)},Ln.value)},KB=function(t,n){return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.formBehaviours,[gr.config({store:{mode:"manual",getValue:function(o){var s=d2(o,t);return kn(s,function(d,p){return d().bind(function(g){var k=aa.getCurrent(g);return GB(k,new Error("Cannot find a current component to extract the value from for form part '"+p+"': "+ns(g.element)))}).map(gr.getValue)})},setValue:function(o,s){Rn(s,function(d,p){Za(o,t,p).each(function(g){aa.getCurrent(g).each(function(k){gr.setValue(k,d)})})})}}})]),apis:{getField:function(o,s){return Za(o,t,s).bind(aa.getCurrent)}}}},C1={getField:Fo(function(t,n,o){return t.getField(n,o)}),sketch:qB},OO=Nr("valid-input"),RO=Nr("invalid-input"),kE=Nr("validating-input"),CE="colorcustom.rgb.",XB=function(t,n,o,s){var d=function(q,Y){return av.config({invalidClass:n("invalid"),notify:{onValidate:function(ne){en(ne,kE,{type:q})},onValid:function(ne){en(ne,OO,{type:q,value:gr.getValue(ne)})},onInvalid:function(ne){en(ne,RO,{type:q,value:gr.getValue(ne)})}},validator:{validate:function(ne){var pe=gr.getValue(ne),Oe=Y(pe)?Ln.value(!0):Ln.error(t("aria.input.invalid"));return qu.pure(Oe)},validateOnLoad:!1}})},p=function(q,Y,ne,pe,Oe){var de=t(CE+"range"),Me=Da.parts.label({dom:{tag:"label",innerHtml:ne,attributes:{"aria-label":pe}}}),pt=Da.parts.field({data:Oe,factory:v1,inputAttributes:Z({type:"text"},Y==="hex"?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:sr([d(Y,q),ai.config({})]),onSetValue:function(xt){if(av.isInvalid(xt)){var yr=av.run(xt);yr.get(ut)}}}),ft=[Me,pt],De=Y!=="hex"?[Da.parts["aria-descriptor"]({text:de})]:[],ot=ft.concat(De);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ot}},g=function(q,Y){var ne=vw(Y);return C1.getField(q,"hex").each(function(pe){bn.isFocused(pe)||gr.setValue(q,{hex:ne.value})}),ne},k=function(q,Y){var ne=Y.red,pe=Y.green,Oe=Y.blue;gr.setValue(q,{red:ne,green:pe,blue:Oe})},C=La({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),E=function(q,Y){C.getOpt(q).each(function(ne){vn(ne.element,"background-color","#"+Y.value)})},M=function(){var q={red:Qr(O.some(255)),green:Qr(O.some(255)),blue:Qr(O.some(255)),hex:Qr(O.some("ffffff"))},Y=function(Ct,nr){var Fr=pw(nr);k(Ct,Fr),de(Fr)},ne=function(Ct){return q[Ct].get()},pe=function(Ct,nr){q[Ct].set(nr)},Oe=function(){return ne("red").bind(function(Ct){return ne("green").bind(function(nr){return ne("blue").map(function(Fr){return up(Ct,nr,Fr,1)})})})},de=function(Ct){var nr=Ct.red,Fr=Ct.green,Ot=Ct.blue;pe("red",O.some(nr)),pe("green",O.some(Fr)),pe("blue",O.some(Ot))},Me=function(Ct,nr){var Fr=nr.event;Fr.type!=="hex"?pe(Fr.type,O.none()):s(Ct)},pt=function(Ct,nr){o(Ct);var Fr=L4(nr);pe("hex",O.some(nr));var Ot=pw(Fr);k(Ct,Ot),de(Ot),en(Ct,RC,{hex:Fr}),E(Ct,Fr)},ft=function(Ct,nr,Fr){var Ot=parseInt(Fr,10);pe(nr,O.some(Ot)),Oe().each(function(Ar){var Ur=g(Ct,Ar);en(Ct,RC,{hex:Ur}),E(Ct,Ur)})},De=function(Ct){return Ct.type==="hex"},ot=function(Ct,nr){var Fr=nr.event;De(Fr)?pt(Ct,Fr.value):ft(Ct,Fr.type,Fr.value)},xt=function(Ct){return{label:t(CE+Ct+".label"),description:t(CE+Ct+".description")}},yr=xt("red"),Dt=xt("green"),_r=xt("blue"),Pt=xt("hex");return _t(C1.sketch(function(Ct){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Ct.field("red",Da.sketch(p(K3,"red",yr.label,yr.description,255))),Ct.field("green",Da.sketch(p(K3,"green",Dt.label,Dt.description,255))),Ct.field("blue",Da.sketch(p(K3,"blue",_r.label,_r.description,255))),Ct.field("hex",Da.sketch(p(V4,"hex",Pt.label,Pt.description,"ffffff"))),C.asSpec()],formBehaviours:sr([av.config({invalidClass:n("form-invalid")}),Nn("rgb-form-events",[Bt(OO,ot),Bt(RO,Me),Bt(kE,Me)])])}}),{apis:{updateHex:function(Ct,nr){gr.setValue(Ct,{hex:nr.value}),Y(Ct,nr),E(Ct,nr)}}})},F=gc({factory:M,name:"RgbForm",configFields:[],apis:{updateHex:function(q,Y,ne){q.updateHex(Y,ne)}},extraApis:{}});return F},DO=function(t,n){var o=wf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),s=wf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:"<div class="+n("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(E,M){var F=E.width,q=E.height,Y=E.getContext("2d");if(Y!==null){Y.fillStyle=M,Y.fillRect(0,0,F,q);var ne=Y.createLinearGradient(0,0,F,0);ne.addColorStop(0,"rgba(255,255,255,1)"),ne.addColorStop(1,"rgba(255,255,255,0)"),Y.fillStyle=ne,Y.fillRect(0,0,F,q);var pe=Y.createLinearGradient(0,0,0,q);pe.addColorStop(0,"rgba(0,0,0,0)"),pe.addColorStop(1,"rgba(0,0,0,1)"),Y.fillStyle=pe,Y.fillRect(0,0,F,q)}},p=function(E,M){var F=E.components()[0].element.dom,q=mw(M,100,100),Y=OT(q);d(F,W4(Y))},g=function(E,M){var F=DT(pw(M));wf.setValue(E,{x:F.saturation,y:100-F.value})},k=function(E){var M=se({x:0,y:0}),F=function(ne,pe,Oe){en(ne,_E,{value:Oe})},q=function(ne,pe,Oe,de){d(Oe.element.dom,W4(q4))},Y=sr([aa.config({find:O.some}),bn.config({})]);return wf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:M},rounded:!1,components:[o,s],onChange:F,onInit:q,sliderBehaviours:Y})},C=gc({factory:k,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(E,M,F){p(M,F)},setThumb:function(E,M,F){g(M,F)}},extraApis:{}});return C},YB=function(t,n){var o=function(d){var p=XB(t,n,d.onValidHex,d.onInvalidHex),g=DO(t,n),k=function(ot){return(100-ot)/100*360},C=function(ot){return 100-ot/360*100},E={paletteRgba:Qr(q4),paletteHue:Qr(0)},M=La(WB(t,n)),F=La(g.sketch({})),q=La(p.sketch({})),Y=function(ot,xt,yr){F.getOpt(ot).each(function(Dt){g.setHue(Dt,yr)})},ne=function(ot,xt){q.getOpt(ot).each(function(yr){p.updateHex(yr,xt)})},pe=function(ot,xt,yr){M.getOpt(ot).each(function(Dt){wf.setValue(Dt,{y:C(yr)})})},Oe=function(ot,xt){F.getOpt(ot).each(function(yr){g.setThumb(yr,xt)})},de=function(ot,xt){var yr=pw(ot);E.paletteRgba.set(yr),E.paletteHue.set(xt)},Me=function(ot,xt,yr,Dt){de(xt,yr),Ze(Dt,function(_r){_r(ot,xt,yr)})},pt=function(){var ot=[ne];return function(xt,yr){var Dt=yr.event.value,_r=E.paletteHue.get(),Pt=mw(_r,Dt.x,100-Dt.y),Ct=MT(Pt);Me(xt,Ct,_r,ot)}},ft=function(){var ot=[Y,ne];return function(xt,yr){var Dt=k(yr.event.value.y),_r=E.paletteRgba.get(),Pt=DT(_r),Ct=mw(Dt,Pt.saturation,Pt.value),nr=MT(Ct);Me(xt,nr,Dt,ot)}},De=function(){var ot=[Y,pe,Oe];return function(xt,yr){var Dt=yr.event.hex,_r=aM(Dt);Me(xt,Dt,_r.hue,ot)}};return{uid:d.uid,dom:d.dom,components:[F.asSpec(),M.asSpec(),q.asSpec()],behaviours:sr([Nn("colour-picker-events",[Bt(RC,De()),Bt(_E,pt()),Bt(EO,ft())]),aa.config({find:function(ot){return q.getOpt(ot)}}),jr.config({mode:"acyclic"})])}},s=gc({name:"ColourPicker",configFields:[zt("dom"),Pe("onValidHex",ut),Pe("onInvalidHex",ut)],factory:o});return s},ZB=function(){return aa.config({find:O.some})},JB=function(t){return aa.config({find:t.getOpt})},MO=function(t){return aa.config({find:function(n){return _(n.element,t).bind(function(o){return n.getSystem().getByDom(o).toOptional()})}})},cd={self:ZB,memento:JB,childAt:MO},QB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},BO=function(t){return QB[t]},NO=function(t){return BO(t)},PO=function(t){var n=function(g){return"tox-"+g},o=YB(NO,n),s=function(g){en(g,nv,{name:"hex-valid",value:!0})},d=function(g){en(g,nv,{name:"hex-valid",value:!1})},p=La(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[p.asSpec()],behaviours:sr([gr.config({store:{mode:"manual",getValue:function(g){var k=p.get(g),C=aa.getCurrent(k),E=C.bind(function(M){var F=gr.getValue(M);return F.hex});return E.map(function(M){return"#"+M}).getOr("")},setValue:function(g,k){var C=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,E=C.exec(k),M=p.get(g),F=aa.getCurrent(M);F.fold(function(){console.log("Can not find form")},function(q){gr.setValue(q,{hex:O.from(E[1]).getOr("")}),C1.getField(q,"hex").each(function(Y){Sa(Y,pv())})})}}}),cd.self()])}},eN=tinymce.util.Tools.resolve("tinymce.Resource"),FO=function(t){return fr(t,"init")},IO=function(t){var n=Yo(),o=La({dom:{tag:t.tag}}),s=Yo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:sr([Nn("custom-editor-events",[Bn(function(d){o.getOpt(d).each(function(p){(FO(t)?t.init(p.element.dom):eN.load(t.scriptId,t.scriptUrl).then(function(g){return g(p.element.dom,t.settings)})).then(function(g){s.on(function(k){g.setValue(k)}),s.clear(),n.set(g)})})})]),gr.config({store:{mode:"manual",getValue:function(){return n.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,p){n.get().fold(function(){s.set(p)},function(g){return g.setValue(p)})}}}),cd.self()]),components:[o.asSpec()]}},qm=tinymce.util.Tools.resolve("tinymce.util.Tools"),tN=Kr([Pe("preprocess",Ye),Pe("postprocess",Ye)]),rN=function(t,n){var o=Ua("RepresentingConfigs.memento processors",tN,n);return gr.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),p=gr.getValue(d);return o.postprocess(p)},setValue:function(s,d){var p=o.preprocess(d),g=t.get(s);gr.setValue(g,p)}}})},LO=function(t,n,o){return gr.config(_t({store:{mode:"manual",getValue:n,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},xE=function(t,n,o){return LO(t,function(s){return n(s.element)},function(s,d){return o(s.element,d)})},nN=function(t){return xE(t,ef,Lp)},$O=function(t){return xE(t,Yl,Vf)},aN=function(t){return gr.config({store:{mode:"memory",initialValue:t}})},zg={memento:rN,withElement:xE,withComp:LO,domValue:nN,domHtml:$O,memory:aN},oN="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",wa=function(t,n){var o=qm.explode(n.getSetting("images_file_types",oN,"string")),s=function(d){return fa(o,function(p){return Lr(d.name.toLowerCase(),"."+p.toLowerCase())})};return qe(ba(t),s)},x1=function(t,n){var o=function(F,q){q.stop()},s=function(F){return function(q,Y){Ze(F,function(ne){ne(q,Y)})}},d=function(F,q){if(!Jr.isDisabled(F)){var Y=q.event.raw;g(F,Y.dataTransfer.files)}},p=function(F,q){var Y=q.event.raw.target;g(F,Y.files)},g=function(F,q){gr.setValue(F,wa(q,n)),en(F,Lc,{name:t.name})},k=La({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:sr([Nn("input-file-events",[yv(Rp()),yv(kd())])])}),C=function(F){return{uid:F.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:sr([zg.memory([]),cd.self(),Jr.config({}),ca.config({toggleClass:"dragenter",toggleOnExecute:!1}),Nn("dropzone-events",[Bt("dragenter",s([o,ca.toggle])),Bt("dragleave",s([o,ca.toggle])),Bt("dragover",o),Bt("drop",s([o,d])),Bt(Op(),p)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:n.translate("Drop an image here")}},Ks.sketch({dom:{tag:"button",innerHtml:n.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[k.asSpec()],action:function(q){var Y=k.get(q);Y.element.dom.click()},buttonBehaviours:sr([ai.config({}),Pl.button(n.isDisabled),Ui()])})]}]}},E=t.label.map(function(F){return sp(F,n)}),M=Da.parts.field({factory:{sketch:C}});return yw(E,M,["tox-form__group--stretched"],[])},HO=function(t,n){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:$t(t.items,n.interpreter)}},DC=Nr("alloy-fake-before-tabstop"),MC=Nr("alloy-fake-after-tabstop"),VO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:sr([bn.config({ignore:!0}),ai.config({})])}},UO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[VO([DC]),t,VO([MC])],behaviours:sr([cd.childAt(1)])}},jO=function(t,n){en(t,Qg(),{raw:{which:9,shiftKey:n}})},WO=function(t,n){var o=n.element;as(o,DC)?jO(t,!0):as(o,MC)&&jO(t,!1)},zw=function(t){return gw(t,["."+DC,"."+MC].join(","),Ue)},iN=!(Zt().browser.isIE()||Zt().browser.isEdge()),uN=function(t){var n=Qr("");return{getValue:function(o){return n.get()},setValue:function(o,s){if(t)Fn(o.element,"srcdoc",s);else{Fn(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}n.set(s)}}},sN=function(t,n){var o=iN&&t.sandboxed,s=Z(Z({},t.label.map(function(C){return{title:C}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=uN(o),p=t.label.map(function(C){return sp(C,n)}),g=function(C){return UO({uid:C.uid,dom:{tag:"iframe",attributes:s},behaviours:sr([ai.config({}),bn.config({}),zg.withComp(O.none(),d.getValue,d.setValue)])})},k=Da.parts.field({factory:{sketch:g}});return yw(p,k,["tox-form__group--stretched"],[])},S1=function(t,n){return lN(document.createElement("canvas"),t,n)},cN=function(t){var n=S1(t.width,t.height),o=vp(n);return o.drawImage(t,0,0),n},vp=function(t){return t.getContext("2d")},lN=function(t,n,o){return t.width=n,t.height=o,t},SE=function(t){return t.naturalWidth||t.width},TE=function(t){return t.naturalHeight||t.height},fN=function(t){return new bf(function(n,o){var s=URL.createObjectURL(t),d=new Image,p=function(){d.removeEventListener("load",g),d.removeEventListener("error",k)},g=function(){p(),n(d)},k=function(){p(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",g),d.addEventListener("error",k),d.src=s,d.complete&&setTimeout(g,0)})},qO=function(t){var n=t.split(","),o=/data:([^;]+)/.exec(n[0]);if(!o)return O.none();for(var s=o[1],d=n[1],p=1024,g=atob(d),k=g.length,C=Math.ceil(k/p),E=new Array(C),M=0;M<C;++M){for(var F=M*p,q=Math.min(F+p,k),Y=new Array(q-F),ne=F,pe=0;ne<q;++pe,++ne)Y[pe]=g[ne].charCodeAt(0);E[M]=new Uint8Array(Y)}return O.some(new Blob(E,{type:s}))},dN=function(t){return new bf(function(n,o){qO(t).fold(function(){o("uri is not base64: "+t)},n)})},GO=function(t,n,o){return n=n||"image/png",at(HTMLCanvasElement.prototype.toBlob)?new bf(function(s,d){t.toBlob(function(p){p?s(p):d()},n,o)}):dN(t.toDataURL(n,o))},vN=function(t,n,o){return n=n||"image/png",t.toDataURL(n,o)},pN=function(t){return fN(t).then(function(n){hN(n);var o=S1(SE(n),TE(n)),s=vp(o);return s.drawImage(n,0,0),o})},mN=function(t){return new bf(function(n){var o=new FileReader;o.onloadend=function(){n(o.result)},o.readAsDataURL(t)})},hN=function(t){URL.revokeObjectURL(t.src)},EE=function(t,n,o){var s=n.type,d=se(s),p=function(){return bf.resolve(n)},g=se(o),k=function(){return o.split(",")[1]},C=function(q,Y){return t.then(function(ne){return GO(ne,q,Y)})},E=function(q,Y){return t.then(function(ne){return vN(ne,q,Y)})},M=function(q,Y){return E(q,Y).then(function(ne){return ne.split(",")[1]})},F=function(){return t.then(cN)};return{getType:d,toBlob:p,toDataURL:g,toBase64:k,toAdjustedBlob:C,toAdjustedDataURL:E,toAdjustedBase64:M,toCanvas:F}},gN=function(t){return mN(t).then(function(n){return EE(pN(t),t,n)})},Gm=function(t,n){return GO(t,n).then(function(o){return EE(bf.resolve(t),o,t.toDataURL())})},yN=function(t){return gN(t)},T1=function(t,n,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<n&&(s=n),s},zE=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},BC=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],AE=function(t,n){for(var o=[],s=new Array(25),d,p=0;p<5;p++){for(var g=0;g<5;g++)o[g]=n[g+p*5];for(var g=0;g<5;g++){d=0;for(var k=0;k<5;k++)d+=t[g+k*5]*o[k];s[g+p*5]=d}}return s},bN=function(t,n){var o;return n=T1(n,-1,1),n*=100,n<0?o=127+n/100*127:(o=n%1,o===0?o=BC[n]:o=BC[Math.floor(n)]*(1-o)+BC[Math.floor(n)+1]*o,o=o*127+127),AE(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},_N=function(t,n){return n=T1(255*n,-255,255),AE(t,[1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])},wN=function(t,n,o,s){return n=T1(n,0,2),o=T1(o,0,2),s=T1(s,0,2),AE(t,[n,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},OE=function(t,n){return t.toCanvas().then(function(o){return kN(o,t.getType(),n)})},kN=function(t,n,o){var s=vp(t),d=function(g,k){for(var C,E,M,F,q=g.data,Y=k[0],ne=k[1],pe=k[2],Oe=k[3],de=k[4],Me=k[5],pt=k[6],ft=k[7],De=k[8],ot=k[9],xt=k[10],yr=k[11],Dt=k[12],_r=k[13],Pt=k[14],Ct=k[15],nr=k[16],Fr=k[17],Ot=k[18],Ar=k[19],Ur=0;Ur<q.length;Ur+=4)C=q[Ur],E=q[Ur+1],M=q[Ur+2],F=q[Ur+3],q[Ur]=C*Y+E*ne+M*pe+F*Oe+de,q[Ur+1]=C*Me+E*pt+M*ft+F*De+ot,q[Ur+2]=C*xt+E*yr+M*Dt+F*_r+Pt,q[Ur+3]=C*Ct+E*nr+M*Fr+F*Ot+Ar;return g},p=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(p,0,0),Gm(t,n)},Aw=function(t,n){return t.toCanvas().then(function(o){return CN(o,t.getType(),n)})},CN=function(t,n,o){var s=vp(t),d=function(k,C,E){for(var M=function(nr,Fr,Ot){return nr>Ot?nr=Ot:nr<Fr&&(nr=Fr),nr},F=Math.round(Math.sqrt(E.length)),q=Math.floor(F/2),Y=k.data,ne=C.data,pe=k.width,Oe=k.height,de=0;de<Oe;de++)for(var Me=0;Me<pe;Me++){for(var pt=0,ft=0,De=0,ot=0;ot<F;ot++)for(var xt=0;xt<F;xt++){var yr=M(Me+xt-q,0,pe-1),Dt=M(de+ot-q,0,Oe-1),_r=(Dt*pe+yr)*4,Pt=E[ot*F+xt];pt+=Y[_r]*Pt,ft+=Y[_r+1]*Pt,De+=Y[_r+2]*Pt}var Ct=(de*pe+Me)*4;ne[Ct]=M(pt,0,255),ne[Ct+1]=M(ft,0,255),ne[Ct+2]=M(De,0,255)}return C},p=s.getImageData(0,0,t.width,t.height),g=s.getImageData(0,0,t.width,t.height);return g=d(p,g,o),s.putImageData(g,0,0),Gm(t,n)},RE=function(t){var n=function(o,s,d){for(var p=vp(o),g=new Array(256),k=function(M,F){for(var q=M.data,Y=0;Y<q.length;Y+=4)q[Y]=F[q[Y]],q[Y+1]=F[q[Y+1]],q[Y+2]=F[q[Y+2]];return M},C=0;C<g.length;C++)g[C]=t(C,d);var E=k(p.getImageData(0,0,o.width,o.height),g);return p.putImageData(E,0,0),Gm(o,s)};return function(o,s){return o.toCanvas().then(function(d){return n(d,o.getType(),s)})}},KO=function(t){return function(n,o){return OE(n,t(zE(),o))}},xN=function(t){return function(n){return OE(n,t)}},SN=function(t){return function(n){return Aw(n,t)}},TN=xN([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),XO=KO(_N),YO=KO(bN),EN=function(t,n,o,s){return OE(t,wN(zE(),n,o,s))},NC=SN([0,-1,0,-1,5,-1,0,-1,0]),PC=RE(function(t,n){return Math.pow(t/255,1-n)*255}),ZO=function(t,n,o){var s=SE(t),d=TE(t),p=n/s,g=o/d,k=!1;(p<.5||p>2)&&(p=p<.5?.5:2,k=!0),(g<.5||g>2)&&(g=g<.5?.5:2,k=!0);var C=zN(t,p,g);return k?C.then(function(E){return ZO(E,n,o)}):C},zN=function(t,n,o){return new bf(function(s){var d=SE(t),p=TE(t),g=Math.floor(d*n),k=Math.floor(p*o),C=S1(g,k),E=vp(C);E.drawImage(t,0,0,d,p,0,0,g,k),s(C)})},JO=function(t,n){n===void 0&&(n=2);var o=Math.pow(10,n),s=Math.round(t*o);return Math.ceil(s/o)},AN=function(t,n){return t.toCanvas().then(function(o){return DE(o,t.getType(),n)})},DE=function(t,n,o){var s=o<0?360+o:o,d=s*Math.PI/180,p=t.width,g=t.height,k=Math.sin(d),C=Math.cos(d),E=JO(Math.abs(p*C)+Math.abs(g*k)),M=JO(Math.abs(p*k)+Math.abs(g*C)),F=S1(E,M),q=vp(F);return q.translate(E/2,M/2),q.rotate(d),q.drawImage(t,-p/2,-g/2),Gm(F,n)},ME=function(t,n){return t.toCanvas().then(function(o){return QO(o,t.getType(),n)})},QO=function(t,n,o){var s=S1(t.width,t.height),d=vp(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),Gm(s,n)},ON=function(t,n,o,s,d){return t.toCanvas().then(function(p){return BE(p,t.getType(),n,o,s,d)})},BE=function(t,n,o,s,d,p){var g=S1(d,p),k=vp(g);return k.drawImage(t,-o,-s),Gm(g,n)},RN=function(t,n,o){return t.toCanvas().then(function(s){return ZO(s,n,o).then(function(d){return Gm(d,t.getType())})})},DN=function(t){return TN(t)},eR=function(t){return NC(t)},MN=function(t,n){return PC(t,n)},Ow=function(t,n,o,s){return EN(t,n,o,s)},BN=function(t,n){return XO(t,n)},NN=function(t,n){return YO(t,n)},tR=function(t,n){return ME(t,n)},PN=function(t,n,o,s,d){return ON(t,n,o,s,d)},rR=function(t,n,o){return RN(t,n,o)},nR=function(t,n){return AN(t,n)},aR=function(t,n,o){return yf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},n)},FC=function(t,n){return aR(t,n,[])},oR=function(t,n){return aR(t,n,[yn.config({})])},NE=function(t,n,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[n+"__select-label"]},behaviours:sr([yn.config({})])}},IC,iR=Nr("toolbar.button.execute"),FN=function(t){return Ws(function(n,o){j3(t,n)(function(s){en(n,iR,{buttonApi:s}),t.onAction(s)})})},uR=(IC={},IC[sc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],IC),Ag=Nr("update-menu-text"),PE=Nr("update-menu-icon"),FE=function(t,n,o){var s=Qr(ut),d=t.text.map(function(F){return La(NE(F,n,o.providers))}),p=t.icon.map(function(F){return La(oR(F,o.providers.icons))}),g=function(F,q){var Y=gr.getValue(F);return bn.focus(Y),en(Y,"keydown",{raw:q.event.raw}),_f.close(Y),O.some(!0)},k=t.role.fold(function(){return{}},function(F){return{role:F}}),C=t.tooltip.fold(function(){return{}},function(F){var q=o.providers.translate(F);return{title:q,"aria-label":q}}),E=yf("chevron-down",{tag:"div",classes:[n+"__select-chevron"]},o.providers.icons),M=La(_f.sketch(Z(Z(Z({},t.uid?{uid:t.uid}:{}),k),{dom:{tag:"button",classes:[n,n+"--select"].concat($t(t.classes,function(F){return n+"--"+F})),attributes:Z({},C)},components:i1([p.map(function(F){return F.asSpec()}),d.map(function(F){return F.asSpec()}),O.some(E)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:sr(Lt(Lt([],t.dropdownBehaviours,!0),[Pl.button(function(){return t.disabled||o.providers.isDisabled()}),Ui(),g1.config({}),yn.config({}),Nn("dropdown-events",[o1(t,s),fw(t,s)]),Nn("menubutton-update-display-text",[Bt(Ag,function(F,q){d.bind(function(Y){return Y.getOpt(F)}).each(function(Y){yn.set(Y,[vu(o.providers.translate(q.event.text))])})}),Bt(PE,function(F,q){p.bind(function(Y){return Y.getOpt(F)}).each(function(Y){yn.set(Y,[oR(q.event.icon,o.providers.icons)])})})])],!1)),eventOrder:_t(uR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:sr([jr.config({mode:"special",onLeft:g,onRight:g})]),lazySink:o.getSink,toggleClass:n+"--active",parts:{menu:N3(!1,t.columns,t.presets)},fetch:function(F){return qu.nu($e(t.fetch,F))}})));return M.asSpec()},IN=function(t){return ee(t)},yc=function(t){return t.type==="separator"},LN=function(t){return fr(t,"getSubmenuItems")},IE={type:"separator"},sR=function(t,n){var o=Ne(t,function(s,d){return IN(d)?d===""?s:d==="|"?s.length>0&&!yc(s[s.length-1])?s.concat([IE]):s:fr(n,d.toLowerCase())?s.concat([n[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&yc(o[o.length-1])&&o.pop(),o},cR=function(t,n){var o=t.getSubmenuItems(),s=Rw(o,n),d=_t(s.menus,Gl(t.value,s.items)),p=_t(s.expansions,Gl(t.value,t.value));return{item:t,menus:d,expansions:p}},LC=function(t,n){return LN(t)?cR(t,n):{item:t,menus:{},expansions:{}}},$N=function(t){if(yc(t))return t;var n=gt(t,"value").getOrThunk(function(){return Nr("generated-menu-item")});return _t({value:n},t)},Rw=function(t,n){var o=sR(ee(t)?t.split(" "):t,n);return be(o,function(s,d){var p=$N(d),g=LC(p,n);return{menus:_t(s.menus,g.menus),items:[g.item].concat(s.items),expansions:_t(s.expansions,g.expansions)}},{menus:{},expansions:{},items:[]})},E1=function(t,n,o,s){var d=Nr("primary-menu"),p=Rw(t,o.shared.providers.menuItems());if(p.items.length===0)return O.none();var g=lA(d,p.items,n,o,s),k=kn(p.menus,function(E,M){return lA(M,E,n,o,!1)}),C=_t(k,Gl(d,g));return O.from(ja.tieredData(d,C,p.expansions))},Dw=function(t){return{isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)},setActive:function(n){var o=t.element;n?(Ai(o,"tox-tbtn--enabled"),Fn(o,"aria-pressed",!0)):(yi(o,"tox-tbtn--enabled"),Xi(o,"aria-pressed"))},isActive:function(){return as(t.element,"tox-tbtn--enabled")}}},$C=function(t,n,o,s){return FE({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,p){t.fetch(function(g){p(E1(g,nd.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:Dw,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ai.config({})]},n,o.shared)},Fl=function(t,n,o){var s=function(p){return function(g){var k=!g.isActive();g.setActive(k),p.storage.set(k),o.shared.getSink().each(function(C){n().getOpt(C).each(function(E){Tl(E.element),en(E,nv,{name:p.name,value:p.storage.get()})})})}},d=function(p){return function(g){g.setActive(p.storage.get())}};return function(p){p($t(t,function(g){var k=g.text.fold(function(){return{}},function(C){return{text:C}});return Z(Z({type:g.type,active:!1},k),{onAction:s(g),onSetup:d(g)})}))}},lR=function(t,n,o,s,d,p){o===void 0&&(o=[]);var g=n.fold(function(){return{}},function(E){return{action:E}}),k=Z({buttonBehaviours:sr([Pl.button(function(){return t.disabled||p.isDisabled()}),Ui(),ai.config({}),Nn("button press",[uy("click"),uy("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},g),C=_t(k,{dom:s});return _t(C,{components:d})},LE=function(t,n,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(C){return{"aria-label":o.translate(C),title:o.translate(C)}}).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:d},g=t.icon.map(function(C){return FC(C,o.icons)}),k=i1([g]);return lR(t,n,s,p,k,o)},fR=function(t,n,o,s){s===void 0&&(s=[]);var d=LE(t,O.some(n),o,s);return Ks.sketch(d)},dR=function(t,n,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var p=o.translate(t.text),g=t.icon?t.icon.map(function(F){return FC(F,o.icons)}):O.none(),k=g.isSome()?i1([g]):[],C=g.isSome()?{}:{innerHtml:p},E=Lt(Lt(Lt(Lt([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),g.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),M=Z(Z({tag:"button",classes:E},C),{attributes:{title:p}});return lR(t,n,s,M,k,o)},$E=function(t,n,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var p=dR(t,O.some(n),o,s,d);return Ks.sketch(p)},vR=function(t,n){return function(o){n==="custom"?en(o,nv,{name:t,value:{}}):n==="submit"?Sa(o,_w):n==="cancel"?Sa(o,Tg):console.error("Unknown button type: ",n)}},HN=function(t,n){return n==="menu"},VN=function(t,n){return n==="custom"||n==="cancel"||n==="submit"},HC=function(t,n,o){if(HN(t,n)){var s=function(){return g},d=t,p=Z(Z({},t),{onSetup:function(E){return E.setDisabled(t.disabled),ut},fetch:Fl(d.items,s,o)}),g=La($C(p,"tox-tbtn",o,O.none()));return g.asSpec()}else if(VN(t,n)){var k=vR(t.name,n),C=Z(Z({},t),{borderless:!1});return $E(C,k,o.shared.providers,[])}else console.error("Unknown footer button type: ",n)},UN=function(t,n){var o=vR(t.name,"custom");return WM(O.none(),Da.parts.field(Z({factory:Ks},dR(t,O.some(o),n,[zg.memory(""),cd.self()]))))},jN=se([Pe("field1Name","field1"),Pe("field2Name","field2"),is("onLockedChange"),Ev(["lockClass"]),Pe("locked",!1),Dc.field("coupledFieldBehaviours",[aa,gr])]),pR=function(t,n,o){return Za(t,n,o).bind(aa.getCurrent)},HE=function(t,n){return yu({factory:Da,name:t,overrides:function(o){return{fieldBehaviours:sr([Nn("coupled-input-behaviour",[Bt(pv(),function(s){pR(s,o,n).each(function(d){Za(s,o,"lock").each(function(p){ca.isOn(p)&&o.onLockedChange(s,d,p)})})})])])}}})},mR=se([HE("field1","field2"),HE("field2","field1"),yu({factory:Ks,schema:[zt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:sr([ca.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),WN=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,behaviours:Dc.augment(t.coupledFieldBehaviours,[aa.config({find:O.some}),gr.config({store:{mode:"manual",getValue:function(d){var p,g=yb(d,t,["field1","field2"]);return p={},p[t.field1Name]=gr.getValue(g.field1()),p[t.field2Name]=gr.getValue(g.field2()),p},setValue:function(d,p){var g=yb(d,t,["field1","field2"]);un(p,t.field1Name)&&gr.setValue(g.field1(),p[t.field1Name]),un(p,t.field2Name)&&gr.setValue(g.field2(),p[t.field2Name])}}})]),apis:{getField1:function(d){return Za(d,t,"field1")},getField2:function(d){return Za(d,t,"field2")},getLock:function(d){return Za(d,t,"lock")}}}},$c=ls({name:"FormCoupledInputs",configFields:jN(),partFields:mR(),factory:WN,apis:{getField1:function(t,n){return t.getField1(n)},getField2:function(t,n){return t.getField2(n)},getLock:function(t,n){return t.getLock(n)}}}),qN=function(t){var n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in n?n[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},VE=function(t){var n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=n.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return Ln.value({value:s,unit:d})}else return Ln.error(t)},hR=function(t,n){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return fr(o,d)};return t.unit===n?O.some(t.value):s(t.unit)&&s(n)?o[t.unit]===o[n]?O.some(t.value):O.some(t.value/o[t.unit]*o[n]):O.none()},UE=function(t){return O.none()},GN=function(t,n){return function(o){return hR(o,n).map(function(s){return{value:s*t,unit:n}})}},KN=function(t,n){var o=VE(t).toOptional(),s=VE(n).toOptional();return xo(o,s,function(d,p){return hR(d,p.unit).map(function(g){return p.value/g}).map(function(g){return GN(g,p.unit)}).getOr(UE)}).getOr(UE)},gR=function(t,n){var o=UE,s=Nr("ratio-event"),d=function(F){return yf(F,{tag:"span",classes:["tox-icon","tox-lock-icon__"+F]},n.icons)},p=$c.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:n.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),ai.config({})])}),g=function(F){return{dom:{tag:"div",classes:["tox-form__group"]},components:F}},k=function(F){return Da.parts.field({factory:v1,inputClasses:["tox-textfield"],inputBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),ai.config({}),Nn("size-input-events",[Bt(Ec(),function(q,Y){en(q,s,{isField1:F})}),Bt(Op(),function(q,Y){en(q,Lc,{name:t.name})})])]),selectOnFocus:!1})},C=function(F){return{dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(F)}}},E=$c.parts.field1(g([Da.parts.label(C("Width")),k(!0)])),M=$c.parts.field2(g([Da.parts.label(C("Height")),k(!1)]));return $c.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[E,M,g([C("&nbsp;"),p])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(F,q,Y){VE(gr.getValue(F)).each(function(ne){o(ne).each(function(pe){gr.setValue(q,qN(pe))})})},coupledFieldBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(F){$c.getField1(F).bind(Da.getField).each(Jr.disable),$c.getField2(F).bind(Da.getField).each(Jr.disable),$c.getLock(F).each(Jr.disable)},onEnabled:function(F){$c.getField1(F).bind(Da.getField).each(Jr.enable),$c.getField2(F).bind(Da.getField).each(Jr.enable),$c.getLock(F).each(Jr.enable)}}),Ui(),Nn("size-input-events2",[Bt(s,function(F,q){var Y=q.event.isField1,ne=Y?$c.getField1(F):$c.getField2(F),pe=Y?$c.getField2(F):$c.getField1(F),Oe=ne.map(gr.getValue).getOr(""),de=pe.map(gr.getValue).getOr("");o=KN(Oe,de)})])])})},XN=se(Nr("undo")),YN=se(Nr("redo")),ZN=se(Nr("zoom")),JN=se(Nr("back")),QN=se(Nr("apply")),eP=se(Nr("swap")),tP=se(Nr("transform")),yR=se(Nr("temp-transform")),rP=se(Nr("transform-apply")),vs={undo:XN,redo:YN,zoom:ZN,back:JN,apply:QN,swap:eP,transform:tP,tempTransform:yR,transformApply:rP},bR=se("save-state"),nP=se("disable"),aP=se("enable"),bc={formActionEvent:nv,saveState:bR,disable:nP,enable:aP},oP=function(t,n){var o=function(xr,Hn,Wa,Lo){return La($E({name:xr,text:xr,disabled:Wa,primary:Lo,icon:O.none(),borderless:!1},Hn,n))},s=function(xr,Hn,Wa,Lo){return La(fR({name:xr,icon:O.some(xr),tooltip:O.some(Hn),disabled:Lo,primary:!1,borderless:!1},Wa,n))},d=function(xr,Hn){xr.map(function(Wa){var Lo=Wa.get(Hn);Lo.hasConfigured(Jr)&&Jr.disable(Lo)})},p=function(xr,Hn){xr.map(function(Wa){var Lo=Wa.get(Hn);Lo.hasConfigured(Jr)&&Jr.enable(Lo)})},g={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},k=ut,C=function(xr,Hn,Wa){en(xr,Hn,Wa)},E=function(xr){return Sa(xr,bc.disable())},M=function(xr){return Sa(xr,bc.enable())},F=function(xr,Hn){E(xr),C(xr,vs.transform(),{transform:Hn}),M(xr)},q=function(xr,Hn){E(xr),C(xr,vs.tempTransform(),{transform:Hn}),M(xr)},Y=function(xr){return function(){md.getOpt(xr).each(function(Hn){yn.set(Hn,[rh])})}},ne=function(xr,Hn){E(xr),C(xr,vs.transformApply(),{transform:Hn,swap:Y(xr)}),M(xr)},pe=function(){return o("Back",function(xr){return C(xr,vs.back(),{swap:Y(xr)})},!1,!1)},Oe=function(){return La({dom:{tag:"div",classes:["tox-spacer"]},behaviours:sr([Jr.config({})])})},de=function(){return o("Apply",function(xr){return C(xr,vs.apply(),{swap:Y(xr)})},!0,!0)},Me=function(){return function(xr){var Hn=t.getRect();return PN(xr,Hn.x,Hn.y,Hn.w,Hn.h)}},pt=[pe(),Oe(),o("Apply",function(xr){var Hn=Me();ne(xr,Hn),t.hideCrop()},!1,!0)],ft=ds.sketch({dom:g,components:pt.map(function(xr){return xr.asSpec()}),containerBehaviours:sr([Nn("image-tools-crop-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(pt,xr)}),Bt(bc.enable(),function(xr,Hn){p(pt,xr)})])])}),De=La(gR({name:"size",label:O.none(),constrain:!0,disabled:!1},n)),ot=function(xr,Hn){return function(Wa){return rR(Wa,xr,Hn)}},xt=[pe(),Oe(),De,Oe(),o("Apply",function(xr){De.getOpt(xr).each(function(Hn){var Wa=gr.getValue(Hn),Lo=parseInt(Wa.width,10),ec=parseInt(Wa.height,10),Bs=ot(Lo,ec);ne(xr,Bs)})},!1,!0)],yr=ds.sketch({dom:g,components:xt.map(function(xr){return xr.asSpec()}),containerBehaviours:sr([Nn("image-tools-resize-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(xt,xr)}),Bt(bc.enable(),function(xr,Hn){p(xt,xr)})])])}),Dt=function(xr,Hn){return function(Wa){return xr(Wa,Hn)}},_r=Dt(tR,"h"),Pt=Dt(tR,"v"),Ct=Dt(nR,-90),nr=Dt(nR,90),Fr=function(xr,Hn){q(xr,Hn)},Ot=[pe(),Oe(),s("flip-horizontally","Flip horizontally",function(xr){Fr(xr,_r)},!1),s("flip-vertically","Flip vertically",function(xr){Fr(xr,Pt)},!1),s("rotate-left","Rotate counterclockwise",function(xr){Fr(xr,Ct)},!1),s("rotate-right","Rotate clockwise",function(xr){Fr(xr,nr)},!1),Oe(),de()],Ar=ds.sketch({dom:g,components:Ot.map(function(xr){return xr.asSpec()}),containerBehaviours:sr([Nn("image-tools-fliprotate-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(Ot,xr)}),Bt(bc.enable(),function(xr,Hn){p(Ot,xr)})])])}),Ur=function(xr,Hn,Wa,Lo,ec){var Bs=wf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(xr)}}),Uc=wf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Ll=wf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return La(wf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Wa,maxX:ec,getInitialValue:se({x:Lo})},components:[Bs,Uc,Ll],sliderBehaviours:sr([bn.config({})]),onChoose:Hn}))},ia=function(xr,Hn,Wa,Lo,ec){var Bs=function(Uc,Ll,M1){var Ww=Dt(Hn,M1.x/100);F(Uc,Ww)};return Ur(xr,Bs,Wa,Lo,ec)},Ha=function(xr,Hn,Wa,Lo,ec){return[pe(),ia(xr,Hn,Wa,Lo,ec),de()]},ho=function(xr,Hn,Wa,Lo,ec){var Bs=Ha(xr,Hn,Wa,Lo,ec);return ds.sketch({dom:g,components:Bs.map(function(Uc){return Uc.asSpec()}),containerBehaviours:sr([Nn("image-tools-filter-panel-buttons-events",[Bt(bc.disable(),function(Uc,Ll){d(Bs,Uc)}),Bt(bc.enable(),function(Uc,Ll){p(Bs,Uc)})])])})},Ko=[pe(),Oe(),de()],Vc=ds.sketch({dom:g,components:Ko.map(function(xr){return xr.asSpec()})}),hs=ho("Brightness",BN,-100,0,100),vx=ho("Contrast",NN,-100,0,100),au=ho("Gamma",MN,-100,0,100),Ig=function(xr,Hn,Wa){return function(Lo){return Ow(Lo,xr,Hn,Wa)}},Lg=function(xr){var Hn=function(Wa,Lo,ec){var Bs=Vw.getOpt(Wa),Uc=Uw.getOpt(Wa),Ll=$g.getOpt(Wa);Bs.each(function(M1){Uc.each(function(Ww){Ll.each(function(B1){var TF=gr.getValue(M1).x/100,EF=gr.getValue(B1).x/100,Vg=gr.getValue(Ww).x/100,N1=Ig(TF,EF,Vg);F(Wa,N1)})})})};return Ur(xr,Hn,0,100,200)},Vw=Lg("R"),$g=Lg("G"),Uw=Lg("B"),Qs=[pe(),Vw,$g,Uw,de()],pd=ds.sketch({dom:g,components:Qs.map(function(xr){return xr.asSpec()})}),Ms=function(xr,Hn,Wa){return function(Lo){var ec=function(){md.getOpt(Lo).each(function(Bs){yn.set(Bs,[xr]),Wa(Bs)})};C(Lo,vs.swap(),{transform:Hn,swap:ec})}},jw=function(xr){t.showCrop()},th=function(xr){De.getOpt(xr).each(function(Hn){var Wa=t.getMeasurements(),Lo=Wa.width,ec=Wa.height;gr.setValue(Hn,{width:Lo,height:ec})})},D1=O.some(eR),ou=O.some(DN),mp=[s("crop","Crop",Ms(ft,O.none(),jw),!1),s("resize","Resize",Ms(yr,O.none(),th),!1),s("orientation","Orientation",Ms(Ar,O.none(),k),!1),s("brightness","Brightness",Ms(hs,O.none(),k),!1),s("sharpen","Sharpen",Ms(Vc,D1,k),!1),s("contrast","Contrast",Ms(vx,O.none(),k),!1),s("color-levels","Color levels",Ms(pd,O.none(),k),!1),s("gamma","Gamma",Ms(au,O.none(),k),!1),s("invert","Invert",Ms(Vc,ou,k),!1)],rh=ds.sketch({dom:g,components:mp.map(function(xr){return xr.asSpec()})}),Hg=ds.sketch({dom:{tag:"div"},components:[rh],containerBehaviours:sr([yn.config({})])}),md=La(Hg),nh=function(xr){return md.getOpt(xr).map(function(Hn){var Wa=Hn.components()[0];return Wa.components()[Wa.components().length-1]})};return{memContainer:md,getApplyButton:nh}},_R=tinymce.util.Tools.resolve("tinymce.geom.Rect"),iP=tinymce.util.Tools.resolve("tinymce.util.Observable"),pp=tinymce.util.Tools.resolve("tinymce.util.VK"),uP=function(t){var n=Math.max,o=t.documentElement,s=t.body,d=n(o.scrollWidth,s.scrollWidth),p=n(o.clientWidth,s.clientWidth),g=n(o.offsetWidth,s.offsetWidth),k=n(o.scrollHeight,s.scrollHeight),C=n(o.clientHeight,s.clientHeight),E=n(o.offsetHeight,s.offsetHeight);return{width:d<g?p:d,height:k<E?C:k}},sP=function(t){return He(t.changedTouches)},jE=function(t){if(sP(t))for(var n="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<n.length;o++)t[n[o]]=t.changedTouches[0][n[o]]};function cP(t,n){var o,s,d,p,g=[],k=[],C=(o=n.document)!==null&&o!==void 0?o:document,E=(s=n.root)!==null&&s!==void 0?s:C,M=tr.fromDom(C),F,q,Y,ne=tr.fromDom(E.getElementById((d=n.handle)!==null&&d!==void 0?d:t)),pe=function(pt){var ft=pt.raw,De=uP(C);jE(ft),pt.prevent(),F=ft.button,q=ft.screenX,Y=ft.screenY;var ot=Vo(ne,"cursor");p=tr.fromTag("div",C),Is(p,{position:"absolute",top:"0",left:"0",width:De.width+"px",height:De.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:ot}),Eu(za(M),p),k.push(ni(M,"mousemove",Oe),ni(M,"touchmove",Oe),ni(M,"mouseup",de),ni(M,"touchend",de)),n.start(ft)},Oe=function(pt){var ft=pt.raw;if(jE(ft),ft.button!==F)return de(pt);ft.deltaX=ft.screenX-q,ft.deltaY=ft.screenY-Y,pt.prevent(),n.drag(ft)},de=function(pt){jE(pt.raw),Ze(k,function(ft){return ft.unbind()}),k=[],bs(p),n.stop&&n.stop(pt.raw)},Me=function(){Ze(k.concat(g),function(pt){return pt.unbind()}),k=[],g=[],He(p)&&bs(p)};return g.push(ni(ne,"mousedown",pe),ni(ne,"touchstart",pe)),{destroy:Me}}var lP=0,fP=function(t,n,o,s,d){var p,g=[],k="tox-",C=k+"crid-"+lP++,E=tr.fromDom(s),M=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],F=["top","right","bottom","left"],q=function(Dt,_r){return{x:_r.x+Dt.x,y:_r.y+Dt.y,w:_r.w,h:_r.h}},Y=function(Dt,_r){return{x:_r.x-Dt.x,y:_r.y-Dt.y,w:_r.w,h:_r.h}},ne=function(){return Y(o,t)},pe=function(Dt,_r,Pt,Ct){var nr=_r.x+Pt*Dt.deltaX,Fr=_r.y+Ct*Dt.deltaY,Ot=Math.max(20,_r.w+Pt*Dt.deltaW),Ar=Math.max(20,_r.h+Ct*Dt.deltaH),Ur=t=_R.clamp({x:nr,y:Fr,w:Ot,h:Ar},o,Dt.name==="move");Ur=Y(o,Ur),yr.fire("updateRect",{rect:Ur}),De(Ur)},Oe=function(){var Dt=function(nr){var Fr;return cP(C,{document:s.ownerDocument,root:Zr(E).dom,handle:C+"-"+nr.name,start:function(){Fr=t},drag:function(Ot){pe(nr,Fr,Ot.deltaX,Ot.deltaY)}})},_r=tr.fromTag("div");Fs(_r,{id:C,class:k+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Eu(E,_r),Ze(F,function(nr){Oi(E,"#"+C).each(function(Fr){var Ot=tr.fromTag("div");Fs(Ot,{id:C+"-"+nr,class:k+"croprect-block","data-mce-bogus":"all"}),vn(Ot,"display","none"),Eu(Fr,Ot)})}),Ze(M,function(nr){Oi(E,"#"+C).each(function(Fr){var Ot=tr.fromTag("div");Fs(Ot,{id:C+"-"+nr.name,"aria-label":nr.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:nr.label}),Cv(Ot,[k+"croprect-handle",k+"croprect-handle-"+nr.name]),vn(Ot,"display","none"),Eu(Fr,Ot)})}),p=$t(M,Dt),Me(t);var Pt=function(nr){Fn(nr.target,"aria-grabbed",nr.raw.type==="focus"?"true":"false")},Ct=function(nr){var Fr;Ze(M,function(Ar){if(bo(nr.target,"id")===C+"-"+Ar.name)return Fr=Ar,!1});var Ot=function(Ar,Ur,ia,Ha,ho){Ar.stopPropagation(),Ar.preventDefault(),pe(Fr,ia,Ha,ho)};switch(nr.raw.keyCode){case pp.LEFT:Ot(nr,Fr,t,-10,0);break;case pp.RIGHT:Ot(nr,Fr,t,10,0);break;case pp.UP:Ot(nr,Fr,t,0,-10);break;case pp.DOWN:Ot(nr,Fr,t,0,10);break;case pp.ENTER:case pp.SPACEBAR:nr.prevent(),d();break}};g.push(ni(E,"focusin",Pt),ni(E,"focusout",Pt),ni(E,"keydown",Ct))},de=function(Dt){var _r=Lt(Lt([],$t(M,function(Ct){return"#"+C+"-"+Ct.name}),!0),$t(F,function(Ct){return"#"+C+"-"+Ct}),!0).join(","),Pt=Uu(E,_r);Dt?Ze(Pt,function(Ct){return Aa(Ct,"display")}):Ze(Pt,function(Ct){return vn(Ct,"display","none")})},Me=function(Dt){var _r=function(Pt,Ct){Oi(E,"#"+C+"-"+Pt).each(function(nr){Is(nr,{left:Ct.x+"px",top:Ct.y+"px",width:Math.max(0,Ct.w)+"px",height:Math.max(0,Ct.h)+"px"})})};Ze(M,function(Pt){Oi(E,"#"+C+"-"+Pt.name).each(function(Ct){Is(Ct,{left:Dt.w*Pt.xMul+Dt.x+"px",top:Dt.h*Pt.yMul+Dt.y+"px"})})}),_r("top",{x:n.x,y:n.y,w:n.w,h:Dt.y-n.y}),_r("right",{x:Dt.x+Dt.w,y:Dt.y,w:n.w-Dt.x-Dt.w+n.x,h:Dt.h}),_r("bottom",{x:n.x,y:Dt.y+Dt.h,w:n.w,h:n.h-Dt.y-Dt.h+n.y}),_r("left",{x:n.x,y:Dt.y,w:Dt.x-n.x,h:Dt.h}),_r("move",Dt)},pt=function(Dt){t=Dt,Me(t)},ft=function(Dt){n=Dt,Me(t)},De=function(Dt){pt(q(o,Dt))},ot=function(Dt){o=Dt,Me(t)},xt=function(){Ze(p,function(Dt){return Dt.destroy()}),p=[],Ze(g,function(Dt){return Dt.unbind()}),g=[]};Oe();var yr=Z(Z({},iP),{toggleVisibility:de,setClampRect:ot,setRect:pt,getInnerRect:ne,setInnerRect:De,setViewPortRect:ft,destroy:xt});return yr},dP={create:fP},wR=function(t){return new _g(function(n){var o=function(){t.removeEventListener("load",o),n(t)};t.complete?n(t):t.addEventListener("load",o)})},vP=function(t){var n=La({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Qr(1),s=D_(),d=Qr({x:0,y:0,w:1,h:1}),p=Qr({x:0,y:0,w:1,h:1}),g=function(Oe,de){ne.getOpt(Oe).each(function(Me){var pt=o.get(),ft=Tu(Me.element),De=hi(Me.element),ot=de.dom.naturalWidth*pt,xt=de.dom.naturalHeight*pt,yr=Math.max(0,ft/2-ot/2),Dt=Math.max(0,De/2-xt/2),_r={left:yr.toString()+"px",top:Dt.toString()+"px",width:ot.toString()+"px",height:xt.toString()+"px",position:"absolute"};Is(de,_r),n.getOpt(Me).each(function(Pt){Is(Pt.element,_r)}),s.run(function(Pt){var Ct=d.get();Pt.setRect({x:Ct.x*pt+yr,y:Ct.y*pt+Dt,w:Ct.w*pt,h:Ct.h*pt}),Pt.setClampRect({x:yr,y:Dt,w:ot,h:xt}),Pt.setViewPortRect({x:0,y:0,w:ft,h:De})})})},k=function(Oe,de){ne.getOpt(Oe).each(function(Me){var pt=Tu(Me.element),ft=hi(Me.element),De=de.dom.naturalWidth,ot=de.dom.naturalHeight,xt=Math.min(pt/De,ft/ot);xt>=1?o.set(1):o.set(xt)})},C=function(Oe,de){var Me=tr.fromTag("img");return Fn(Me,"src",de),wR(Me.dom).then(function(){Oe.getSystem().isConnected()&&ne.getOpt(Oe).map(function(pt){var ft=by({element:Me});yn.replaceAt(pt,1,O.some(ft));var De=p.get(),ot={x:0,y:0,w:Me.dom.naturalWidth,h:Me.dom.naturalHeight};p.set(ot);var xt=_R.inflate(ot,-20,-20);d.set(xt),(De.w!==ot.w||De.h!==ot.h)&&k(pt,Me),g(pt,Me)})})},E=function(Oe,de){var Me=o.get(),pt=de>0?Math.min(2,Me+.1):Math.max(.1,Me-.1);o.set(pt),ne.getOpt(Oe).each(function(ft){var De=ft.components()[1].element;g(ft,De)})},M=function(){s.run(function(Oe){Oe.toggleVisibility(!0)})},F=function(){s.run(function(Oe){Oe.toggleVisibility(!1)})},q=function(){return d.get()},Y=ds.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[n.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:sr([Nn("image-panel-crop-events",[Bn(function(Oe){ne.getOpt(Oe).each(function(de){var Me=de.element.dom,pt=dP.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Me,ut);pt.toggleVisibility(!1),pt.on("updateRect",function(ft){var De=ft.rect,ot=o.get(),xt={x:Math.round(De.x/ot),y:Math.round(De.y/ot),w:Math.round(De.w/ot),h:Math.round(De.h/ot)};d.set(xt)}),s.set(pt)})}),fc(function(){s.clear()})])])}],containerBehaviours:sr([yn.config({}),Nn("image-panel-events",[Bn(function(Oe){C(Oe,t)})])])}),ne=La(Y),pe=function(){var Oe=p.get();return{width:Oe.w,height:Oe.h}};return{memContainer:ne,updateSrc:C,zoom:E,showCrop:M,hideCrop:F,getRect:q,getMeasurements:pe}},VC=function(t,n,o,s,d){return fR({name:t,icon:O.some(n),disabled:o,tooltip:O.some(t),primary:!1,borderless:!1},s,d)},kR=function(t,n){n?Jr.enable(t):Jr.disable(t)},pP=function(t){var n=function(p,g,k){o.getOpt(p).each(function(C){kR(C,g)}),s.getOpt(p).each(function(C){kR(C,k)})},o=La(VC("Undo","undo",!0,function(p){en(p,vs.undo(),{direction:1})},t)),s=La(VC("Redo","redo",!0,function(p){en(p,vs.redo(),{direction:1})},t)),d=ds.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),VC("Zoom in","zoom-in",!1,function(p){en(p,vs.zoom(),{direction:1})},t),VC("Zoom out","zoom-out",!1,function(p){en(p,vs.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:n}};function mP(){var t=[],n=-1,o=function(k){var C=t.splice(++n);return t.push(k),{state:k,removed:C}},s=function(){if(p())return t[--n]},d=function(){if(g())return t[++n]},p=function(){return n>0},g=function(){return n!==-1&&n<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:p,canRedo:g}}var hP=function(t){var n=Qr(t),o=Yo(),s=mP();s.add(t);var d=function(){return n.get()},p=function(Me){n.set(Me)},g=function(){return o.get().getOrThunk(n.get)},k=function(Me){var pt=C(Me);return F(),o.set(pt),pt.url},C=function(Me){return{blob:Me,url:URL.createObjectURL(Me)}},E=function(Me){URL.revokeObjectURL(Me.url)},M=function(Me){qm.each(Me,E)},F=function(){o.on(E),o.clear()},q=function(Me){var pt=C(Me);p(pt);var ft=s.add(pt).removed;return M(ft),pt.url},Y=function(Me){var pt=C(Me);return o.set(pt),pt.url},ne=function(Me){return o.get().fold(ut,function(pt){q(pt.blob),Me()})},pe=function(){var Me=s.undo();return p(Me),Me.url},Oe=function(){var Me=s.redo();return p(Me),Me.url},de=function(){var Me=s.canUndo(),pt=s.canRedo();return{undoEnabled:Me,redoEnabled:pt}};return{getBlobState:d,setBlobState:p,addBlobState:q,getTempState:g,updateTempState:k,addTempState:Y,applyTempState:ne,destroyTempState:F,undo:pe,redo:Oe,getHistoryStates:de}},gP=function(t,n){var o=hP(t.currentState),s=function(Pt,Ct){var nr=Ct.event.direction;xt.zoom(Pt,nr)},d=function(Pt){var Ct=o.getHistoryStates();yr.updateButtonUndoStates(Pt,Ct.undoEnabled,Ct.redoEnabled),en(Pt,bc.formActionEvent,{name:bc.saveState(),value:Ct.undoEnabled})},p=function(Pt){yr.updateButtonUndoStates(Pt,!1,!1)},g=function(Pt,Ct){var nr=o.undo();F(Pt,nr).then(function(Fr){M(Pt),d(Pt)})},k=function(Pt,Ct){var nr=o.redo();F(Pt,nr).then(function(Fr){M(Pt),d(Pt)})},C=function(Pt){return Pt.toBlob()},E=function(Pt){en(Pt,bc.formActionEvent,{name:bc.disable(),value:{}})},M=function(Pt){Dt.getApplyButton(Pt).each(function(Ct){Jr.enable(Ct)}),en(Pt,bc.formActionEvent,{name:bc.enable(),value:{}})},F=function(Pt,Ct){return E(Pt),xt.updateSrc(Pt,Ct)},q=function(Pt,Ct,nr,Fr,Ot){E(Pt),yN(Ct).then(nr).then(C).then(Fr).then(function(Ar){return F(Pt,Ar)}).then(function(){d(Pt),Ot(),M(Pt)}).catch(function(Ar){console.log(Ar),Pt.getSystem().isConnected()&&M(Pt)})},Y=function(Pt,Ct,nr){var Fr=o.getBlobState().blob,Ot=function(Ar){return o.updateTempState(Ar)};q(Pt,Fr,Ct,Ot,nr)},ne=function(Pt,Ct){var nr=o.getTempState().blob,Fr=function(Ot){return o.addTempState(Ot)};q(Pt,nr,Ct,Fr,ut)},pe=function(Pt,Ct,nr){var Fr=o.getBlobState().blob,Ot=function(Ar){var Ur=o.addBlobState(Ar);return de(Pt),Ur};q(Pt,Fr,Ct,Ot,nr)},Oe=function(Pt,Ct){var nr=function(){de(Pt);var Fr=Ct.event.swap;Fr()};o.applyTempState(nr)},de=function(Pt){var Ct=o.getBlobState().url;return o.destroyTempState(),d(Pt),Ct},Me=function(Pt){var Ct=de(Pt);F(Pt,Ct).then(function(nr){M(Pt)})},pt=function(Pt,Ct){Me(Pt);var nr=Ct.event.swap;nr(),xt.hideCrop()},ft=function(Pt,Ct){return Y(Pt,Ct.event.transform,ut)},De=function(Pt,Ct){return ne(Pt,Ct.event.transform)},ot=function(Pt,Ct){return pe(Pt,Ct.event.transform,Ct.event.swap)},xt=vP(t.currentState.url),yr=pP(n),Dt=oP(xt,n),_r=function(Pt,Ct){p(Pt);var nr=Ct.event.transform,Fr=Ct.event.swap;nr.fold(function(){Fr()},function(Ot){Y(Pt,Ot,Fr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Dt.memContainer.asSpec(),xt.memContainer.asSpec(),yr.container],behaviours:sr([gr.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Nn("image-tools-events",[Bt(vs.undo(),g),Bt(vs.redo(),k),Bt(vs.zoom(),s),Bt(vs.back(),pt),Bt(vs.apply(),Oe),Bt(vs.transform(),ft),Bt(vs.tempTransform(),De),Bt(vs.transformApply(),ot),Bt(vs.swap(),_r)]),cd.self()])}},CR=function(t,n){var o={dom:{tag:"label",innerHtml:n.providers.translate(t.label),classes:["tox-label"]}},s=$t(t.items,n.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:sr([cd.self(),yn.config({}),zg.domHtml(O.none()),jr.config({mode:"acyclic"})])}},WE=function(t){return!fr(t,"items")},xR="data-value",SR=function(t,n,o,s){return $t(o,function(d){return WE(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){gr.setValue(t,d.value),en(t,Lc,{name:n}),bn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return SR(t,n,d.items,s)}}})},TR=function(t,n){return Zn(t,function(o){return WE(o)?po(o.value===n,o):TR(o.items,n)})},yP=function(t,n){var o=n.shared.providers,s=Yn(t.items).filter(WE),d=t.label.map(function(k){return sp(k,o)}),p=Da.parts.field({dom:{},factory:{sketch:function(k){return FE({uid:k.uid,text:s.map(function(C){return C.text}),icon:O.none(),tooltip:t.label,role:O.none(),fetch:function(C,E){var M=SR(C,t.name,t.items,gr.getValue(C));E(E1(M,nd.CLOSE_ON_EXECUTE,n,!1))},onSetup:se(ut),getApi:se({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ai.config({}),gr.config({store:{mode:"manual",initialValue:s.map(function(C){return C.value}).getOr(""),getValue:function(C){return bo(C.element,xR)},setValue:function(C,E){TR(t.items,E).each(function(M){Fn(C.element,xR,M.value),en(C,Ag,{text:M.text})})}}})]},"tox-listbox",n.shared)}}}),g={dom:{tag:"div",classes:["tox-listboxfield"]},components:[p]};return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([d.toArray(),[g]]),fieldBehaviours:sr([Jr.config({disabled:se(t.disabled),onDisabled:function(k){Da.getField(k).each(Jr.disable)},onEnabled:function(k){Da.getField(k).each(Jr.enable)}})])})},bP=function(t,n){return{dom:{tag:"div",classes:t.classes},components:$t(t.items,n.shared.interpreter)}},ER=function(t,n){var o=$t(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Gl("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Qi(t.selectBehaviours,[bn.config({}),gr.config({store:Z({mode:"manual",getValue:function(d){return ef(d.element)},setValue:function(d,p){var g=Nt(t.options,function(k){return k.value===p});g.isSome()&&Lp(d.element,p)}},s)})])}},Og=gc({name:"HtmlSelect",configFields:[zt("options"),Bi("selectBehaviours",[bn,gr]),Pe("selectClasses",[]),Pe("selectAttributes",{}),Oa("data")],factory:ER}),UC=function(t,n){var o=$t(t.items,function(k){return{text:n.translate(k.text),value:k.value}}),s=t.label.map(function(k){return sp(k,n)}),d=Da.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Og,selectBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),ai.config({}),Nn("selectbox-change",[Bt(Op(),function(k,C){en(k,Lc,{name:t.name})})])])}),p=t.size>1?O.none():O.some(yf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},n.icons)),g={dom:{tag:"div",classes:["tox-selectfield"]},components:Xt([[d],p.toArray()])};return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([s.toArray(),[g]]),fieldBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(k){Da.getField(k).each(Jr.disable)},onEnabled:function(k){Da.getField(k).each(Jr.enable)}}),Ui()])})},_P=function(t,n){var o=function(k){return{dom:{tag:"th",innerHtml:n.translate(k)}}},s=function(k){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$t(k,o)}]}},d=function(k){return{dom:{tag:"td",innerHtml:n.translate(k)}}},p=function(k){return{dom:{tag:"tr"},components:$t(k,d)}},g=function(k){return{dom:{tag:"tbody"},components:$t(k,p)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),g(t.cells)],behaviours:sr([ai.config({}),bn.config({})])}},zR=function(t,n){var o=t.label.map(function(q){return sp(q,n)}),s=[Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),jr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(q){return Sa(q,_w),O.some(!0)}}),Nn("textfield-change",[Bt(pv(),function(q,Y){en(q,Lc,{name:t.name})}),Bt(Z1(),function(q,Y){en(q,Lc,{name:t.name})})]),ai.config({})],d=t.validation.map(function(q){return av.config({getRoot:function(Y){return yo(Y.element)},invalidClass:"tox-invalid",validator:{validate:function(Y){var ne=gr.getValue(Y),pe=q.validator(ne);return qu.pure(pe===!0?Ln.value(ne):Ln.error(pe))},validateOnLoad:q.validateOnLoad}})}).toArray(),p=t.placeholder.fold(se({}),function(q){return{placeholder:n.translate(q)}}),g=t.inputMode.fold(se({}),function(q){return{inputmode:q}}),k=Z(Z({},p),g),C=Da.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:k,inputClasses:[t.classname],inputBehaviours:sr(Xt([s,d])),selectOnFocus:!1,factory:v1}),E=t.flex?["tox-form__group--stretched"]:[],M=E.concat(t.maximized?["tox-form-group--maximize"]:[]),F=[Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(q){Da.getField(q).each(Jr.disable)},onEnabled:function(q){Da.getField(q).each(Jr.enable)}}),Ui()];return yw(o,C,M,F)},qE=function(t,n){return zR({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:O.none(),maximized:t.maximized},n)},wP=function(t,n){return zR({name:t.name,multiline:!0,label:t.label,inputMode:O.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:O.none(),maximized:t.maximized},n)},kP=function(t,n){var o=t.stream.streams,s=o.setup(t,n);return ro([Bt(t.event,s),fc(function(){return n.cancel()})].concat(t.cancelEvent.map(function(d){return[Bt(d,function(){return n.cancel()})]}).getOr([])))},GE=Object.freeze({__proto__:null,events:kP}),KE=function(t){var n=Qr(null),o=function(){return{timer:n.get()!==null?"set":"unset"}},s=function(p){n.set(p)},d=function(){var p=n.get();p!==null&&p.cancel()};return Du({readState:o,setTimer:s,cancel:d})},AR=function(t){return t.stream.streams.state(t)},CP=Object.freeze({__proto__:null,throttle:KE,init:AR}),xP=function(t,n){var o=t.stream,s=E3(t.onStream,o.delay);return n.setTimer(s),function(d,p){s.throttle(d,p),o.stopEvent&&p.stop()}},SP=[ks("stream",Tc("mode",{throttle:[zt("delay"),Pe("stopEvent",!0),uo("streams",{setup:xP,state:KE})]})),Pe("event","input"),Oa("cancelEvent"),is("onStream")],OR=Mi({fields:SP,name:"streaming",active:GE,state:CP}),jC=function(t,n,o){var s=gr.getValue(o);gr.setValue(n,s),RR(n)},XE=function(t,n){var o=t.element,s=ef(o),d=o.dom;bo(o,"type")!=="number"&&n(d,s)},RR=function(t){XE(t,function(n,o){return n.setSelectionRange(o.length,o.length)})},DR=function(t,n){XE(t,function(o,s){return o.setSelectionRange(n,s.length)})},TP=function(t,n,o){if(t.selectsOver){var s=gr.getValue(n),d=t.getDisplayText(s),p=gr.getValue(o),g=t.getDisplayText(p);return g.indexOf(d)===0?O.some(function(){jC(t,n,o),DR(n,d.length)}):O.none()}else return O.none()},YE=se("alloy.typeahead.itemexecute"),ZE=function(t,n,o,s){var d=function(C,E,M){t.previewing.set(!1);var F=li.getCoupled(C,"sandbox");if(pa.isOpen(F))aa.getCurrent(F).each(function(Y){Na.getHighlighted(Y).fold(function(){M(Y)},function(){ok(F,Y.element,"keydown",E)})});else{var q=function(Y){aa.getCurrent(Y).each(M)};KT(t,g(C),C,F,s,q,od.HighlightFirst).get(ut)}},p=TA(t),g=function(C){return function(E){return E.map(function(M){var F=Mt(M.menus),q=Pr(F,function(ne){return qe(ne.items,function(pe){return pe.type==="item"})}),Y=gr.getState(C);return Y.update($t(q,function(ne){return ne.data})),M})}},k=[bn.config({}),gr.config({onSetValue:t.onSetValue,store:Z({mode:"dataset",getDataKey:function(C){return ef(C.element)},getFallbackEntry:function(C){return{value:C,meta:{}}},setValue:function(C,E){Lp(C.element,t.model.getDisplayText(E))}},t.initialData.map(function(C){return Gl("initialValue",C)}).getOr({}))}),OR.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(C,E){var M=li.getCoupled(C,"sandbox"),F=bn.isFocused(C);if(F&&ef(C.element).length>=t.minChars){var q=aa.getCurrent(M).bind(function(ne){return Na.getHighlighted(ne).map(gr.getValue)});t.previewing.set(!0);var Y=function(ne){aa.getCurrent(M).each(function(pe){q.fold(function(){t.model.selectsOver&&Na.highlightFirst(pe)},function(Oe){Na.highlightBy(pe,function(de){var Me=gr.getValue(de);return Me.value===Oe.value}),Na.getHighlighted(pe).orThunk(function(){return Na.highlightFirst(pe),O.none()})})})};KT(t,g(C),C,M,s,Y,od.HighlightFirst).get(ut)}},cancelEvent:J1()}),jr.config({mode:"special",onDown:function(C,E){return d(C,E,Na.highlightFirst),O.some(!0)},onEscape:function(C){var E=li.getCoupled(C,"sandbox");return pa.isOpen(E)?(pa.close(E),O.some(!0)):O.none()},onUp:function(C,E){return d(C,E,Na.highlightLast),O.some(!0)},onEnter:function(C){var E=li.getCoupled(C,"sandbox"),M=pa.isOpen(E);if(M&&!t.previewing.get())return aa.getCurrent(E).bind(function(q){return Na.getHighlighted(q)}).map(function(q){return en(C,YE(),{item:q}),!0});var F=gr.getValue(C);return Sa(C,J1()),t.onExecute(E,C,F),M&&pa.close(E),O.some(!0)}}),ca.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),li.config({others:{sandbox:function(C){return YT(t,C,{onOpen:function(){return ca.on(C)},onClose:function(){return ca.off(C)}})}}}),Nn("typeaheadevents",[Ws(function(C){var E=ut;m1(t,g(C),C,s,E,od.HighlightFirst).get(ut)}),Bt(YE(),function(C,E){var M=li.getCoupled(C,"sandbox");jC(t.model,C,E.event.item),Sa(C,J1()),t.onItemExecute(C,M,E.event.item,gr.getValue(C)),pa.close(M),RR(C)})].concat(t.dismissOnBlur?[Bt(Y1(),function(C){var E=li.getCoupled(C,"sandbox");El(E.element).isNone()&&pa.close(E)})]:[]))];return{uid:t.uid,dom:sl(_t(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:Z(Z({},p),Qi(t.typeaheadBehaviours,k)),eventOrder:t.eventOrder}},JE=se([Oa("lazySink"),zt("fetch"),Pe("minChars",5),Pe("responseTime",1e3),Ra("onOpen"),Pe("getHotspot",O.some),Pe("getAnchorOverrides",se({})),Pe("layouts",O.none()),Pe("eventOrder",{}),H1("model",{},[Pe("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Pe("selectsOver",!0),Pe("populateFromBrowse",!0)]),Ra("onSetValue"),Ri("onExecute"),Ra("onItemExecute"),Pe("inputClasses",[]),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("matchWidth",!0),Pe("useMinWidth",!1),Pe("dismissOnBlur",!0),Ev(["openClass"]),Oa("initialData"),Bi("typeaheadBehaviours",[bn,gr,OR,jr,ca,li]),ts("previewing",function(){return Qr(!0)})].concat(cp()).concat(ZT())),Mw=se([hc({schema:[Tv()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(n,o){t.previewing.get()?n.getSystem().getByUid(t.uid).each(function(s){TP(t.model,s,o).fold(function(){return Na.dehighlight(n,o)},function(d){return d()})}):n.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&jC(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(n,o){return n.getSystem().getByUid(t.uid).toOptional().map(function(s){return en(s,YE(),{item:o}),!0})},onHover:function(n,o){t.previewing.set(!1),n.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&jC(t.model,s,o)})}}}})]),EP=ls({name:"Typeahead",configFields:JE(),partFields:Mw(),factory:ZE}),kf=function(t){var n=function(){return kf(t.toCached())},o=function(C){return kf(t.bind(function(E){return E.fold(function(M){return qu.pure(Ln.error(M))},function(M){return C(M)})}))},s=function(C){return kf(t.map(function(E){return E.bind(C)}))},d=function(C){return kf(t.map(function(E){return E.map(C)}))},p=function(C){return kf(t.map(function(E){return E.mapError(C)}))},g=function(C,E){return t.map(function(M){return M.fold(C,E)})},k=function(C,E){return kf(qu.nu(function(M){var F=!1,q=setTimeout(function(){F=!0,M(Ln.error(E()))},C);t.get(function(Y){F||(clearTimeout(q),M(Y))})}))};return Z(Z({},t),{toCached:n,bindFuture:o,bindResult:s,mapResult:d,mapError:p,foldResult:g,withTimeout:k})},MR=function(t){return kf(qu.nu(t))},BR=function(t){return kf(qu.pure(Ln.value(t)))},zP=function(t){return kf(qu.pure(Ln.error(t)))},NR=function(t){return kf(qu.pure(t))},PR=function(t){return kf(t.map(Ln.value))},FR=function(t){return MR(function(n){t.then(function(o){n(Ln.value(o))},function(o){n(Ln.error(o))})})},AP={nu:MR,wrap:kf,pure:BR,value:BR,error:zP,fromResult:NR,fromFuture:PR,fromPromise:FR},OP={type:"separator"},RP=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ut}},QE=function(t,n){return{type:"menuitem",value:n,text:t,meta:{attach:void 0},onAction:ut}},DP=function(t){return $t(t,RP)},IR=function(t,n){return qe(n,function(o){return o.type===t})},LR=function(t,n){return DP(IR(t,n))},MP=function(t){return LR("header",t.targets)},BP=function(t){return LR("anchor",t.targets)},NP=function(t){return O.from(t.anchorTop).map(function(n){return QE("<top>",n)}).toArray()},$R=function(t){return O.from(t.anchorBottom).map(function(n){return QE("<bottom>",n)}).toArray()},Rg=function(t){return $t(t,function(n){return QE(n,n)})},HR=function(t){return Ne(t,function(n,o){var s=n.length===0||o.length===0;return s?n.concat(o):n.concat(OP,o)},[])},ez=function(t,n){var o=t.toLowerCase();return qe(n,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ra(d.toLowerCase(),o)||ra(s.value.toLowerCase(),o)})},PP=function(t,n,o){var s=gr.getValue(n),d=s.meta.text!==void 0?s.meta.text:s.value,p=o.getLinkInformation();return p.fold(function(){return[]},function(g){var k=ez(d,Rg(o.getHistory(t)));return t==="file"?HR([k,ez(d,MP(g)),ez(d,Xt([NP(g),BP(g),$R(g)]))]):k})},VR=Nr("aria-invalid"),UR=function(t,n,o){var s,d=n.shared.providers,p=function(de){var Me=gr.getValue(de);o.addToHistory(Me.value,t.filetype)},g=Da.parts.field({factory:EP,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":VR,type:"url"},minChars:0,responseTime:0,fetch:function(de){var Me=PP(t.filetype,de,o),pt=E1(Me,nd.BUBBLE_TO_SANDBOX,n,!1);return qu.pure(pt)},getHotspot:function(de){return Y.getOpt(de)},onSetValue:function(de,Me){de.hasConfigured(av)&&av.run(de).get(ut)},typeaheadBehaviours:sr(Xt([o.getValidationHandler().map(function(de){return av.config({getRoot:function(Me){return yo(Me.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Me,pt){E.getOpt(Me).each(function(ft){Fn(ft.element,"title",d.translate(pt))})}},validator:{validate:function(Me){var pt=gr.getValue(Me);return AP.nu(function(ft){de({type:t.filetype,url:pt.value},function(De){if(De.status==="invalid"){var ot=Ln.error(De.message);ft(ot)}else{var xt=Ln.value(De.message);ft(xt)}})})},validateOnLoad:!1}})}).toArray(),[Jr.config({disabled:function(){return t.disabled||d.isDisabled()}}),ai.config({}),Nn("urlinput-events",Xt([t.filetype==="file"?[Bt(pv(),function(de){en(de,Lc,{name:t.name})})]:[],[Bt(Op(),function(de){en(de,Lc,{name:t.name}),p(de)}),Bt(Z1(),function(de){en(de,Lc,{name:t.name}),p(de)})]]))]])),eventOrder:(s={},s[pv()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(de){return de.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:N3(!1,1,"normal")},onExecute:function(de,Me,pt){en(Me,_w,{})},onItemExecute:function(de,Me,pt,ft){p(de),en(de,Lc,{name:t.name})}}),k=t.label.map(function(de){return sp(de,d)}),C=function(de,Me,pt,ft){return ft===void 0&&(ft=de),yf(pt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+de],attributes:Z({title:d.translate(ft),"aria-live":"polite"},Me.fold(function(){return{}},function(De){return{id:De}}))},d.icons)},E=La(C("invalid",O.some(VR),"warning")),M=La({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[E.asSpec()]}),F=o.getUrlPicker(t.filetype),q=Nr("browser.url.event"),Y=La({dom:{tag:"div",classes:["tox-control-wrap"]},components:[g,M.asSpec()],behaviours:sr([Jr.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),ne=La($E({name:t.name,icon:O.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(de){return Sa(de,q)},d,[],["tox-browse-url"])),pe=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xt([[Y.asSpec()],F.map(function(){return ne.asSpec()}).toArray()])}},Oe=function(de){aa.getCurrent(de).each(function(Me){var pt=gr.getValue(Me),ft=Z({fieldname:t.name},pt);F.each(function(De){De(ft).get(function(ot){gr.setValue(Me,ot),en(de,Lc,{name:t.name})})})})};return Da.sketch({dom:qM(),components:k.toArray().concat([pe()]),fieldBehaviours:sr([Jr.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(de){Da.getField(de).each(Jr.disable),ne.getOpt(de).each(Jr.disable)},onEnabled:function(de){Da.getField(de).each(Jr.enable),ne.getOpt(de).each(Jr.enable)}}),Ui(),Nn("url-input-events",[Bt(q,Oe)])])})},FP=function(t,n){return ds.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Mz(t.icon,n.icons),attributes:{title:n.translate(t.iconTooltip)}},action:function(o){en(o,nv,{name:"alert-banner",value:t.url})},buttonBehaviours:sr([J8()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:n.translate(t.text)}}]})},IP=function(t,n){var o=gr.config({store:{mode:"manual",getValue:function(C){var E=C.element.dom;return E.checked},setValue:function(C,E){var M=C.element.dom;M.checked=E}}}),s=function(C){return C.element.dom.click(),O.some(!0)},d=Da.parts.field({factory:{sketch:Ye},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:sr([cd.self(),Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),ai.config({}),bn.config({}),o,jr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Nn("checkbox-events",[Bt(Op(),function(C,E){en(C,Lc,{name:t.name})})])])}),p=Da.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:n.translate(t.label)},behaviours:sr([g1.config({})])}),g=function(C){var E=C==="checked"?"selected":"unselected";return yf(E,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},n.icons)},k=La({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[g("checked"),g("unchecked")]});return Da.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,k.asSpec(),p],fieldBehaviours:sr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(C){Da.getField(C).each(Jr.disable)},onEnabled:function(C){Da.getField(C).each(Jr.enable)}}),Ui()])})},LP=function(t){return t.presets==="presentation"?ds.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ds.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:sr([ai.config({}),bn.config({})])})},_u=function(t){return function(n,o,s){return gt(o,"name").fold(function(){return t(o,s)},function(d){return n.field(d,t(o,s))})}},$P=function(t){return function(n,o,s){var d=_t(o,{source:"dynamic"});return _u(t)(n,d,s)}},HP={bar:_u(function(t,n){return HM(t,n.shared)}),collection:_u(function(t,n){return GM(t,n.shared.providers)}),alertbanner:_u(function(t,n){return FP(t,n.shared.providers)}),input:_u(function(t,n){return qE(t,n.shared.providers)}),textarea:_u(function(t,n){return wP(t,n.shared.providers)}),label:_u(function(t,n){return CR(t,n.shared)}),iframe:$P(function(t,n){return sN(t,n.shared.providers)}),button:_u(function(t,n){return UN(t,n.shared.providers)}),checkbox:_u(function(t,n){return IP(t,n.shared.providers)}),colorinput:_u(function(t,n){return sB(t,n.shared,n.colorinput)}),colorpicker:_u(PO),dropzone:_u(function(t,n){return x1(t,n.shared.providers)}),grid:_u(function(t,n){return HO(t,n.shared)}),listbox:_u(function(t,n){return yP(t,n)}),selectbox:_u(function(t,n){return UC(t,n.shared.providers)}),sizeinput:_u(function(t,n){return gR(t,n.shared.providers)}),urlinput:_u(function(t,n){return UR(t,n,n.urlinput)}),customeditor:_u(IO),htmlpanel:_u(LP),imagetools:_u(function(t,n){return gP(t,n.shared.providers)}),table:_u(function(t,n){return _P(t,n.shared.providers)}),panel:_u(function(t,n){return bP(t,n)})},VP={field:function(t,n){return n}},jR=function(t,n,o){var s=_t(o,{shared:{interpreter:function(d){return tz(t,d,s)}}});return tz(t,n,s)},tz=function(t,n,o){return gt(HP,n.type).fold(function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(s){return s(t,n,o)})},UP=function(t,n){var o=VP;return tz(o,t,n)},rz={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},jP=function(t,n,o){var s=12,d={maxHeightFunction:Zp()},p=function(){return{type:"node",root:or(t()),node:O.from(t()),bubble:Bv(s,s,rz),layouts:{onRtl:function(){return[np]},onLtr:function(){return[hg]}},overrides:d}},g=function(){return{type:"hotspot",hotspot:n(),bubble:Bv(-12,s,rz),layouts:{onRtl:function(){return[Mu]},onLtr:function(){return[Hi]}},overrides:d}};return function(){return o()?p():g()}},WP=function(t,n,o){var s=function(){return{type:"node",root:or(t()),node:O.from(t()),layouts:{onRtl:function(){return[Nl]},onLtr:function(){return[Nl]}}}},d=function(){return{type:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[bi]},onLtr:function(){return[bi]}}}};return function(){return o()?s():d()}},qP=function(t,n){return function(){return{type:"selection",root:n(),getSelection:function(){var o=t.selection.getRng();return O.some(em.range(tr.fromDom(o.startContainer),o.startOffset,tr.fromDom(o.endContainer),o.endOffset))}}}},GP=function(t){return function(n){return{type:"node",root:t(),node:n}}},KP=function(t,n,o){var s=V3(t),d=function(){return tr.fromDom(t.getBody())},p=function(){return tr.fromDom(t.getContentAreaContainer())},g=function(){return s||!o()};return{inlineDialog:jP(p,n,g),banner:WP(p,n,g),cursor:qP(t,d),node:GP(d)}},nz=function(t){return function(n,o){var s=tA(t);s(n,o)}},WR=function(t){return function(){return K4(t)}},XP=function(t){return function(){return BT(t)}},YP=function(t){return function(){return eC(t)}},ZP=function(t){return{colorPicker:nz(t),hasCustomColors:WR(t),getColors:XP(t),getColorCols:YP(t)}},JP=function(t){return function(){return T5(t)}},QP=function(t){return{isDraggableModal:JP(t)}},e7=function(t){var n=Qr(C4(t)?"bottom":"top");return{isPositionedAtTop:function(){return n.get()==="top"},getDockingMode:n.get,setDockingMode:n.set}},qR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],t7=function(t){return fr(t,"items")},r7=function(t){return fr(t,"block")},WC=function(t){return fr(t,"inline")},n7=function(t){return fr(t,"selector")},GR=function(t){return Ne(t,function(n,o){if(t7(o)){var s=GR(o.items);return{customFormats:n.customFormats.concat(s.customFormats),formats:n.formats.concat([{title:o.title,items:s.formats}])}}else if(WC(o)||r7(o)||n7(o)){var d=ee(o.name)?o.name:o.title.toLowerCase(),p="custom-"+d;return{customFormats:n.customFormats.concat([{name:p,format:o}]),formats:n.formats.concat([{title:o.title,format:p,icon:o.icon}])}}else return Z(Z({},n),{formats:n.formats.concat(o)})},{customFormats:[],formats:[]})},KR=function(t,n){var o=GR(n),s=function(d){Ze(d,function(p){t.formatter.has(p.name)||t.formatter.register(p.name,p.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},Km=function(t){return y5(t).map(function(n){var o=KR(t,n);return ip(t)?qR.concat(o):o}).getOr(qR)},XR=function(t,n,o){var s={type:"formatter",isSelected:n(t.format),getStylePreview:o(t.format)};return _t(t,s)},qC=function(t,n,o,s){var d=function(C){return XR(C,o,s)},p=function(C){var E={type:"submenu"};return _t(C,E)},g=function(C){var E=ee(C.name)?C.name:Nr(C.title),M="custom-"+E,F={type:"formatter",format:M,isSelected:o(M),getStylePreview:s(M)},q=_t(C,F);return t.formatter.register(E,q),q},k=function(C){return $t(C,function(E){var M=In(E);if(un(E,"items")){var F=k(E.items);return _t(p(E),{getStyleItems:se(F)})}else return un(E,"format")?d(E):M.length===1&&dn(M,"title")?_t(E,{type:"separator"}):g(E)})};return k(n)},GC=function(t){var n=function(F){return function(){return t.formatter.match(F)}},o=function(F){return function(){var q=t.formatter.get(F);return q!==void 0?O.some({tag:q.length>0&&(q[0].inline||q[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(F))}):O.none()}},s=function(F){var q=F.items;return q!==void 0&&q.length>0?Pr(q,s):[F.format]},d=Qr([]),p=Qr([]),g=Qr([]),k=Qr([]),C=Qr(!1);t.on("PreInit",function(F){var q=Km(t),Y=qC(t,q,n,o);d.set(Y),p.set(Pr(Y,s))}),t.on("addStyleModifications",function(F){var q=qC(t,F.items,n,o);g.set(q),C.set(F.replace),k.set(Pr(q,s))});var E=function(){var F=C.get()?[]:d.get(),q=g.get();return F.concat(q)},M=function(){var F=C.get()?[]:p.get(),q=k.get();return F.concat(q)};return{getData:E,getFlattenedKeys:M}},a7=function(t){return He(t)&&t.nodeType===1},o7=qm.trim,YR=function(t){return function(n){return!!(a7(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t))}},i7=YR("true"),u7=YR("false"),Xm=function(t,n,o,s,d){return{type:t,title:n,url:o,level:s,attach:d}},ZR=function(t){for(;t=t.parentNode;){var n=t.contentEditable;if(n&&n!=="inherit")return i7(t)}return!1},s7=function(t,n){return $t(Uu(tr.fromDom(n),t),function(o){return o.dom})},JR=function(t){return t.innerText||t.textContent},c7=function(t){return t.id?t.id:Nr("h")},l7=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},f7=function(t){return l7(t)&&KC(t)},QR=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},KC=function(t){return ZR(t)&&!u7(t)},Bw=function(t){return QR(t)&&KC(t)},XC=function(t){return QR(t)?parseInt(t.nodeName.substr(1),10):0},YC=function(t){var n=c7(t),o=function(){t.id=n};return Xm("header",JR(t),"#"+n,XC(t),o)},Dg=function(t){var n=t.id||t.name,o=JR(t);return Xm("anchor",o||"#"+n,"#"+n,0,ut)},ZC=function(t){return $t(qe(t,Bw),YC)},d7=function(t){return $t(qe(t,f7),Dg)},eD=function(t){var n=s7("h1,h2,h3,h4,h5,h6,a:not([href])",t);return n},tD=function(t){return o7(t.title).length>0},rD=function(t){var n=eD(t);return qe(ZC(n).concat(d7(n)),tD)},v7={find:rD},Nw="tinymce-url-history",nD=5,aD=function(t){return ee(t)&&/^https?/.test(t)},p7=function(t){return Be(t)&&t.length<=nD&&it(t,aD)},JC=function(t){return me(t)&&Ke(t,function(n){return!p7(n)}).isNone()},QC=function(){var t=Y3.getItem(Nw);if(t===null)return{};var n;try{n=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+Nw+" was not valid JSON",o),{};throw o}return JC(n)?n:(console.log("Local storage "+Nw+" was not valid format",n),{})},m7=function(t){if(!JC(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Y3.setItem(Nw,JSON.stringify(t))},oD=function(t){var n=QC();return gt(n,t).getOr([])},h7=function(t,n){if(aD(t)){var o=QC(),s=gt(o,n).getOr([]),d=qe(s,function(p){return p!==t});o[n]=[t].concat(d).slice(0,nD),m7(o)}},ex=function(t){return!!t},g7=function(t){return kn(qm.makeMap(t,/[, ]/),ex)},az=function(t){return O.from(O5(t)).filter(at)},Mg=function(t){var n=O.some(R5(t)).filter(ex),o=O.some(D5(t)).filter(ex),s=n.or(o).map(g7);return az(t).fold(Ue,function(d){return s.fold(U,function(p){return In(p).length>0?p:!1})})},iD=function(t,n){var o=Mg(t);return ge(o)?o?az(t):O.none():o[n]?az(t):O.none()},y7=function(t,n){return iD(t,n).map(function(o){return function(s){return qu.nu(function(d){var p=function(k,C){if(!ee(k))throw new Error("Expected value to be string");if(C!==void 0&&!me(C))throw new Error("Expected meta to be a object");var E={value:k,meta:C};d(E)},g=Z({filetype:n,fieldname:s.fieldname},O.from(s.meta).getOr({}));o.call(t,p,s.value,g)})}})},oz=function(t){return O.from(t).filter(ee).getOrUndefined()},b7=function(t){return M5(t)?O.none():O.some({targets:v7.find(t.getBody()),anchorTop:oz(E4(t)),anchorBottom:oz(B5(t))})},tx=function(t){return O.from(N5(t))},Cf=function(t){return{getHistory:oD,addToHistory:h7,getLinkInformation:function(){return b7(t)},getValidationHandler:function(){return tx(t)},getUrlPicker:function(n){return y7(t,n)}}},_7=function(t,n,o){var s=Qr(!1),d=e7(n),p={shared:{providers:{icons:function(){return n.ui.registry.getAll().icons},menuItems:function(){return n.ui.registry.getAll().menuItems},translate:gf.translate,isDisabled:function(){return n.mode.isReadOnly()||n.ui.isDisabled()},getSetting:n.getParam.bind(n)},interpreter:function(g){return UP(g,p)},anchors:KP(n,o,d.isPositionedAtTop),header:d,getSink:function(){return Ln.value(t)}},urlinput:Cf(n),styleselect:GC(n),colorinput:ZP(n),dialog:QP(n),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(g){return s.set(g)}};return p},ov=function(t,n,o){var s=function(ft,De){Ze([n,o],function(ot){ot.broadcastEvent(ft,De)})},d=function(ft,De){Ze([n,o],function(ot){ot.broadcastOn([ft],De)})},p=function(ft){return d($v(),{target:ft.target})},g=Ah(),k=ni(g,"touchstart",p),C=ni(g,"touchmove",function(ft){return s(ry(),ft)}),E=ni(g,"touchend",function(ft){return s(Dx(),ft)}),M=ni(g,"mousedown",p),F=ni(g,"mouseup",function(ft){ft.raw.button===0&&d(n0(),{target:ft.target})}),q=function(ft){return d($v(),{target:tr.fromDom(ft.target)})},Y=function(ft){ft.button===0&&d(n0(),{target:tr.fromDom(ft.target)})},ne=function(){Ze(t.editorManager.get(),function(ft){t!==ft&&ft.fire("DismissPopups",{relatedTarget:t})})},pe=function(ft){return s(Q1(),Mv(ft))},Oe=function(ft){d(pm(),{}),s(cc(),Mv(ft))},de=function(){return d(pm(),{})},Me=function(ft){ft.state&&d($v(),{target:tr.fromDom(t.getContainer())})},pt=function(ft){d($v(),{target:tr.fromDom(ft.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",q),t.on("tap",q),t.on("mouseup",Y),t.on("mousedown",ne),t.on("ScrollWindow",pe),t.on("ResizeWindow",Oe),t.on("ResizeEditor",de),t.on("AfterProgressState",Me),t.on("DismissPopups",pt)}),t.on("remove",function(){t.off("click",q),t.off("tap",q),t.off("mouseup",Y),t.off("mousedown",ne),t.off("ScrollWindow",pe),t.off("ResizeWindow",Oe),t.off("ResizeEditor",de),t.off("AfterProgressState",Me),t.off("DismissPopups",pt),M.unbind(),k.unbind(),C.unbind(),E.unbind(),F.unbind()}),t.on("detach",function(){ju(n),ju(o),n.destroy(),o.destroy()})},_c=on,Bg=gb,uD=se([Pe("shell",!1),zt("makeItem"),Pe("setupItem",ut),Dc.field("listBehaviours",[yn])]),rx=function(){return{behaviours:sr([yn.config({})])}},Ym=Mc({name:"items",overrides:rx}),wc=se([Ym]),w7=se("CustomList"),sD=function(t,n,o,s){var d=function(k,C){g(k).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(E){var M=yn.contents(E),F=C.length,q=F-M.length,Y=q>0?oe(q,function(){return t.makeItem()}):[],ne=M.slice(F);Ze(ne,function(Oe){return yn.remove(E,Oe)}),Ze(Y,function(Oe){return yn.append(E,Oe)});var pe=yn.contents(E);Ze(pe,function(Oe,de){t.setupItem(k,Oe,C[de],de)})})},p=t.shell?{behaviours:[yn.config({})],components:[]}:{behaviours:[],components:n},g=function(k){return t.shell?O.some(k):Za(k,t,"items")};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Qi(t.listBehaviours,p.behaviours),apis:{setItems:d}}},iz=ls({name:w7(),configFields:uD(),partFields:wc(),factory:sD,apis:{setItems:function(t,n,o){t.setItems(n,o)}}}),Ng=se([zt("dom"),Pe("shell",!0),Bi("toolbarBehaviours",[yn])]),k7=function(){return{behaviours:sr([yn.config({})])}},C7=se([Mc({name:"groups",overrides:k7})]),Zm=function(t,n,o,s){var d=function(k,C){p(k).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(E){yn.set(E,C)})},p=function(k){return t.shell?O.some(k):Za(k,t,"groups")},g=t.shell?{behaviours:[yn.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Qi(t.toolbarBehaviours,g.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},xf=ls({name:"Toolbar",configFields:Ng(),partFields:C7(),factory:Zm,apis:{setGroups:function(t,n,o){t.setGroups(n,o)}}}),z1=ut,nx=Ue,uz=se([]),x7=Object.freeze({__proto__:null,setup:z1,isDocked:nx,getBehaviours:uz}),cD=function(t){var n=ua(ui(t,"position"),"fixed"),o=n?O.none():ys(t);return o.orThunk(function(){var s=tr.fromTag("span");return yo(t).bind(function(d){Eu(d,s);var p=ys(s);return bs(s),p})})},lD=function(t){return cD(t).map(Ju).getOrThunk(function(){return Qa(0,0)})},sz=uc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),A1=function(t,n){var o=t.element;Ai(o,n.transitionClass),yi(o,n.fadeOutClass),Ai(o,n.fadeInClass),n.onShow(t)},S7=function(t,n){var o=t.element;Ai(o,n.transitionClass),yi(o,n.fadeInClass),Ai(o,n.fadeOutClass),n.onHide(t)},T7=function(t,n){return t.y<n.bottom&&t.bottom>n.y},E7=function(t,n){return t.y>=n.y},z7=function(t,n){return t.bottom<=n.bottom},fD=function(t,n,o){return it(t,function(s){switch(s){case"bottom":return z7(n,o);case"top":return E7(n,o)}})},Pw=function(t,n){return n.getInitialPos().map(function(o){return Ei(o.bounds.x,o.bounds.y,Tu(t),hi(t))})},A7=function(t,n,o){o.setInitialPos({style:Tf(t),position:Vo(t,"position")||"static",bounds:n})},cz=function(t,n,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return O.some(sz.static());case"absolute":var d=cD(t).map(si).getOrThunk(function(){return si(Ia())});return O.some(sz.absolute(Vu("absolute",gt(s.style,"left").map(function(p){return n.x-d.x}),gt(s.style,"top").map(function(p){return n.y-d.y}),gt(s.style,"right").map(function(p){return d.right-n.right}),gt(s.style,"bottom").map(function(p){return d.bottom-n.bottom}))));default:return O.none()}})},lz=function(t,n,o){return Pw(t,o).filter(function(s){return fD(o.getModes(),s,n)}).bind(function(s){return cz(t,s,o)})},dD=function(t,n,o){var s=si(t);if(fD(o.getModes(),s,n))return O.none();A7(t,s,o);var d=su(),p=s.x-d.x,g=n.y-d.y,k=d.bottom-n.bottom,C=s.y<=n.y;return O.some(sz.fixed(Vu("fixed",O.some(p),C?O.some(g):O.none(),O.none(),C?O.none():O.some(k))))},ax=function(t,n,o){var s=t.element,d=ua(ui(s,"position"),"fixed");return d?lz(s,n,o):dD(s,n,o)},ox=function(t,n){var o=t.element;return Pw(o,n).bind(function(s){return cz(o,s,n)})},Jm=function(t,n,o){o.setDocked(!1),Ze(["left","right","top","bottom","position"],function(s){return Aa(t.element,s)}),n.onUndocked(t)},fz=function(t,n,o,s){var d=s.position==="fixed";o.setDocked(d),Fd(t.element,s);var p=d?n.onDocked:n.onUndocked;p(t)},vD=function(t,n,o,s,d){d===void 0&&(d=!1),n.contextual.each(function(p){p.lazyContext(t).each(function(g){var k=T7(g,s);if(k!==o.isVisible())if(o.setVisible(k),d&&!k)Cv(t.element,[p.fadeOutClass]),p.onHide(t);else{var C=k?A1:S7;C(t,p)}})})},dz=function(t,n,o){var s=n.lazyViewport(t),d=o.isDocked();d&&vD(t,n,o,s),ax(t,s,o).each(function(p){p.fold(function(){return Jm(t,n,o)},function(g){return fz(t,n,o,g)},function(g){vD(t,n,o,s,!0),fz(t,n,o,g)})})},O7=function(t,n,o){var s=t.element;o.setDocked(!1),ox(t,o).each(function(d){d.fold(function(){return Jm(t,n,o)},function(p){return fz(t,n,o,p)},ut)}),o.setVisible(!0),n.contextual.each(function(d){pc(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),O1(t,n,o)},O1=function(t,n,o){t.getSystem().isConnected()&&dz(t,n,o)},vz=function(t,n,o){o.isDocked()&&O7(t,n,o)},R7=function(t,n,o){return o.isDocked()},D7=function(t,n,o,s){return o.setModes(s)},Fw=function(t,n,o){return o.getModes()},pz=Object.freeze({__proto__:null,refresh:O1,reset:vz,isDocked:R7,getModes:Fw,setModes:D7}),M7=function(t,n){return ro([ci(Dp(),function(o,s){t.contextual.each(function(d){if(as(o.element,d.transitionClass)){pc(o.element,[d.transitionClass,d.fadeInClass]);var p=n.isVisible()?d.onShown:d.onHidden;p(o)}s.stop()})}),Bt(Q1(),function(o,s){O1(o,t,n)}),Bt(cc(),function(o,s){vz(o,t,n)})])},B7=Object.freeze({__proto__:null,events:M7}),pD=[Us("contextual",[gn("fadeInClass"),gn("fadeOutClass"),gn("transitionClass"),$u("lazyContext"),Ra("onShow"),Ra("onShown"),Ra("onHide"),Ra("onHidden")]),lo("lazyViewport",su),If("modes",["top","bottom"],ri),Ra("onDocked"),Ra("onUndocked")],N7=function(t){var n=Qr(!1),o=Qr(!0),s=Yo(),d=Qr(t.modes),p=function(){return"docked:  "+n.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Du({isDocked:n.get,setDocked:n.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:p})},P7=Object.freeze({__proto__:null,init:N7}),e=Mi({fields:pD,name:"docking",active:B7,apis:pz,state:P7}),r=se(Nr("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",c="tox-tinymce--toolbar-sticky-off",f=function(t,n){var o=go(n),s=o.dom.defaultView.innerHeight,d=$s(o),p=tr.fromDom(t.elm),g=jl(p),k=hi(p),C=g.y,E=C+k,M=Ju(n),F=hi(n),q=M.top,Y=q+F,ne=Math.abs(q-d.top)<2,pe=Math.abs(Y-(d.top+s))<2;if(ne&&C<Y)gp(d.left,C-F,o);else if(pe&&E>q){var Oe=C-s+k+F;gp(d.left,Oe,o)}},m=function(t,n){return dn(e.getModes(t),n)},y=function(t){var n=function(s){return Ls(s)+(parseInt(Vo(s,"margin-top"),10)||0)+(parseInt(Vo(s,"margin-bottom"),10)||0)},o=t.element;yo(o).each(function(s){var d="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var p=Tu(s);vn(o,"width",p+"px"),vn(s,d,n(o)+"px")}else Aa(o,"width"),Aa(s,d)})},w=function(t,n){n?(yi(t,a.fadeOutClass),Cv(t,[a.transitionClass,a.fadeInClass])):(yi(t,a.fadeInClass),Cv(t,[a.fadeOutClass,a.transitionClass]))},R=function(t,n){var o=tr.fromDom(t.getContainer());n?(Ai(o,i),yi(o,c)):(Ai(o,c),yi(o,i))},$=function(t,n){var o=go(n);cs(o).filter(function(s){return!va(n,s)}).filter(function(s){return va(s,tr.fromDom(o.dom.body))||Su(t,s)}).each(function(){return Tl(n)})},V=function(t,n){return El(t).orThunk(function(){return n().toOptional().bind(function(o){return El(o.element)})})},j=function(t,n,o){t.inline||(n.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(y)}),t.on("SkinLoaded",function(){o().each(function(s){e.isDocked(s)?e.reset(s):e.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){e.refresh(d);var p=d.element;B2(p)&&f(s,p)})}),t.on("PostRender",function(){R(t,!1)})},re=function(t){return t().map(e.isDocked).getOr(!1)},ae=function(){var t;return[Hu.config({channels:(t={},t[r()]={onReceive:y},t)})]},ie=function(t,n){var o=Yo(),s=n.getSink,d=function(k){s().each(function(C){return k(C.element)})},p=function(k){t.inline||y(k),R(t,e.isDocked(k)),k.getSystem().broadcastOn([pm()],{}),s().each(function(C){return C.getSystem().broadcastOn([pm()],{})})},g=t.inline?[]:ae();return Lt([bn.config({}),e.config({contextual:Z({lazyContext:function(k){var C=Ls(k.element),E=t.inline?t.getContentAreaContainer():t.getContainer(),M=si(tr.fromDom(E)),F=M.height-C,q=M.y+(m(k,"top")?0:C);return O.some(Ei(M.x,q,M.width,F))},onShow:function(){d(function(k){return w(k,!0)})},onShown:function(k){d(function(C){return pc(C,[a.transitionClass,a.fadeInClass])}),o.get().each(function(C){$(k.element,C),o.clear()})},onHide:function(k){V(k.element,s).fold(o.clear,o.set),d(function(C){return w(C,!1)})},onHidden:function(){d(function(k){return pc(k,[a.transitionClass])})}},a),lazyViewport:function(k){var C=su(),E=S5(t),M=C.y+(m(k,"top")?E:0),F=C.height-(m(k,"bottom")?E:0);return Ei(C.x,M,C.width,F)},modes:[n.header.getDockingMode()],onDocked:p,onUndocked:p})],g,!0)},ue=Object.freeze({__proto__:null,setup:j,isDocked:re,getBehaviours:ie}),_e=function(t){var n=t.editor,o=t.sticky?ie:uz;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:sr(o(n,t.sharedBackstage))}},he=Kr([gn("type"),ks("items",fh([$1([gn("name"),Ou("items",ri)]),ri]))].concat(Jb)),Xe=function(t){return Po("GroupToolbarButton",he,t)},Ve=[co("text"),co("tooltip"),co("icon"),$u("fetch"),lo("onSetup",function(){return ut})],Ee=Kr(Lt([gn("type")],Ve,!0)),tt=function(t){return Po("menubutton",Ee,t)},Tt=Kr([gn("type"),co("tooltip"),co("icon"),co("text"),bd("select"),$u("fetch"),lo("onSetup",function(){return ut}),ic("presets","normal",["normal","color","listpreview"]),Pe("columns",1),$u("onAction"),$u("onItemAction")]),Kt=function(t){return Po("SplitButton",Tt,t)},nn=function(t,n){var o=function(d,p){var g=$t(p,function(k){var C={type:"menubutton",text:k.text,fetch:function(M){M(k.getItems())}},E=tt(C).mapError(function(M){return yd(M)}).getOrDie();return $C(E,"tox-mbtn",n.backstage,O.some("menuitem"))});yn.set(d,g)},s={focus:jr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:sr([yn.config({}),Nn("menubar-events",[Bn(function(d){t.onSetup(d)}),Bt($f(),function(d,p){Oi(d.element,".tox-mbtn--active").each(function(g){Oc(p.event.target,".tox-mbtn").each(function(k){va(g,k)||d.getSystem().getByDom(g).each(function(C){d.getSystem().getByDom(k).each(function(E){_f.expand(E),_f.close(C),bn.focus(E)})})})})}),Bt(ny(),function(d,p){p.event.prevFocus.bind(function(g){return d.getSystem().getByDom(g).toOptional()}).each(function(g){p.event.newFocus.bind(function(k){return d.getSystem().getByDom(k).toOptional()}).each(function(k){_f.isOpen(g)&&(_f.expand(k),_f.close(g))})})})]),jr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),O.some(!0)}}),ai.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},Cr=gc({factory:nn,name:"silver.Menubar",configFields:[zt("dom"),zt("uid"),zt("onEscape"),zt("backstage"),Pe("onSetup",ut)],apis:{focus:function(t,n){t.focus(n)},setMenus:function(t,n,o){t.setMenus(n,o)}}}),At=function(t,n){return n.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},qr=function(t){return t.dimension.property},Jt=function(t,n){return t.dimension.getDimension(n)},wr=function(t,n){var o=At(t,n);pc(o,[n.shrinkingClass,n.growingClass])},Qt=function(t,n){yi(t.element,n.openClass),Ai(t.element,n.closedClass),vn(t.element,qr(n),"0px"),fo(t.element)},pr=function(t,n){yi(t.element,n.closedClass),Ai(t.element,n.openClass),Aa(t.element,qr(n))},Or=function(t,n,o,s){o.setCollapsed(),vn(t.element,qr(n),Jt(n,t.element)),fo(t.element),wr(t,n),Qt(t,n),n.onStartShrink(t),n.onShrunk(t)},Ut=function(t,n,o,s){var d=s.getOrThunk(function(){return Jt(n,t.element)});o.setCollapsed(),vn(t.element,qr(n),d),fo(t.element);var p=At(t,n);yi(p,n.growingClass),Ai(p,n.shrinkingClass),Qt(t,n),n.onStartShrink(t)},Er=function(t,n,o){var s=Jt(n,t.element),d=s==="0px"?Or:Ut;d(t,n,o,O.some(s))},ea=function(t,n,o){var s=At(t,n),d=as(s,n.shrinkingClass),p=Jt(n,t.element);pr(t,n);var g=Jt(n,t.element),k=function(){vn(t.element,qr(n),p),fo(t.element)},C=function(){Qt(t,n)},E=d?k:C;E(),yi(s,n.shrinkingClass),Ai(s,n.growingClass),pr(t,n),vn(t.element,qr(n),g),o.setExpanded(),n.onStartGrow(t)},Pa=function(t,n,o){if(o.isExpanded()){Aa(t.element,qr(n));var s=Jt(n,t.element);vn(t.element,qr(n),s)}},Ma=function(t,n,o){o.isExpanded()||ea(t,n,o)},wu=function(t,n,o){o.isExpanded()&&Er(t,n,o)},Go=function(t,n,o){o.isExpanded()&&Or(t,n,o)},Ds=function(t,n,o){return o.isExpanded()},Hc=function(t,n,o){return o.isCollapsed()},jt=function(t,n,o){var s=At(t,n);return as(s,n.growingClass)===!0},ir=function(t,n,o){var s=At(t,n);return as(s,n.shrinkingClass)===!0},Gr=function(t,n,o){return jt(t,n)||ir(t,n)},nt=function(t,n,o){var s=o.isExpanded()?Er:ea;s(t,n,o)},Yt=Object.freeze({__proto__:null,refresh:Pa,grow:Ma,shrink:wu,immediateShrink:Go,hasGrown:Ds,hasShrunk:Hc,isGrowing:jt,isShrinking:ir,isTransitioning:Gr,toggleGrow:nt,disableTransitions:wr}),qt=function(t,n,o){var s=n.expanded;return el(s?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:Gl(n.dimension.property,"0px")})},Yr=function(t,n){return ro([ci(Dp(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){wr(o,t),n.isExpanded()&&Aa(o.element,t.dimension.property);var p=n.isExpanded()?t.onGrown:t.onShrunk;p(o)}})])},rn=Object.freeze({__proto__:null,exhibit:qt,events:Yr}),so=[zt("closedClass"),zt("openClass"),zt("shrinkingClass"),zt("growingClass"),Oa("getAnimationRoot"),Ra("onShrunk"),Ra("onStartShrink"),Ra("onGrown"),Ra("onStartGrow"),Pe("expanded",!1),ks("dimension",Tc("property",{width:[uo("property","width"),uo("getDimension",function(t){return Tu(t)+"px"})],height:[uo("property","height"),uo("getDimension",function(t){return hi(t)+"px"})]}))],ru=function(t){var n=Qr(t.expanded),o=function(){return"expanded: "+n.get()};return Du({isExpanded:function(){return n.get()===!0},isCollapsed:function(){return n.get()===!1},setCollapsed:$e(n.set,!1),setExpanded:$e(n.set,!0),readState:o})},ji=Object.freeze({__proto__:null,init:ru}),ps=Mi({fields:so,name:"sliding",active:rn,apis:Yt,state:ji}),ms="container",Zs=[Bi("slotBehaviours",[])],Wi=function(t){return"<alloy.field."+t+">"},fl=function(t){var n=function(){var p=[],g=function(k,C){return p.push(k),b0(ms,Wi(k),C)};return{slot:g,record:se(p)}}(),o=t(n),s=n.record(),d=$t(s,function(p){return yu({name:p,pname:Wi(p)})});return x0(ms,Zs,d,Js,o)},Js=function(t,n){var o=function(pe){return v2(t)},s=function(pe,Oe){return Za(pe,t,Oe)},d=function(pe,Oe){return function(de,Me){return Za(de,t,Me).map(function(pt){return pe(pt,Me)}).getOr(Oe)}},p=function(pe){return function(Oe,de){Ze(de,function(Me){return pe(Oe,Me)})}},g=function(pe,Oe){return bo(pe.element,"aria-hidden")!=="true"},k=function(pe,Oe){if(!g(pe)){var de=pe.element;Aa(de,"display"),Xi(de,"aria-hidden"),en(pe,Hf(),{name:Oe,visible:!0})}},C=function(pe,Oe){if(g(pe)){var de=pe.element;vn(de,"display","none"),Fn(de,"aria-hidden","true"),en(pe,Hf(),{name:Oe,visible:!1})}},E=d(g,!1),M=d(C),F=p(M),q=function(pe){return F(pe,o())},Y=d(k),ne={getSlotNames:o,getSlot:s,isShowing:E,hideSlot:M,hideAllSlots:q,showSlot:Y};return{uid:t.uid,dom:t.dom,components:n,behaviours:ym(t.slotBehaviours),apis:ne}},iv=kn({getSlotNames:function(t,n){return t.getSlotNames(n)},getSlot:function(t,n,o){return t.getSlot(n,o)},isShowing:function(t,n,o){return t.isShowing(n,o)},hideSlot:function(t,n,o){return t.hideSlot(n,o)},hideAllSlots:function(t,n){return t.hideAllSlots(n)},showSlot:function(t,n,o){return t.showSlot(n,o)}},function(t){return Fo(t)}),Fa=Z(Z({},iv),{sketch:fl}),ko=Kr([co("icon"),co("tooltip"),lo("onShow",ut),lo("onHide",ut),lo("onSetup",function(){return ut})]),nu=function(t){return Po("sidebar",ko,t)},ld=function(t){var n=t.ui.registry.getAll().sidebars;Ze(In(n),function(o){var s=n[o],d=function(){return ua(O.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(p){t.execCommand("ToggleSidebar",!1,o),p.setActive(d())},onSetup:function(p){var g=function(){return p.setActive(d())};return t.on("ToggleSidebar",g),function(){t.off("ToggleSidebar",g)}}})})},fd=function(t){return{element:function(){return t.element.dom}}},dd=function(t,n){var o=$t(In(n),function(s){var d=n[s],p=Kc(nu(d));return{name:s,getApi:fd,onSetup:p.onSetup,onShow:p.onShow,onHide:p.onHide}});return $t(o,function(s){var d=Qr(ut);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:r1.unnamedEvents([o1(s,d),fw(s,d),Bt(Hf(),function(p,g){var k=g.event,C=Nt(o,function(E){return E.name===k.name});C.each(function(E){var M=k.visible?E.onShow:E.onHide;M(E.getApi(p))})})])})})},Qm=function(t){return Fa.sketch(function(n){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:dd(n,t),slotBehaviours:r1.unnamedEvents([Bn(function(o){return Fa.hideAllSlots(o)})])}})},mz=function(t,n){var o=aa.getCurrent(t);o.each(function(s){return yn.set(s,[Qm(n)])})},hz=function(t,n){var o=aa.getCurrent(t);o.each(function(s){var d=aa.getCurrent(s);d.each(function(p){ps.hasGrown(s)?Fa.isShowing(p,n)?ps.shrink(s):(Fa.hideAllSlots(p),Fa.showSlot(p,n)):(Fa.hideAllSlots(p),Fa.showSlot(p,n),ps.grow(s))})})},F7=function(t){var n=aa.getCurrent(t);return n.bind(function(o){var s=ps.isGrowing(o)||ps.hasGrown(o);if(s){var d=aa.getCurrent(o);return d.bind(function(p){return Nt(Fa.getSlotNames(p),function(g){return Fa.isShowing(p,g)})})}else return O.none()})},ix=Nr("FixSizeEvent"),ux=Nr("AutoSizeEvent"),I7=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:sr([ai.config({}),bn.config({}),ps.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(n){var o=aa.getCurrent(n);o.each(Fa.hideAllSlots),Sa(n,ux)},onGrown:function(n){Sa(n,ux)},onStartGrow:function(n){en(n,ix,{width:ui(n.element,"width").getOr("")})},onStartShrink:function(n){en(n,ix,{width:Tu(n.element)+"px"})}}),yn.config({}),aa.config({find:function(n){var o=yn.contents(n);return Yn(o)}})])}],behaviours:sr([cd.childAt(0),Nn("sidebar-sliding-events",[Bt(ix,function(n,o){vn(n.element,"width",o.event.width)}),Bt(ux,function(n,o){Aa(n.element,"width")})])])}},mD=function(t,n,o,s){Fn(t.element,"aria-busy",!0);var d=n.getRoot(t).getOr(t),p=sr([jr.config({mode:"special",onTab:function(){return O.some(!0)},onShiftTab:function(){return O.some(!0)}}),bn.config({})]),g=s(d,p),k=d.getSystem().build(g);yn.append(d,mc(k)),k.hasConfigured(jr)&&n.focus&&jr.focusIn(k),o.isBlocked()||n.onBlock(t),o.blockWith(function(){return yn.remove(d,k)})},L7=function(t,n,o){Xi(t.element,"aria-busy"),o.isBlocked()&&n.onUnblock(t),o.clear()},$7=Object.freeze({__proto__:null,block:mD,unblock:L7}),H7=[lo("getRoot",O.none),to("focus",!0),Ra("onBlock"),Ra("onUnblock")],V7=function(){var t=R_(),n=function(o){t.set({destroy:o})};return Du({readState:t.isSet,blockWith:n,clear:t.clear,isBlocked:t.isSet})},Pg=Object.freeze({__proto__:null,init:V7}),uv=Mi({fields:H7,name:"blocking",apis:$7,state:Pg}),Re=function(t){return function(n,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ap('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},lt=function(t){return aa.getCurrent(t).each(function(n){return Tl(n.element)})},er=function(t,n){var o="tabindex",s="data-mce-"+o;O.from(t.iframeElement).map(tr.fromDom).each(function(d){n?(No(d,o).each(function(p){return Fn(d,s,p)}),Fn(d,o,-1)):(Xi(d,o),No(d,s).each(function(p){Fn(d,o,p),Xi(d,s)}))})},mr=function(t,n,o,s){var d=n.element;if(er(t,o),o)uv.block(n,Re(s)),Aa(d,"display"),Xi(d,"aria-hidden"),t.hasFocus()&&lt(n);else{var p=aa.getCurrent(n).exists(function(g){return Rh(g.element)});uv.unblock(n),vn(d,"display","none"),Fn(d,"aria-hidden","true"),p&&t.focus()}},jn=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:sr([yn.config({}),uv.config({focus:!1}),aa.config({find:function(n){return Yn(n.components())}})]),components:[]}},$a=function(t){return t.type==="focusin"},Io=function(t){if($a(t)){var n=t.composed?Yn(t.composedPath()):O.from(t.target);return n.map(tr.fromDom).filter(Gt).exists(function(o){return as(o,"mce-pastebin")})}else return!1},eh=function(t,n,o){var s=Qr(!1),d=Yo(),p=function(k){s.get()&&!Io(k)&&(k.preventDefault(),lt(n()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",p),t.on("BeforeExecCommand",function(k){k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&p(k)})});var g=function(k){k!==s.get()&&(s.set(k),mr(t,n(),k,o.providers),t.fire("AfterProgressState",{state:k}))};t.on("ProgressState",function(k){if(d.on(ed.clearTimeout),hr(k.time)){var C=ed.setEditorTimeout(t,function(){return g(k.state)},k.time);d.set(C)}else g(k.state),d.clear()})},m9=function(t,n){var o={len:0,list:[]},s=Ne(t,function(d,p){var g=n(p,d.len);return g.fold(se(d),function(k){return{len:k.finish,list:d.list.concat([k])}})},o);return s.list},U7=function(t,n,o){return{within:t,extra:n,withinWidth:o}},iI=function(t,n,o){var s=m9(t,function(k,C){var E=o(k);return O.some({element:k,start:C,finish:C+E,width:E})}),d=qe(s,function(k){return k.finish<=n}),p=be(d,function(k,C){return k+C.width},0),g=s.slice(d.length);return{within:d,extra:g,withinWidth:p}},hD=function(t){return $t(t,function(n){return n.element})},h9=function(t,n,o){var s=hD(t.concat(n));return U7(s,[],o)},g9=function(t,n,o,s){var d=hD(t).concat([o]);return U7(d,hD(n),s)},y9=function(t,n,o){return U7(hD(t),[],o)},b9=function(t,n,o){var s=iI(n,t,o);return s.extra.length===0?O.some(s):O.none()},_9=function(t,n,o,s){var d=b9(t,n,o).getOrThunk(function(){return iI(n,t-o(s),o)}),p=d.within,g=d.extra,k=d.withinWidth;return g.length===1&&g[0].width<=o(s)?h9(p,g,k):g.length>=1?g9(p,g,s,k):y9(p,g,k)},uI=function(t,n){var o=$t(n,function(s){return mc(s)});xf.setGroups(t,o)},w9=function(t){return Zn(t,function(n){return El(n.element).bind(function(o){return n.getSystem().getByDom(o).toOptional()})})},sI=function(t,n,o){var s=n.builtGroups.get();if(s.length!==0){var d=vf(t,n,"primary"),p=li.getCoupled(t,"overflowGroup");vn(d.element,"visibility","hidden");var g=s.concat([p]),k=w9(g);o([]),uI(d,g);var C=Tu(d.element),E=_9(C,n.builtGroups.get(),function(M){return Tu(M.element)},p);E.extra.length===0?(yn.remove(d,p),o([])):(uI(d,E.within),o(E.extra)),Aa(d.element,"visibility"),fo(d.element),k.each(bn.focus)}},cI=se([Bi("splitToolbarBehaviours",[li]),ts("builtGroups",function(){return Qr([])})]),k9=se([Ev(["overflowToggledClass"]),bd("getOverflowBounds"),zt("lazySink"),ts("overflowGroups",function(){return Qr([])})].concat(cI())),C9=se([yu({factory:xf,schema:Ng(),name:"primary"}),hc({schema:Ng(),name:"overflow"}),hc({name:"overflow-button"}),hc({name:"overflow-group"})]),j7=se(function(t,n){uu(t,Math.floor(n))}),x9=se([Ev(["toggledClass"]),zt("lazySink"),$u("fetch"),bd("getBounds"),Us("fireDismissalEventInstead",[Pe("event",Jc())]),Id()]),S9=se([hc({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:sr([ca.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),hc({factory:xf,schema:Ng(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:sr([jr.config({mode:"cyclic",onEscape:function(n){return Za(n,t,"button").each(bn.focus),O.none()}})])}}})]),lI=function(t,n){var o=li.getCoupled(t,"toolbarSandbox");pa.isOpen(o)?pa.close(o):pa.open(o,n.toolbar())},W7=function(t,n,o,s){var d=o.getBounds.map(function(g){return g()}),p=o.lazySink(t).getOrDie();Zo.positionWithinBounds(p,n,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:j7()}}},d)},fI=function(t,n,o,s,d){xf.setGroups(n,d),W7(t,n,o,s),ca.on(t)},T9=function(t,n,o){var s=xv(),d=function(g,k){o.fetch().get(function(C){fI(t,k,o,n.layouts,C),s.link(t.element),jr.focusIn(k)})},p=function(){ca.off(t),bn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:sr([jr.config({mode:"special",onEscape:function(g){return pa.close(g),O.some(!0)}}),pa.config({onOpen:d,onClose:p,isPartOf:function(g,k,C){return Sv(k,C)||Sv(t,C)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Hu.config({channels:Z(Z({},As(Z({isExtraPart:Ue},o.fireDismissalEventInstead.map(function(g){return{fireEventInstead:{event:g.event}}}).getOr({})))),Hv({doReposition:function(){pa.getState(li.getCoupled(t,"toolbarSandbox")).each(function(g){W7(t,g,o,n.layouts)})}}))})])}},E9=function(t,n,o,s){return Z(Z({},Ks.sketch(Z(Z({},s.button()),{action:function(d){lI(d,s)},buttonBehaviours:Dc.augment({dump:s.button().buttonBehaviours},[li.config({others:{toolbarSandbox:function(d){return T9(d,o,t)}}})])}))),{apis:{setGroups:function(d,p){pa.getState(li.getCoupled(d,"toolbarSandbox")).each(function(g){fI(d,g,t,o.layouts,p)})},reposition:function(d){pa.getState(li.getCoupled(d,"toolbarSandbox")).each(function(p){W7(d,p,t,o.layouts)})},toggle:function(d){lI(d,s)},getToolbar:function(d){return pa.getState(li.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return pa.isOpen(li.getCoupled(d,"toolbarSandbox"))}}})},Iw=ls({name:"FloatingToolbarButton",factory:E9,configFields:x9(),partFields:S9(),apis:{setGroups:function(t,n,o){t.setGroups(n,o)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},getToolbar:function(t,n){return t.getToolbar(n)},isOpen:function(t,n){return t.isOpen(n)}}}),z9=se([zt("items"),Ev(["itemSelector"]),Bi("tgroupBehaviours",[jr])]),A9=se([df({name:"items",unit:"item"})]),O9=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.tgroupBehaviours,[jr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},gD=ls({name:"ToolbarGroup",configFields:z9(),partFields:A9(),factory:O9}),dI=function(t){return $t(t,function(n){return mc(n)})},vI=function(t,n,o){sI(t,o,function(s){o.overflowGroups.set(s),n.getOpt(t).each(function(d){Iw.setGroups(d,dI(s))})})},R9=function(t,n,o,s){var d=La(Iw.sketch({fetch:function(){return qu.nu(function(p){p(dI(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Hi,Mu]},onRtl:function(){return[Mu,Hi]},onBottomLtr:function(){return[ss,us]},onBottomRtl:function(){return[us,ss]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.splitToolbarBehaviours,[li.config({others:{overflowGroup:function(){return gD.sketch(Z(Z({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(p,g){t.builtGroups.set($t(g,p.getSystem().build)),vI(p,d,t)},refresh:function(p){return vI(p,d,t)},toggle:function(p){d.getOpt(p).each(function(g){Iw.toggle(g)})},isOpen:function(p){return d.getOpt(p).map(Iw.isOpen).getOr(!1)},reposition:function(p){d.getOpt(p).each(function(g){Iw.reposition(g)})},getOverflow:function(p){return d.getOpt(p).bind(Iw.getToolbar)}},domModification:{attributes:{role:"group"}}}},pI=ls({name:"SplitFloatingToolbar",configFields:k9(),partFields:C9(),factory:R9,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)},getOverflow:function(t,n){return t.getOverflow(n)}}}),D9=se([Ev(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ra("onOpened"),Ra("onClosed")].concat(cI())),M9=se([yu({factory:xf,schema:Ng(),name:"primary"}),yu({factory:xf,schema:Ng(),name:"overflow",overrides:function(t){return{toolbarBehaviours:sr([ps.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(n){Za(n,t,"overflow-button").each(function(o){ca.off(o),bn.focus(o)}),t.onClosed(n)},onGrown:function(n){jr.focusIn(n),t.onOpened(n)},onStartGrow:function(n){Za(n,t,"overflow-button").each(ca.on)}}),jr.config({mode:"acyclic",onEscape:function(n){return Za(n,t,"overflow-button").each(bn.focus),O.some(!0)}})])}}}),hc({name:"overflow-button",overrides:function(t){return{buttonBehaviours:sr([ca.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),hc({name:"overflow-group"})]),B9=function(t,n){return Za(t,n,"overflow").map(ps.hasGrown).getOr(!1)},mI=function(t,n){Za(t,n,"overflow-button").bind(function(){return Za(t,n,"overflow")}).each(function(o){q7(t,n),ps.toggleGrow(o)})},q7=function(t,n){Za(t,n,"overflow").each(function(o){sI(t,n,function(s){var d=$t(s,function(p){return mc(p)});xf.setGroups(o,d)}),Za(t,n,"overflow-button").each(function(s){ps.hasGrown(o)&&ca.on(s)}),ps.refresh(o)})},N9=function(t,n,o,s){var d="alloy.toolbar.toggle",p=function(g,k){var C=$t(k,g.getSystem().build);t.builtGroups.set(C)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.splitToolbarBehaviours,[li.config({others:{overflowGroup:function(g){return gD.sketch(Z(Z({},s["overflow-group"]()),{items:[Ks.sketch(Z(Z({},s["overflow-button"]()),{action:function(k){Sa(g,d)}}))]}))}}}),Nn("toolbar-toggle-events",[Bt(d,function(g){mI(g,t)})])]),apis:{setGroups:function(g,k){p(g,k),q7(g,t)},refresh:function(g){return q7(g,t)},toggle:function(g){return mI(g,t)},isOpen:function(g){return B9(g,t)}},domModification:{attributes:{role:"group"}}}},G7=ls({name:"SplitSlidingToolbar",configFields:D9(),partFields:M9(),factory:N9,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)}}}),hI=function(t){var n=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:Z({tag:"div",classes:["tox-toolbar__group"]},n),components:[gD.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:sr([ai.config({}),bn.config({})])}},yD=function(t){return gD.sketch(hI(t))},gI=function(t,n){var o=Bn(function(s){var d=$t(t.initGroups,yD);xf.setGroups(s,d)});return sr([Pl.toolbarButton(t.providers.isDisabled),Ui(),jr.config({mode:n,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Nn("toolbar-events",[o])])},yI=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":hI({title:O.none(),items:[]}),"overflow-button":LE({name:"more",icon:O.some("more-drawer"),disabled:!1,tooltip:O.some("More..."),primary:!1,borderless:!1},O.none(),t.providers)},splitToolbarBehaviours:gI(t,n)}},P9=function(t){var n=yI(t),o=4,s=pI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return pI.sketch(Z(Z({},n),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,p=jl(d),g=mt(d),k=jl(g),C=Math.max(g.dom.scrollHeight,k.height);return Ei(p.x+o,k.y,p.width-o*2,C)},parts:Z(Z({},n.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},F9=function(t){var n=G7.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=G7.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=yI(t);return G7.sketch(Z(Z({},s),{components:[n,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([r()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([r()],{type:"closed"})}}))},bD=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return xf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ul.scrolling?["tox-toolbar--scrolling"]:[])},components:[xf.parts.groups({})],toolbarBehaviours:gI(t,n)})},I9=function(t,n,o){var s={getSocket:function(d){return _c.getPart(d,t,"socket")},setSidebar:function(d,p){_c.getPart(d,t,"sidebar").each(function(g){return mz(g,p)})},toggleSidebar:function(d,p){_c.getPart(d,t,"sidebar").each(function(g){return hz(g,p)})},whichSidebar:function(d){return _c.getPart(d,t,"sidebar").bind(F7).getOrNull()},getHeader:function(d){return _c.getPart(d,t,"header")},getToolbar:function(d){return _c.getPart(d,t,"toolbar")},setToolbar:function(d,p){_c.getPart(d,t,"toolbar").each(function(g){g.getApis().setGroups(g,p)})},setToolbars:function(d,p){_c.getPart(d,t,"multiple-toolbar").each(function(g){iz.setItems(g,p)})},refreshToolbar:function(d){var p=_c.getPart(d,t,"toolbar");p.each(function(g){return g.getApis().refresh(g)})},toggleToolbarDrawer:function(d){_c.getPart(d,t,"toolbar").each(function(p){Ni(p.getApis().toggle,function(g){return g(p)})})},isToolbarDrawerToggled:function(d){return _c.getPart(d,t,"toolbar").bind(function(p){return O.from(p.getApis().isOpen).map(function(g){return g(p)})}).getOr(!1)},getThrobber:function(d){return _c.getPart(d,t,"throbber")},focusToolbar:function(d){var p=_c.getPart(d,t,"toolbar").orThunk(function(){return _c.getPart(d,t,"multiple-toolbar")});p.each(function(g){jr.focusIn(g)})},setMenubar:function(d,p){_c.getPart(d,t,"menubar").each(function(g){Cr.setMenus(g,p)})},focusMenubar:function(d){_c.getPart(d,t,"menubar").each(function(p){Cr.focus(p)})}};return{uid:t.uid,dom:t.dom,components:n,apis:s,behaviours:t.behaviours}},L9=Bg.optional({factory:Cr,name:"menubar",schema:[zt("backstage")]}),$9=function(t){return t.type===ul.sliding?F9:t.type===ul.floating?P9:bD},H9=Bg.optional({factory:{sketch:function(t){return iz.sketch({uid:t.uid,dom:t.dom,listBehaviours:sr([jr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return bD({type:t.type,uid:Nr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),O.some(!0)}})},setupItem:function(n,o,s,d){xf.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[zt("dom"),zt("onEscape")]}),V9=Bg.optional({factory:{sketch:function(t){var n=$9(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),O.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return n(o)}},name:"toolbar",schema:[zt("dom"),zt("onEscape"),zt("getSink")]}),U9=Bg.optional({factory:{sketch:_e},name:"header",schema:[zt("dom")]}),j9=Bg.optional({name:"socket",schema:[zt("dom")]}),W9=Bg.optional({factory:{sketch:I7},name:"sidebar",schema:[zt("dom")]}),q9=Bg.optional({factory:{sketch:jn},name:"throbber",schema:[zt("dom")]}),wi=ls({name:"OuterContainer",factory:I9,configFields:[zt("dom"),zt("behaviours")],partFields:[U9,L9,V9,H9,j9,W9,q9],apis:{getSocket:function(t,n){return t.getSocket(n)},setSidebar:function(t,n,o){t.setSidebar(n,o)},toggleSidebar:function(t,n,o){t.toggleSidebar(n,o)},whichSidebar:function(t,n){return t.whichSidebar(n)},getHeader:function(t,n){return t.getHeader(n)},getToolbar:function(t,n){return t.getToolbar(n)},setToolbar:function(t,n,o){var s=$t(o,function(d){return yD(d)});t.setToolbar(n,s)},setToolbars:function(t,n,o){var s=$t(o,function(d){return $t(d,yD)});t.setToolbars(n,s)},refreshToolbar:function(t,n){return t.refreshToolbar(n)},toggleToolbarDrawer:function(t,n){t.toggleToolbarDrawer(n)},isToolbarDrawerToggled:function(t,n){return t.isToolbarDrawerToggled(n)},getThrobber:function(t,n){return t.getThrobber(n)},setMenubar:function(t,n,o){t.setMenubar(n,o)},focusMenubar:function(t,n){t.focusMenubar(n)},focusToolbar:function(t,n){t.focusToolbar(n)}}}),G9="file edit view insert format tools table help",bI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},K9=function(t,n,o){var s=_T(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Pr(t.items,function(d){var p=d.toLowerCase();return p.trim().length===0?[]:fa(s,function(g){return g===p})?[]:p==="separator"||p==="|"?[{type:"separator"}]:n.menuItems[p]?[n.menuItems[p]]:[]})}}},K7=function(t){return typeof t=="string"?t.split(" "):t},_I=function(t,n){var o=Z(Z({},bI),n.menus),s=In(n.menus).length>0,d=n.menubar===void 0||n.menubar===!0?K7(G9):K7(n.menubar===!1?"":n.menubar),p=qe(d,function(k){var C=fr(bI,k);return s?C||gt(n.menus,k).exists(function(E){return fr(E,"items")}):C}),g=$t(p,function(k){var C=o[k];return K9({title:C.title,items:K7(C.items)},n,t)});return qe(g,function(k){var C=function(E){return E.type!=="separator"};return k.getItems().length>0&&fa(k.getItems(),C)})},wI=function(t){var n=function(){t._skinLoaded=!0,Q5(t)};return function(){t.initialized?n():t.on("init",n)}},X9=function(t,n){return function(){return eM(t,{message:n})}},kI=function(t,n,o){return new _g(function(s,d){o.load(n,s,d),t.on("remove",function(){return o.unload(n)})})},Y9=function(t,n){var o=n+"/skin.min.css";return kI(t,o,t.ui.styleSheetLoader)},Z9=function(t,n){var o=Dr(tr.fromDom(t.getElement()));if(o){var s=n+"/skin.shadowdom.min.css";return kI(t,s,cw.DOM.styleSheetLoader)}else return _g.resolve()},CI=function(t,n){var o=m5(n);o&&n.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),g5(n)===!1&&ee(o)?_g.all([Y9(n,o),Z9(n,o)]).then(wI(n),X9(n,"Skin could not be loaded")):wI(n)()},J9=$e(CI,!1),Q9=$e(CI,!0),_D=function(t,n){return function(o){var s=Xp(),d=function(){o.setActive(t.formatter.match(n));var p=t.formatter.formatChanged(n,o.setActive);s.set(p)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},wD=function(t,n,o){return function(s){var d=function(){return o(s)},p=function(){o(s),t.on(n,d)};return t.initialized?p():t.once("init",p),function(){t.off("init",p),t.off(n,d)}}},xI=function(t){return function(n){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,n.format)})}}},vd=function(t,n){return function(){return t.execCommand(n)}},eH=function(t,n,o){var s=function(k,C,E,M){var F=n.shared.providers.translate(k.title);if(k.type==="separator")return O.some({type:"separator",text:F});if(k.type==="submenu"){var q=Pr(k.getStyleItems(),function(Y){return d(Y,C,M)});return C===0&&q.length<=0?O.none():O.some({type:"nestedmenuitem",text:F,disabled:q.length<=0,getSubmenuItems:function(){return Pr(k.getStyleItems(),function(Y){return d(Y,C,M)})}})}else return O.some(Z({type:"togglemenuitem",text:F,icon:k.icon,active:k.isSelected(M),disabled:E,onAction:o.onAction(k)},k.getStylePreview().fold(function(){return{}},function(Y){return{meta:{style:Y}}})))},d=function(k,C,E){var M=k.type==="formatter"&&o.isInvalid(k);return C===0?M?[]:s(k,C,!1,E).toArray():s(k,C,M,E).toArray()},p=function(k){var C=o.getCurrentValue(),E=o.shouldHide?0:1;return Pr(k,function(M){return d(M,E,C)})},g=function(k,C){return function(E,M){var F=C(),q=p(F),Y=E1(q,nd.CLOSE_ON_EXECUTE,k,!1);M(Y)}};return{validateItems:p,getFetch:g}},sx=function(t,n,o){var s=o.dataset,d=s.type==="basic"?function(){return $t(s.data,function(p){return XR(p,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:eH(t,n,o),getStyleItems:d}},gz=function(t,n,o){var s=sx(t,n,o),d=s.items,p=s.getStyleItems,g=function(C){return{getComponent:se(C)}},k=wD(t,"NodeChange",function(C){var E=C.getComponent();o.updateText(E)});return FE({text:o.icon.isSome()?O.none():o.text,icon:o.icon,tooltip:O.from(o.tooltip),role:O.none(),fetch:d.getFetch(n,p),onSetup:k,getApi:g,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},tH=function(t){return $t(t,function(n){var o=n,s=n,d=n.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},rH=function(t){return{type:"basic",data:t}},cx;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(cx||(cx={}));var nH=function(t,n){return n===cx.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},X7=function(t,n,o,s){var d=t.getParam(n,o,"string"),p=tH(nH(d,s));return{type:"basic",data:p}},Y7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],SI=function(t){var n=function(){return Nt(Y7,function(k){return t.formatter.match(k.format)})},o=function(k){return function(){return t.formatter.match(k)}},s=function(k){return O.none},d=function(k){var C=n(),E=C.fold(se("left"),function(M){return M.title.toLowerCase()});en(k,PE,{icon:"align-"+E})},p=rH(Y7),g=function(k){return function(){return Nt(Y7,function(C){return C.format===k.format}).each(function(C){return t.execCommand(C.command)})}};return{tooltip:"Align",text:O.none(),icon:O.some("align-left"),isSelectedFor:o,getCurrentValue:O.none,getPreviewFor:s,onAction:g,updateText:d,dataset:p,shouldHide:!1,isInvalid:function(k){return!t.formatter.canApply(k.format)}}},aH=function(t,n){return gz(t,n,SI(t))},oH=function(t,n){var o=sx(t,n,SI(t));t.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},iH="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",uH=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],TI=function(t){var n=t.split(/\s*,\s*/);return $t(n,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},sH=function(t){var n=function(){var o=TI(t.toLowerCase());return it(uH,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&n()},EI=function(t){var n="System Font",o=function(){var E=function(ne){return ne?TI(ne)[0]:""},M=t.queryCommandValue("FontName"),F=C.data,q=M?M.toLowerCase():"",Y=Nt(F,function(ne){var pe=ne.format;return pe.toLowerCase()===q||E(pe).toLowerCase()===E(q).toLowerCase()}).orThunk(function(){return po(sH(q),{title:n,format:q})});return{matchOpt:Y,font:M}},s=function(E){return function(M){return M.exists(function(F){return F.format===E})}},d=function(){var E=o().matchOpt;return E},p=function(E){return function(){return O.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}})}},g=function(E){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,E.format)})}},k=function(E){var M=o(),F=M.matchOpt,q=M.font,Y=F.fold(se(q),function(ne){return ne.title});en(E,Ag,{text:Y})},C=X7(t,"font_formats",iH,cx.SemiColon);return{tooltip:"Fonts",text:O.some(n),icon:O.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:p,onAction:g,updateText:k,dataset:C,shouldHide:!1,isInvalid:Ue}},cH=function(t,n){return gz(t,n,EI(t))},lH=function(t,n){var o=sx(t,n,EI(t));t.ui.registry.addNestedMenuItem("fontformats",{text:n.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},fH="8pt 10pt 12pt 14pt 18pt 24pt 36pt",dH={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},vH={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},pH=function(t,n){var o=Math.pow(10,n);return Math.round(t*o)/o},mH=function(t,n){return/[0-9.]+px$/.test(t)?pH(parseInt(t,10)*72/96,n||0)+"pt":gt(vH,t).getOr(t)},hH=function(t){return gt(dH,t).getOr("")},zI=function(t){var n=function(){var C=O.none(),E=k.data,M=t.queryCommandValue("FontSize");if(M)for(var F=function(Y){var ne=mH(M,Y),pe=hH(ne);C=Nt(E,function(Oe){return Oe.format===M||Oe.format===ne||Oe.format===pe})},q=3;C.isNone()&&q>=0;q--)F(q);return{matchOpt:C,size:M}},o=function(C){return function(E){return E.exists(function(M){return M.format===C})}},s=function(){var C=n().matchOpt;return C},d=se(O.none),p=function(C){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,C.format)})}},g=function(C){var E=n(),M=E.matchOpt,F=E.size,q=M.fold(se(F),function(Y){return Y.title});en(C,Ag,{text:q})},k=X7(t,"fontsize_formats",fH,cx.Space);return{tooltip:"Font sizes",text:O.some("12pt"),icon:O.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:p,updateText:g,dataset:k,shouldHide:!1,isInvalid:Ue}},gH=function(t,n){return gz(t,n,zI(t))},yH=function(t,n){var o=sx(t,n,zI(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},AI=function(t,n){var o=n(),s=$t(o,function(d){return d.format});return O.from(t.formatter.closest(s)).bind(function(d){return Nt(o,function(p){return p.format===d})}).orThunk(function(){return po(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},bH="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",OI=function(t){var n="Paragraph",o=function(g){return function(){return t.formatter.match(g)}},s=function(g){return function(){var k=t.formatter.get(g);return O.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))})}},d=function(g){var k=AI(t,function(){return p.data}),C=k.fold(se(n),function(E){return E.title});en(g,Ag,{text:C})},p=X7(t,"block_formats",bH,cx.SemiColon);return{tooltip:"Blocks",text:O.some(n),icon:O.none(),isSelectedFor:o,getCurrentValue:O.none,getPreviewFor:s,onAction:xI(t),updateText:d,dataset:p,shouldHide:!1,isInvalid:function(g){return!t.formatter.canApply(g.format)}}},_H=function(t,n){return gz(t,n,OI(t))},wH=function(t,n){var o=sx(t,n,OI(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},RI=function(t,n){var o="Paragraph",s=function(g){return function(){return t.formatter.match(g)}},d=function(g){return function(){var k=t.formatter.get(g);return k!==void 0?O.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):O.none()}},p=function(g){var k=function(F){var q=F.items;return q!==void 0&&q.length>0?Pr(q,k):[{title:F.title,format:F.format}]},C=Pr(Km(t),k),E=AI(t,se(C)),M=E.fold(se(o),function(F){return F.title});en(g,Ag,{text:M})};return{tooltip:"Formats",text:O.some(o),icon:O.none(),isSelectedFor:s,getCurrentValue:O.none,getPreviewFor:d,onAction:xI(t),updateText:p,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(g){return!t.formatter.canApply(g.format)},dataset:n}},kH=function(t,n){var o=Z({type:"advanced"},n.styleselect);return gz(t,n,RI(t,o))},CH=function(t,n){var o=Z({type:"advanced"},n.styleselect),s=sx(t,n,RI(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},xH=function(t,n){var o=function(s,d){t.updateState.each(function(p){var g=p(s,d);n.set(g)}),t.renderComponents.each(function(p){var g=p(d,n.get()),k=$t(g,s.getSystem().build);t0(s,k)})};return ro([Bt(zc(),function(s,d){var p=d;if(!p.universal){var g=t.channel;dn(p.channels,g)&&o(s,p.data)}}),Bn(function(s,d){t.initialData.each(function(p){o(s,p)})})])},SH=Object.freeze({__proto__:null,events:xH}),TH=function(t,n,o){return o},EH=Object.freeze({__proto__:null,getState:TH}),zH=[zt("channel"),Oa("renderComponents"),Oa("updateState"),Oa("initialData")],AH=function(){var t=Qr(O.none()),n=function(){return t.set(O.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:n}},OH=Object.freeze({__proto__:null,init:AH}),Il=Mi({fields:zH,name:"reflecting",active:SH,apis:EH,state:OH}),RH=se([zt("toggleClass"),zt("fetch"),is("onExecute"),Pe("getHotspot",O.some),Pe("getAnchorOverrides",se({})),Id(),is("onItemExecute"),Oa("lazySink"),zt("dom"),Ra("onOpen"),Bi("splitDropdownBehaviours",[li,jr,bn]),Pe("matchWidth",!1),Pe("useMinWidth",!1),Pe("eventOrder",{}),Oa("role")].concat(ZT())),DH=yu({factory:Ks,schema:[zt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:sr([bn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(lc)},buttonBehaviours:sr([ca.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),MH=yu({factory:Ks,schema:[zt("dom")],name:"button",defaults:function(){return{buttonBehaviours:sr([bn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,n)})}}}}),BH=se([DH,MH,Mc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[zt("text")],name:"aria-descriptor"}),hc({schema:[Tv()],name:"menu",defaults:function(t){return{onExecute:function(n,o){n.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,n,o)})}}}}),$A()]),NH=function(t,n,o,s){var d,p=function(F){aa.getCurrent(F).each(function(q){Na.highlightFirst(q),jr.focusIn(q)})},g=function(F){var q=p;m1(t,Ye,F,s,q,od.HighlightFirst).get(ut)},k=function(F){return g(F),O.some(!0)},C=function(F){var q=vf(F,t,"button");return lc(q),O.some(!0)},E=Z(Z({},ro([Bn(function(F,q){var Y=Za(F,t,"aria-descriptor");Y.each(function(ne){var pe=Nr("aria");Fn(ne.element,"id",pe),Fn(F.element,"aria-describedby",pe)})})])),Wb(O.some(g))),M={repositionMenus:function(F){ca.isOn(F)&&VA(F)}};return{uid:t.uid,dom:t.dom,components:n,apis:M,eventOrder:Z(Z({},t.eventOrder),(d={},d[sc()]=["disabling","toggling","alloy.base.behaviour"],d)),events:E,behaviours:Qi(t.splitDropdownBehaviours,[li.config({others:{sandbox:function(F){var q=vf(F,t,"arrow"),Y={onOpen:function(){ca.on(q),ca.on(F)},onClose:function(){ca.off(q),ca.off(F)}};return YT(t,F,Y)}}}),jr.config({mode:"special",onSpace:C,onEnter:C,onDown:k}),bn.config({}),ca.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},kD=ls({name:"SplitDropdown",configFields:RH(),partFields:BH(),factory:NH,apis:{repositionMenus:function(t,n){return t.repositionMenus(n)}}}),PH=function(t){return{isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)}}},FH=function(t){return{setActive:function(n){ca.set(t,n)},isActive:function(){return ca.isOn(t)},isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)}}},DI=function(t,n){return t.map(function(o){return{"aria-label":n.translate(o),title:n.translate(o)}}).getOr({})},MI=Nr("focus-button"),Z7=function(t,n,o,s,d,p){var g;return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:DI(o,p)},components:i1([t.map(function(k){return FC(k,p.icons)}),n.map(function(k){return NE(k,"tox-tbtn",p)})]),eventOrder:(g={},g[Zc()]=["focusing","alloy.base.behaviour","common-button-display-events"],g),buttonBehaviours:sr([Pl.toolbarButton(p.isDisabled),Ui(),Nn("common-button-display-events",[Bt(Zc(),function(k,C){C.event.prevent(),Sa(k,MI)})])].concat(s.map(function(k){return Il.config({channel:k,initialData:{icon:t,text:n},renderComponents:function(C,E){return i1([C.icon.map(function(M){return FC(M,p.icons)}),C.text.map(function(M){return NE(M,"tox-tbtn",p)})])}})}).toArray()).concat(d.getOr([])))}},IH=function(t,n,o,s){var d=n.shared;return Iw.sketch({lazySink:d.getSink,fetch:function(){return qu.nu(function(p){p($t(o(t.items),yD))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Z7(t.icon,t.text,t.tooltip,O.none(),O.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},BI=function(t,n,o){var s=Qr(ut),d=Z7(t.icon,t.text,t.tooltip,O.none(),O.none(),o);return Ks.sketch({dom:d.dom,components:d.components,eventOrder:uR,buttonBehaviours:sr([Nn("toolbar-button-events",[FN({onAction:t.onAction,getApi:n.getApi}),o1(n,s),fw(n,s)]),Pl.toolbarButton(function(){return t.disabled||o.isDisabled()}),Ui()].concat(n.toolbarButtonBehaviours))})},LH=function(t,n){return NI(t,n,[])},NI=function(t,n,o){return BI(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Nn("toolbarButtonWith",o)]:[]),getApi:PH,onSetup:t.onSetup},n)},$H=function(t,n){return PI(t,n,[])},PI=function(t,n,o){return _t(BI(t,{toolbarButtonBehaviours:[yn.config({}),ca.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Nn("toolbarToggleButtonWith",o)]:[]),getApi:FH,onSetup:t.onSetup},n))},HH=function(t,n,o){return function(s){return qu.nu(function(d){return n.fetch(d)}).map(function(d){return O.from(fA(_t(f1(Nr("menu-value"),d,function(p){n.onItemAction(t(s),p)},n.columns,n.presets,nd.CLOSE_ON_EXECUTE,n.select.getOr(Ue),o),{movement:rC(n.columns,n.presets),menuBehaviours:r1.unnamedEvents(n.columns!=="auto"?[]:[Bn(function(p,g){yT(p,4,lT(n.presets)).each(function(k){var C=k.numRows,E=k.numColumns;jr.setGridSize(p,C,E)})})])})))})}},VH=function(t,n){var o,s=Nr("channel-update-split-dropdown-display"),d=function(k){return{isDisabled:function(){return Jr.isDisabled(k)},setDisabled:function(C){return Jr.set(k,C)},setIconFill:function(C,E){Oi(k.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(M){Fn(M,"fill",E)})},setIconStroke:function(C,E){Oi(k.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(M){Fn(M,"stroke",E)})},setActive:function(C){Fn(k.element,"aria-pressed",C),Oi(k.element,"span").each(function(E){k.getSystem().getByDom(E).each(function(M){return ca.set(M,C)})})},isActive:function(){return Oi(k.element,"span").exists(function(C){return k.getSystem().getByDom(C).exists(ca.isOn)})}}},p=Qr(ut),g={getApi:d,onSetup:t.onSetup};return kD.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:Z({"aria-pressed":!1},DI(t.tooltip,n.providers))},onExecute:function(k){t.onAction(d(k))},onItemExecute:function(k,C,E){},splitDropdownBehaviours:sr([Pl.splitButton(n.providers.isDisabled),Ui(),Nn("split-dropdown-events",[Bt(MI,bn.focus),o1(g,p),fw(g,p)]),g1.config({})]),eventOrder:(o={},o[js()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:HH(d,t,n.providers),parts:{menu:N3(!1,t.columns,t.presets)},components:[kD.parts.button(Z7(t.icon,t.text,O.none(),O.some(s),O.some([ca.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),kD.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Mz("chevron-down",n.providers.icons)},buttonBehaviours:sr([Pl.splitButton(n.providers.isDisabled),Ui(),J8()])}),kD.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},UH=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],yz=function(t,n){return function(o,s,d){var p=t(o).mapError(function(g){return yd(g)}).getOrDie();return n(p,s,d)}},lx={button:yz(Jz,function(t,n){return LH(t,n.backstage.shared.providers)}),togglebutton:yz(aT,function(t,n){return $H(t,n.backstage.shared.providers)}),menubutton:yz(tt,function(t,n){return $C(t,"tox-tbtn",n.backstage,O.none())}),splitbutton:yz(Kt,function(t,n){return VH(t,n.backstage.shared)}),grouptoolbarbutton:yz(Xe,function(t,n,o){var s,d=o.ui.registry.getAll().buttons,p=function(k){return CD(o,{buttons:d,toolbar:k,allowToolbarGroups:!1},n,O.none())},g=(s={},s[Wy]=n.backstage.shared.header.isPositionedAtTop()?af.TopToBottom:af.BottomToTop,s);switch(lw(o)){case ul.floating:return IH(t,n.backstage,p,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,n){return kH(t,n.backstage)},fontsizeSelectButton:function(t,n){return gH(t,n.backstage)},fontSelectButton:function(t,n){return cH(t,n.backstage)},formatButton:function(t,n){return _H(t,n.backstage)},alignMenuButton:function(t,n){return aH(t,n.backstage)}},jH=function(t,n,o){return gt(lx,t.type).fold(function(){return console.error("skipping button defined by",t),O.none()},function(s){return O.some(s(t,n,o))})},FI={styleselect:lx.styleSelectButton,fontsizeselect:lx.fontsizeSelectButton,fontselect:lx.fontSelectButton,formatselect:lx.formatButton,align:lx.alignMenuButton},WH=function(t){var n=$t(UH,function(o){var s=qe(o.items,function(d){return fr(t,d)||fr(FI,d)});return{name:o.name,items:s}});return qe(n,function(o){return o.items.length>0})},qH=function(t){var n=t.split("|");return $t(n,function(o){return{items:o.trim().split(" ")}})},GH=function(t){return Qe(t,function(n){return fr(n,"name")&&fr(n,"items")})},KH=function(t){var n=t.toolbar,o=t.buttons;return n===!1?[]:n===void 0||n===!0?WH(o):ee(n)?qH(n):GH(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},XH=function(t,n,o,s,d,p){return gt(n,o.toLowerCase()).orThunk(function(){return p.bind(function(g){return Zn(g,function(k){return gt(n,k+o.toLowerCase())})})}).fold(function(){return gt(FI,o.toLowerCase()).map(function(g){return g(t,d)}).orThunk(function(){return O.none()})},function(g){return g.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),O.none()):jH(g,d,t)})},CD=function(t,n,o,s){var d=KH(n),p=$t(d,function(g){var k=Pr(g.items,function(C){return C.trim().length===0?[]:XH(t,n.buttons,C,n.allowToolbarGroups,o,s).toArray()});return{title:O.from(t.translate(g.name)),items:k}});return qe(p,function(g){return g.items.length>0})},II=function(t,n,o,s){var d=n.outerContainer,p=o.toolbar,g=o.buttons;if(Qe(p,ee)){var k=p.map(function(C){var E={toolbar:C,buttons:g,allowToolbarGroups:o.allowToolbarGroups};return CD(t,E,{backstage:s},O.none())});wi.setToolbars(d,k)}else wi.setToolbar(d,CD(t,o,{backstage:s},O.none()))},LI=Zt(),YH=LI.os.isiOS()&&LI.os.version.major<=12,ZH=function(t,n){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,p=Qr(Qa(s.innerWidth,s.innerHeight)),g=Qr(Qa(d.offsetWidth,d.offsetHeight)),k=function(){var q=p.get();(q.left!==s.innerWidth||q.top!==s.innerHeight)&&(p.set(Qa(s.innerWidth,s.innerHeight)),RT(t))},C=function(){var q=t.getDoc().documentElement,Y=g.get();(Y.left!==q.offsetWidth||Y.top!==q.offsetHeight)&&(g.set(Qa(q.offsetWidth,q.offsetHeight)),RT(t))},E=function(q){return rM(t,q)};o.bind(s,"resize",k),o.bind(s,"scroll",E);var M=Hy(tr.fromDom(t.getBody()),"load",C),F=n.uiMothership.element;t.on("hide",function(){vn(F,"display","none")}),t.on("show",function(){Aa(F,"display")}),t.on("NodeChange",C),t.on("remove",function(){M.unbind(),o.unbind(s,"resize",k),o.unbind(s,"scroll",E),s=null})},JH=function(t,n,o,s,d){var p=Qr(0),g=n.outerContainer;J9(t);var k=tr.fromDom(d.targetNode),C=or(Zr(k));rl(k,n.mothership),Xf(C,n.uiMothership),t.on("PostRender",function(){II(t,n,o,s),p.set(t.getWin().innerWidth),wi.setMenubar(g,_I(t,o)),wi.setSidebar(g,o.sidebar),ZH(t,n)});var E=wi.getSocket(g).getOrDie("Could not find expected socket element");if(YH){Is(E.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var M=b6(function(){t.fire("ScrollContent")},20),F=ni(E.element,"scroll",M.throttle);t.on("remove",F.unbind)}A4(t,n),t.addCommand("ToggleSidebar",function(pe,Oe){wi.toggleSidebar(g,Oe),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return wi.whichSidebar(g)});var q=lw(t),Y=function(){wi.refreshToolbar(n.outerContainer)};(q===ul.sliding||q===ul.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var pe=t.getWin().innerWidth;pe!==p.get()&&(Y(),p.set(pe))});var ne={enable:function(){a1(n,!1)},disable:function(){a1(n,!0)},isDisabled:function(){return Jr.isDisabled(g)}};return{iframeContainer:E.element.dom,editorContainer:g.element.dom,api:ne}},QH=Object.freeze({__proto__:null,render:JH}),J7=function(t){var n=/^[0-9\.]+(|px)$/i;return n.test(""+t)?O.some(parseInt(""+t,10)):O.none()},Q7=function(t){return hr(t)?t+"px":t},xD=function(t,n,o){var s=n.filter(function(p){return t<p}),d=o.filter(function(p){return t>p});return s.or(d).getOr(t)},eV=function(t){var n=h4(t),o=b4(t),s=_4(t);return J7(n).map(function(d){return xD(d,o,s)})},tV=function(t){var n=eV(t);return n.getOr(h4(t))},$I=function(t){var n=g4(t),o=y4(t),s=$3(t);return J7(n).map(function(d){return xD(d,o,s)})},rV=function(t){var n=$I(t);return n.getOr(g4(t))},nV=function(t,n,o,s,d){var p=o.uiMothership,g=o.outerContainer,k=cw.DOM,C=V3(t),E=U3(t),M=$3(t).or($I(t)),F=s.shared.header,q=F.isPositionedAtTop,Y=lw(t),ne=Y===ul.sliding||Y===ul.floating,pe=Qr(!1),Oe=function(){return pe.get()&&!t.removed},de=function(Pt){return ne?Pt.fold(se(0),function(Ct){return Ct.components().length>1?hi(Ct.components()[1].element):0}):0},Me=function(Pt){switch(k4(t)){case xg.auto:var Ct=wi.getToolbar(g),nr=de(Ct),Fr=hi(Pt.element)-nr,Ot=si(n),Ar=Ot.y>Fr;if(Ar)return"top";var Ur=mt(n),ia=Math.max(Ur.dom.scrollHeight,hi(Ur)),Ha=Ot.bottom<ia-Fr;if(Ha)return"bottom";var ho=su(),Ko=ho.bottom<Ot.bottom-Fr;return Ko?"bottom":"top";case xg.bottom:return"bottom";case xg.top:default:return"top"}},pt=function(Pt){var Ct=d.get();e.setModes(Ct,[Pt]),F.setDockingMode(Pt);var nr=q()?af.TopToBottom:af.BottomToTop;Fn(Ct.element,Wy,nr)},ft=function(){var Pt=M.getOrThunk(function(){var Ct=J7(Vo(Ia(),"margin-left")).getOr(0);return Tu(Ia())-Ju(n).left+Ct});vn(d.get().element,"max-width",Pt+"px")},De=function(){var Pt=wi.getToolbar(g),Ct=de(Pt),nr=si(n),Fr=q()?Math.max(nr.y-hi(d.get().element)+Ct,0):nr.bottom;Is(g.element,{position:"absolute",top:Math.round(Fr)+"px",left:Math.round(nr.x)+"px"})},ot=function(){p.broadcastOn([pm()],{})},xt=function(Pt){if(Pt===void 0&&(Pt=!1),!!Oe()){if(C||ft(),ne&&wi.refreshToolbar(g),C||De(),E){var Ct=d.get();Pt?e.reset(Ct):e.refresh(Ct)}ot()}},yr=function(Pt){if(Pt===void 0&&(Pt=!0),!(C||!E||!Oe())){var Ct=F.getDockingMode(),nr=Me(d.get());nr!==Ct&&(pt(nr),Pt&&xt(!0))}},Dt=function(){pe.set(!0),vn(g.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),Aa(p.element,"display"),yr(!1),xt()},_r=function(){pe.set(!1),o.outerContainer&&(vn(g.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus")),vn(p.element,"display","none")};return{isVisible:Oe,isPositionedAtTop:q,show:Dt,hide:_r,update:xt,updateMode:yr,repositionPopups:ot}},HI=function(t,n){var o=si(t);return{pos:n?o.y:o.bottom,bounds:o}},aV=function(t,n,o,s){var d=Qr(HI(n,o.isPositionedAtTop())),p=function(k){var C=HI(n,o.isPositionedAtTop()),E=C.pos,M=C.bounds,F=d.get(),q=F.pos,Y=F.bounds,ne=M.height!==Y.height||M.width!==Y.width;d.set({pos:E,bounds:M}),ne&&RT(t,k),o.isVisible()&&(q!==E?o.update(!0):ne&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(k){ed.requestAnimationFrame(function(){return p(k)})}),t.on("ScrollWindow",function(){return o.updateMode()});var g=Xp();g.set(Hy(tr.fromDom(t.getBody()),"load",p)),t.on("remove",function(){g.clear()})},oV=function(t,n,o,s,d){var p=n.mothership,g=n.uiMothership,k=n.outerContainer,C=Qr(null),E=tr.fromDom(d.targetNode),M=nV(t,E,n,s,C),F=x5(t);Q9(t);var q=function(){if(C.get()){M.show();return}C.set(wi.getHeader(k).getOrDie());var ne=S4(t);Xf(ne,p),Xf(ne,g),II(t,n,o,s),wi.setMenubar(k,_I(t,o)),M.show(),aV(t,E,M,F),t.nodeChanged()};t.on("show",q),t.on("hide",M.hide),F||(t.on("focus",q),t.on("blur",M.hide)),t.on("init",function(){(t.hasFocus()||F)&&q()}),A4(t,n);var Y={show:function(){M.show()},hide:function(){M.hide()},enable:function(){a1(n,!1)},disable:function(){a1(n,!0)},isDisabled:function(){return Jr.isDisabled(k)}};return{editorContainer:k.element.dom,api:Y}},iV=Object.freeze({__proto__:null,render:oV}),uV="contexttoolbar-show",VI="contexttoolbar-hide",sV=function(t){return{hide:function(){return Sa(t,gh())},getValue:function(){return gr.getValue(t)}}},UI=function(t,n){return Bt(iR,function(o,s){var d=t.get(o),p=sV(d);n.onAction(p,s.event.buttonApi)})},cV=function(t,n,o){var s=n.original;s.primary;var d=X(s,["primary"]),p=Kc(Jz(Z(Z({},d),{type:"button",onAction:ut})));return NI(p,o.backstage.shared.providers,[UI(t,n)])},lV=function(t,n,o){var s=n.original;s.primary;var d=X(s,["primary"]),p=Kc(aT(Z(Z({},d),{type:"togglebutton",onAction:ut})));return PI(p,o.backstage.shared.providers,[UI(t,n)])},fV=function(t,n,o){var s={backstage:{shared:{providers:o}}};return n.type==="contextformtogglebutton"?lV(t,n,s):cV(t,n,s)},dV=function(t,n,o){var s=$t(n,function(g){return La(fV(t,g,o))}),d=function(){return $t(s,function(g){return g.asSpec()})},p=function(g){return Zn(n,function(k,C){return k.primary?O.from(s[C]).bind(function(E){return E.getOpt(g)}).filter(Ge(Jr.isDisabled)):O.none()})};return{asSpecs:d,findPrimary:p}},jI=function(t,n){var o=t.label.fold(function(){return{}},function(p){return{"aria-label":p}}),s=La(v1.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:sr([jr.config({mode:"special",onEnter:function(p){return d.findPrimary(p).map(function(g){return lc(g),!0})},onLeft:function(p,g){return g.cut(),O.none()},onRight:function(p,g){return g.cut(),O.none()}})])})),d=dV(s,t.commands,n);return[{title:O.none(),items:[s.asSpec()]},{title:O.none(),items:d.asSpecs()}]},vV=function(t,n,o){return bD({type:t,uid:Nr("context-toolbar"),initGroups:jI(n,o),onEscape:O.none,cyclicKeying:!0,providers:o})},pV={renderContextForm:vV,buildInitGroups:jI},WI=function(t,n,o){return o===void 0&&(o=.01),n.bottom-t.y>=o&&t.bottom-n.y>=o},mV=function(t){var n=t.getBoundingClientRect();if(n.height<=0&&n.width<=0){var o=le(tr.fromDom(t.startContainer),t.startOffset).element,s=vr(o)?yo(o):O.some(o);return s.filter(Gt).map(function(d){return d.dom.getBoundingClientRect()}).getOr(n)}else return n},eF=function(t){var n=t.selection.getRng(),o=mV(n);if(t.inline){var s=$s();return Ei(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=jl(tr.fromDom(t.getBody()));return Ei(d.x+o.left,d.y+o.top,o.width,o.height)}},hV=function(t,n){return n.filter(tn).map(jl).getOrThunk(function(){return eF(t)})},gV=function(t,n,o){var s=Math.max(t.x+o,n.x),d=Math.min(t.right-o,n.right);return{x:s,width:d-s}},yV=function(t,n,o,s,d,p){var g=tr.fromDom(t.getContainer()),k=Oi(g,".tox-editor-header").getOr(g),C=si(k),E=C.y>=n.bottom,M=s&&!E;if(t.inline&&M)return{y:Math.max(C.bottom+p,o.y),bottom:o.bottom};if(t.inline&&!M)return{y:o.y,bottom:Math.min(C.y-p,o.bottom)};var F=d==="line"?si(g):n;return M?{y:Math.max(C.bottom+p,o.y),bottom:Math.min(F.bottom-p,o.bottom)}:{y:Math.max(F.y+p,o.y),bottom:Math.min(C.y-p,o.bottom)}},qI=function(t,n,o,s){s===void 0&&(s=0);var d=Mf(window),p=si(tr.fromDom(t.getContentAreaContainer())),g=Vi(t)||wT(t)||H3(t),k=gV(p,d,s),C=k.x,E=k.width;if(t.inline&&!g)return Ei(C,d.y,E,d.height);var M=n.header.isPositionedAtTop(),F=yV(t,p,d,M,o,s),q=F.y,Y=F.bottom;return Ei(C,q,E,Y-q)},SD=12,GI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},KI={maxHeightFunction:Zp(),maxWidthFunction:j7()},bV=function(t,n){var o=t.selection.getRng(),s=le(tr.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&va(s.element,n)},_V=function(t,n,o){var s=ui(t,"position");vn(t,"position",n);var d=o(t);return s.each(function(p){return vn(t,"position",p)}),d},XI=function(t){return t==="node"},wV=function(t,n,o,s,d){var p=eF(t),g=s.lastElement().exists(function(E){return va(o,E)});if(bV(t,o))return g?M8:Nl;if(g)return _V(n,s.getMode(),function(){var E=WI(p,si(n));return E&&!s.isReposition()?GD:M8});var k=s.getMode()==="fixed"?d.y+$s().top:d.y,C=hi(n)+SD;return k+C<=p.y?Nl:Mm},kV=function(t,n,o,s){var d=function(C){return function(E,M,F,q,Y){var ne=wV(t,q,C,o,Y),pe=Z(Z({},E),{y:Y.y,height:Y.height});return Z(Z({},ne(pe,M,F,q,Y)),{alwaysFit:!0})}},p=function(C){return XI(s)?[d(C)]:[]},g={onLtr:function(C){return[Ts,bi,us,Mu,ss,Hi].concat(p(C))},onRtl:function(C){return[Ts,bi,ss,Hi,us,Mu].concat(p(C))}},k={onLtr:function(C){return[bi,Mu,Hi,us,ss,Ts].concat(p(C))},onRtl:function(C){return[bi,Hi,Mu,ss,us,Ts].concat(p(C))}};return n?k:g},CV=function(t,n,o,s){return n==="line"?{bubble:Bv(SD,0,GI),layouts:{onLtr:function(){return[Oy]},onRtl:function(){return[Ry]}},overrides:KI}:{bubble:Bv(0,SD,GI,1/SD),layouts:kV(t,o,s,n),overrides:KI}},tF=function(t,n){var o=qe(n,function(g){return g.predicate(t.dom)}),s=et(o,function(g){return g.type==="contexttoolbar"}),d=s.pass,p=s.fail;return{contextToolbars:d,contextForms:p}},xV=function(t){if(t.length<=1)return t;var n=function(k){return fa(t,function(C){return C.position===k})},o=function(k){return qe(t,function(C){return C.position===k})},s=n("selection"),d=n("node");if(s||d)if(d&&s){var p=o("node"),g=$t(o("selection"),function(k){return Z(Z({},k),{position:"node"})});return p.concat(g)}else return o(s?"selection":"node");else return o("line")},SV=function(t){if(t.length<=1)return t;var n=function(s){return Nt(t,function(d){return d.position===s})},o=n("selection").orThunk(function(){return n("node")}).orThunk(function(){return n("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return qe(t,function(d){return d.position===s})})},TV=function(t,n,o){var s=tF(t,n);if(s.contextForms.length>0)return O.some({elem:t,toolbars:[s.contextForms[0]]});var d=tF(t,o);if(d.contextForms.length>0)return O.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var p=xV(s.contextToolbars.concat(d.contextToolbars));return O.some({elem:t,toolbars:p})}else return O.none()},EV=function(t,n,o){return t(n)?O.none():hh(n,function(s){if(Gt(s)){var d=tF(s,o.inNodeScope),p=d.contextToolbars,g=d.contextForms,k=g.length>0?g:SV(p);return k.length>0?O.some({elem:s,toolbars:k}):O.none()}else return O.none()},t)},zV=function(t,n){var o=tr.fromDom(n.getBody()),s=function(g){return va(g,o)},d=function(g){return!s(g)&&!Su(o,g)},p=tr.fromDom(n.selection.getNode());return d(p)?O.none():TV(p,t.inNodeScope,t.inEditorScope).orThunk(function(){return EV(s,p,t)})},AV=function(t,n){var o={},s=[],d=[],p={},g={},k=function(M,F){var q=Kc(M6(F));o[M]=q,q.launch.map(function(Y){p["form:"+M]=Z(Z({},F.launch),{type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){n(q)}})}),q.scope==="editor"?d.push(q):s.push(q),g[M]=q},C=function(M,F){N6(F).each(function(q){F.scope==="editor"?d.push(q):s.push(q),g[M]=q})},E=In(t);return Ze(E,function(M){var F=t[M];F.type==="contextform"?k(M,F):F.type==="contexttoolbar"&&C(M,F)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:g,formNavigators:p}},YI=Nr("forward-slide"),ZI=Nr("backward-slide"),rF=Nr("change-slide-event"),nF="tox-pop--resizing",OV=function(t){var n=Qr([]);return Ga.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){n.set([]),Ga.getContent(o).each(function(s){Aa(s.element,"visibility")}),yi(o.element,nF),Aa(o.element,"width")},inlineBehaviours:sr([Nn("context-toolbar-events",[ci(Dp(),function(o,s){s.event.raw.propertyName==="width"&&(yi(o.element,nF),Aa(o.element,"width"))}),Bt(rF,function(o,s){var d=o.element;Aa(d,"width");var p=Tu(d);Ga.setContent(o,s.event.contents),Ai(d,nF);var g=Tu(d);vn(d,"width",p+"px"),Ga.getContent(o).each(function(k){s.event.focus.bind(function(C){return Tl(C),El(d)}).orThunk(function(){return jr.focusIn(k),cs(Zr(d))})}),ed.setTimeout(function(){vn(o.element,"width",g+"px")},0)}),Bt(YI,function(o,s){Ga.getContent(o).each(function(d){n.set(n.get().concat([{bar:d,focus:cs(Zr(o.element))}]))}),en(o,rF,{contents:s.event.forwardContents,focus:O.none()})}),Bt(ZI,function(o,s){Ta(n.get()).each(function(d){n.set(n.get().slice(0,n.get().length-1)),en(o,rF,{contents:mc(d.bar),focus:d.focus})})})]),jr.config({mode:"special",onEscape:function(o){return Ta(n.get()).fold(function(){return t.onEscape()},function(s){return Sa(o,ZI),O.some(!0)})}})]),lazySink:function(){return Ln.value(t.sink)}})},aF="tox-pop--transition",RV=function(t,n,o,s){var d=s.backstage,p=d.shared,g=Zt().deviceType.isTouch,k=Yo(),C=Yo(),E=Yo(),M=wo(OV({sink:o,onEscape:function(){return t.focus(),O.some(!0)}})),F=function(){var Dt=E.get().getOr("node"),_r=XI(Dt)?1:0;return qI(t,p,Dt,_r)},q=function(){return!t.removed&&!(g()&&d.isContextMenuOpen())},Y=function(Dt){return ua(xo(Dt,k.get(),va),!0)},ne=function(){if(q()){var Dt=F(),_r=ua(E.get(),"node")?hV(t,k.get()):eF(t);return Dt.height<=0||!WI(_r,Dt)}else return!0},pe=function(){k.clear(),C.clear(),E.clear(),Ga.hide(M)},Oe=function(){if(Ga.isOpen(M)){var Dt=M.element;Aa(Dt,"display"),ne()?vn(Dt,"display","none"):(C.set(0),Ga.reposition(M))}},de=function(Dt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Dt],behaviours:sr([jr.config({mode:"acyclic"}),Nn("pop-dialog-wrap-events",[Bn(function(_r){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return jr.focusIn(_r)})}),fc(function(_r){t.shortcuts.remove("ctrl+F9")})])])}},Me=mn(function(){return AV(n,function(Dt){var _r=De([Dt]);en(M,YI,{forwardContents:de(_r)})})}),pt=function(Dt,_r){return CD(t,{buttons:Dt,toolbar:_r.items,allowToolbarGroups:!1},s,O.some(["form:"]))},ft=function(Dt,_r){return pV.buildInitGroups(Dt,_r)},De=function(Dt){var _r=t.ui.registry.getAll().buttons,Pt=Me(),Ct=Z(Z({},_r),Pt.formNavigators),nr=lw(t)===ul.scrolling?ul.scrolling:ul.default,Fr=Xt($t(Dt,function(Ot){return Ot.type==="contexttoolbar"?pt(Ct,Ot):ft(Ot,p.providers)}));return bD({type:nr,uid:Nr("context-toolbar"),initGroups:Fr,onEscape:O.none,cyclicKeying:!0,providers:p.providers})},ot=function(Dt,_r){var Pt=Dt==="node"?p.anchors.node(_r):p.anchors.cursor(),Ct=CV(t,Dt,g(),{lastElement:k.get,isReposition:function(){return ua(C.get(),0)},getMode:function(){return Zo.getMode(o)}});return _t(Pt,Ct)},xt=function(Dt,_r){if(yr.cancel(),!!q()){var Pt=De(Dt),Ct=Dt[0].position,nr=ot(Ct,_r);E.set(Ct),C.set(1);var Fr=M.element;Aa(Fr,"display"),Y(_r)||(yi(Fr,aF),Zo.reset(o,M)),Ga.showWithinBounds(M,de(Pt),{anchor:nr,transition:{classes:[aF],mode:"placement"}},function(){return O.some(F())}),_r.fold(k.clear,k.set),ne()&&vn(Fr,"display","none")}},yr=E3(function(){if(!(!t.hasFocus()||t.removed))if(as(M.element,aF))yr.throttle();else{var Dt=Me();zV(Dt,t).fold(pe,function(_r){xt(_r.toolbars,O.some(_r.elem))})}},17);t.on("init",function(){t.on("remove",pe),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Oe),t.on("click keyup focus SetContent",yr.throttle),t.on(VI,pe),t.on(uV,function(Dt){var _r=Me();gt(_r.lookupTable,Dt.toolbarKey).each(function(Pt){xt([Pt],po(Dt.target!==t,Dt.target)),Ga.getContent(M).each(jr.focusIn)})}),t.on("focusout",function(Dt){ed.setEditorTimeout(t,function(){El(o.element).isNone()&&El(M.element).isNone()&&pe()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&pe()}),t.on("AfterProgressState",function(Dt){Dt.state?pe():t.hasFocus()&&yr.throttle()}),t.on("NodeChange",function(Dt){El(M.element).fold(yr.throttle,ut)})})},DV=function(t){var n=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Ze(n,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:vd(t,o.cmd),onSetup:_D(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:vd(t,"JustifyNone")})},MV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},BV=function(){var t="[0-9]+",n="[+-]?"+t,o="[eE]"+n,s="\\.",d=function(k){return"(?:"+k+")?"},p=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),g="[+-]?(?:"+p+")";return new RegExp("^("+g+")(.*)$")}(),NV=function(t,n){return fa(n,function(o){return fa(MV[o],function(s){return t===s})})},PV=function(t,n){var o=O.from(BV.exec(t));return o.bind(function(s){var d=Number(s[1]),p=s[2];return NV(p,n)?O.some({value:d,unit:p}):O.none()})},FV=function(t,n){return PV(t,n).map(function(o){var s=o.value,d=o.unit;return s+d})},JI=function(t,n){var o=function(){var s=n.getOptions(t),d=n.getCurrent(t).map(n.hash),p=Yo();return $t(s,function(g){return{type:"togglemenuitem",text:n.display(g),onSetup:function(k){var C=function(M){M&&(p.on(function(F){return F.setActive(!1)}),p.set(k)),k.setActive(M)};C(ua(d,n.hash(g)));var E=n.watcher(t,g,C);return function(){p.clear(),E()}},onAction:function(){return n.setCurrent(t,g)}}})};t.ui.registry.addMenuButton(n.name,{tooltip:n.text,icon:n.icon,fetch:function(s){return s(o())},onSetup:n.onToolbarSetup}),t.ui.registry.addNestedMenuItem(n.name,{type:"nestedmenuitem",text:n.text,getSubmenuItems:o,onSetup:n.onMenuSetup})},IV={name:"lineheight",text:"Line height",icon:"line-height",getOptions:b5,hash:function(t){return FV(t,["fixed","relative","empty"]).getOr(t)},display:Ye,watcher:function(t,n,o){return t.formatter.formatChanged("lineheight",o,!1,{value:n}).unbind},getCurrent:function(t){return O.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,n){return t.execCommand("LineHeight",!1,n)}},LV=function(t){var n=O.from(_5(t));return n.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:se(o),hash:function(s){return It(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,p){return s.formatter.formatChanged("lang",p,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=tr.fromDom(s.selection.getNode());return zp(d,function(p){return O.some(p).filter(Gt).bind(function(g){var k=No(g,"lang");return k.map(function(C){var E=No(g,"data-mce-lang").getOrUndefined();return{code:C,customCode:E,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=Xp();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},$V=function(t){JI(t,IV),LV(t).each(function(n){return JI(t,n)})},HV=function(t,n){oH(t,n),lH(t,n),CH(t,n),wH(t,n),yH(t,n)},VV=function(t){return wD(t,"NodeChange",function(n){n.setDisabled(!t.queryCommandState("outdent"))})},UV=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:VV(t),onAction:vd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:vd(t,"indent")})},jV=function(t){UV(t)},oF=function(t,n){return function(){t.execCommand("mceToggleFormat",!1,n)}},WV=function(t){qm.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:_D(t,s.name),onAction:oF(t,s.name)})});for(var n=1;n<=6;n++){var o="h"+n;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+n,onSetup:_D(t,o),onAction:oF(t,o)})}},qV=function(t){qm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(n){t.ui.registry.addButton(n.name,{tooltip:n.text,icon:n.icon,onAction:vd(t,n.action)})})},GV=function(t){qm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:vd(t,n.action),onSetup:_D(t,n.name)})})},KV=function(t){WV(t),qV(t),GV(t)},XV=function(t){qm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(n){t.ui.registry.addMenuItem(n.name,{text:n.text,icon:n.icon,shortcut:n.shortcut,onAction:vd(t,n.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:oF(t,"code")})},YV=function(t){KV(t),XV(t)},TD=function(t,n){return wD(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[n]())})},ZV=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:TD(t,"hasUndo"),onAction:vd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:TD(t,"hasRedo"),onAction:vd(t,"redo")})},JV=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:TD(t,"hasUndo"),onAction:vd(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:TD(t,"hasRedo"),onAction:vd(t,"redo")})},QV=function(t){ZV(t),JV(t)},eU=function(t){return wD(t,"VisualAid",function(n){n.setActive(t.hasVisual)})},tU=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:eU(t),onAction:vd(t,"mceToggleVisualAid")})},rU=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:vd(t,"mceToggleVisualAid")})},nU=function(t){rU(t),tU(t)},aU=function(t,n){DV(t),YV(t),HV(t,n),QV(t),pM(t),nU(t),jV(t),$V(t)},bz=function(t,n){return{type:"makeshift",x:t,y:n}},oU=function(t,n,o){return bz(t.x+n,t.y+o)},QI=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},iU=function(t){if(QI(t)){var n=t.touches[0];return bz(n.pageX,n.pageY)}else return bz(t.pageX,t.pageY)},uU=function(t){if(QI(t)){var n=t.touches[0];return bz(n.clientX,n.clientY)}else return bz(t.clientX,t.clientY)},sU=function(t,n){var o=cw.DOM.getPos(t);return oU(n,o.x,o.y)},cU=function(t,n){return n.type==="contextmenu"||n.type==="longpress"?t.inline?iU(n):sU(t.getContentAreaContainer(),uU(n)):eL(t)},eL=function(t){return{type:"selection",root:tr.fromDom(t.selection.getNode())}},lU=function(t){return{type:"node",node:O.some(tr.fromDom(t.selection.getNode())),root:tr.fromDom(t.getBody())}},tL=function(t,n,o){switch(o){case"node":return lU(t);case"point":return cU(t,n);case"selection":return eL(t)}},fU=function(t,n,o,s,d,p){var g=o(),k=tL(t,n,p);E1(g,nd.CLOSE_ON_EXECUTE,s,!1).map(function(C){n.preventDefault(),Ga.showMenuAt(d,{anchor:k},{menu:{markers:e1("normal")},data:C})})},dU={onLtr:function(){return[bi,Mu,Hi,us,ss,Ts,Nl,Mm,np,rp,hg,mg]},onRtl:function(){return[bi,Hi,Mu,ss,us,Ts,Nl,Mm,hg,mg,np,rp]}},vU=12,pU={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},mU=function(t,n){var o=t.selection;if(o.isCollapsed()||n.touches.length<1)return!1;var s=n.touches[0],d=o.getRng(),p=X_(t.getWin(),em.domRange(d));return p.exists(function(g){return g.left<=s.clientX&&g.right>=s.clientX&&g.top<=s.clientY&&g.bottom>=s.clientY})},hU=function(t){var n=t.selection.getRng(),o=function(){ed.setEditorTimeout(t,function(){t.selection.setRng(n)},10),p()};t.once("touchend",o);var s=function(g){g.preventDefault(),g.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return p()};t.once("longpresscancel",d);var p=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},gU=function(t,n,o){var s=tL(t,n,o),d=o==="point"?vU:0;return Z({bubble:Bv(0,d,pU),layouts:dU,overrides:{maxWidthFunction:j7(),maxHeightFunction:Zp()}},s)},yU=function(t,n,o,s,d,p,g){var k=gU(t,n,p);E1(o,nd.CLOSE_ON_EXECUTE,s,!0).map(function(C){n.preventDefault(),Ga.showMenuWithinBounds(d,{anchor:k},{menu:{markers:e1("normal"),highlightImmediately:g},data:C,type:"horizontal"},function(){return O.some(qI(t,s.shared,p==="node"?"node":"selection"))}),t.fire(VI)})},bU=function(t,n,o,s,d,p){var g=Zt(),k=g.os.isiOS(),C=g.os.isOSX(),E=g.os.isAndroid(),M=g.deviceType.isTouch(),F=function(){return!(E||k||C&&M)},q=function(){var ne=o();yU(t,n,ne,s,d,p,F())};if((C||k)&&p!=="node"){var Y=function(){hU(t),q()};mU(t,n)?Y():(t.once("selectionchange",Y),t.once("touchend",function(){return t.off("selectionchange",Y)}))}else q()},rL=function(t){return typeof t=="string"?t.split(/[ ,]/):t},nL=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},_U=function(t,n,o){var s=t.ui.registry.getAll().contextMenus;return O.from(t.getParam(n)).map(rL).getOrThunk(function(){return qe(rL(o),function(d){return fr(s,d)})})},wU=function(t){return t.getParam("contextmenu")===!1},kU=function(t){return _U(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},CU=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},aL=function(t){return ee(t)?t==="|":t.type==="separator"},iF={type:"separator"},oL=function(t){var n=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(ee(t))return t;switch(t.type){case"separator":return iF;case"submenu":return Z(Z({type:"nestedmenuitem"},n(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return ee(o)?o:$t(o,oL)}});default:return Z(Z({type:"menuitem"},n(t)),{onAction:ke(t.onAction)})}},iL=function(t,n){if(n.length===0)return t;var o=Ta(t).filter(function(d){return!aL(d)}),s=o.fold(function(){return[]},function(d){return[iF]});return t.concat(s).concat(n).concat([iF])},xU=function(t,n,o){var s=Ne(n,function(d,p){return gt(t,p.toLowerCase()).map(function(g){var k=g.update(o);if(ee(k))return iL(d,k.split(" "));if(k.length>0){var C=$t(k,oL);return iL(d,C)}else return d}).getOrThunk(function(){return d.concat([p])})},[]);return s.length>0&&aL(s[s.length-1])&&s.pop(),s},SU=function(t,n){return n.ctrlKey&&!nL(t)},uL=function(t,n){return n.type!=="longpress"&&(n.button!==2||n.target===t.getBody()&&n.pointerType==="")},sL=function(t,n){return uL(t,n)?t.selection.getStart(!0):n.target},TU=function(t,n){var o=CU(t),s=uL(t,n)?"selection":"point";if(vi(o)){var d=sL(t,n),p=gw(tr.fromDom(d),o);return p?"node":s}else return s},EU=function(t,n,o){var s=Zt(),d=s.deviceType.isTouch,p=wo(Ga.sketch({dom:{tag:"div"},lazySink:n,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:sr([Nn("dismissContextMenu",[Bt(Jc(),function(C,E){pa.close(C),t.focus()})])])})),g=function(C){return Ga.hide(p)},k=function(C){if(nL(t)&&C.preventDefault(),!(SU(t,C)||wU(t))){var E=TU(t,C),M=function(){var q=sL(t,C),Y=t.ui.registry.getAll(),ne=kU(t);return xU(Y.contextMenus,ne,q)},F=d()?bU:fU;F(t,C,M,o,p,E)}};t.on("init",function(){var C="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(C,g),t.on("longpress contextmenu",k)})},uF=uc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),ED=function(t){return function(n){return n.translate(-t.left,-t.top)}},zD=function(t){return function(n){return n.translate(t.left,t.top)}},Fg=function(t){return function(n,o){return Ne(t,function(s,d){return d(s)},Qa(n,o))}},AD=function(t,n,o){return t.fold(Fg([zD(o),ED(n)]),Fg([ED(n)]),Fg([]))},fx=function(t,n,o){return t.fold(Fg([zD(o)]),Fg([]),Fg([zD(n)]))},cL=function(t,n,o){return t.fold(Fg([]),Fg([ED(o)]),Fg([zD(n),ED(o)]))},zU=function(t,n,o,s,d,p){var g=fx(t,d,p),k=fx(n,d,p);return Math.abs(g.left-k.left)<=o&&Math.abs(g.top-k.top)<=s},AU=function(t,n,o,s,d,p){var g=fx(t,d,p),k=fx(n,d,p),C=Math.abs(g.left-k.left),E=Math.abs(g.top-k.top);return Qa(C,E)},lL=function(t,n,o){var s=t.fold(function(d,p){return{position:O.some("absolute"),left:O.some(d+"px"),top:O.some(p+"px")}},function(d,p){return{position:O.some("absolute"),left:O.some(d-o.left+"px"),top:O.some(p-o.top+"px")}},function(d,p){return{position:O.some("fixed"),left:O.some(d+"px"),top:O.some(p+"px")}});return Z({right:O.none(),bottom:O.none()},s)},OU=function(t,n,o){return t.fold(function(s,d){return OD(s+n,d+o)},function(s,d){return R1(s+n,d+o)},function(s,d){return Lw(s+n,d+o)})},sF=function(t,n,o,s){var d=function(p,g){return function(k,C){var E=p(n,o,s);return g(k.getOr(E.left),C.getOr(E.top))}};return t.fold(d(cL,OD),d(fx,R1),d(AD,Lw))},OD=uF.offset,R1=uF.absolute,Lw=uF.fixed,fL=function(t,n){var o=bo(t,n);return It(o)?NaN:parseInt(o,10)},RU=function(t,n){var o=t.element,s=fL(o,n.leftAttr),d=fL(o,n.topAttr);return isNaN(s)||isNaN(d)?O.none():O.some(Qa(s,d))},DU=function(t,n,o){var s=t.element;Fn(s,n.leftAttr,o.left+"px"),Fn(s,n.topAttr,o.top+"px")},MU=function(t,n){var o=t.element;Xi(o,n.leftAttr),Xi(o,n.topAttr)},BU=function(t,n,o,s){return RU(t,n).fold(function(){return o},function(d){return Lw(d.left+s.left,d.top+s.top)})},NU=function(t,n,o,s,d,p){var g=BU(t,n,o,s),k=n.mustSnap?FU(t,n,g,d,p):IU(t,n,g,d,p),C=AD(g,d,p);return DU(t,n,C),k.fold(function(){return{coord:Lw(C.left,C.top),extra:O.none()}},function(E){return{coord:E.output,extra:E.extra}})},PU=function(t,n){MU(t,n)},dL=function(t,n,o,s){return Zn(t,function(d){var p=d.sensor,g=zU(n,p,d.range.left,d.range.top,o,s);return g?O.some({output:sF(d.output,n,o,s),extra:d.extra}):O.none()})},FU=function(t,n,o,s,d){var p=n.getSnapPoints(t),g=dL(p,o,s,d);return g.orThunk(function(){var k=Ne(p,function(C,E){var M=E.sensor,F=AU(o,M,E.range.left,E.range.top,s,d);return C.deltas.fold(function(){return{deltas:O.some(F),snap:O.some(E)}},function(q){var Y=(F.left+F.top)/2,ne=(q.left+q.top)/2;return Y<=ne?{deltas:O.some(F),snap:O.some(E)}:C})},{deltas:O.none(),snap:O.none()});return k.snap.map(function(C){return{output:sF(C.output,o,s,d),extra:C.extra}})})},IU=function(t,n,o,s,d){var p=n.getSnapPoints(t);return dL(p,o,s,d)},LU=function(t,n,o){return{coord:sF(t.output,t.output,n,o),extra:t.extra}},$U=function(t,n,o,s){var d=n.getTarget(t.element);if(n.repositionTarget){var p=go(t.element),g=$s(p),k=lD(d),C=LU(s,g,k),E=lL(C.coord,g,k);Ho(d,E)}},HU=Object.freeze({__proto__:null,snapTo:$U}),cF="data-initial-z-index",VU=function(t){yo(t.element).filter(Gt).each(function(n){No(n,cF).fold(function(){return Aa(n,"z-index")},function(o){return vn(n,"z-index",o)}),Xi(n,cF)})},UU=function(t){yo(t.element).filter(Gt).each(function(n){ui(n,"z-index").each(function(o){Fn(n,cF,o)}),vn(n,"z-index",Vo(t.element,"z-index"))})},vL=function(t,n){t.getSystem().addToGui(n),UU(n)},jU=function(t){VU(t),t.getSystem().removeFromGui(t)},pL=function(t,n,o){return t.getSystem().build(ds.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:o}))},WU=Us("snaps",[zt("getSnapPoints"),Ra("onSensor"),zt("leftAttr"),zt("topAttr"),Pe("lazyViewport",su),Pe("mustSnap",!1)]),lF=[Pe("useFixed",Ue),zt("blockerClass"),Pe("getTarget",Ye),Pe("onDrag",ut),Pe("repositionTarget",!0),Pe("onDrop",ut),lo("getBounds",su),WU],qU=function(t){return di(ui(t,"left"),ui(t,"top"),ui(t,"position"),function(n,o,s){var d=s==="fixed"?Lw:OD;return d(parseInt(n,10),parseInt(o,10))}).getOrThunk(function(){var n=Ju(t);return R1(n.left,n.top)})},GU=function(t,n,o,s,d){var p=d.bounds,g=fx(n,o,s),k=qs(g.left,p.x,p.x+p.width-d.width),C=qs(g.top,p.y,p.y+p.height-d.height),E=R1(k,C);return n.fold(function(){var M=cL(E,o,s);return OD(M.left,M.top)},se(E),function(){var M=AD(E,o,s);return Lw(M.left,M.top)})},KU=function(t,n,o,s,d,p,g){var k=n.fold(function(){var C=OU(o,p.left,p.top),E=AD(C,s,d);return Lw(E.left,E.top)},function(C){var E=NU(t,C,o,p,s,d);return E.extra.each(function(M){C.onSensor(t,M)}),E.coord});return GU(t,k,s,d,g)},XU=function(t,n,o,s){var d=n.getTarget(t.element);if(n.repositionTarget){var p=go(t.element),g=$s(p),k=lD(d),C=qU(d),E=KU(t,n.snaps,C,g,k,s,o),M=lL(E,g,k);Ho(d,M)}n.onDrag(t,d,s)},mL=function(t,n){return{bounds:t.getBounds(),height:Ls(n.element),width:Qu(n.element)}},fF=function(t,n,o,s,d){var p=o.update(s,d),g=o.getStartData().getOrThunk(function(){return mL(n,t)});p.each(function(k){XU(t,n,g,k)})},hL=function(t,n,o,s){n.each(jU),o.snaps.each(function(p){PU(t,p)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},dF=function(t){return function(n,o){var s=function(d){o.setStartData(mL(n,d))};return ro(Lt([Bt(Q1(),function(d){o.getStartData().each(function(){return s(d)})})],t(n,o,s),!0))}},YU=function(t){return ro([Bt(Zc(),t.forceDrop),Bt(G1(),t.drop),Bt(vv(),function(n,o){t.move(o.event)}),Bt(q1(),t.delayDrop)])},ZU=function(t){return O.from(Qa(t.x,t.y))},JU=function(t,n){return Qa(n.left-t.left,n.top-t.top)},QU=Object.freeze({__proto__:null,getData:ZU,getDelta:JU}),gL=function(t,n,o){return[Bt(Zc(),function(s,d){var p=d.event.raw;if(p.button===0){d.stop();var g=function(){return hL(s,O.some(E),t,n)},k=FT(g,200),C={drop:g,delayDrop:k.schedule,forceDrop:g,move:function(F){k.cancel(),fF(s,t,n,QU,F)}},E=pL(s,t.blockerClass,YU(C)),M=function(){o(s),vL(s,E)};M()}})]},ej=Lt(Lt([],lF,!0),[uo("dragger",{handlers:dF(gL)})],!1),tj=function(t){return ro([Bt(Xl(),t.forceDrop),Bt(_d(),t.drop),Bt(nk(),t.drop),Bt(Yc(),function(n,o){t.move(o.event)})])},rj=function(t){var n=t[0];return O.some(Qa(n.clientX,n.clientY))},nj=function(t){var n=t.raw,o=n.touches;return o.length===1?rj(o):O.none()},aj=function(t,n){return Qa(n.left-t.left,n.top-t.top)},yL=Object.freeze({__proto__:null,getData:nj,getDelta:aj}),bL=function(t,n,o){var s=Yo(),d=function(p){hL(p,s.get(),t,n),s.clear()};return[Bt(Xl(),function(p,g){g.stop();var k=function(){return d(p)},C={drop:k,delayDrop:ut,forceDrop:k,move:function(F){fF(p,t,n,yL,F)}},E=pL(p,t.blockerClass,tj(C));s.set(E);var M=function(){o(p),vL(p,E)};M()}),Bt(Yc(),function(p,g){g.stop(),fF(p,t,n,yL,g.event)}),Bt(_d(),function(p,g){g.stop(),d(p)}),Bt(nk(),d)]},oj=Lt(Lt([],lF,!0),[uo("dragger",{handlers:dF(bL)})],!1),ij=function(t,n,o){return Lt(Lt([],gL(t,n,o),!0),bL(t,n,o),!0)},uj=Lt(Lt([],lF,!0),[uo("dragger",{handlers:dF(ij)})],!1),sj=ej,cj=oj,lj=uj,fj=Object.freeze({__proto__:null,mouse:sj,touch:cj,mouseOrTouch:lj}),dj=function(){var t=O.none(),n=O.none(),o=function(){t=O.none(),n=O.none()},s=function(C,E){var M=t.map(function(F){return C.getDelta(F,E)});return t=O.some(E),M},d=function(C,E){return C.getData(E).bind(function(M){return s(C,M)})},p=function(C){n=O.some(C)},g=function(){return n},k=se({});return Du({readState:k,reset:o,update:d,getStartData:g,setStartData:p})},vj=Object.freeze({__proto__:null,init:dj}),$w=Rv({branchKey:"mode",branches:fj,name:"dragging",active:{events:function(t,n){var o=t.dragger;return o.handlers(t,n)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:O.from(t.extra)}}},state:vj,apis:HU}),vF=40,RD=vF/2,_L=function(t,n,o,s,d,p){return t.fold(function(){return $w.snap({sensor:R1(o-RD,s-RD),range:Qa(d,p),output:R1(O.some(o),O.some(s)),extra:{td:n}})},function(g){var k=o-RD,C=s-RD,E=vF,M=vF,F=g.element.dom.getBoundingClientRect();return $w.snap({sensor:R1(k,C),range:Qa(E,M),output:R1(O.some(o-F.width/2),O.some(s-F.height/2)),extra:{td:n}})})},wL=function(t,n,o){var s=function(d,p){return d.exists(function(g){return va(g,p)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,p){var g=p.td;s(n.get(),g)||(n.set(g),o(g))},mustSnap:!0}},kL=function(t){return La(Ks.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:sr([$w.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),g1.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},pj=function(t,n){var o=Qr([]),s=Qr([]),d=Qr(!1),p=Yo(),g=Yo(),k=function(xt){var yr=jl(xt);return _L(Y.getOpt(n),xt,yr.x,yr.y,yr.width,yr.height)},C=function(){return $t(o.get(),function(xt){return k(xt)})},E=function(xt){var yr=jl(xt);return _L(ne.getOpt(n),xt,yr.right,yr.bottom,yr.width,yr.height)},M=function(){return $t(s.get(),function(xt){return E(xt)})},F=wL(C,p,function(xt){g.get().each(function(yr){t.fire("TableSelectorChange",{start:xt,finish:yr})})}),q=wL(M,g,function(xt){p.get().each(function(yr){t.fire("TableSelectorChange",{start:yr,finish:xt})})}),Y=kL(F),ne=kL(q),pe=wo(Y.asSpec()),Oe=wo(ne.asSpec()),de=function(xt,yr,Dt,_r){var Pt=yr.dom.getBoundingClientRect();Aa(xt.element,"display");var Ct=tc(tr.fromDom(t.getBody())).dom.innerHeight,nr=Dt(Pt),Fr=_r(Pt,Ct);(nr||Fr)&&vn(xt.element,"display","none")},Me=function(xt,yr,Dt,_r){var Pt=Dt(yr);$w.snapTo(xt,Pt);var Ct=function(Fr){return Fr[_r]<0},nr=function(Fr,Ot){return Fr[_r]>Ot};de(xt,yr,Ct,nr)},pt=function(xt){return Me(pe,xt,k,"top")},ft=function(){return p.get().each(pt)},De=function(xt){return Me(Oe,xt,E,"bottom")},ot=function(){return g.get().each(De)};Zt().deviceType.isTouch()&&(t.on("TableSelectionChange",function(xt){d.get()||(Iv(n,pe),Iv(n,Oe),d.set(!0)),p.set(xt.start),g.set(xt.finish),xt.otherCells.each(function(yr){o.set(yr.upOrLeftCells),s.set(yr.downOrRightCells),pt(xt.start),De(xt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ft(),ot()}),t.on("TableSelectionClear",function(){d.get()&&(Rl(pe),Rl(Oe),d.set(!1)),p.clear(),g.clear()}))},mj=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},hj=function(t,n,o){n.delimiter||(n.delimiter="»");var s=function(p){var g=p||[],k=$t(g,function(E,M){return Ks.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":M,"tab-index":-1,"aria-level":M+1},innerHtml:E.name},action:function(F){t.focus(),t.selection.select(E.element),t.nodeChanged()},buttonBehaviours:sr([Pl.button(o.isDisabled),Ui()])})}),C={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+n.delimiter+" "}};return Ne(k.slice(1),function(E,M){var F=E;return F.push(C),F.push(M),F},[k[0]])},d=function(p){for(var g=[],k=p.length;k-- >0;){var C=p[k];if(C.nodeType===1&&!mj(C)){var E=t.fire("ResolveName",{name:C.nodeName.toLowerCase(),target:C});if(E.isDefaultPrevented()||g.push({name:E.name,element:C}),E.isPropagationStopped())break}}return g};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:sr([jr.config({mode:"flow",selector:"div[role=button]"}),Jr.config({disabled:o.isDisabled}),Ui(),ai.config({}),yn.config({}),Nn("elementPathEvents",[Bn(function(p,g){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return jr.focusIn(p)}),t.on("NodeChange",function(k){var C=d(k.parents);C.length>0?yn.set(p,s(C)):yn.set(p,[])})})])]),components:[]}},Hw;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Hw||(Hw={}));var gj=function(t,n,o,s,d){var p={};return p.height=xD(s+n.top,b4(t),_4(t)),o===Hw.Both&&(p.width=xD(d+n.left,y4(t),$3(t))),p},CL=function(t,n,o){var s=tr.fromDom(t.getContainer()),d=gj(t,n,o,hi(s),Tu(s));Rn(d,function(p,g){return vn(s,g,Q7(p))}),tM(t)},yj=function(t){var n=!t.hasPlugin("autoresize"),o=t.getParam("resize",n);return o===!1?Hw.None:o==="both"?Hw.Both:Hw.Vertical},DD=function(t,n,o,s){var d=20,p=Qa(o*d,s*d);return CL(t,p,n),O.some(!0)},bj=function(t,n){var o=yj(t);return o===Hw.None?O.none():O.some(yf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:n.translate("Resize")},behaviours:[$w.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,p){return CL(t,p,o)},blockerClass:"tox-blocker"}),jr.config({mode:"special",onLeft:function(){return DD(t,o,-1,0)},onRight:function(){return DD(t,o,1,0)},onUp:function(){return DD(t,o,0,-1)},onDown:function(){return DD(t,o,0,1)}}),ai.config({}),bn.config({})]},n.icons))},_j=function(t,n){var o,s=function(d,p,g){return yn.set(d,[vu(n.translate(["{0} "+g,p[g]]))])};return Ks.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:sr([Pl.button(n.isDisabled),Ui(),ai.config({}),yn.config({}),gr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Nn("wordcount-events",[Ws(function(d){var p=gr.getValue(d),g=p.mode==="words"?"characters":"words";gr.setValue(d,{mode:g,count:p.count}),s(d,p.count,g)}),Bn(function(d){t.on("wordCountUpdate",function(p){var g=gr.getValue(d).mode;gr.setValue(d,{mode:g,count:p.wordCount}),s(d,p.wordCount,g)})})])]),eventOrder:(o={},o[sc()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},wj=function(t,n){var o=function(){var p=gf.translate(["Powered by {0}","Tiny"]),g='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+p+'">'+p+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:g}}},s=function(){var p=[];return t.getParam("elementpath",!0,"boolean")&&p.push(hj(t,{},n)),t.hasPlugin("wordcount")&&p.push(_j(t,n)),t.getParam("branding",!0,"boolean")&&p.push(o()),p.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:p}]:[]},d=function(){var p=s(),g=bj(t,n);return p.concat(g.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},kj=function(t){var n,o=t.inline,s=o?iV:QH,d=U3(t)?ue:x7,p=O.none(),g=Zt(),k=g.browser.isIE(),C=k?["tox-platform-ie"]:[],E=g.deviceType.isTouch(),M="tox-platform-touch",F=E?[M]:[],q=C4(t),Y=S4(t),ne=gf.isRtl()?{attributes:{dir:"rtl"}}:{},pe={attributes:(n={},n[Wy]=q?af.BottomToTop:af.TopToBottom,n)},Oe=function(){return p.bind(wi.getHeader)},de=function(){return d.isDocked(Oe)},Me=function(){vn(Ms.element,"width",document.body.clientWidth+"px")},pt=function(){var ou=va(Ia(),Y)&&Vo(Y,"display")==="grid",mp={dom:Z({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(C).concat(F)},ne),behaviours:sr([Zo.config({useFixed:function(){return de()}})])},rh={dom:{styles:{width:document.body.clientWidth+"px"}},events:ro([Bt(cc(),Me)])};return _t(mp,ou?rh:{})},ft=wo(pt()),De=function(){return Ln.value(ft)},ot=La({dom:{tag:"div",classes:["tox-anchorbar"]}}),xt=function(){return p.bind(function(ou){return ot.getOpt(ou)}).getOrDie("Could not find a anchor bar element")},yr=function(){return p.bind(function(ou){return wi.getToolbar(ou)}).getOrDie("Could not find more toolbar element")},Dt=function(){return p.bind(function(ou){return wi.getThrobber(ou)}).getOrDie("Could not find throbber element")},_r=_7(ft,t,xt),Pt=wi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_r,onEscape:function(){t.focus()}}),Ct=lw(t),nr=wi.parts.toolbar(Z({dom:{tag:"div",classes:["tox-toolbar"]},getSink:De,providers:_r.shared.providers,onEscape:function(){t.focus()},type:Ct,lazyToolbar:yr,lazyHeader:function(){return Oe().getOrDie("Could not find header element")}},pe)),Fr=wi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_r.shared.providers,onEscape:function(){t.focus()},type:Ct}),Ot=wi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ar=wi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Ur=wi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_r}),ia=t.getParam("statusbar",!0,"boolean"),Ha=ia&&!o?O.some(wj(t,_r.shared.providers)):O.none(),ho={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ot,Ar]},Ko=H3(t),Vc=wT(t),hs=Vi(t),vx=function(){return Ko?[Fr]:Vc?[nr]:[]},au=wi.parts.header({dom:Z({tag:"div",classes:["tox-editor-header"]},pe),components:Xt([hs?[Pt]:[],vx(),V3(t)?[]:[ot.asSpec()]]),sticky:U3(t),editor:t,sharedBackstage:_r.shared}),Ig=Xt([q?[]:[au],o?[]:[ho],q?[au]:[]]),Lg={dom:{tag:"div",classes:["tox-editor-container"]},components:Ig},Vw=Xt([[Lg],o?[]:Ha.toArray(),[Ur]]),$g=T4(t),Uw=Z(Z({role:"application"},gf.isRtl()?{dir:"rtl"}:{}),$g?{"aria-hidden":"true"}:{}),Qs=wo(wi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(q?["tox-tinymce--toolbar-bottom"]:[]).concat(F).concat(C),styles:Z({visibility:"hidden"},$g?{opacity:"0",border:"0"}:{}),attributes:Uw},components:Vw,behaviours:sr([Ui(),Jr.config({disableClass:"tox-tinymce--disabled"}),jr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));p=O.some(Qs),t.shortcuts.add("alt+F9","focus menubar",function(){wi.focusMenubar(Qs)}),t.shortcuts.add("alt+F10","focus toolbar",function(){wi.focusToolbar(Qs)}),t.addCommand("ToggleToolbarDrawer",function(){wi.toggleToolbarDrawer(Qs)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return wi.isToolbarDrawerToggled(Qs)});var pd=wA(Qs),Ms=wA(ft);ov(t,pd,Ms);var jw=function(){var ou={broadcastAll:Ms.broadcast,broadcastOn:Ms.broadcastOn,register:ut};return{channels:ou}},th=function(){var ou=Q7(tV(t)),mp=Q7(rV(t));return t.inline||(rc("div","width",mp)&&vn(Qs.element,"width",mp),rc("div","height",ou)?vn(Qs.element,"height",ou):vn(Qs.element,"height","200px")),ou},D1=function(){d.setup(t,_r.shared,Oe),aU(t,_r),EU(t,De,_r),ld(t),eh(t,Dt,_r.shared),kn(w5(t),function(Bs,Uc){t.ui.registry.addGroupToolbarButton(Uc,Bs)});var ou=t.ui.registry.getAll(),mp=ou.buttons,rh=ou.menuItems,Hg=ou.contextToolbars,md=ou.sidebars,nh=w4(t),xr={menuItems:rh,menus:E5(t),menubar:z5(t),toolbar:nh.getOrThunk(function(){return A5(t)}),allowToolbarGroups:Ct===ul.floating,buttons:mp,sidebar:md};RV(t,Hg,ft,{backstage:_r}),pj(t,ft);var Hn=t.getElement(),Wa=th(),Lo={mothership:pd,uiMothership:Ms,outerContainer:Qs},ec={targetNode:Hn,height:Wa};return s.render(t,Lo,xr,_r,ec)};return{mothership:pd,uiMothership:Ms,backstage:_r,renderUI:D1,getUi:jw}},Cj=function(t,n){var o=O.from(bo(t,"id")).fold(function(){var s=Nr("dialog-describe");return Fn(n,"id",s),s},Ye);Fn(t,"aria-describedby",o)},xj=function(t,n){var o=No(t,"id").fold(function(){var s=Nr("dialog-label");return Fn(n,"id",s),s},Ye);Fn(t,"aria-labelledby",o)},Sj=se([zt("lazySink"),Oa("dragBlockClass"),lo("getBounds",su),Pe("useTabstopAt",U),Pe("eventOrder",{}),Bi("modalBehaviours",[jr]),Ri("onExecute"),Ss("onEscape")]),pF={sketch:Ye},Tj=se([Mc({name:"draghandle",overrides:function(t,n){return{behaviours:sr([$w.config({mode:"mouse",getTarget:function(o){return wy(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(n,null,2)).message),getBounds:t.getDragBounds})])}}}),yu({schema:[zt("dom")],name:"title"}),yu({factory:pF,schema:[zt("dom")],name:"close"}),yu({factory:pF,schema:[zt("dom")],name:"body"}),Mc({factory:pF,schema:[zt("dom")],name:"footer"}),hc({factory:{sketch:function(t,n){return Z(Z({},t),{dom:n.dom,components:n.components})}},schema:[Pe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pe("components",[])],name:"blocker"})]),Ej=function(t,n,o,s){var d,p=Yo(),g=function(ne){p.set(ne);var pe=t.lazySink(ne).getOrDie(),Oe=s.blocker(),de=pe.getSystem().build(Z(Z({},Oe),{components:Oe.components.concat([mc(ne)]),behaviours:sr([bn.config({}),Nn("dialog-blocker-events",[ci(Ec(),function(){jr.focusIn(ne)})])])}));Iv(pe,de),jr.focusIn(ne)},k=function(ne){p.clear(),yo(ne.element).each(function(pe){ne.getSystem().getByDom(pe).each(function(Oe){Rl(Oe)})})},C=function(ne){return vf(ne,t,"body")},E=function(ne){return vf(ne,t,"footer")},M=function(ne,pe){uv.block(ne,pe)},F=function(ne){uv.unblock(ne)},q=Nr("modal-events"),Y=Z(Z({},t.eventOrder),(d={},d[js()]=[q].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:n,apis:{show:g,hide:k,getBody:C,getFooter:E,setIdle:F,setBusy:M},eventOrder:Y,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Qi(t.modalBehaviours,[yn.config({}),jr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),uv.config({getRoot:p.get}),Nn(q,[Bn(function(ne){xj(ne.element,vf(ne,t,"title").element),Cj(ne.element,vf(ne,t,"body").element)})])])}},ku=ls({name:"ModalDialog",configFields:Sj(),partFields:Tj(),factory:Ej,apis:{show:function(t,n){t.show(n)},hide:function(t,n){t.hide(n)},getBody:function(t,n){return t.getBody(n)},getFooter:function(t,n){return t.getFooter(n)},setBusy:function(t,n,o){t.setBusy(n,o)},setIdle:function(t,n){t.setIdle(n)}}}),zj=Kr([gn("type"),gn("name")].concat(t1)),Aj=Yi,xL=[zi("name","name",sa(function(){return Nr("button-name")}),ri),co("icon"),ic("align","end",["start","end"]),to("primary",!1),to("disabled",!1)],SL=Lt(Lt([],xL,!0),[gn("text")],!1),mF=Lt([oc("type",["submit","cancel","custom"])],SL,!0),Oj=Lt([oc("type",["menu"]),co("text"),co("tooltip"),co("icon"),Ou("items",zj)],xL,!0),Rj=Tc("type",{submit:mF,cancel:mF,custom:mF,menu:Oj}),Dj=[gn("type"),gn("text"),oc("level",["info","warn","error","success"]),gn("icon"),Pe("url","")],Mj=Kr(Dj),Bj=function(t){return[gn("type"),t]},Nj=[gn("type"),gn("text"),to("disabled",!1),to("primary",!1),zi("name","name",sa(function(){return Nr("button-name")}),ri),co("icon"),to("borderless",!1)],Pj=Kr(Nj),Fj=[gn("type"),gn("name"),gn("label"),to("disabled",!1)],Ij=Kr(Fj),Lj=Yi,hF=[gn("type"),gn("name")],sv=hF.concat([co("label")]),$j=sv.concat([Pe("columns","auto")]),Hj=Kr($j),Vj=$1([gn("value"),gn("text"),gn("icon")]),Uj=sv,jj=Kr(Uj),Wj=ri,qj=sv,Gj=Kr(qj),Kj=ri,Xj=hF.concat([Ep("tag","textarea"),gn("scriptId"),gn("scriptUrl"),xs("settings",void 0)]),Yj=hF.concat([Ep("tag","textarea"),$u("init")]),Zj=Sp(function(t){return Po("customeditor.old",Hs(Yj),t).orThunk(function(){return Po("customeditor.new",Hs(Xj),t)})}),Jj=ri,Qj=sv,eW=Kr(Qj),tW=kx(),rW=function(t){return[gn("type"),Ff("columns"),t]},nW=[gn("type"),gn("html"),ic("presets","presentation",["presentation","document"])],aW=Kr(nW),oW=sv.concat([to("sandboxed",!0)]),iW=Kr(oW),uW=ri,sW=sv.concat([ks("currentState",Kr([zt("blob"),gn("url")]))]),cW=Kr(sW),lW=sv.concat([co("inputMode"),co("placeholder"),to("maximized",!1),to("disabled",!1)]),fW=Kr(lW),dW=ri,vW=function(t){return[gn("type"),gn("label"),t]},pW=[gn("text"),gn("value")],mW=[gn("text"),Ou("items",Cx("items",function(){return TL}))],TL=fh([Kr(pW),Kr(mW)]),hW=sv.concat([Ou("items",TL),to("disabled",!1)]),gW=Kr(hW),yW=ri,bW=sv.concat([Xc("items",[gn("text"),gn("value")]),Cs("size",1),to("disabled",!1)]),_W=Kr(bW),wW=ri,kW=sv.concat([to("constrain",!0),to("disabled",!1)]),CW=Kr(kW),EL=Kr([gn("width"),gn("height")]),xW=[gn("type"),Ou("header",ri),Ou("cells",Pf(ri))],SW=Kr(xW),TW=sv.concat([co("placeholder"),to("maximized",!1),to("disabled",!1)]),EW=Kr(TW),zW=ri,AW=sv.concat([ic("filetype","file",["image","media","file"]),Pe("disabled",!1)]),OW=Kr(AW),RW=Kr([gn("value"),Pe("meta",{})]),gF=function(t){return zi("items","items",zn(),Pf(Sp(function(n){return Po("Checking item of "+t,yF,n).fold(function(o){return Ln.error(yd(o))},function(o){return Ln.value(o)})})))},yF=Xw(function(){return Zg("type",{alertbanner:Mj,bar:Kr(Bj(gF("bar"))),button:Pj,checkbox:Ij,colorinput:jj,colorpicker:Gj,dropzone:eW,grid:Kr(rW(gF("grid"))),iframe:iW,input:fW,listbox:gW,selectbox:_W,sizeinput:CW,textarea:EW,urlinput:OW,customeditor:Zj,htmlpanel:aW,imagetools:cW,collection:Hj,label:Kr(vW(gF("label"))),table:SW,panel:zL})}),DW=[gn("type"),Pe("classes",[]),Ou("items",yF)],zL=Kr(DW),MW=[zi("name","name",sa(function(){return Nr("tab-name")}),ri),gn("title"),Ou("items",yF)],BW=[gn("type"),Xc("tabs",MW)],NW=Kr(BW),PW=SL,FW=Rj,IW=Kr([gn("title"),ks("body",Zg("type",{panel:zL,tabpanel:NW})),Ep("size","normal"),Ou("buttons",FW),Pe("initialData",{}),lo("onAction",ut),lo("onChange",ut),lo("onSubmit",ut),lo("onClose",ut),lo("onCancel",ut),Pe("onTabChange",ut)]),LW=function(t){return Po("dialog",IW,t)},$W=Kr(Lt([oc("type",["cancel","custom"])],PW,!0)),HW=Kr([gn("title"),gn("url"),dv("height"),dv("width"),Vs("buttons",$W),lo("onAction",ut),lo("onCancel",ut),lo("onClose",ut),lo("onMessage",ut)]),VW=function(t){return Po("dialog",HW,t)},bF=function(t){return me(t)?[t].concat(Pr(Mt(t),bF)):Be(t)?Pr(t,bF):[]},UW=function(t){return ee(t.type)&&ee(t.name)},jW={checkbox:Lj,colorinput:Wj,colorpicker:Kj,dropzone:tW,input:dW,iframe:uW,sizeinput:EL,selectbox:wW,listbox:yW,size:EL,textarea:zW,urlinput:RW,customeditor:Jj,collection:Vj,togglemenuitem:Aj},WW=function(t){return O.from(jW[t.type])},qW=function(t){return qe(bF(t),UW)},GW=function(t){var n=qW(t),o=Pr(n,function(s){return WW(s).fold(function(){return[]},function(d){return[ks(s.name,d)]})});return Kr(o)},AL=function(t){var n=Kc(LW(t)),o=GW(t),s=t.initialData;return{internalDialog:n,dataValidator:o,initialData:s}},_z={open:function(t,n){var o=AL(n);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,n){var o=Kc(VW(n));return t(o)},redial:function(t){return AL(t)}},OL=function(t){var n=[],o={};return Rn(t,function(s,d){s.fold(function(){n.push(d)},function(p){o[d]=p})}),n.length>0?Ln.error(n):Ln.value(o)},KW=function(t,n){var o=La(C1.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:$t(t.items,function(d){return jR(s,d,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:sr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)}),cd.memento(o),zg.memento(o,{postprocess:function(s){return OL(s).fold(function(d){return console.error(d),{}},Ye)}})])}},XW=function(t,n){return{uid:t.uid,dom:t.dom,components:t.components,events:Wb(t.action),behaviours:Qi(t.tabButtonBehaviours,[bn.config({}),jr.config({mode:"execution",useSpace:!0,useEnter:!0}),gr.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},YW=gc({name:"TabButton",configFields:[Pe("uid",void 0),zt("value"),zi("dom","dom",cu(function(){return{attributes:{role:"tab",id:Nr("aria"),"aria-selected":"false"}}}),Gc()),Oa("action"),Pe("domModification",{}),Bi("tabButtonBehaviours",[bn,jr,gr]),zt("view")],factory:XW}),ZW=se([zt("tabs"),zt("dom"),Pe("clickToDismiss",!1),Bi("tabbarBehaviours",[Na,jr]),Ev(["tabClass","selectedClass"])]),JW=df({factory:YW,name:"tabs",unit:"tab",overrides:function(t){var n=function(s,d){Na.dehighlight(s,d),en(s,fu(),{tabbar:s,button:d})},o=function(s,d){Na.highlight(s,d),en(s,ak(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),p=Na.isHighlighted(d,s),g=function(){return p&&t.clickToDismiss?n:p?ut:o}();g(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),QW=se([JW]),eq=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Qi(t.tabbarBehaviours,[Na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,p){Fn(p.element,"aria-selected","true")},onDehighlight:function(d,p){Fn(p.element,"aria-selected","false")}}),jr.config({mode:"flow",getInitial:function(d){return Na.getHighlighted(d).map(function(p){return p.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},RL=ls({name:"Tabbar",configFields:ZW(),partFields:QW(),factory:eq}),tq=function(t,n){return{uid:t.uid,dom:t.dom,behaviours:Qi(t.tabviewBehaviours,[yn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},rq=gc({name:"Tabview",configFields:[Bi("tabviewBehaviours",[yn])],factory:tq}),nq=se([Pe("selectFirst",!0),Ra("onChangeTab"),Ra("onDismissTab"),Pe("tabs",[]),Bi("tabSectionBehaviours",[])]),aq=yu({factory:RL,schema:[zt("dom"),ql("markers",[zt("tabClass"),zt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),oq=yu({factory:rq,name:"tabview"}),iq=se([aq,oq]),uq=function(t,n,o,s){var d=function(g){var k=gr.getValue(g);Za(g,t,"tabview").each(function(C){var E=Nt(t.tabs,function(M){return M.value===k});E.each(function(M){var F=M.view();No(g.element,"id").each(function(q){Fn(C.element,"aria-labelledby",q)}),yn.set(C,F),t.onChangeTab(C,g,F)})})},p=function(g,k){Za(g,t,"tabbar").each(function(C){k(C).each(lc)})};return{uid:t.uid,dom:t.dom,components:n,behaviours:ym(t.tabSectionBehaviours),events:ro(Xt([t.selectFirst?[Bn(function(g,k){p(g,Na.getFirst)})]:[],[Bt(ak(),function(g,k){var C=k.event.button;d(C)}),Bt(fu(),function(g,k){var C=k.event.button;t.onDismissTab(g,C)})]])),apis:{getViewItems:function(g){return Za(g,t,"tabview").map(function(k){return yn.contents(k)}).getOr([])},showTab:function(g,k){var C=function(E){var M=Na.getCandidates(E),F=Nt(M,function(q){return gr.getValue(q)===k});return F.filter(function(q){return!Na.isHighlighted(E,q)})};p(g,C)}}}},dx=ls({name:"TabSection",configFields:nq(),partFields:iq(),factory:uq,apis:{getViewItems:function(t,n){return t.getViewItems(n)},showTab:function(t,n,o){t.showTab(n,o)}}}),sq=function(t,n,o){return $t(t,function(s,d){yn.set(o,t[d].view());var p=n.dom.getBoundingClientRect();return yn.set(o,[]),p.height})},cq=function(t){return Yn(wn(t,function(n,o){return n>o?-1:n<o?1:0}))},lq=function(t,n,o){var s=mt(t).dom,d=wy(t,".tox-dialog-wrap").getOr(t),p=Vo(d,"position")==="fixed",g;p?g=Math.max(s.clientHeight,window.innerHeight):g=Math.max(s.offsetHeight,s.scrollHeight);var k=hi(n),C=n.dom.offsetLeft>=o.dom.offsetLeft+Tu(o),E=C?Math.max(hi(o),k):k,M=parseInt(Vo(t,"margin-top"),10)||0,F=parseInt(Vo(t,"margin-bottom"),10)||0,q=hi(t)+M+F,Y=q-E;return g-Y},fq=function(t,n){Yn(t).each(function(o){return dx.showTab(n,o.value)})},DL=function(t,n){vn(t,"height",n+"px"),Zt().browser.isIE()?Aa(t,"flex-basis"):vn(t,"flex-basis",n+"px")},MD=function(t,n,o){wy(t,'[role="dialog"]').each(function(s){Oi(s,'[role="tablist"]').each(function(d){o.get().map(function(p){return vn(n,"height","0"),vn(n,"flex-basis","0"),Math.min(p,lq(s,n,d))}).each(function(p){DL(n,p)})})})},_F=function(t){return Oi(t,'[role="tabpanel"]')},dq=function(t){var n=function(){var s=Yo(),d=[Bn(function(g){var k=g.element;_F(k).each(function(C){vn(C,"visibility","hidden"),g.getSystem().getByDom(C).toOptional().each(function(E){var M=sq(t,C,E),F=cq(M);F.fold(s.clear,s.set)}),MD(k,C,s),Aa(C,"visibility"),fq(t,g),ed.requestAnimationFrame(function(){MD(k,C,s)})})}),Bt(cc(),function(g){var k=g.element;_F(k).each(function(C){MD(k,C,s)})}),Bt(SA,function(g,k){var C=g.element;_F(C).each(function(E){var M=cs(Zr(E));vn(E,"visibility","hidden");var F=ui(E,"height").map(function(ne){return parseInt(ne,10)});Aa(E,"height"),Aa(E,"flex-basis");var q=E.dom.getBoundingClientRect().height,Y=F.forall(function(ne){return q>ne});Y?(s.set(q),MD(C,E,s)):F.each(function(ne){DL(E,ne)}),Aa(E,"visibility"),M.each(Tl)})})],p=!1;return{extraEvents:d,selectFirst:p}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:n,naiveTabHeight:o}},ML="send-data-to-section",BL="send-data-to-view",vq=function(t,n){var o=Qr({}),s=function(C){var E=gr.getValue(C),M=OL(E).getOr({}),F=o.get(),q=_t(F,M);o.set(q)},d=function(C){var E=o.get();gr.setValue(C,E)},p=Qr(null),g=$t(t.tabs,function(C){return{value:C.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:n.shared.providers.translate(C.title)},view:function(){return[C1.sketch(function(E){return{dom:{tag:"div",classes:["tox-form"]},components:$t(C.items,function(M){return jR(E,M,n)}),formBehaviours:sr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)}),Nn("TabView.form.events",[Bn(d),fc(s)]),Hu.config({channels:Lf([{key:ML,value:{onReceive:s}},{key:BL,value:{onReceive:d}}])})])}})]}}}),k=dq(g).smartTabHeight;return dx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(C,E,M){var F=gr.getValue(E);en(C,Lm,{name:F,oldName:p.get()}),p.set(F)},tabs:g,components:[dx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[RL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:sr([ai.config({})])}),dx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:k.selectFirst,tabSectionBehaviours:sr([Nn("tabpanel",k.extraEvents),jr.config({mode:"acyclic"}),aa.config({find:function(C){return Yn(dx.getViewItems(C))}}),gr.config({store:{mode:"manual",getValue:function(C){return C.getSystem().broadcastOn([ML],{}),o.get()},setValue:function(C,E){o.set(E),C.getSystem().broadcastOn([BL],{})}}})])})},wF=Nr("update-dialog"),NL=Nr("update-title"),PL=Nr("update-body"),FL=Nr("update-footer"),IL=Nr("body-send-message"),LL=function(t,n,o,s){var d=function(k){switch(k.body.type){case"tabpanel":return[vq(k.body,o)];default:return[KW(k.body,o)]}},p=function(k,C){return O.some({isTabPanel:function(){return C.body.type==="tabpanel"}})},g={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:Z(Z({},n.map(function(k){return{id:k}}).getOr({})),s?g:{})},components:[],behaviours:sr([cd.childAt(0),Il.config({channel:PL,updateState:p,renderComponents:d,initialData:t})])}},pq=function(t,n,o,s){return LL(t,O.some(n),o,s)},mq=function(t,n){var o=LL(t,O.none(),n,!1);return ku.parts.body(o)},hq=function(t){var n={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[UO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:sr([ai.config({}),bn.config({})])})]}],behaviours:sr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)})])};return ku.parts.body(n)},gq=W3.deviceType.isTouch(),$L=function(t,n){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,n]}},HL=function(t,n){return ku.parts.close(Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:t,buttonBehaviours:sr([ai.config({})])}))},VL=function(){return ku.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},UL=function(t,n){return ku.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ap("<p>"+S3(n.translate(t))+"</p>")}]}]})},jL=function(t){return ku.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},WL=function(t,n){return[ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})]},kF=function(t){var n,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",p=o+"__disable-scroll";return ku.sketch({lazySink:t.lazySink,onEscape:function(g){return t.onEscape(g),O.some(!0)},useTabstopAt:function(g){return!zw(g)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:Z({position:"relative"},t.extraStyles)},components:Lt([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:ap('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:gq?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:sr(Lt([bn.config({}),Nn("dialog-events",t.dialogEvents.concat([ci(Ec(),function(g,k){jr.focusIn(g)})])),Nn("scroll-lock",[Bn(function(){Ai(Ia(),p)}),fc(function(){yi(Ia(),p)})])],t.extraBehaviours,!0)),eventOrder:Z((n={},n[sc()]=["dialog-events"],n[js()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[Mp()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),t.eventOrder)})},qL=function(t){return Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[yf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(n){Sa(n,Tg)}})},GL=function(t,n,o){var s=function(d){return[vu(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:Z({},n.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:sr([Il.config({channel:NL,renderComponents:s})])}},KL=function(){return{dom:ap('<div class="tox-dialog__draghandle"></div>')}},yq=function(t,n,o){return ds.sketch({dom:ap('<div class="tox-dialog__header"></div>'),components:[GL(t,O.some(n),o),KL(),qL(o)],containerBehaviours:sr([$w.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return Oc(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},bq=function(t,n){var o=ku.parts.title(GL(t,O.none(),n)),s=ku.parts.draghandle(KL()),d=ku.parts.close(qL(n)),p=[o].concat(t.draggable?[s]:[]).concat([d]);return ds.sketch({dom:ap('<div class="tox-dialog__header"></div>'),components:p})},XL=function(t,n){return bq({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},n.shared.providers)},YL=function(t,n,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:ap('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},ZL=function(t,n,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){ku.setBusy(t(),function(d,p){return YL(s.message,p,n)})},onUnblock:function(){ku.setIdle(t())}}},JL=function(t,n,o,s){var d,p=function(g,k){return O.some(k)};return wo(kF(Z(Z({},t),{lazySink:s.shared.getSink,extraBehaviours:Lt([Il.config({channel:wF,updateState:p,initialData:n}),zg.memory({})],t.extraBehaviours,!0),onEscape:function(g){Sa(g,Tg)},dialogEvents:o,eventOrder:(d={},d[zc()]=[Il.name(),Hu.name()],d[js()]=["scroll-lock",Il.name(),"messages","dialog-events","alloy.base.behaviour"],d[Mp()]=["alloy.base.behaviour","dialog-events","messages",Il.name(),"scroll-lock"],d)})))},QL=function(t){var n=function(o){var s=$t(o.items,function(d){var p=Qr(!1);return Z(Z({},d),{storage:p})});return Z(Z({},o),{items:s})};return $t(t,function(o){return o.type==="menu"?n(o):o})},e$=function(t){return Ne(t,function(n,o){if(o.type==="menu"){var s=o;return Ne(s.items,function(d,p){return d[p.name]=p.storage,d},n)}return n},{})},t$=function(t,n){return[xd(Ec(),WO),t(bw,function(o,s){n.onClose(),s.onClose()}),t(Tg,function(o,s,d,p){s.onCancel(o),Sa(p,bw)}),Bt(WT,function(o,s){return n.onUnblock()}),Bt(jT,function(o,s){return n.onBlock(s.event)})]},_q=function(t,n){var o=function(d,p){return Bt(d,function(g,k){s(g,function(C,E){p(t(),C,k.event,g)})})},s=function(d,p){Il.getState(d).get().each(function(g){p(g,d)})};return Lt(Lt([],t$(o,n),!0),[o(nv,function(d,p,g){p.onAction(d,{name:g.name})})],!1)},wq=function(t,n,o){var s=function(p,g){return Bt(p,function(k,C){d(k,function(E,M){g(t(),E,C.event,k)})})},d=function(p,g){Il.getState(p).get().each(function(k){g(k.internalDialog,p)})};return Lt(Lt([],t$(s,n),!0),[s(_w,function(p,g){return g.onSubmit(p)}),s(Lc,function(p,g,k){g.onChange(p,{name:k.name})}),s(nv,function(p,g,k,C){var E=function(){return jr.focusIn(C)},M=function(Y){return Wg(Y,"disabled")||No(Y,"aria-disabled").exists(function(ne){return ne==="true"})},F=Zr(C.element),q=cs(F);g.onAction(p,{name:k.name,value:k.value}),cs(F).fold(E,function(Y){M(Y)||q.exists(function(ne){return Su(Y,ne)&&M(ne)})?E():o().toOptional().filter(function(ne){return!Su(ne.element,Y)}).each(E)})}),s(Lm,function(p,g,k){g.onTabChange(p,{newTabName:k.name,oldTabName:k.oldName})}),fc(function(p){var g=t();gr.setValue(p,g.getData())})],!1)},CF={initUrlDialog:_q,initDialog:wq},kq=function(t,n){return HC(t,t.type,n)},Cq=function(t,n,o){return Nt(n,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},xq=function(t,n){var o=n.map(function(k){return k.footerButtons}).getOr([]),s=et(o,function(k){return k.align==="start"}),d=function(k,C){return ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+k]},components:$t(C,function(E){return E.memento.asSpec()})})},p=d("start",s.pass),g=d("end",s.fail);return[p,g]},r$=function(t,n){var o=function(s,d){var p=$t(d.buttons,function(k){var C=La(kq(k,n));return{name:k.name,align:k.align,memento:C}}),g=function(k,C){return Cq(k,p,C)};return O.some({lookupByName:g,footerButtons:p})};return{dom:ap('<div class="tox-dialog__footer"></div>'),components:[],behaviours:sr([Il.config({channel:FL,initialData:t,updateState:o,renderComponents:xq})])}},Sq=function(t,n){return r$(t,n)},n$=function(t,n){return ku.parts.footer(r$(t,n))},xF=function(t,n){var o=t.getRoot();if(o.getSystem().isConnected()){var s=aa.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return C1.getField(s,n).fold(function(){var d=t.getFooter(),p=Il.getState(d);return p.get().bind(function(g){return g.lookupByName(s,n)})},function(d){return O.some(d)})}else return O.none()},Tq=function(t,n){var o=t.getRoot();return Il.getState(o).get().map(function(s){return Kc(Po("data",s.dataValidator,n))}).getOr(n)},a$=function(t,n,o){var s=function(pe){var Oe=t.getRoot();Oe.getSystem().isConnected()&&pe(Oe)},d=function(){var pe=t.getRoot(),Oe=pe.getSystem().isConnected()?t.getFormWrapper():pe,de=gr.getValue(Oe),Me=kn(o,function(pt){return pt.get()});return Z(Z({},de),Me)},p=function(pe){s(function(Oe){var de=ne.getData(),Me=Z(Z({},de),pe),pt=Tq(t,Me),ft=t.getFormWrapper();gr.setValue(ft,pt),Rn(o,function(De,ot){fr(Me,ot)&&De.set(Me[ot])})})},g=function(pe){xF(t,pe).each(Jr.disable)},k=function(pe){xF(t,pe).each(Jr.enable)},C=function(pe){xF(t,pe).each(bn.focus)},E=function(pe){if(!ee(pe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Oe){en(Oe,jT,{message:pe})})},M=function(){s(function(pe){Sa(pe,WT)})},F=function(pe){s(function(Oe){var de=t.getBody(),Me=Il.getState(de);Me.get().exists(function(pt){return pt.isTabPanel()})&&aa.getCurrent(de).each(function(pt){dx.showTab(pt,pe)})})},q=function(pe){s(function(Oe){var de=n(pe);Oe.getSystem().broadcastOn([wF],de),Oe.getSystem().broadcastOn([NL],de.internalDialog),Oe.getSystem().broadcastOn([PL],de.internalDialog),Oe.getSystem().broadcastOn([FL],de.internalDialog),ne.setData(de.initialData)})},Y=function(){s(function(pe){Sa(pe,bw)})},ne={getData:d,setData:p,disable:g,enable:k,focus:C,block:E,unblock:M,showTab:F,redial:q,close:Y};return ne},Eq=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},zq=function(t,n,o){var s=XL(t.internalDialog.title,o),d=mq({body:t.internalDialog.body},o),p=QL(t.internalDialog.buttons),g=e$(p),k=n$({buttons:p},o),C=CF.initDialog(function(){return Y},ZL(function(){return F},o.shared.providers,n),o.shared.getSink),E=Eq(t.internalDialog.size),M={header:s,body:d,footer:O.some(k),extraClasses:E,extraBehaviours:[],extraStyles:{}},F=JL(M,t,C,o),q=function(){var ne=function(){var pe=ku.getBody(F);return aa.getCurrent(pe).getOr(pe)};return{getRoot:se(F),getBody:function(){return ku.getBody(F)},getFooter:function(){return ku.getFooter(F)},getFormWrapper:ne}}(),Y=a$(q,n.redial,g);return{dialog:F,instanceApi:Y}},Aq=function(t,n,o,s){var d,p,g=Nr("dialog-label"),k=Nr("dialog-content"),C=function(de,Me){return O.some(Me)},E=La(yq({title:t.internalDialog.title,draggable:!0},g,o.shared.providers)),M=La(pq({body:t.internalDialog.body},k,o,s)),F=QL(t.internalDialog.buttons),q=e$(F),Y=La(Sq({buttons:F},o)),ne=CF.initDialog(function(){return Oe},{onBlock:function(de){uv.block(pe,function(Me,pt){return YL(de.message,pt,o.shared.providers)})},onUnblock:function(){uv.unblock(pe)},onClose:function(){return n.closeWindow()}},o.shared.getSink),pe=wo({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=g,d["aria-describedby"]=k,d)},eventOrder:(p={},p[zc()]=[Il.name(),Hu.name()],p[sc()]=["execute-on-form"],p[js()]=["reflecting","execute-on-form"],p),behaviours:sr([jr.config({mode:"cyclic",onEscape:function(de){return Sa(de,bw),O.some(!0)},useTabstopAt:function(de){return!zw(de)&&(Te(de)!=="button"||bo(de,"disabled")!=="disabled")}}),Il.config({channel:wF,updateState:C,initialData:t}),bn.config({}),Nn("execute-on-form",ne.concat([ci(Ec(),function(de,Me){jr.focusIn(de)})])),uv.config({getRoot:function(){return O.some(pe)}}),yn.config({}),zg.memory({})]),components:[E.asSpec(),M.asSpec(),Y.asSpec()]}),Oe=a$({getRoot:se(pe),getFooter:function(){return Y.get(pe)},getBody:function(){return M.get(pe)},getFormWrapper:function(){var de=M.get(pe);return aa.getCurrent(de).getOr(de)}},n.redial,q);return{dialog:pe,instanceApi:Oe}},SF=tinymce.util.Tools.resolve("tinymce.util.URI"),Oq=function(t){var n=function(g){t.getSystem().isConnected()&&g(t)},o=function(g){if(!ee(g))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(function(k){en(k,jT,{message:g})})},s=function(){n(function(g){Sa(g,WT)})},d=function(){n(function(g){Sa(g,bw)})},p=function(g){n(function(k){k.getSystem().broadcastOn([IL],g)})};return{block:o,unblock:s,close:d,sendMessage:p}},Rq=["insertContent","setContent","execCommand","close","block","unblock"],o$=function(t){return me(t)&&Rq.indexOf(t.mceAction)!==-1},Dq=function(t){return!o$(t)&&me(t)&&fr(t,"mceAction")},Mq=function(t,n,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=ge(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":n.close();break;case"block":n.block(o.message);break;case"unblock":n.unblock();break}},Bq=function(t,n,o,s){var d,p=XL(t.title,s),g=hq(t),k=t.buttons.bind(function(Me){return Me.length===0?O.none():O.some(n$({buttons:Me},s))}),C=CF.initUrlDialog(function(){return de},ZL(function(){return Oe},s.shared.providers,n)),E=Z(Z({},t.height.fold(function(){return{}},function(Me){return{height:Me+"px","max-height":Me+"px"}})),t.width.fold(function(){return{}},function(Me){return{width:Me+"px","max-width":Me+"px"}})),M=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],F=new SF(t.url,{base_uri:new SF(window.location.href)}),q=F.protocol+"://"+F.host+(F.port?":"+F.port:""),Y=Xp(),ne=[Nn("messages",[Bn(function(){var Me=ni(tr.fromDom(window),"message",function(pt){if(F.isSameOrigin(new SF(pt.raw.origin))){var ft=pt.raw.data;o$(ft)?Mq(o,de,ft):Dq(ft)&&t.onMessage(de,ft)}});Y.set(Me)}),fc(Y.clear)]),Hu.config({channels:(d={},d[IL]={onReceive:function(Me,pt){Oi(Me.element,"iframe").each(function(ft){var De=ft.dom.contentWindow;De.postMessage(pt,q)})}},d)})],pe={header:p,body:g,footer:k,extraClasses:M,extraBehaviours:ne,extraStyles:E},Oe=JL(pe,t,C,s),de=Oq(Oe);return{dialog:Oe,instanceApi:de}},Nq=function(t){var n=t.backstage.shared,o=function(s,d){var p=function(){ku.hide(E),d()},g=La(HC({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:O.none()},"cancel",t.backstage)),k=VL(),C=HL(p,n.providers),E=wo(kF({lazySink:function(){return n.getSink()},header:$L(k,C),body:UL(s,n.providers),footer:O.some(jL(WL([],[g.asSpec()]))),onEscape:p,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(Tg,p)],eventOrder:{}}));ku.show(E);var M=g.get(E);bn.focus(M)};return{open:o}},Pq=function(t){var n=t.backstage.shared,o=function(s,d){var p=function(q){ku.hide(M),d(q)},g=La(HC({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:O.none()},"submit",t.backstage)),k=HC({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:O.none()},"cancel",t.backstage),C=VL(),E=HL(function(){return p(!1)},n.providers),M=wo(kF({lazySink:function(){return n.getSink()},header:$L(C,E),body:UL(s,n.providers),footer:O.some(jL(WL([],[k,g.asSpec()]))),onEscape:function(){return p(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(Tg,function(){return p(!1)}),Bt(_w,function(){return p(!0)})],eventOrder:{}}));ku.show(M);var F=g.get(M);bn.focus(F)};return{open:o}},Fq=function(t,n){return Kc(Po("data",n,t))},Iq=function(t){return gw(t,".tox-alert-dialog")||gw(t,".tox-confirm-dialog")},Lq=function(t,n,o){return n&&o?[]:[e.config({contextual:{lazyContext:function(){return O.some(si(tr.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},$q=function(t){var n=t.backstage,o=t.editor,s=U3(o),d=Nq(t),p=Pq(t),g=function(ne,pe,Oe){return pe!==void 0&&pe.inline==="toolbar"?M(ne,n.shared.anchors.inlineDialog(),Oe,pe.ariaAttrs):pe!==void 0&&pe.inline==="cursor"?M(ne,n.shared.anchors.cursor(),Oe,pe.ariaAttrs):E(ne,Oe)},k=function(ne,pe){return C(ne,pe)},C=function(ne,pe){var Oe=function(de){var Me=Bq(de,{closeWindow:function(){ku.hide(Me.dialog),pe(Me.instanceApi)}},o,n);return ku.show(Me.dialog),Me.instanceApi};return _z.openUrl(Oe,ne)},E=function(ne,pe){var Oe=function(de,Me,pt){var ft=Me,De={dataValidator:pt,initialData:ft,internalDialog:de},ot=zq(De,{redial:_z.redial,closeWindow:function(){ku.hide(ot.dialog),pe(ot.instanceApi)}},n);return ku.show(ot.dialog),ot.instanceApi.setData(ft),ot.instanceApi};return _z.open(Oe,ne)},M=function(ne,pe,Oe,de){var Me=function(pt,ft,De){var ot=Fq(ft,De),xt=Yo(),yr=n.shared.header.isPositionedAtTop(),Dt={dataValidator:De,initialData:ot,internalDialog:pt},_r=function(){return xt.on(function(nr){Ga.reposition(nr),e.refresh(nr)})},Pt=Aq(Dt,{redial:_z.redial,closeWindow:function(){xt.on(Ga.hide),o.off("ResizeEditor",_r),xt.clear(),Oe(Pt.instanceApi)}},n,de),Ct=wo(Ga.sketch(Z(Z({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},yr?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:sr(Lt([Nn("window-manager-inline-events",[Bt(Jc(),function(nr,Fr){Sa(Pt.dialog,Tg)})])],Lq(o,s,yr),!0)),isExtraPart:function(nr,Fr){return Iq(Fr)}})));return xt.set(Ct),Ga.showWithin(Ct,mc(Pt.dialog),{anchor:pe},O.some(Ia())),(!s||!yr)&&(e.refresh(Ct),o.on("ResizeEditor",_r)),Pt.instanceApi.setData(ot),jr.focusIn(Pt.dialog),Pt.instanceApi};return _z.open(Me,ne)},F=function(ne,pe){p.open(ne,function(Oe){pe(Oe)})},q=function(ne,pe){d.open(ne,function(){pe()})},Y=function(ne){ne.close()};return{open:g,openUrl:k,alert:q,close:Y,confirm:F}};function Hq(){xe.add("silver",function(t){var n=kj(t),o=n.uiMothership,s=n.backstage,d=n.renderUI,p=n.getUi;Im.register(t,s.shared);var g=$q({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:se(g),getNotificationManagerImpl:function(){return eT(t,{backstage:s},o)},ui:p()}})}Hq()})();const XF={"cs-cz":"cs",de:"de",es:"es_419",fr:"fr_FR",it:"it_IT",pl:"pl",pt:"pt_PT","pt-BR":"pt_BR",ro:"ro",tr:"tr"},QG={components:{Media:Z$,"tiny-mce":ZG,"code-editor":Y$},props:{disabled:{type:Boolean,default:!1},value:{type:String,default:""}},data(){return{isPreviewing:!1,isMediaVisible:!1,isReady:!1,isRichtextReady:!1,isRichtextSourceVisible:!1,isInsertHTMLVisible:!1,insertHTMLSnippet:"",isTrackLink:!1,richtextConf:{},richTextSourceBody:"",contentType:""}},methods:{initRichtextEditor(){const{lang:I}=this.serverConfig;this.richtextConf={init_instance_callback:()=>{this.isReady=!0},urlconverter_callback:this.onEditorURLConvert,setup:S=>{S.addShortcut("ctrl+s","Save content",()=>{this.$events.$emit("campaign.update",{})}),S.addShortcut("f9","Preview",()=>{this.$events.$emit("campaign.preview",{})}),S.on("init",()=>{S.focus(),this.onEditorDialogOpen(S)}),S.ui.registry.addButton("html",{icon:"sourcecode",tooltip:"Source code",onAction:this.onRichtextViewSource}),S.ui.registry.addButton("insert-html",{icon:"code-sample",tooltip:"Insert HTML",onAction:this.onOpenInsertHTML}),S.on("CloseWindow",()=>{S.selection.getNode().scrollIntoView(!1)})},browser_spellcheck:!0,min_height:500,toolbar_sticky:!0,entity_encoding:"raw",convert_urls:!0,plugins:["anchor","autoresize","autolink","charmap","emoticons","fullscreen","help","hr","image","imagetools","link","lists","paste","searchreplace","table","visualblocks","visualchars","wordcount"],toolbar:`undo redo | formatselect styleselect fontsizeselect |
                  bold italic underline strikethrough forecolor backcolor subscript superscript |
                  alignleft aligncenter alignright alignjustify |
                  bullist numlist table image insert-html | outdent indent | link hr removeformat |
                  html fullscreen help`,fontsize_formats:"10px 11px 12px 14px 15px 16px 18px 24px 36px",skin:!1,content_css:!1,content_style:`
          body { font-family: 'Inter', sans-serif; font-size: 15px; }
          img { max-width: 100%; }
          a { color: ${Xq.primary}; }
          table, td { border-color: #ccc;}
        `,language:XF[I]||null,language_url:XF[I]?`${Yq.static}/tinymce/lang/${XF[I]}.js`:null,file_picker_types:"image",file_picker_callback:S=>{this.isMediaVisible=!0,this.imageCallack=S}},this.isRichtextReady=!0},onEditorURLConvert(I){let S=I;return this.isTrackLink&&(S=`${S}@TrackLink`),this.isTrackLink=!1,S},onRichtextViewSource(){this.richTextSourceBody=this.computedValue,this.isRichtextSourceVisible=!0},onOpenInsertHTML(){this.isInsertHTMLVisible=!0},onInsertHTML(){this.isInsertHTMLVisible=!1,window.tinymce.editors[0].execCommand("mceInsertContent",!1,this.insertHTMLSnippet),this.insertHTMLSnippet=""},onFormatRichtextHTML(){this.richTextSourceBody=this.beautifyHTML(this.richTextSourceBody)},onFormatRichtextHTMLSnippet(){this.insertHTMLSnippet=this.beautifyHTML(this.insertHTMLSnippet)},onSaveRichTextSource(){this.computedValue=this.richTextSourceBody,window.tinymce.editors[0].setContent(this.computedValue),this.richTextSourceBody="",this.isRichtextSourceVisible=!1},onEditorDialogOpen(I){const S=I,B=S.windowManager.open,N=this;S.windowManager.open=(ee,me)=>{const Be=ee.initialData&&"url"in ee.initialData&&"anchor"in ee.initialData;if(!Be)return B.apply(this,[ee,me]);let we=!1;if(!ee.initialData.link!==""){const It=ee,rt=It.initialData.url.value.replace(/@TrackLink$/,"");It.initialData.url.value!==rt&&(It.initialData.url.value=rt,we=!0)}const ge=B.apply(this,[ee,me]);if(Be){const It=document.createElement("input");It.setAttribute("type","checkbox"),we&&It.setAttribute("checked",we),It.onchange=He=>{N.isTrackLink=He.target.checked};const rt=document.createElement("label");rt.appendChild(It),rt.appendChild(document.createTextNode("Track link?")),rt.classList.add("tox-label","tox-track-link"),document.querySelector(".tox-form__controls-h-stack .tox-control-wrap").appendChild(rt)}return ge}},onMediaSelect(I){this.imageCallack(I.url)},beautifyHTML(I){let S=this.trimLines(I.replace(/(<(?!(\/)?a|span)([^>]+)>)/ig,`
$1
`),!0);S=S.replace(/\n+/g,`
`);try{S=i9.html(S).trim()}catch(B){console.log("error formatting HTML",B)}return S},trimLines(I,S){const B=I.split(`
`);for(let N=0;N<B.length;N+=1){const ee=B[N].trim();S?B[N]=ee:ee===""&&(B[N]="")}return B.join(`
`).replace(/\n\s*\n\s*\n/g,`

`)}},mounted(){this.initRichtextEditor()},computed:{...ZF(["serverConfig"]),computedValue:{get(){return this.value},set(I){this.$emit("input",I)}}}};var eK=function(){var S=this,B=S._self._c;return S.isRichtextReady?B("div",{staticClass:"richtext-editor"},[B("tiny-mce",{attrs:{disabled:S.disabled,init:S.richtextConf},model:{value:S.computedValue,callback:function(N){S.computedValue=N},expression:"computedValue"}}),B("b-modal",{attrs:{scroll:"keep",width:1200,"aria-modal":!0,active:S.isRichtextSourceVisible},on:{"update:active":function(N){S.isRichtextSourceVisible=N}}},[B("div",[B("section",{staticClass:"modal-card-body preview",attrs:{expanded:""}},[B("code-editor",{key:"richtext-source",attrs:{lang:"html"},model:{value:S.richTextSourceBody,callback:function(N){S.richTextSourceBody=N},expression:"richTextSourceBody"}})],1),B("footer",{staticClass:"modal-card-foot has-text-right"},[B("b-button",{on:{click:S.onFormatRichtextHTML}},[S._v(" "+S._s(S.$t("campaigns.formatHTML"))+" ")]),B("b-button",{on:{click:()=>{this.isRichtextSourceVisible=!1}}},[S._v(" "+S._s(S.$t("globals.buttons.close"))+" ")]),B("b-button",{staticClass:"is-primary",on:{click:S.onSaveRichTextSource}},[S._v(" "+S._s(S.$t("globals.buttons.save"))+" ")])],1)])]),B("b-modal",{attrs:{scroll:"keep",width:750,"aria-modal":!0,active:S.isInsertHTMLVisible},on:{"update:active":function(N){S.isInsertHTMLVisible=N}}},[B("div",[B("section",{staticClass:"modal-card-body preview",attrs:{expanded:""}},[B("code-editor",{key:"richtext-snippet",attrs:{lang:"html"},model:{value:S.insertHTMLSnippet,callback:function(N){S.insertHTMLSnippet=N},expression:"insertHTMLSnippet"}})],1),B("footer",{staticClass:"modal-card-foot has-text-right"},[B("b-button",{on:{click:S.onFormatRichtextHTMLSnippet}},[S._v(" "+S._s(S.$t("campaigns.formatHTML"))+" ")]),B("b-button",{on:{click:()=>{this.isInsertHTMLVisible=!1}}},[S._v(" "+S._s(S.$t("globals.buttons.close"))+" ")]),B("b-button",{staticClass:"is-primary",on:{click:S.onInsertHTML}},[S._v(" "+S._s(S.$t("globals.buttons.insert"))+" ")])],1)])]),B("b-modal",{attrs:{scroll:"keep","aria-modal":!0,active:S.isMediaVisible,width:900},on:{"update:active":function(N){S.isMediaVisible=N}}},[B("div",{staticClass:"modal-card content",staticStyle:{width:"auto"}},[B("section",{staticClass:"modal-card-body",attrs:{expanded:""}},[B("media",{attrs:{"is-modal":""},on:{selected:S.onMediaSelect}})],1)])])],1):S._e()},tK=[],rK=JF(QG,eK,tK);const nK=rK.exports,G$=I=>{const S=I.split(`
`),B=[],N=Date.now();let ee=[];const me=(we,ge,It={})=>({id:`block-${N+B.length}`,type:we,data:{props:ge,style:{padding:{top:16,bottom:16,right:24,left:24},...It}}}),Be=()=>{ee.length>0&&(B.push(me("Text",{markdown:!0,text:ee.join(`
`)})),ee=[])};return S.forEach(we=>{const ge=we.match(/^(#+)\s+(.*)/);if(ge){Be(),B.push(me("Heading",{text:ge[2],level:`h${Math.min(ge[1].length,6)}`}));return}const It=we.trim();if(/^(=+|-+)$/.test(It)&&ee.length>0){const rt=ee.pop();if(rt.trim()){Be(),B.push(me("Heading",{text:rt,level:It[0]==="="?"h1":"h2"}));return}ee.push(rt,we)}else ee.push(we)}),Be(),{root:{type:"EmailLayout",data:{childrenIds:B.map(we=>we.id)}},...Object.fromEntries(B.map(we=>[we.id,{type:we.type,data:we.data}]))}},K$=new jD,aK={components:{CampaignPreview:X$,"code-editor":Y$,"visual-editor":Qq,"richtext-editor":nK},props:{contentTypes:{type:Object,default:()=>({})},id:{type:Number,default:0},title:{type:String,default:""},disabled:{type:Boolean,default:!1},templates:{type:Array,default:null},value:{type:Object,default:()=>({body:"",bodySource:null,contentType:"",templateId:null})}},data(){return{isPreviewing:!1,isVisualTplSelector:!1,isVisualTplDisabled:!1,contentTypeSel:this.$props.value.contentType,templateId:null,visualTemplateId:null}},methods:{onContentTypeChange(I,S){if(!this.self.body.trim()){this.convertContentType(I,S);return}this.$utils.confirm(this.$t("campaigns.confirmSwitchFormat"),()=>{this.convertContentType(I,S)},()=>{this.contentTypeSel=S})},convertContentType(I,S){let B=this.self.body??"",N=null,ee=!1,me=!1;if(S==="richtext"||S==="html"||S==="visual"){const Be=document.createElement("div");Be.innerHTML=B,B=this.beautifyHTML(Be.innerHTML.trim()),me=!0}if(me)switch(I){case"plain":{const Be=document.createElement("div");Be.innerHTML=B,B=this.trimLines(Be.innerText.trim(),!0);break}case"markdown":{B=K$.turndown(B).replace(/\n\n+/ig,`

`);break}case"visual":{const Be=K$.turndown(B).replace(/\n\n+/ig,`

`);N=JSON.stringify(G$(Be));break}}else S==="markdown"&&(I==="richtext"||I==="html")?(ee=!0,this.$api.convertCampaignContent({id:1,body:B,from:S,to:I}).then(Be=>{this.$nextTick(()=>{this.self.contentType=I,this.self.body=this.beautifyHTML(Be.trim())})})):S==="plain"&&(I==="richtext"||I==="html")?B=B.replace(/\n/ig,`<br>
`):I==="visual"&&(N=JSON.stringify(G$(B)));(I==="visual"||S==="visual")&&(this.templateId=null,this.self.templateId=null),ee||this.$nextTick(()=>{this.self.contentType=I,this.self.body=B,this.self.bodySource=N})},onTogglePreview(){this.isPreviewing=!this.isPreviewing},onKeyboardShortcut(I){I.key==="F9"&&(this.onTogglePreview(),I.preventDefault()),I.ctrlKey&&I.key==="s"&&(this.$events.$emit("campaign.update"),I.preventDefault())},onVisualEditorChange({body:I,source:S}){this.self.body=I,this.self.bodySource=S},beautifyHTML(I){let S=this.trimLines(I.replace(/(<(?!(\/)?a|span)([^>]+)>)/ig,`
$1
`),!0);return S=S.replace(/\n+/g,`
`),i9.html(S,{indent_size:4,indent_char:" ",max_preserve_newlines:2,inline:["h1","h2","h3","h4","h5","h6","b","strong","span","em","i","code","a"]}).trim()},trimLines(I,S){const B=I.split(`
`);for(let N=0;N<B.length;N+=1){const ee=B[N].trim();S?B[N]=ee:ee===""&&(B[N]="")}return B.join(`
`).replace(/\n\s*\n\s*\n/g,`

`)},onShowVisualTplSelector(){this.isVisualTplSelector=!0,this.setDefaultTemplate()},onImportVisualTpl(){this.visualTemplateId&&this.$utils.confirm(this.$t("campaigns.confirmOverwriteContent"),()=>{this.$api.getTemplate(this.visualTemplateId).then(I=>{this.self.body=I.body,this.self.bodySource=I.bodySource,this.isVisualTplDisabled=!0,this.$refs.visualEditor.render(JSON.parse(I.bodySource))})})},setDefaultTemplate(){var I,S;if(this.self.contentType==="visual")this.visualTemplateId=((I=this.validTemplates[0])==null?void 0:I.id)||null;else{if(this.templateId)return;const B=this.validTemplates.find(N=>N.isDefault===!0);this.templateId=(B==null?void 0:B.id)||((S=this.validTemplates[0])==null?void 0:S.id)||null}}},mounted(){this.contentTypeSel=this.value.contentType,this.templateId=this.value.templateId,window.addEventListener("keydown",this.onKeyboardShortcut),this.$events.$on("campaign.preview",()=>{this.isPreviewing=!0})},beforeDestroy(){window.removeEventListener("keydown",this.onKeyboardShortcut),this.$events.$off("campaign.preview")},computed:{...ZF(["serverConfig","loading"]),self:{get(){return this.value},set(I){this.$emit("input",I)}},validTemplates(){const I=this.self.contentType==="visual"?"campaign_visual":"campaign";return this.templates.filter(S=>S.type===I)}},watch:{validTemplates(){this.setDefaultTemplate()},contentTypeSel(I,S){S!==I&&I!==this.self.contentType&&this.onContentTypeChange(I,S)},templateId(I){this.self.templateId!==I&&(this.self.templateId=I)}}};var oK=function(){var S=this,B=S._self._c;return B("section",{staticClass:"editor"},[B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-three-quarters is-inline-flex"},[B("b-field",{staticClass:"mr-4 mb-0",attrs:{label:S.$t("campaigns.format"),"label-position":"on-border"}},[B("b-select",{attrs:{disabled:S.disabled,name:"content_type"},model:{value:S.contentTypeSel,callback:function(N){S.contentTypeSel=N},expression:"contentTypeSel"}},S._l(S.contentTypes,function(N,ee){return B("option",{key:ee,attrs:{name:"format","data-cy":`check-${ee}`},domProps:{value:ee}},[S._v(" "+S._s(N)+" ")])}),0)],1),S.self.contentType!=="visual"?B("b-field",{attrs:{label:S.$tc("globals.terms.template"),"label-position":"on-border"}},[B("b-select",{attrs:{placeholder:S.$t("globals.terms.none"),name:"template",disabled:S.disabled},model:{value:S.templateId,callback:function(N){S.templateId=N},expression:"templateId"}},[S._l(S.validTemplates,function(N){return[B("option",{key:N.id,domProps:{value:N.id}},[S._v(" "+S._s(N.name)+" ")])]})],2)],1):B("div",[S.isVisualTplSelector?B("b-field",{attrs:{label:S.$tc("globals.terms.template"),"label-position":"on-border"}},[B("b-select",{staticClass:"copy-visual-template-list",attrs:{placeholder:S.$t("globals.terms.none"),name:"template",disabled:S.disabled},on:{input:()=>S.isVisualTplDisabled=!1},model:{value:S.visualTemplateId,callback:function(N){S.visualTemplateId=N},expression:"visualTemplateId"}},[S._l(S.validTemplates,function(N){return[B("option",{key:N.id,domProps:{value:N.id}},[S._v(" "+S._s(N.name)+" ")])]})],2),B("b-button",{staticClass:"ml-3",attrs:{disabled:S.disabled||S.isVisualTplDisabled||!S.visualTemplateId,type:"is-primary","icon-left":"content-save-outline","data-cy":"btn-save-visual-tpl"},on:{click:S.onImportVisualTpl}},[S._v(" "+S._s(S.$t("globals.terms.import"))+" "),S.loading.templates?B("span",{staticClass:"spinner is-tiny"},[B("b-loading",{attrs:{"is-full-page":!1,active:""}})],1):S._e()])],1):B("b-button",{attrs:{type:"is-ghost","icon-left":"file-find-outline","data-cy":"btn-select-visual-tpl"},on:{click:S.onShowVisualTplSelector}},[S._v(" "+S._s(S.$t("campaigns.importVisualTemplate"))+" ")])],1)],1),B("div",{staticClass:"column is- has-text-right"},[B("b-button",{attrs:{type:"is-primary","icon-left":"file-find-outline","data-cy":"btn-preview","aria-keyshortcuts":"F9"},on:{click:S.onTogglePreview}},[B("span",{staticClass:"has-kbd"},[S._v(S._s(S.$t("campaigns.preview"))+" "),B("span",{staticClass:"kbd"},[S._v("F9")])])])],1)]),S.self.contentType==="richtext"?B("richtext-editor",{model:{value:S.self.body,callback:function(N){S.$set(S.self,"body",N)},expression:"self.body"}}):S._e(),S.self.contentType==="visual"?B("visual-editor",{ref:"visualEditor",attrs:{source:S.self.bodySource,height:"65vh"},on:{change:S.onVisualEditorChange}}):S._e(),S.self.contentType==="html"?B("code-editor",{key:"editor-html",attrs:{lang:"html"},model:{value:S.self.body,callback:function(N){S.$set(S.self,"body",N)},expression:"self.body"}}):S._e(),S.self.contentType==="markdown"?B("code-editor",{key:"editor-markdown",attrs:{lang:"markdown"},model:{value:S.self.body,callback:function(N){S.$set(S.self,"body",N)},expression:"self.body"}}):S._e(),S.self.contentType==="plain"?B("b-input",{ref:"plainEditor",staticClass:"plain-editor",attrs:{type:"textarea",name:"content"},model:{value:S.self.body,callback:function(N){S.$set(S.self,"body",N)},expression:"self.body"}}):S._e(),S.isPreviewing?B("campaign-preview",{attrs:{"is-post":"",type:"campaign",id:S.id,title:S.title,"content-type":S.self.contentType,"template-id":S.templateId,body:S.self.body},on:{close:S.onTogglePreview}}):S._e()],1)},iK=[],uK=JF(aK,oK,iK);const sK=uK.exports,cK=Zq.extend({components:{ListSelector:eG,Editor:sK,Media:Z$,CopyText:Jq,CampaignPreview:X$},data(){return{contentTypes:Object.freeze({richtext:this.$t("campaigns.richText"),html:this.$t("campaigns.rawHTML"),markdown:this.$t("campaigns.markdown"),plain:this.$t("campaigns.plainText"),visual:this.$t("campaigns.visual")}),isNew:!1,isEditing:!1,isHeadersVisible:!1,isAttachFieldVisible:!1,isAttachModalOpen:!1,isPreviewingArchive:!1,activeTab:"campaign",data:{},selListIDs:[],form:{archiveSlug:null,name:"",subject:"",fromEmail:"",headersStr:"[]",headers:[],messenger:"email",lists:[],tags:[],sendAt:null,content:{contentType:"richtext",body:"",bodySource:null,templateId:null},altbody:null,media:[],sendAtDate:null,sendLater:!1,archive:!1,archiveMetaStr:"{}",archiveMeta:{},testEmails:[]}}},methods:{formatDateTime(I){return g$(I).format("YYYY-MM-DD HH:mm")},onToggleArchivePreview(){this.isPreviewingArchive=!this.isPreviewingArchive},onAddAltBody(){this.form.altbody=rG(this.form.content.body)},onRemoveAltBody(){this.form.altbody=null},onShowHeaders(){this.isHeadersVisible=!this.isHeadersVisible},onShowAttachField(){this.isAttachFieldVisible=!0,this.$nextTick(()=>{this.$refs.media.focus()})},onOpenAttach(){this.isAttachModalOpen=!0},onAttachSelect(I){this.form.media.some(S=>S.id===I.id)||this.form.media.push(I)},isUnsaved(){return this.data.body!==this.form.content.body||this.data.contentType!==this.form.content.contentType},onTab(I){I==="content"&&window.tinymce&&window.tinymce.editors.length>0&&this.$nextTick(()=>{window.tinymce.editors[0].focus()}),window.history.replaceState({},"",`#${I}`)},onFillArchiveMeta(){const I=`{"email": "email@domain.com", "name": "${this.$t("globals.fields.name")}", "attribs": {}}`;this.form.archiveMetaStr=this.$utils.getPref("campaign.archiveMetaStr")||JSON.stringify(JSON.parse(I),null,4)},onSubmit(I){if(this.form.headersStr&&this.form.headersStr!=="[]")try{this.form.headers=JSON.parse(this.form.headersStr)}catch(S){this.$utils.toast(S.toString(),"is-danger");return}else this.form.headers=[];if(this.form.archive&&this.form.archiveMetaStr)try{this.form.archiveMeta=JSON.parse(this.form.archiveMetaStr)}catch(S){this.$utils.toast(S.toString(),"is-danger");return}switch(I){case"create":this.createCampaign();break;case"test":this.sendTest();break;default:this.updateCampaign();break}},getCampaign(I){return this.$api.getCampaign(I).then(S=>{this.data=S,this.form={...this.form,...S,headersStr:JSON.stringify(S.headers,null,4),archiveMetaStr:S.archiveMeta?JSON.stringify(S.archiveMeta,null,4):"{}",content:{contentType:S.contentType,body:S.body,bodySource:S.bodySource,templateId:S.templateId}},this.isAttachFieldVisible=this.form.media.length>0,this.form.media=this.form.media.map(B=>B.id?B:{...B,filename:`❌ ${B.filename}`})})},sendTest(){const I={id:this.data.id,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(S=>S.id),from_email:this.form.fromEmail,messenger:this.form.messenger,type:"regular",headers:this.form.headers,tags:this.form.tags,template_id:this.form.content.templateId,content_type:this.form.content.contentType,body:this.form.content.body,altbody:this.form.content.contentType!=="plain"?this.form.altbody:null,subscribers:this.form.testEmails,media:this.form.media.map(S=>S.id)};return this.$api.testCampaign(I).then(()=>{this.$utils.toast(this.$t("campaigns.testSent"))}),!1},createCampaign(){const I={archiveSlug:this.form.subject,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(S=>S.id),from_email:this.form.fromEmail,content_type:this.form.content.contentType,messenger:this.form.messenger,type:"regular",tags:this.form.tags,send_at:this.form.sendLater?this.form.sendAtDate:null,headers:this.form.headers,media:this.form.media.map(S=>S.id)};return this.$api.createCampaign(I).then(S=>{this.$router.push({name:"campaign",hash:"#content",params:{id:S.id}})}),!1},async updateCampaign(I){const S={archive_slug:this.form.archiveSlug,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(N=>N.id),from_email:this.form.fromEmail,messenger:this.form.messenger,type:"regular",tags:this.form.tags,send_at:this.form.sendLater?this.form.sendAtDate:null,headers:this.form.headers,template_id:this.form.content.templateId,content_type:this.form.content.contentType,body:this.form.content.body,body_source:this.form.content.bodySource,altbody:this.form.content.contentType!=="plain"?this.form.altbody:null,archive:this.form.archive,archive_template_id:this.form.archiveTemplateId,archive_meta:this.form.archiveMeta,media:this.form.media.map(N=>N.id)};let B="globals.messages.updated";return I==="start"&&(B="campaigns.started"),this.form.sendAtDate||(this.form.sendLater=!1),new Promise(N=>{this.$api.updateCampaign(this.data.id,S).then(ee=>{this.data=ee,this.form.archiveSlug=ee.archiveSlug,this.$utils.toast(this.$t(B,{name:ee.name})),N()})})},onUpdateCampaignArchive(){if(this.isEditing&&this.canEdit)return;const I={archive:this.form.archive,archive_template_id:this.form.archiveTemplateId,archive_meta:JSON.parse(this.form.archiveMetaStr),archive_slug:this.form.archiveSlug};this.$api.updateCampaignArchive(this.data.id,I).then(S=>{this.form.archiveSlug=S.archiveSlug})},startCampaign(){!this.canStart&&!this.canSchedule||this.$utils.confirm(null,()=>{this.updateCampaign().then(()=>{let I="";if(this.canStart)I="running";else if(this.canSchedule)I="scheduled";else return;this.$api.changeCampaignStatus(this.data.id,I).then(()=>{this.$router.push({name:"campaigns"})})})})},unscheduleCampaign(){this.$api.changeCampaignStatus(this.data.id,"draft").then(I=>{this.data=I})}},computed:{...ZF(["serverConfig","loading","lists","templates"]),canManage(){return this.$can("campaigns:manage_all","campaigns:manage")},canEdit(){return this.isNew||this.data.status==="draft"||this.data.status==="scheduled"||this.data.status==="paused"},canSchedule(){return(this.data.status==="draft"||this.data.status==="paused")&&this.form.sendLater&&this.form.sendAtDate},canUnSchedule(){return this.data.status==="scheduled"},canStart(){return(this.data.status==="draft"||this.data.status==="paused")&&!this.form.sendLater},canArchive(){return this.data.status!=="cancelled"&&this.data.type!=="optin"},selectedLists(){return this.selListIDs.length===0||!this.lists.results?[]:this.lists.results.filter(I=>this.selListIDs.indexOf(I.id)>-1)},emailMessengers(){return["email",...this.serverConfig.messengers.filter(I=>I.startsWith("email-"))]},otherMessengers(){return this.serverConfig.messengers.filter(I=>I!=="email"&&!I.startsWith("email-"))}},beforeRouteLeave(I,S,B){if(this.isUnsaved()){this.$utils.confirm(this.$t("globals.messages.confirmDiscard"),()=>B(!0));return}B(!0)},watch:{selectedLists(){this.form.lists=this.selectedLists},"data.sendAt":function(){this.data.sendAt!==null?(this.form.sendLater=!0,this.form.sendAtDate=g$(this.data.sendAt).toDate()):(this.form.sendLater=!1,this.form.sendAtDate=null)}},mounted(){window.onbeforeunload=()=>this.isUnsaved()||null,this.form.fromEmail=this.serverConfig.from_email;const{id:I}=this.$route.params;if(I==="new"){if(this.isNew=!0,this.$route.query.list_id){let S=[];typeof this.$route.query.list_id=="object"?S=this.$route.query.list_id:S=[this.$route.query.list_id],this.selListIDs=S.map(B=>parseInt(B,10))}}else{const S=parseInt(I,10);if(S<=0||Number.isNaN(S)){this.$utils.toast(this.$t("campaigns.invalid"));return}this.isEditing=!0}this.$api.getTemplates().then(S=>{if(S.length>0&&!this.form.templateId){const B=S.find(N=>N.isDefault===!0);this.form.templateId=B.id}}),this.isEditing?this.getCampaign(I).then(()=>{this.$route.hash!==""&&(this.activeTab=this.$route.hash.replace("#",""))}):this.form.messenger="email",this.$nextTick(()=>{this.$refs.focus.focus()}),this.$events.$on("campaign.update",()=>{this.onSubmit("update")})},beforeDestroy(){this.$events.$off("campaign.update")}});var lK=function(){var S=this,B=S._self._c;return S._self._setupProxy,B("section",{staticClass:"campaign"},[B("header",{staticClass:"columns page-header"},[B("div",{staticClass:"column is-6"},[S.isEditing&&S.data.status?B("p",{staticClass:"tags"},[S.isEditing?B("b-tag",{class:S.data.status},[S._v(" "+S._s(S.$t(`campaigns.status.${S.data.status}`))+" ")]):S._e(),S.data.type==="optin"?B("b-tag",{class:S.data.type},[S._v(" "+S._s(S.$t("lists.optin"))+" ")]):S._e(),S.isEditing?B("span",{staticClass:"has-text-grey-light is-size-7",attrs:{"data-campaign-id":S.data.id}},[S._v(" "+S._s(S.$t("globals.fields.id"))+": "),B("copy-text",{attrs:{text:`${S.data.id}`}}),S._v(" "+S._s(S.$t("globals.fields.uuid"))+": "),B("copy-text",{attrs:{text:S.data.uuid}})],1):S._e()],1):S._e(),S.isEditing?B("h4",{staticClass:"title is-4"},[S._v(" "+S._s(S.data.name)+" ")]):B("h4",{staticClass:"title is-4"},[S._v(" "+S._s(S.$t("campaigns.newCampaign"))+" ")])]),B("div",{staticClass:"column is-6"},[S.canManage?B("div",{staticClass:"buttons"},[S.isEditing&&S.canEdit?B("b-field",{attrs:{grouped:""}},[B("b-field",{attrs:{expanded:""}},[B("b-button",{attrs:{expanded:"",loading:S.loading.campaigns,type:"is-primary","icon-left":"content-save-outline","data-cy":"btn-save","aria-keyshortcuts":"ctrl+s"},on:{click:()=>S.onSubmit("update")}},[B("span",{staticClass:"has-kbd"},[S._v(S._s(S.$t("globals.buttons.saveChanges"))+" "),B("span",{staticClass:"kbd"},[S._v("Ctrl+S")])])])],1),S.canStart?B("b-field",{attrs:{expanded:""}},[B("b-button",{attrs:{expanded:"",loading:S.loading.campaigns,type:"is-primary","icon-left":"rocket-launch-outline","data-cy":"btn-start"},on:{click:S.startCampaign}},[S._v(" "+S._s(S.$t("campaigns.start"))+" ")])],1):S._e(),S.canSchedule?B("b-field",{attrs:{expanded:""}},[B("b-button",{attrs:{expanded:"",loading:S.loading.campaigns,type:"is-primary","icon-left":"clock-start","data-cy":"btn-schedule"},on:{click:S.startCampaign}},[S._v(" "+S._s(S.$t("campaigns.schedule"))+" ")])],1):S._e(),S.canUnSchedule?B("b-field",{attrs:{expanded:""}},[B("b-button",{attrs:{expanded:"",loading:S.loading.campaigns,type:"is-primary","icon-left":"clock-start","data-cy":"btn-unschedule"},on:{click:function(N){return S.$utils.confirm(null,S.unscheduleCampaign)}}},[S._v(" "+S._s(S.$t("campaigns.unSchedule"))+" ")])],1):S._e()],1):S._e()],1):S._e()])]),B("b-loading",{attrs:{active:S.loading.campaigns}}),B("b-tabs",{attrs:{type:"is-boxed",animated:!1},on:{input:S.onTab},model:{value:S.activeTab,callback:function(N){S.activeTab=N},expression:"activeTab"}},[B("b-tab-item",{attrs:{label:S.$tc("globals.terms.campaign"),"label-position":"on-border",value:"campaign",icon:"rocket-launch-outline"}},[B("section",{staticClass:"wrap"},[B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-7"},[B("form",{on:{submit:function(N){return N.preventDefault(),(()=>S.onSubmit(S.isNew?"create":"update")).apply(null,arguments)}}},[B("b-field",{attrs:{label:S.$t("globals.fields.name"),"label-position":"on-border"}},[B("b-input",{ref:"focus",attrs:{maxlength:200,name:"name",disabled:!S.canEdit,placeholder:S.$t("globals.fields.name"),required:"",autofocus:""},model:{value:S.form.name,callback:function(N){S.$set(S.form,"name",N)},expression:"form.name"}})],1),B("b-field",{attrs:{label:S.$t("campaigns.subject"),"label-position":"on-border"}},[B("b-input",{attrs:{maxlength:5e3,name:"subject",disabled:!S.canEdit,placeholder:S.$t("campaigns.subject"),required:""},model:{value:S.form.subject,callback:function(N){S.$set(S.form,"subject",N)},expression:"form.subject"}})],1),B("b-field",{attrs:{label:S.$t("campaigns.fromAddress"),"label-position":"on-border"}},[B("b-input",{attrs:{maxlength:200,name:"from_email",disabled:!S.canEdit,placeholder:S.$t("campaigns.fromAddressPlaceholder"),required:""},model:{value:S.form.fromEmail,callback:function(N){S.$set(S.form,"fromEmail",N)},expression:"form.fromEmail"}})],1),B("list-selector",{attrs:{selected:S.form.lists,all:S.lists.results,disabled:!S.canEdit,label:S.$t("globals.terms.lists"),placeholder:S.$t("campaigns.sendToLists")},model:{value:S.form.lists,callback:function(N){S.$set(S.form,"lists",N)},expression:"form.lists"}}),B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-6"},[B("b-field",{attrs:{label:S.$tc("globals.terms.messenger"),"label-position":"on-border"}},[B("b-select",{attrs:{placeholder:S.$tc("globals.terms.messenger"),name:"messenger",disabled:!S.canEdit,required:"",expanded:""},model:{value:S.form.messenger,callback:function(N){S.$set(S.form,"messenger",N)},expression:"form.messenger"}},[S.emailMessengers.length>1?[B("optgroup",{attrs:{label:"email"}},S._l(S.emailMessengers,function(N){return B("option",{key:N,domProps:{value:N}},[S._v(" "+S._s(N)+" ")])}),0)]:[B("option",{attrs:{value:"email"}},[S._v("email")])],S._l(S.otherMessengers,function(N){return B("option",{key:N,domProps:{value:N}},[S._v(S._s(N))])})],2)],1)],1),B("div",{staticClass:"column is-6"},[B("b-field",{staticClass:"mr-4 mb-0",attrs:{label:S.$t("campaigns.format"),"label-position":"on-border"}},[B("b-select",{attrs:{disabled:!S.canEdit||S.isEditing,value:"richtext",expanded:""},model:{value:S.form.content.contentType,callback:function(N){S.$set(S.form.content,"contentType",N)},expression:"form.content.contentType"}},S._l(S.contentTypes,function(N,ee){return B("option",{key:ee,attrs:{name:"format","data-cy":`check-${ee}`},domProps:{value:ee}},[S._v(" "+S._s(N)+" ")])}),0)],1)],1)]),B("b-field",{attrs:{label:S.$t("globals.terms.tags"),"label-position":"on-border"}},[B("b-taginput",{attrs:{name:"tags",disabled:!S.canEdit,ellipsis:"",icon:"tag-outline",placeholder:S.$t("globals.terms.tags")},model:{value:S.form.tags,callback:function(N){S.$set(S.form,"tags",N)},expression:"form.tags"}})],1),B("hr"),B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-4"},[B("b-field",{attrs:{label:S.$t("campaigns.sendLater"),"data-cy":"btn-send-later"}},[B("b-switch",{attrs:{disabled:!S.canEdit},model:{value:S.form.sendLater,callback:function(N){S.$set(S.form,"sendLater",N)},expression:"form.sendLater"}})],1)],1),B("div",{staticClass:"column"},[B("br"),S.form.sendLater?B("b-field",{attrs:{"data-cy":"send_at",message:S.form.sendAtDate?S.$utils.duration(Date(),S.form.sendAtDate):""}},[B("b-datetimepicker",{attrs:{disabled:!S.canEdit,required:"",editable:"","mobile-native":"",position:"is-top-right",placeholder:S.$t("campaigns.dateAndTime"),icon:"calendar-clock",timepicker:{hourFormat:"24"},"datetime-formatter":S.formatDateTime,"horizontal-time-picker":""},model:{value:S.form.sendAtDate,callback:function(N){S.$set(S.form,"sendAtDate",N)},expression:"form.sendAtDate"}})],1):S._e()],1)]),B("div",[B("p",{staticClass:"has-text-right"},[B("a",{attrs:{href:"#","data-cy":"btn-headers"},on:{click:function(N){return N.preventDefault(),S.onShowHeaders.apply(null,arguments)}}},[B("b-icon",{attrs:{icon:"plus"}}),S._v(S._s(S.$t("settings.smtp.setCustomHeaders"))+" ")],1)]),S.form.headersStr!=="[]"||S.isHeadersVisible?B("b-field",{attrs:{"label-position":"on-border",message:S.$t("campaigns.customHeadersHelp")}},[B("b-input",{attrs:{name:"headers",type:"textarea",placeholder:'[{"X-Custom": "value"}, {"X-Custom2": "value"}]',disabled:!S.canEdit},model:{value:S.form.headersStr,callback:function(N){S.$set(S.form,"headersStr",N)},expression:"form.headersStr"}})],1):S._e()],1),B("hr"),S.isNew?B("b-field",[B("b-button",{attrs:{"native-type":"submit",type:"is-primary",loading:S.loading.campaigns,"data-cy":"btn-continue"}},[S._v(" "+S._s(S.$t("campaigns.continue"))+" ")])],1):S._e()],1)]),S.canManage?B("div",{staticClass:"column is-4 is-offset-1"},[B("br"),B("div",{staticClass:"box"},[B("h3",{staticClass:"title is-size-6"},[S._v(" "+S._s(S.$t("campaigns.sendTest"))+" ")]),B("b-field",{attrs:{message:S.$t("campaigns.sendTestHelp")}},[B("b-taginput",{attrs:{"before-adding":S.$utils.validateEmail,disabled:S.isNew,ellipsis:"",icon:"email-outline",placeholder:S.$t("campaigns.testEmails")},model:{value:S.form.testEmails,callback:function(N){S.$set(S.form,"testEmails",N)},expression:"form.testEmails"}})],1),B("b-field",[B("b-button",{attrs:{loading:S.loading.campaigns,disabled:S.isNew,type:"is-primary","icon-left":"email-outline"},on:{click:()=>S.onSubmit("test")}},[S._v(" "+S._s(S.$t("campaigns.send"))+" ")])],1)],1)]):S._e()])])]),B("b-tab-item",{attrs:{label:S.$t("campaigns.content"),icon:"text",disabled:S.isNew,value:"content"}},[S.data.id?B("editor",{attrs:{id:S.data.id,title:S.data.name,disabled:!S.canEdit,templates:S.templates,"content-types":S.contentTypes},model:{value:S.form.content,callback:function(N){S.$set(S.form,"content",N)},expression:"form.content"}}):S._e(),B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-6"},[S.isAttachFieldVisible?S._e():B("p",{staticClass:"is-size-6 has-text-grey"},[B("a",{attrs:{href:"#","data-cy":"btn-attach"},on:{click:function(N){return N.preventDefault(),S.onShowAttachField()}}},[B("b-icon",{attrs:{icon:"file-upload-outline",size:"is-small"}}),S._v(" "+S._s(S.$t("campaigns.addAttachments"))+" ")],1)]),S.isAttachFieldVisible?B("b-field",{attrs:{label:S.$t("campaigns.attachments"),"label-position":"on-border",expanded:"","data-cy":"media"}},[B("b-taginput",{ref:"media",attrs:{name:"media",ellipsis:"",icon:"tag-outline",field:"filename",disabled:!S.canEdit},on:{focus:S.onOpenAttach},model:{value:S.form.media,callback:function(N){S.$set(S.form,"media",N)},expression:"form.media"}})],1):S._e()],1),B("div",{staticClass:"column has-text-right"},[B("a",{attrs:{href:"https://listmonk.app/docs/templating/#template-expressions",target:"_blank",rel:"noopener noreferer"}},[B("b-icon",{attrs:{icon:"code"}}),S._v(" "+S._s(S.$t("campaigns.templatingRef")))],1),S.canEdit&&S.form.content.contentType!=="plain"?B("span",{staticClass:"is-size-6 has-text-grey ml-6"},[S.form.altbody===null?B("a",{attrs:{href:"#"},on:{click:function(N){return N.preventDefault(),S.onAddAltBody.apply(null,arguments)}}},[B("b-icon",{attrs:{icon:"text",size:"is-small"}}),S._v(" "+S._s(S.$t("campaigns.addAltText"))+" ")],1):B("a",{attrs:{href:"#"},on:{click:function(N){return N.preventDefault(),S.$utils.confirm(null,S.onRemoveAltBody)}}},[B("b-icon",{attrs:{icon:"trash-can-outline",size:"is-small"}}),S._v(" "+S._s(S.$t("campaigns.removeAltText"))+" ")],1)]):S._e()])]),S.canEdit&&S.form.content.contentType!=="plain"?B("div",{staticClass:"alt-body"},[S.form.altbody!==null?B("b-input",{attrs:{type:"textarea",disabled:!S.canEdit},model:{value:S.form.altbody,callback:function(N){S.$set(S.form,"altbody",N)},expression:"form.altbody"}}):S._e()],1):S._e()],1),B("b-tab-item",{attrs:{label:S.$t("campaigns.archive"),icon:"newspaper-variant-outline",value:"archive",disabled:S.isNew}},[B("section",{staticClass:"wrap"},[B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-4"},[B("b-field",{attrs:{label:S.$t("campaigns.archiveEnable"),"data-cy":"btn-archive",message:S.$t("campaigns.archiveHelp")}},[B("div",{staticClass:"columns"},[B("div",{staticClass:"column"},[B("b-switch",{attrs:{"data-cy":"btn-archive",disabled:!S.canArchive},model:{value:S.form.archive,callback:function(N){S.$set(S.form,"archive",N)},expression:"form.archive"}})],1),B("div",{staticClass:"column is-12"},[B("a",{class:{"has-text-grey-light":!S.form.archive},attrs:{href:`${S.serverConfig.root_url}/archive/${S.data.uuid}`,target:"_blank",rel:"noopener noreferer","aria-label":"$t('campaigns.archive')"}},[B("b-icon",{attrs:{icon:"link-variant"}})],1)])])])],1),B("div",{staticClass:"column is-8"},[B("b-field",{attrs:{grouped:"",position:"is-right"}},[!S.canEdit&&S.canArchive?B("b-field",[B("b-button",{attrs:{loading:S.loading.campaigns,type:"is-primary","icon-left":"content-save-outline","data-cy":"btn-save"},on:{click:S.onUpdateCampaignArchive}},[S._v(" "+S._s(S.$t("globals.buttons.saveChanges"))+" ")])],1):S._e()],1)],1)]),B("div",{staticClass:"columns"},[B("div",{staticClass:"column is-6"},[B("b-field",{attrs:{label:S.$tc("globals.terms.template"),"label-position":"on-border"}},[B("b-select",{attrs:{placeholder:S.$tc("globals.terms.template"),name:"template",disabled:!S.canArchive||!S.form.archive||S.form.content.contentType==="visual",required:""},model:{value:S.form.archiveTemplateId,callback:function(N){S.$set(S.form,"archiveTemplateId",N)},expression:"form.archiveTemplateId"}},[S._l(S.templates,function(N){return[N.type==="campaign"?B("option",{key:N.id,domProps:{value:N.id}},[S._v(" "+S._s(N.name)+" ")]):S._e()]})],2)],1)],1),B("div",{staticClass:"column is-6"},[B("b-field",{attrs:{grouped:"",position:"is-right"}},[S.form.archive&&(!this.form.archiveMetaStr||this.form.archiveMetaStr==="{}")?B("b-field",[B("a",{staticClass:"button is-primary",attrs:{href:"#","aria-label":"{}"},on:{click:function(N){return N.preventDefault(),S.onFillArchiveMeta.apply(null,arguments)}}},[B("b-icon",{attrs:{icon:"code"}})],1)]):S._e(),S.form.archive?B("b-field",[B("b-button",{attrs:{type:"is-primary","icon-left":"file-find-outline","data-cy":"btn-preview"},on:{click:S.onToggleArchivePreview}},[S._v(" "+S._s(S.$t("campaigns.preview"))+" ")])],1):S._e()],1)],1)]),B("b-field",[B("b-field",{attrs:{label:S.$t("campaigns.archiveSlug"),"label-position":"on-border",message:S.$t("campaigns.archiveSlugHelp")}},[B("b-input",{ref:"focus",attrs:{maxlength:200,name:"archive_slug","data-cy":"archive-slug",disabled:!S.canArchive||!S.form.archive},model:{value:S.form.archiveSlug,callback:function(N){S.$set(S.form,"archiveSlug",N)},expression:"form.archiveSlug"}})],1)],1),B("b-field",{attrs:{label:S.$t("campaigns.archiveMeta"),message:S.$t("campaigns.archiveMetaHelp"),"label-position":"on-border"}},[B("b-input",{attrs:{name:"archive_meta",type:"textarea","data-cy":"archive-meta",disabled:!S.canArchive||!S.form.archive,rows:"20"},model:{value:S.form.archiveMetaStr,callback:function(N){S.$set(S.form,"archiveMetaStr",N)},expression:"form.archiveMetaStr"}})],1)],1)])],1),B("b-modal",{attrs:{scroll:"keep","aria-modal":!0,active:S.isAttachModalOpen,width:900},on:{"update:active":function(N){S.isAttachModalOpen=N}}},[B("div",{staticClass:"modal-card content",staticStyle:{width:"auto"}},[B("section",{staticClass:"modal-card-body",attrs:{expanded:""}},[B("media",{attrs:{"is-modal":""},on:{selected:S.onAttachSelect}})],1)])]),S.isPreviewingArchive?B("campaign-preview",{attrs:{type:"campaign",id:S.data.id,"archive-meta":S.form.archiveMetaStr,title:S.data.title,"content-type":S.data.contentType,"template-id":S.form.archiveTemplateId,"is-post":"","is-archive":""},on:{close:S.onToggleArchivePreview}}):S._e()],1)},fK=[],dK=JF(cK,lK,fK);const kK=dK.exports;export{kK as default};
